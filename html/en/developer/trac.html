<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Using Git with the Sage Trac Server" href="manual_git.html" /><link rel="prev" title="Sage Development Process" href="walk_through.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.06.21"/>
        <title>The Sage Trac Server - Developer&#39;s Guide</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="_static/custom-furo.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZGD13B5572"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ZGD13B5572');
</script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Developer's Guide</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 9.7 Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="index.html">Home - Developer's Guide</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="git_setup.html">Setting Up Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="walk_through.html">Sage Development Process</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">The Sage Trac Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual_git.html">Using Git with the Sage Trac Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_background.html">Tips and References</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_git.html">Advanced Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Distributed Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_trac.html">Optional: Using the Git-Trac Command</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workspace.html">Setting up your workspace</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_basics.html">General Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="reviewer_checklist.html">The reviewer’s check list</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="doctesting.html">Running Sage’s doctests</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="portability_testing.html">Testing on multiple platforms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Additional development and testing tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sage_manuals.html">The Sage Manuals</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="coding_in_python.html">Coding in Python for Sage</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_in_cython.html">Coding in Cython</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_in_other.html">Using External Libraries and Interfaces</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="packaging_sage_library.html">Packaging the Sage Library</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="packaging.html">Packaging Third-Party Code</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="the-sage-trac-server">
<span id="chapter-sage-trac"></span><h1>The Sage Trac Server<a class="headerlink" href="#the-sage-trac-server" title="Permalink to this headline">#</a></h1>
<p>Sometimes you will only want to work on local changes to Sage, for
your own private needs.  However, typically it is beneficial to
share code and ideas with others; the manner in which the
<a class="reference external" href="https://www.sagemath.org">Sage project</a> does this (as well as fixing
bugs and upgrading components) is in a very collaborative and
public setting on <a class="reference external" href="https://trac.sagemath.org">the Sage Trac server</a>
(the Sage bug and enhancement tracker).</p>
<p>The purpose of the Sage trac server is to</p>
<ol class="arabic simple">
<li><p>Provide a place for discussion on issues and store a permanent
record.</p></li>
<li><p>Provide a repository of source code and all proposed changes.</p></li>
<li><p>Link these two together.</p></li>
</ol>
<p>There is also a <a class="reference external" href="https://trac.sagemath.org/wiki">wiki</a> for more general
organizational web pages, like Sage development workshops.</p>
<p>Thus if you find a bug in Sage, if you have new code to submit, want
to review new code already written but not yet included in Sage, or if
you have corrections for the documentation, you should post on the
trac server. Items on the server are called <em>tickets</em>, and anyone may
search or browse the tickets. For a list of recent changes, just visit
the <a class="reference external" href="https://trac.sagemath.org/timeline">Sage trac timeline</a>.</p>
<section id="obtaining-an-account">
<span id="section-trac-account"></span><h2>Obtaining an Account<a class="headerlink" href="#obtaining-an-account" title="Permalink to this headline">#</a></h2>
<p>If you do not have an account on GitHub yet, choose a user name and
<a class="reference external" href="https://github.com/join">create an account</a>.</p>
<p>Using your GitHub account, you can log in to:</p>
<ul>
<li><p><a class="reference external" href="https://trac.sagemath.org">the Sage trac server</a>, so that you can
open tickets and participate in discussions on existing tickets.</p>
<p>On the Sage trac server, click the link “GitHub Login” in the top
right corner and follow the prompts.</p>
<p>Within the Sage trac server, your GitHub user name will be prefixed
with the letters <code class="docutils literal notranslate"><span class="pre">gh-</span></code> (which stand for “GitHub”).</p>
</li>
<li><p>GitLab, where the mirror repository <a class="reference external" href="https://gitlab.com/sagemath/sage">sagemath/sage</a> accepts Merge Requests.</p>
<p>In GitLab, click the button “Sign in / Register” in the top right
corner, and then use the button “Sign in with GitHub” and follow the
prompts.</p>
</li>
</ul>
<p>Users with legacy sage-trac accounts (account names not starting with
“gh-”) should use the Login link. Do not to use GitHub login, as it
will be treated as a separate user from their original account (unless
you actively prefer to switch).</p>
</section>
<section id="reporting-bugs">
<span id="trac-bug-report"></span><h2>Reporting Bugs<a class="headerlink" href="#reporting-bugs" title="Permalink to this headline">#</a></h2>
<p>If you think you have found a bug in Sage, here is the procedure:</p>
<ul>
<li><p>Search through our Google groups for postings related to your possible bug (it
may have been fixed/reported already):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sage-devel</span></code>: <a class="reference external" href="https://groups.google.com/group/sage-devel">https://groups.google.com/group/sage-devel</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sage-support</span></code>: <a class="reference external" href="https://groups.google.com/group/sage-support">https://groups.google.com/group/sage-support</a></p></li>
</ul>
<p>Similarly, you can search <a class="reference internal" href="#chapter-sage-trac"><span class="std std-ref">The Sage Trac Server</span></a> to see if anyone else has
opened a ticket about your bug.</p>
</li>
<li><p>If you do not find anything, and you are not sure that you have found a bug,
ask about it on <a class="reference external" href="https://groups.google.com/group/sage-devel">sage-devel</a>. A
bug report should contain:</p>
<ul class="simple">
<li><p>An explicit and <strong>reproducible example</strong> illustrating your bug (and/or the
steps required to reproduce the buggy behavior).</p></li>
<li><p>The <strong>version</strong> of Sage you run, as well as the version of the optional
packages that may be involved in the bug.</p></li>
<li><p>Describe your <strong>operating system</strong> as accurately as you can and your
architecture (32-bit, 64-bit, …).</p></li>
</ul>
</li>
<li><p>You might be asked to open a new ticket. In this case, follow the
<a class="reference internal" href="#section-trac-new-ticket"><span class="std std-ref">Guidelines for Opening Tickets</span></a>.</p></li>
</ul>
<p>Thank you in advance for reporting bugs to improve Sage in the future!</p>
</section>
<section id="guidelines-for-opening-tickets">
<span id="section-trac-new-ticket"></span><h2>Guidelines for Opening Tickets<a class="headerlink" href="#guidelines-for-opening-tickets" title="Permalink to this headline">#</a></h2>
<p>In addition to bug reports (see <a class="reference internal" href="#trac-bug-report"><span class="std std-ref">Reporting Bugs</span></a>), you should also open a
ticket if you have some new code that makes Sage a better tool. If you have a
feature request, start a discussion on <code class="docutils literal notranslate"><span class="pre">sage-devel</span></code> first, and then if there
seems to be general agreement that you have a good idea, open a ticket
describing the idea.</p>
<ul class="simple">
<li><p>Do you already have a <strong>trac account</strong>? If not, <a class="reference internal" href="#section-trac-account"><span class="std std-ref">click here</span></a>.</p></li>
</ul>
<p><strong>Before</strong> opening a new ticket, consider the following points:</p>
<ul class="simple">
<li><p>Make sure that nobody else has opened a ticket about the same or closely
related issue.</p></li>
<li><p>It is much better to open several specific tickets than one that
is very broad. Indeed, a single ticket which deals with lots of
different issues can be quite problematic, and should be avoided.</p></li>
<li><p>Be precise: If foo does not work on OS X but is fine on Linux,
mention that in the title. Use the keyword option so that
searches will pick up the issue.</p></li>
<li><p>The problem described in the ticket must be solvable. For
example, it would be silly to open a ticket whose purpose was
“Make Sage the best mathematical software in the world”. There is
no metric to measure this properly and it is highly subjective.</p></li>
<li><p>For bug reports: the ticket’s description should contain the information
described at <a class="reference internal" href="#trac-bug-report"><span class="std std-ref">Reporting Bugs</span></a>.</p></li>
<li><p>If appropriate, provide URLs to background information or sage-devel
conversation relevant to the problem you are reporting.</p></li>
</ul>
<p><strong>When creating</strong> the ticket, you may find useful to read
<a class="reference internal" href="#section-trac-fields"><span class="std std-ref">The Ticket Fields</span></a>.</p>
<p>Unless you know what you are doing, leave the milestone field to its default
value.</p>
</section>
<section id="the-ticket-fields">
<span id="section-trac-fields"></span><h2>The Ticket Fields<a class="headerlink" href="#the-ticket-fields" title="Permalink to this headline">#</a></h2>
<p>When you open a new ticket or change an existing ticket, you will find a variety
of fields that can be changed. Here is a comprehensive overview (for the
‘status’ field, see <a class="reference internal" href="#section-trac-ticket-status"><span class="std std-ref">The Status of a Ticket</span></a>):</p>
<ul class="simple">
<li><p><strong>Reported by:</strong> The trac account name of whoever created the
ticket. Cannot be changed.</p></li>
<li><p><strong>Owned by:</strong> Trac account name of owner, by default the person in charge of
the Component (see below). Generally not used in the Sage trac.</p></li>
<li><p><strong>Type:</strong> One of <code class="docutils literal notranslate"><span class="pre">enhancement</span></code> (e.g. a new feature), <code class="docutils literal notranslate"><span class="pre">defect</span></code> (e.g. a bug
fix), or <code class="docutils literal notranslate"><span class="pre">task</span></code> (rarely used).</p></li>
<li><p><strong>Priority:</strong> The priority of the ticket. Keep in mind that the
“blocker” label should be used very sparingly.</p></li>
<li><p><strong>Milestone:</strong> Milestones are usually goals to be met while working
toward a release. In Sage’s trac, we use milestones instead of
releases. Each ticket must have a milestone assigned. If you are
unsure, assign it to the current milestone.</p></li>
<li><p><strong>Component:</strong> A list of components of Sage, pick one that most
closely matches the ticket.</p></li>
<li><p><strong>Keywords:</strong> List of keywords. Fill in any keywords that you think
will make your ticket easier to find. Tickets that have been worked
on at Sage days <code class="docutils literal notranslate"><span class="pre">NN</span></code> (some number) ofter have <code class="docutils literal notranslate"><span class="pre">sdNN</span></code> as keyword.</p></li>
<li><p><strong>Cc:</strong> List of trac user names to Cc (send emails for changes on
the ticket). Note that users that enter a comment are automatically
substcribed to email updates and don’t need to be listed under Cc.</p></li>
<li><p><strong>Merged in:</strong> The Sage release where the ticket was merged in. Only
changed by the release manager.</p></li>
<li><p><strong>Authors:</strong> Real name of the ticket author(s). Set this field only if you
intend to provide code.</p></li>
<li><p><strong>Reviewers:</strong> Real name of the ticket reviewer(s).</p></li>
<li><p><strong>Report Upstream:</strong> If the ticket is a bug in an upstream component
of Sage, this field is used to summarize the communication with the
upstream developers.</p></li>
<li><p><strong>Work issues:</strong> Issues that need to be resolved before the ticket
can leave the “needs work” status.</p></li>
<li><p><strong>Branch:</strong> The Git branch containing the ticket’s code (see
<a class="reference internal" href="walk_through.html#section-walkthrough-branch"><span class="std std-ref">Branching Out</span></a>). It is displayed in green color,
unless there is a conflict between the branch and the latest beta
release (red color). In this case, the branch should be merged or
rebased.</p></li>
<li><p><strong>Dependencies:</strong> Does the ticket depend on another ticket?
Sometimes, a ticket requires that another ticket be applied
first. If this is the case, put the dependencies as a
comma-separated list (<code class="docutils literal notranslate"><span class="pre">#1234,</span> <span class="pre">#5678</span></code>) into the “Dependencies:”
field.</p></li>
<li><p><strong>Stopgaps:</strong> See <a class="reference internal" href="#section-trac-stopgaps"><span class="std std-ref">Stopgaps</span></a>.</p></li>
</ul>
</section>
<section id="the-status-of-a-ticket">
<span id="section-trac-ticket-status"></span><h2>The Status of a Ticket<a class="headerlink" href="#the-status-of-a-ticket" title="Permalink to this headline">#</a></h2>
<p>The status of a ticket appears right next to its number, at the top-left corner
of its page. It indicates who has to work on it.</p>
<ul>
<li><p><strong>new</strong> – the ticket has only been created (or the author forgot to change
the status to something else).</p>
<p>If you intend to work on the code yourself, put your name in the Authors
field, or leave a comment to say so. It could avoid having two persons doing
the same job.</p>
</li>
<li><p><strong>needs_review</strong> – the code is ready to be peer-reviewed. If the code is not
yours, then you can review it. See <a class="reference internal" href="reviewer_checklist.html#chapter-review"><span class="std std-ref">The reviewer’s check list</span></a>.</p></li>
<li><p><strong>needs_work</strong> – something needs to be changed in the code. The reason should
appear in the comments.</p></li>
<li><p><strong>needs_info</strong> – somebody has to answer a question before anything else can
happen. It should be clear from the comments.</p></li>
<li><p><strong>positive_review</strong> – the ticket has been reviewed, and the release manager
will close it.</p></li>
</ul>
<p>The status of a ticket can be changed using a form at the bottom of the ticket’s
page. Leave a comment explaining your reasons whenever you change it.</p>
</section>
<section id="stopgaps">
<span id="section-trac-stopgaps"></span><h2>Stopgaps<a class="headerlink" href="#stopgaps" title="Permalink to this headline">#</a></h2>
<p>When Sage returns wrong results, two tickets should be opened:</p>
<ul class="simple">
<li><p>A main ticket with all available details.</p></li>
<li><p>A “stopgap” ticket (e.g. <a class="reference external" href="https://trac.sagemath.org/12699">trac ticket #12699</a>)</p></li>
</ul>
<p>This second ticket does not fix the problem but adds a warning that will be
printed whenever anyone uses the relevant code. This, until the problem is
finally fixed.</p>
<p>To produce the warning message, use code like the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sage.misc.stopgap</span> <span class="kn">import</span> <span class="n">stopgap</span>
<span class="n">stopgap</span><span class="p">(</span><span class="s2">&quot;This code contains bugs and may be mathematically unreliable.&quot;</span><span class="p">,</span>
    <span class="n">TICKET_NUM</span><span class="p">)</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal notranslate"><span class="pre">TICKET_NUM</span></code> by the ticket number for the main ticket. On the main
trac ticket, enter the ticket number for the stopgap ticket in the “Stopgaps”
field (see <a class="reference internal" href="#section-trac-fields"><span class="std std-ref">The Ticket Fields</span></a>). Stopgap tickets should be marked as
blockers.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If mathematically valid code causes Sage to raise an error or
crash, for example, there is no need for a stopgap.  Rather,
stopgaps are to warn users that they may be using buggy code; if
Sage crashes, this is not an issue.</p>
</div>
</section>
<section id="working-on-tickets">
<h2>Working on Tickets<a class="headerlink" href="#working-on-tickets" title="Permalink to this headline">#</a></h2>
<p>If you manage to fix a bug or enhance Sage you are our hero. See
<a class="reference internal" href="walk_through.html#chapter-walkthrough"><span class="std std-ref">Sage Development Process</span></a> for making changes to the Sage source
code, uploading them to the Sage trac server, and finally putting your
new branch on the trac ticket.</p>
<img alt="_images/ticket_badges.png" src="_images/ticket_badges.png" />
<p>After pushing a branch to a ticket, the ticket will show badges
linking to results of automated tests that run on the patchbot and
other tests that run on GitHub Actions.</p>
<ul>
<li><p>The Patch buildbot will automatically test your ticket. See <a class="reference external" href="https://trac.sagemath.org/wiki/patchbot">trac ticket #wiki/patchbot</a>
for more information about its features and limitations. Make sure that you
look at the log, especially if the patch buildbot did not give you
the green blob.</p></li>
<li><p>A <a class="reference external" href="https://github.com/sagemath/sage/blob/develop/.github/workflows/lint.yml">linting workflow</a>
runs on all pushes to a branch on Trac. It checks that the code of
the current branch adheres to the style guidelines using
<a class="reference internal" href="tools.html#section-tools-pycodestyle"><span class="std std-ref">Pycodestyle</span></a> (in the <code class="docutils literal notranslate"><span class="pre">pycodestyle-minimal</span></code>
configuration) and <a class="reference internal" href="tools.html#section-tools-relint"><span class="std std-ref">Relint</span></a>.</p>
<p>In order to see details when it fails, you can click on the badge
and then select the most recent workflow run.</p>
</li>
<li><p>The <a class="reference external" href="https://github.com/sagemath/sage/blob/develop/.github/workflows/build.yml">incremental build and test workflow</a>
on GitHub Actions builds Sage for the current branch (incrementally
on top of an installation of the <code class="docutils literal notranslate"><span class="pre">develop</span></code> branch) and runs the
test.  Note that in contrast to the patchbot, the ticket branch is
not merged into the current beta version.</p>
<p>Details are again available by clicking on the badge.</p>
<p>The automatic workflow runs on a container based on
<code class="docutils literal notranslate"><span class="pre">ubuntu-focal-standard</span></code>.  To request a run of the workflow on a
different platform, you can issue a <a class="reference external" href="https://docs.github.com/en/actions/managing-workflow-runs/manually-running-a-workflow#running-a-workflow">workflow_dispatch</a>.
You can select any of the platforms for which a <a class="reference external" href="https://github.com/orgs/sagemath/packages?tab=packages&amp;q=with-targets-optional">prebuilt container
image</a>
exists.</p>
</li>
<li><p>The <a class="reference external" href="https://github.com/sagemath/sage/blob/develop/.github/workflows/doc-build.yml">build documentation workflow</a>
on GitHub Actions builds the HTML documentation for the current
branch.</p>
<p>If you click on the badge, you get the HTML output of the successful
run. The idea is to use this to easily inspect changes to the
documentation without the need to locally rebuild the docs
yourself. If the doc build fails, you can go to <a class="reference external" href="https://github.com/sagemath/sagetrac-mirror/actions/workflows/doc-build.yml">the Actions tab of
sagemath/sagetrac-mirror repo</a>
and choose the particular branch to see what went wrong.</p>
</li>
</ul>
<p>The following are some other relevant issues:</p>
<ul class="simple">
<li><p>Every bug fixed should result in a doctest.</p></li>
<li><p>This is not an issue with defects, but there are many enhancements
possible for Sage and too few developers to implement all the good
ideas. The trac server is useful for keeping ideas in a central
place because in the Google groups they tend to get lost once they
drop off the first page.</p></li>
<li><p>If you are a developer, be nice and try to solve a stale/old ticket
every once in a while.</p></li>
<li><p>Some people regularly do triage. In this context, this means that we
look at new bugs and classify them according to our perceived
priority. It is very likely that different people will see
priorities of bugs very differently from us, so please let us know
if you see a problem with specific tickets.</p></li>
</ul>
</section>
<section id="reviewing-and-closing-tickets">
<h2>Reviewing and Closing Tickets<a class="headerlink" href="#reviewing-and-closing-tickets" title="Permalink to this headline">#</a></h2>
<p>Tickets can be closed when they have positive review or for other reasons. To
learn how to review, please see <a class="reference internal" href="reviewer_checklist.html#chapter-review"><span class="std std-ref">The reviewer’s check list</span></a>.</p>
<p>Only the Sage release manager will close tickets. Most likely, this is
not you nor will your trac account have the necessary permissions. If
you feel strongly that a ticket should be closed or deleted, then
change the status of the ticket to <em>needs review</em> and change the
milestone to <em>sage-duplicate/invalid/wontfix</em>. You should also
comment on the ticket, explaining why it should be closed. If another
developer agrees, he sets the ticket to <em>positive review</em>.</p>
<p>A related issue is re-opening tickets. You should refrain from
re-opening a ticket that is already closed. Instead, open a new ticket
and provide a link in the description to the old ticket.</p>
</section>
<section id="reasons-to-invalidate-tickets">
<h2>Reasons to Invalidate Tickets<a class="headerlink" href="#reasons-to-invalidate-tickets" title="Permalink to this headline">#</a></h2>
<p><strong>One Issue Per Ticket</strong>: A ticket must cover only one issue
and should not be a laundry list of unrelated issues. If a ticket
covers more than one issue, we cannot close it and while some of
the patches have been applied to a given release, the ticket would
remain in limbo.</p>
<p><strong>No Patch Bombs</strong>: Code that goes into Sage is peer-reviewed. If
you show up with an 80,000 lines of code bundle that completely
rips out a subsystem and replaces it with something else, you can
imagine that the review process will be a little tedious. These
huge patch bombs are problematic for several reasons and we prefer
small, gradual changes that are easy to review and apply. This is
not always possible (e.g. coercion rewrite), but it is still highly
recommended that you avoid this style of development unless there
is no way around it.</p>
<p><strong>Sage Specific</strong>: Sage’s philosophy is that we ship everything
(or close to it) in one source tarball to make debugging possible.
You can imagine the combinatorial explosion we would have to deal
with if you replaced only ten components of Sage with external
packages. Once you start replacing some of the more essential
components of Sage that are commonly packaged (e.g. Pari, GAP,
lisp, gmp), it is no longer a problem that belongs in our tracker.
If your distribution’s Pari package is buggy for example, file a
bug report with them. We are usually willing and able to solve
the problem, but there are no guarantees that we will help you
out. Looking at the open number of tickets that are Sage specific,
you hopefully will understand why.</p>
<p><strong>No Support Discussions</strong>: The trac installation is not meant to
be a system to track down problems when using Sage. Tickets should
be clearly a bug and not “I tried to do X and I couldn’t get it to
work. How do I do this?” That is usually not a bug in Sage and it
is likely that <code class="docutils literal notranslate"><span class="pre">sage-support</span></code> can answer that question for you. If
it turns out that you did hit a bug, somebody will open a concise
and to-the-point ticket.</p>
<p><strong>Solution Must Be Achievable</strong>: Tickets must be achievable. Many
times, tickets that fall into this category usually ran afoul to
some of the other rules listed above. An example would be to
“Make Sage the best CAS in the world”. There is no metric to
measure this properly and it is highly subjective.</p>
</section>
<section id="the-release-process">
<h2>The Release Process<a class="headerlink" href="#the-release-process" title="Permalink to this headline">#</a></h2>
<p>The Sage Release Manager uses the following procedure to make releases, as of
2022.</p>
<p><strong>Beta Release Stage</strong>: For preparing a new beta release or the first release
candidate, all positively reviewed tickets with the forthcoming release
milestone are considered. Tickets that have unmerged dependencies are ignored.
The Release Manager merges tickets in batches of 10 to 20 tickets, taking the
ticket priority into account. If a merge conflict of a ticket to the Release
Manager’s branch occurs, the ticket is set back to “needs work” status by the
Release Manager, and the list of the tickets already merged to the Release
Manager’s branch is posted. The author of the ticket needs to identify
conflicting tickets in the list, make merge commits and declare them as
dependencies, before setting back to “positive review” status. Each batch of
merged tickets then undergoes integration testing. If problems are detected, a
ticket will be set back to “needs work” status and unmerged. When a batch of
tickets is ready, the Release Manager closes these tickets and proceeds to the
next batch. After a few batches, a new beta release is tagged, pushed to the
<code class="docutils literal notranslate"><span class="pre">develop</span></code> branch on the main git repository, and announced on
<code class="docutils literal notranslate"><span class="pre">sage-release</span></code>.</p>
<p><strong>Release Candidate Stage</strong>: After the first release candidate has been made,
the project is in the release candidate stage, and a modified procedure is
used. Now <strong>only tickets with a priority set to “blocker” are considered</strong>.
Tickets with all other priorities, including “critical”, are ignored. Hence if
a ticket is important enough to merit inclusion in this stage, it should be set
to “blocker”.</p>
<p><strong>Blocker Tickets</strong>: The goal of the release process is to make a stable
release of high quality. Be aware that there is a risk/benefit trade-off in
merging a ticket. The benefit of merging a ticket is the improvement that the
ticket brings, such as fixing a bug. However, any code change has a risk of
introducing unforeseen new problems and thus delaying the release: If a new
issue triggers another release candidate, it delays the release by 1-2 weeks.
Hence developers should use “blocker” priority sparingly and should indicate
the rationale on the ticket. Though there is no one fixed rule or authority
that determines what is appropriate for “blocker” status,</p>
<ul class="simple">
<li><p>Tickets introducing new features are usually not blockers – unless perhaps
they round out a set of features that were the focus of development of this
release cycle.</p></li>
<li><p>Tickets that make big changes to the code, for example refactoring tickets,
are usually not blockers.</p></li>
</ul>
<p><strong>Final Release</strong>: If there is no blocker ticket for the last release
candidate, the Release Manager turns it to the final release. It is tagged with
the release milestone, and announced on <code class="docutils literal notranslate"><span class="pre">sage-release</span></code>.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="manual_git.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Using Git with the Sage Trac Server</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="walk_through.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Sage Development Process</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2022, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">The Sage Trac Server</a><ul>
<li><a class="reference internal" href="#obtaining-an-account">Obtaining an Account</a></li>
<li><a class="reference internal" href="#reporting-bugs">Reporting Bugs</a></li>
<li><a class="reference internal" href="#guidelines-for-opening-tickets">Guidelines for Opening Tickets</a></li>
<li><a class="reference internal" href="#the-ticket-fields">The Ticket Fields</a></li>
<li><a class="reference internal" href="#the-status-of-a-ticket">The Status of a Ticket</a></li>
<li><a class="reference internal" href="#stopgaps">Stopgaps</a></li>
<li><a class="reference internal" href="#working-on-tickets">Working on Tickets</a></li>
<li><a class="reference internal" href="#reviewing-and-closing-tickets">Reviewing and Closing Tickets</a></li>
<li><a class="reference internal" href="#reasons-to-invalidate-tickets">Reasons to Invalidate Tickets</a></li>
<li><a class="reference internal" href="#the-release-process">The Release Process</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    </body>
</html>