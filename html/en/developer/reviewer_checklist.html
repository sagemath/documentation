<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Running Sage’s doctests" href="doctesting.html" /><link rel="prev" title="General Conventions" href="coding_basics.html" />

    <meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>The reviewer’s check list - Developer&#39;s Guide</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="_static/custom-furo.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZGD13B5572"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ZGD13B5572');
</script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Developer's Guide</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 9.8 Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="index.html">Home - Developer's Guide</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="git_setup.html">Setting Up Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="walk_through.html">Sage Development Process</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="trac.html">The Sage Trac Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual_git.html">Using Git with the Sage Trac Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_background.html">Tips and References</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_git.html">Advanced Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Distributed Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_trac.html">Optional: Using the Git-Trac Command</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="workspace.html">Setting up your workspace</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_basics.html">General Conventions</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">The reviewer’s check list</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="doctesting.html">Running Sage’s doctests</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="portability_testing.html">Testing on multiple platforms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Additional development and testing tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sage_manuals.html">The Sage Manuals</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="coding_in_python.html">Coding in Python for Sage</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_in_cython.html">Coding in Cython</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_in_other.html">Using External Libraries and Interfaces</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="packaging_sage_library.html">Packaging the Sage Library</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="packaging.html">Packaging Third-Party Code</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="the-reviewer-s-check-list">
<span id="chapter-review"></span><h1>The reviewer’s check list<a class="headerlink" href="#the-reviewer-s-check-list" title="Permalink to this heading">#</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Sage development is scheduled to move to GitHub in February 2023.</strong> The exact
date will be announced in <a class="reference external" href="https://groups.google.com/g/sage-devel">https://groups.google.com/g/sage-devel</a>. After
the transition, some parts of this guide (especially those related with <a class="reference external" href="https://trac.sagemath.org">the
Sage Trac server</a>) will become obsolete and be
updated according to the new workflow on GitHub. See our <a class="reference external" href="https://github.com/sagemath/trac-to-github/blob/master/docs/Migration-Trac-to-Github.md">transition guide from Trac to
GitHub</a>
for the preliminary version of the workflow.</p>
</div>
<p>All code that goes into Sage is peer-reviewed. Two reasons for this are:</p>
<ul class="simple">
<li><p>Because a developer cannot think of everything at once;</p></li>
<li><p>Because a fresh pair of eyes may spot a mathematical error,
a corner-case in the code, insufficient documentation, a missing
consistency check, etc.</p></li>
</ul>
<p>Anybody (e.g. you) can do this job for somebody else’s ticket. This document
lists things that the reviewer must check before deciding that a ticket is
ready for inclusion into Sage.</p>
<ul class="simple">
<li><p>Do you know what the <strong>trac server</strong> is? If not, <a class="reference internal" href="trac.html#chapter-sage-trac"><span class="std std-ref">click here</span></a>.</p></li>
<li><p>Do you have a <strong>trac account</strong>? If not, <a class="reference internal" href="trac.html#section-trac-account"><span class="std std-ref">click here</span></a>.</p></li>
</ul>
<p>You can now begin the review by reading the diff code.</p>
<p><strong>Read the diff:</strong> the diff (i.e. the ticket’s content) can be obtained by
clicking on the (green) branch’s name that appears on the trac ticket. If that
name appears in red (see <a class="reference internal" href="trac.html#section-trac-fields"><span class="std std-ref">The Ticket Fields</span></a>) you can say so in a comment
and set the ticket to <code class="docutils literal notranslate"><span class="pre">needs_work</span></code> (see <a class="reference internal" href="trac.html#section-trac-ticket-status"><span class="std std-ref">The Status of a Ticket</span></a>).</p>
<p><strong>Build the code:</strong> while you read the code, you can <a class="reference internal" href="walk_through.html#section-walkthrough-make"><span class="std std-ref">rebuild Sage with the
new code</span></a>. If you do not know how to <strong>download the
code</strong>, <a class="reference internal" href="git_trac.html#section-git-trac-review"><span class="std std-ref">click here</span></a> (with git trac) or
<a class="reference internal" href="manual_git.html#section-git-checkout"><span class="std std-ref">here</span></a> (git only).</p>
<p>The following should generally be checked while reading and testing the code:</p>
<ul class="simple">
<li><p><strong>The purpose</strong>: Does the code address the ticket’s stated aim? Can it
introduce any new problems? Does testing the new or fixed functionality
with a variety of input, not just the examples in the documentation,
give expected and robust output (and no unexpected errors or crashes)?</p></li>
<li><p><strong>User documentation</strong>: Is the use of the new code clear to a user? Are all
mathematical notions involved standard, or is there explanation (or a link
to one) provided? Can he/she find the new code easily if he/she needs it?</p></li>
<li><p><strong>Code documentation</strong>: Is the code sufficiently commented so that a developer
does not have to wonder what exactly it does?</p></li>
<li><p><strong>Conventions</strong>: Does the code respect <a class="reference internal" href="coding_basics.html#chapter-code-basics"><span class="std std-ref">Sage’s conventions</span></a>? <a class="reference internal" href="coding_in_python.html#chapter-python"><span class="std std-ref">Python’s convention</span></a>?
<a class="reference internal" href="coding_in_cython.html#chapter-cython"><span class="std std-ref">Cython’s convention</span></a>?</p></li>
<li><p><strong>Doctest coverage</strong>: Do all functions contain doctests? Use <code class="docutils literal notranslate"><span class="pre">sage</span> <span class="pre">-coverage</span>
<span class="pre">&lt;files&gt;</span></code> to check it. Are all aspects of the new/modified methods and classes
tested (see <a class="reference internal" href="coding_basics.html#section-doctest-writing"><span class="std std-ref">Writing Testable Examples</span></a>)?</p></li>
<li><p><strong>Bugfixes</strong>: If the ticket contains a bugfix, does it add a doctest
illustrating that the bug has been fixed? This new doctest should contain the
ticket number, for example <code class="docutils literal notranslate"><span class="pre">See</span> <span class="pre">:trac:`12345`</span></code>.</p></li>
<li><p><strong>Speedup</strong>: Can the ticket make any existing code slower? if the ticket
claims to speed up some computation, does the ticket contain code examples to
illustrate the claim? The ticket should explain how the speedup is achieved.</p></li>
<li><p><strong>Build the manuals</strong>: Does the reference manual build without
errors (check both html and pdf)? See <a class="reference internal" href="sage_manuals.html#chapter-sage-manuals"><span class="std std-ref">The Sage Manuals</span></a> to
learn how to build the manuals.</p></li>
<li><p><strong>Look at the manuals</strong>: Does the reference manual look okay? The
changes may have typos that allow the documentation to build without
apparent errors but that may cause badly formatted output or broken
hyperlinks.</p></li>
<li><p><strong>Run the tests</strong>: Do all doctests pass without errors? Unrelated components
of Sage may be affected by the change. Check all tests in the whole library,
including “long” doctests (this can be done with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">ptestlong</span></code>) and any
optional doctests related to the functionality. See <a class="reference internal" href="doctesting.html#chapter-doctesting"><span class="std std-ref">Running Sage’s doctests</span></a>
for more information.</p></li>
</ul>
<p>You are now ready to change the ticket’s status (see
<a class="reference internal" href="trac.html#section-trac-ticket-status"><span class="std std-ref">The Status of a Ticket</span></a>):</p>
<ul class="simple">
<li><p><strong>positive review</strong>: If the answers to the questions above and other
reasonable questions are <em>“yes”</em>, you can set the ticket to
<code class="docutils literal notranslate"><span class="pre">positive_review</span></code>. Add your full name to the “reviewer” field (see
<a class="reference internal" href="trac.html#section-trac-fields"><span class="std std-ref">The Ticket Fields</span></a>).</p></li>
<li><p><strong>needs_work</strong>: If something is not as it should, write a list of all points
that need to be addressed in a comment and change the ticket’s status to
<code class="docutils literal notranslate"><span class="pre">needs_work</span></code>.</p></li>
<li><p><strong>needs_info</strong>: If something is not clear to you and prevents you from going
further with the review, ask your question and set the ticket’s status to
<code class="docutils literal notranslate"><span class="pre">needs_info</span></code>.</p></li>
<li><p>If you <strong>do not know what to do</strong>, for instance if you don’t feel experienced
enough to take a final decision, explain what you already did in a comment and
ask if someone else could take a look.</p></li>
</ul>
<p><strong>Reviewer’s commit</strong>: if you can fix the issues yourself, you may make a commit
in your own name and mark the commit as a reviewer’s patch. To learn how
<a class="reference internal" href="git_trac.html#section-git-trac-push"><span class="std std-ref">click here</span></a> (git trac) or <a class="reference internal" href="manual_git.html#section-git-push"><span class="std std-ref">here</span></a> (git only). This contribution must also be reviewed, for
example by the author of the original patch.</p>
<p>For more advice on reviewing, see <a class="reference internal" href="#wsblog" id="id1"><span>[WSblog]</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>“The perfect is the enemy of the good”</p>
<p>The point of the review is to ensure that the Sage code guidelines
are followed and that the implementation is mathematically
correct. Please refrain from additional feature requests or
open-ended discussion about alternative implementations. If you
want the patch written differently, your suggestion should be a
clear and actionable request.</p>
</div>
<p>REFERENCES:</p>
<div role="list" class="citation-list">
<div class="citation" id="wsblog" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">WSblog</a><span class="fn-bracket">]</span></span>
<p>William Stein, How to Referee Sage Trac Tickets,
<a class="reference external" href="http://sagemath.blogspot.com/2010/10/how-to-referee-sage-trac-tickets.html">http://sagemath.blogspot.com/2010/10/how-to-referee-sage-trac-tickets.html</a>
(Caveat: mercurial was replaced with git)</p>
</div>
</div>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="doctesting.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Running Sage’s doctests</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="coding_basics.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">General Conventions</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2023, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    </body>
</html>