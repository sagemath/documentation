<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Factory for symbolic functions" href="function_factory.html" /><link rel="prev" title="Subrings of the Symbolic Ring" href="subring.html" />

    <meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>Classes for symbolic functions - Symbolic Calculus</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-furo.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZGD13B5572"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ZGD13B5572');
</script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Symbolic Calculus</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 9.8 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../index.html">Home - Symbolic Calculus</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="expression.html">Symbolic Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="callable.html">Callable Symbolic Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="assumptions.html">Assumptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="relation.html">Symbolic Equations and Inequalities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/calculus.html">Symbolic Computation</a></li>
<li class="toctree-l1"><a class="reference internal" href="units.html">Units of measurement</a></li>
<li class="toctree-l1"><a class="reference internal" href="ring.html">The symbolic ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="subring.html">Subrings of the Symbolic Ring</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Classes for symbolic functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="function_factory.html">Factory for symbolic functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/functional.html">Functional notation support for common calculus methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration/integral.html">Symbolic Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration/external.html">TESTS::</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/test_sympy.html">A Sample Session using SymPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/tests.html">Calculus Tests and Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="expression_conversions.html">Conversion of symbolic expressions to other types</a></li>
<li class="toctree-l1"><a class="reference internal" href="complexity_measures.html">Complexity Measures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/wester.html">Further examples from Wester’s paper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/desolvers.html">Solving ordinary differential equations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/transforms/dwt.html">Discrete Wavelet Transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/transforms/dft.html">Discrete Fourier Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/transforms/fft.html">Fast Fourier Transforms Using GSL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/ode.html">Solving ODE numerically by GSL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/integration.html">Numerical Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/riemann.html">Riemann Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/interpolation.html">Real Interpolation using GSL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/interpolators.html">Complex Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/functions.html">Calculus functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculus/var.html">Symbolic variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="maxima_wrapper.html">Access to Maxima methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="operators.html">Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="substitution_map.html">Substitution Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="random_tests.html">Randomized tests of GiNaC / PyNaC</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="classes-for-symbolic-functions">
<span id="sage-symbolic-function"></span><h1>Classes for symbolic functions<a class="headerlink" href="#classes-for-symbolic-functions" title="Permalink to this heading">#</a></h1>
<span class="target" id="module-sage.symbolic.function"></span><p id="symbolic-function-classes">To enable their usage as part of symbolic expressions, symbolic function
classes are derived from one of the subclasses of <a class="reference internal" href="#sage.symbolic.function.Function" title="sage.symbolic.function.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a>:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#sage.symbolic.function.BuiltinFunction" title="sage.symbolic.function.BuiltinFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">BuiltinFunction</span></code></a>: the code of these functions is written in Python;
many <a class="reference external" href="../../../functions/index.html#special-functions" title="(in Functions v9.8)"><span class="xref std std-ref">special functions</span></a> are of this type</p></li>
<li><p><a class="reference internal" href="#sage.symbolic.function.GinacFunction" title="sage.symbolic.function.GinacFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">GinacFunction</span></code></a>: the code of these functions is written in C++ and
part of the Pynac support library; most elementary functions are of this type</p></li>
<li><p><a class="reference internal" href="#sage.symbolic.function.SymbolicFunction" title="sage.symbolic.function.SymbolicFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">SymbolicFunction</span></code></a>: symbolic functions defined on the Sage command
line are of this type</p></li>
</ul>
</div></blockquote>
<p>Sage uses <code class="docutils literal notranslate"><span class="pre">BuiltinFunction</span></code> and <code class="docutils literal notranslate"><span class="pre">GinacFunction</span></code> for its symbolic builtin
functions. Users can define any other additional <code class="docutils literal notranslate"><span class="pre">SymbolicFunction</span></code> through
the <code class="docutils literal notranslate"><span class="pre">function()</span></code> factory, see <a class="reference internal" href="function_factory.html"><span class="doc">Factory for symbolic functions</span></a></p>
<p>Several parameters are supported by the superclass’ <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> method.
Examples follow below.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nargs</span></code>: the number of arguments</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: the string that is printed on the CLI; the name of the member
functions that are attempted for evaluation of Sage element arguments; also
the name of the Pynac function that is associated with a <code class="docutils literal notranslate"><span class="pre">GinacFunction</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">alt_name</span></code>: the second name of the member functions that are attempted for
evaluation of Sage element arguments</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">latex_name</span></code>: what is printed when <code class="docutils literal notranslate"><span class="pre">latex(f(...))</span></code> is called</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">conversions</span></code>: a dict containing the function’s name in other CAS</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">evalf_params_first</span></code>: if <code class="docutils literal notranslate"><span class="pre">False</span></code>, when floating-point evaluating the
expression do not evaluate function arguments before calling the
<code class="docutils literal notranslate"><span class="pre">_evalf_()</span></code> member of the function</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">preserved_arg</span></code>: if nonzero, the index (starting with <code class="docutils literal notranslate"><span class="pre">1</span></code>) of the
function argument that determines the return type. Note that, e.g,
<code class="docutils literal notranslate"><span class="pre">atan2()</span></code> uses both arguments to determine return type, through a
different mechanism</p></li>
</ul>
</div></blockquote>
<p>Function classes can define the following Python member functions:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_eval_(*args)</span></code>: the only mandatory member function, evaluating the
argument and returning the result; if <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned the expression
stays unevaluated</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_eval_numpy_(*args)</span></code>: evaluation of <code class="docutils literal notranslate"><span class="pre">f(args)</span></code> with arguments of numpy
type</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_evalf_(*args,</span> <span class="pre">**kwds)</span></code>: called when the expression is floating-point
evaluated; may receive a <code class="docutils literal notranslate"><span class="pre">parent</span></code> keyword specifying the expected parent
of the result. If not defined an attempt is made to convert the result of
<code class="docutils literal notranslate"><span class="pre">_eval_()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_conjugate_(*args)</span></code>, <code class="docutils literal notranslate"><span class="pre">_real_part_(*args)</span></code>, <code class="docutils literal notranslate"><span class="pre">_imag_part_(*args)</span></code>:
return conjugate, real part, imaginary part of the expression <code class="docutils literal notranslate"><span class="pre">f(args)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_derivative_(*args,</span> <span class="pre">index)</span></code>: return derivative with respect to the
parameter indexed by <code class="docutils literal notranslate"><span class="pre">index</span></code> (starting with 0) of <code class="docutils literal notranslate"><span class="pre">f(args)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_tderivative_()</span></code>: same as <code class="docutils literal notranslate"><span class="pre">_derivative_()</span></code> but don’t apply chain rule;
only one of the two functions may be defined</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_power_(*args,</span> <span class="pre">expo)</span></code>: return <code class="docutils literal notranslate"><span class="pre">f(args)^expo</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_series_(*args,</span> <span class="pre">**kwds)</span></code>: return the power series at <code class="docutils literal notranslate"><span class="pre">at</span></code> up to
<code class="docutils literal notranslate"><span class="pre">order</span></code> with respect to <code class="docutils literal notranslate"><span class="pre">var</span></code> of <code class="docutils literal notranslate"><span class="pre">f(args)</span></code>; these three values are
received in <code class="docutils literal notranslate"><span class="pre">kwds</span></code>. If not defined the series is attempted to be computed
by differentiation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print(*args)</span></code>: return what should be printed on the CLI with <code class="docutils literal notranslate"><span class="pre">f(args)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_latex(*args)</span></code>: return what should be output with <code class="docutils literal notranslate"><span class="pre">latex(f(args))</span></code></p></li>
</ul>
</div></blockquote>
<p>The following examples are intended for Sage developers. Users can define
functions interactively through the <code class="docutils literal notranslate"><span class="pre">function()</span></code> factory, see
<a class="reference internal" href="function_factory.html"><span class="doc">Factory for symbolic functions</span></a>.</p>
<p>EXAMPLES:</p>
<p>The simplest example is a function returning nothing, it practically behaves
like a symbol. Setting <code class="docutils literal notranslate"><span class="pre">nargs=0</span></code> allows any number of arguments:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.function</span> <span class="kn">import</span> <span class="n">BuiltinFunction</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">Test1</span><span class="p">(</span><span class="n">BuiltinFunction</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="n">BuiltinFunction</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_eval_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">pass</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">Test1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">()</span>
<span class="go">test()</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">test(1, 2, 3)^2</span>
</pre></div>
</div>
<p>In the following the <code class="docutils literal notranslate"><span class="pre">sin</span></code> function of <code class="docutils literal notranslate"><span class="pre">CBF(0)</span></code> is called because with
floating point arguments the <code class="docutils literal notranslate"><span class="pre">CBF</span></code> element’s <code class="docutils literal notranslate"><span class="pre">my_sin()</span></code> member function
is attempted, and after that <code class="docutils literal notranslate"><span class="pre">sin()</span></code> which succeeds:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">Test2</span><span class="p">(</span><span class="n">BuiltinFunction</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="n">BuiltinFunction</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;my_sin&#39;</span><span class="p">,</span> <span class="n">alt_name</span><span class="o">=</span><span class="s1">&#39;sin&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                                 <span class="n">latex_name</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;\SIN&#39;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_eval_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="mi">5</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_evalf_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="mf">3.5</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">Test2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">my_sin(0)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">3.50000000000000</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">CBF</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">hold</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">\SIN\left(0\right)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: Symbolic function my_sin takes exactly 1 arguments (2 given)</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="sage.symbolic.function.BuiltinFunction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.symbolic.function.</span></span><span class="sig-name descname"><span class="pre">BuiltinFunction</span></span><a class="headerlink" href="#sage.symbolic.function.BuiltinFunction" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.symbolic.function.Function" title="sage.symbolic.function.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a></p>
<p>This is the base class for symbolic functions defined in Sage.</p>
<p>If a function is provided by the Sage library, we don’t need to pickle
the custom methods, since we can just initialize the same library function
again. This allows us to use Cython for custom methods.</p>
<p>We assume that each subclass of this class will define one symbolic
function. Make sure you use subclasses and not just call the initializer
of this class.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.symbolic.function.Function">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.symbolic.function.</span></span><span class="sig-name descname"><span class="pre">Function</span></span><a class="headerlink" href="#sage.symbolic.function.Function" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Parents and Elements v9.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageObject</span></code></a></p>
<p>Base class for symbolic functions defined through Pynac in Sage.</p>
<p>This is an abstract base class, with generic code for the interfaces
and a <code class="xref py py-meth docutils literal notranslate"><span class="pre">__call__()</span></code> method. Subclasses should implement the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">_is_registered()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">_register_function()</span></code> methods.</p>
<p>This class is not intended for direct use, instead use one of the
subclasses <a class="reference internal" href="#sage.symbolic.function.BuiltinFunction" title="sage.symbolic.function.BuiltinFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">BuiltinFunction</span></code></a> or <a class="reference internal" href="#sage.symbolic.function.SymbolicFunction" title="sage.symbolic.function.SymbolicFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">SymbolicFunction</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.symbolic.function.Function.default_variable">
<span class="sig-name descname"><span class="pre">default_variable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.function.Function.default_variable" title="Permalink to this definition">#</a></dt>
<dd><p>Return a default variable.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="o">.</span><span class="n">default_variable</span><span class="p">()</span>
<span class="go">x</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.symbolic.function.Function.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.function.Function.name" title="Permalink to this definition">#</a></dt>
<dd><p>Return the name of this function.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">foo</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">foo</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
<span class="go">&#39;foo&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.symbolic.function.Function.number_of_arguments">
<span class="sig-name descname"><span class="pre">number_of_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.function.Function.number_of_arguments" title="Permalink to this definition">#</a></dt>
<dd><p>Return the number of arguments that this function takes.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">foo</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">foo</span><span class="o">.</span><span class="n">number_of_arguments</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">foo</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">foo(x, x)</span>

<span class="gp">sage: </span><span class="n">foo</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: Symbolic function foo takes exactly 2 arguments (1 given)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.symbolic.function.Function.variables">
<span class="sig-name descname"><span class="pre">variables</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.function.Function.variables" title="Permalink to this definition">#</a></dt>
<dd><p>Return the variables (of which there are none) present in this function.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sin</span><span class="o">.</span><span class="n">variables</span><span class="p">()</span>
<span class="go">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.symbolic.function.GinacFunction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.symbolic.function.</span></span><span class="sig-name descname"><span class="pre">GinacFunction</span></span><a class="headerlink" href="#sage.symbolic.function.GinacFunction" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.symbolic.function.BuiltinFunction" title="sage.symbolic.function.BuiltinFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">BuiltinFunction</span></code></a></p>
<p>This class provides a wrapper around symbolic functions already defined in
Pynac/GiNaC.</p>
<p>GiNaC provides custom methods for these functions defined at the C++ level.
It is still possible to define new custom functionality or override those
already defined.</p>
<p>There is also no need to register these functions.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.symbolic.function.SymbolicFunction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.symbolic.function.</span></span><span class="sig-name descname"><span class="pre">SymbolicFunction</span></span><a class="headerlink" href="#sage.symbolic.function.SymbolicFunction" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.symbolic.function.Function" title="sage.symbolic.function.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a></p>
<p>This is the basis for user defined symbolic functions. We try to pickle or
hash the custom methods, so subclasses must be defined in Python not Cython.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.symbolic.function.pickle_wrapper">
<span class="sig-prename descclassname"><span class="pre">sage.symbolic.function.</span></span><span class="sig-name descname"><span class="pre">pickle_wrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.function.pickle_wrapper" title="Permalink to this definition">#</a></dt>
<dd><p>Return a pickled version of the function <code class="docutils literal notranslate"><span class="pre">f</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">f</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, just return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>This is a wrapper around <a class="reference external" href="../../../misc/sage/misc/fpickle.html#sage.misc.fpickle.pickle_function" title="(in Utilities v9.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">pickle_function()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.function</span> <span class="kn">import</span> <span class="n">pickle_wrapper</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">pickle_wrapper</span><span class="p">(</span><span class="n">f</span><span class="p">),</span> <span class="nb">bytes</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">pickle_wrapper</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.symbolic.function.unpickle_wrapper">
<span class="sig-prename descclassname"><span class="pre">sage.symbolic.function.</span></span><span class="sig-name descname"><span class="pre">unpickle_wrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.symbolic.function.unpickle_wrapper" title="Permalink to this definition">#</a></dt>
<dd><p>Return a unpickled version of the function defined by <code class="docutils literal notranslate"><span class="pre">p</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">p</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, just return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>This is a wrapper around <a class="reference external" href="../../../misc/sage/misc/fpickle.html#sage.misc.fpickle.unpickle_function" title="(in Utilities v9.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">unpickle_function()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.symbolic.function</span> <span class="kn">import</span> <span class="n">pickle_wrapper</span><span class="p">,</span> <span class="n">unpickle_wrapper</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pickle_wrapper</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">unpickle_wrapper</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">unpickle_wrapper</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="function_factory.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Factory for symbolic functions</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="subring.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Subrings of the Symbolic Ring</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2023, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Classes for symbolic functions</a><ul>
<li><a class="reference internal" href="#sage.symbolic.function.BuiltinFunction"><code class="docutils literal notranslate"><span class="pre">BuiltinFunction</span></code></a></li>
<li><a class="reference internal" href="#sage.symbolic.function.Function"><code class="docutils literal notranslate"><span class="pre">Function</span></code></a><ul>
<li><a class="reference internal" href="#sage.symbolic.function.Function.default_variable"><code class="docutils literal notranslate"><span class="pre">default_variable()</span></code></a></li>
<li><a class="reference internal" href="#sage.symbolic.function.Function.name"><code class="docutils literal notranslate"><span class="pre">name()</span></code></a></li>
<li><a class="reference internal" href="#sage.symbolic.function.Function.number_of_arguments"><code class="docutils literal notranslate"><span class="pre">number_of_arguments()</span></code></a></li>
<li><a class="reference internal" href="#sage.symbolic.function.Function.variables"><code class="docutils literal notranslate"><span class="pre">variables()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.symbolic.function.GinacFunction"><code class="docutils literal notranslate"><span class="pre">GinacFunction</span></code></a></li>
<li><a class="reference internal" href="#sage.symbolic.function.SymbolicFunction"><code class="docutils literal notranslate"><span class="pre">SymbolicFunction</span></code></a></li>
<li><a class="reference internal" href="#sage.symbolic.function.pickle_wrapper"><code class="docutils literal notranslate"><span class="pre">pickle_wrapper()</span></code></a></li>
<li><a class="reference internal" href="#sage.symbolic.function.unpickle_wrapper"><code class="docutils literal notranslate"><span class="pre">unpickle_wrapper()</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    </body>
</html>