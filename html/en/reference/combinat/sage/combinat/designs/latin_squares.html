<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mutually Orthogonal Latin Squares (MOLS) &mdash; Sage Reference Manual v6.9: Combinatorics</title>
    
    <link rel="stylesheet" href="../../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '6.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.9: Combinatorics" href="../../../index.html" />
    <link rel="up" title="Comprehensive Module list" href="../../../module_list.html" />
    <link rel="next" title="Orthogonal arrays (OA)" href="orthogonal_arrays.html" />
    <link rel="prev" title="Incidence structures (i.e. hypergraphs, i.e. set systems)" href="incidence_structures.html" />
    <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="orthogonal_arrays.html" title="Orthogonal arrays (OA)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="incidence_structures.html" title="Incidence structures (i.e. hypergraphs, i.e. set systems)"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../../index.html">Combinatorics</a> &raquo;</li>

          <li><a href="../../../module_list.html" accesskey="U">Comprehensive Module list</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mutually-orthogonal-latin-squares-mols">
<span id="sage-combinat-designs-latin-squares"></span><h1>Mutually Orthogonal Latin Squares (MOLS)<a class="headerlink" href="#mutually-orthogonal-latin-squares-mols" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.combinat.designs.latin_squares"></span><p>The main function of this module is <a class="reference internal" href="#sage.combinat.designs.latin_squares.mutually_orthogonal_latin_squares" title="sage.combinat.designs.latin_squares.mutually_orthogonal_latin_squares"><tt class="xref py py-func docutils literal"><span class="pre">mutually_orthogonal_latin_squares()</span></tt></a>
and can be can be used to generate MOLS (or check that they exist):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">MOLS</span> <span class="o">=</span> <span class="n">designs</span><span class="o">.</span><span class="n">mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information on MOLS, see the <a class="reference external" href="https://en.wikipedia.org/wiki/Graeco-Latin_square#Mutually_orthogonal_Latin_squares">Wikipedia entry on MOLS</a>. If you are only
interested by latin squares, see <a class="reference internal" href="../matrices/latin.html#module-sage.combinat.matrices.latin" title="sage.combinat.matrices.latin"><tt class="xref py py-mod docutils literal"><span class="pre">latin</span></tt></a>.</p>
<p>The functions defined here are</p>
<table border="1" class="contentstable docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.designs.latin_squares.mutually_orthogonal_latin_squares" title="sage.combinat.designs.latin_squares.mutually_orthogonal_latin_squares"><tt class="xref py py-meth docutils literal"><span class="pre">mutually_orthogonal_latin_squares()</span></tt></a></td>
<td>Return <span class="math">\(k\)</span> Mutually Orthogonal <span class="math">\(n\times n\)</span> Latin Squares.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.combinat.designs.latin_squares.are_mutually_orthogonal_latin_squares" title="sage.combinat.designs.latin_squares.are_mutually_orthogonal_latin_squares"><tt class="xref py py-meth docutils literal"><span class="pre">are_mutually_orthogonal_latin_squares()</span></tt></a></td>
<td>Check that the list <tt class="docutils literal"><span class="pre">l</span></tt> of matrices in are MOLS.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.combinat.designs.latin_squares.latin_square_product" title="sage.combinat.designs.latin_squares.latin_square_product"><tt class="xref py py-meth docutils literal"><span class="pre">latin_square_product()</span></tt></a></td>
<td>Return the product of two (or more) latin squares.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.combinat.designs.latin_squares.MOLS_table" title="sage.combinat.designs.latin_squares.MOLS_table"><tt class="xref py py-meth docutils literal"><span class="pre">MOLS_table()</span></tt></a></td>
<td>Prints the MOLS table.</td>
</tr>
</tbody>
</table>
<p><strong>Table of MOLS</strong></p>
<p>Sage can produce a table of MOLS similar to the one from the Handbook of
Combinatorial Designs <a class="reference internal" href="database.html#designhandbook" id="id1">[DesignHandbook]</a> (<a class="reference external" href="http://books.google.fr/books?id=S9FA9rq1BgoC&amp;dq=handbook%20combinatorial%20designs%20MOLS%2010000&amp;pg=PA176">available here</a>).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.designs.latin_squares</span> <span class="kn">import</span> <span class="n">MOLS_table</span>
<span class="gp">sage: </span><span class="n">MOLS_table</span><span class="p">(</span><span class="mi">600</span><span class="p">)</span> <span class="c"># long time</span>
<span class="go">       0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19</span>
<span class="go">    ________________________________________________________________________________</span>
<span class="go">  0| +oo +oo   1   2   3   4   1   6   7   8   2  10   5  12   4   4  15  16   5  18</span>
<span class="go"> 20|   4   5   3  22   7  24   4  26   5  28   4  30  31   5   4   5   8  36   4   5</span>
<span class="go"> 40|   7  40   5  42   5   6   4  46   8  48   6   5   5  52   5   6   7   7   5  58</span>
<span class="go"> 60|   5  60   5   6  63   7   5  66   5   6   6  70   7  72   5   7   6   6   6  78</span>
<span class="go"> 80|   9  80   8  82   6   6   6   6   7  88   6   7   6   6   6   6   7  96   6   8</span>
<span class="go">100|   8 100   6 102   7   7   6 106   6 108   6   6  13 112   6   7   6   8   6   6</span>
<span class="go">120|   7 120   6   6   6 124   6 126 127   7   6 130   6   7   6   7   7 136   6 138</span>
<span class="go">140|   6   7   6  10  10   7   6   7   6 148   6 150   7   8   8   7   6 156   7   6</span>
<span class="go">160|   9   7   6 162   6   7   6 166   7 168   6   8   6 172   6   6  14   9   6 178</span>
<span class="go">180|   6 180   6   6   7   9   6  10   6   8   6 190   7 192   6   7   6 196   6 198</span>
<span class="go">200|   7   7   6   7   6   8   6   8  14  11  10 210   6   7   6   7   7   8   6  10</span>
<span class="go">220|   6  12   6 222  13   8   6 226   6 228   6   7   7 232   6   7   6   7   6 238</span>
<span class="go">240|   7 240   6 242   6   7   6  12   7   7   6 250   6  12   9   7 255 256   6  12</span>
<span class="go">260|   6   8   8 262   7   8   7  10   7 268   7 270  15  16   6  13  10 276   6   9</span>
<span class="go">280|   7 280   6 282   6  12   6   7  15 288   6   6   6 292   6   6   7  10  10  12</span>
<span class="go">300|   7   7   7   7  15  15   6 306   7   7   7 310   7 312   7  10   7 316   7  10</span>
<span class="go">320|  15  15   6  16   8  12   6   7   7   9   6 330   7   8   7   6   7 336   6   7</span>
<span class="go">340|   6  10  10 342   7   7   6 346   6 348   8  12  18 352   6   9   7   9   6 358</span>
<span class="go">360|   7 360   6   7   7   7   6 366  15  15   7  15   7 372   7  15   7  13   7 378</span>
<span class="go">380|   7  12   7 382  15  15   7  15   7 388   7  16   7   7   7   7   8 396   7   7</span>
<span class="go">400|  15 400   7  15  11   8   7  15   8 408   7  13   8  12  10   9  18  15   7 418</span>
<span class="go">420|   7 420   7  15   7  16   6   7   7   7   6 430  15 432   6  15   6  18   7 438</span>
<span class="go">440|   7  15   7 442   7  13   7  11  15 448   7  15   7   7   7  15   7 456   7  16</span>
<span class="go">460|   7 460   7 462  15  15   7 466   8   8   7  15   7  15  10  18   7  15   6 478</span>
<span class="go">480|  15  15   6  15   8   7   6 486   7  15   6 490   6  16   6   7  15  15   6 498</span>
<span class="go">500|   7   8   9 502   7  15   6  15   7 508   6  15 511  18   7  15   8  12   8  15</span>
<span class="go">520|   8 520  10 522  12  15   8  16  15 528   7  15   8  12   7  15   8  15  10  15</span>
<span class="go">540|  12 540   7  15  18   7   7 546   7   8   7  18   7   7   7   7   7 556   7  12</span>
<span class="go">560|  15   7   7 562   7   7   6   7   7 568   6 570   7   7  15  22   8 576   7   7</span>
<span class="go">580|   7   8   7  10   7   8   7 586   7  18  17   7  15 592   8  15   7   7   8 598</span>
</pre></div>
</div>
<p>Comparison with the results from the Handbook of Combinatorial Designs (2ed)
<a class="reference internal" href="database.html#designhandbook" id="id2">[DesignHandbook]</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">MOLS_table</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="n">compare</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="c"># long time</span>
<span class="go">        0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19</span>
<span class="go">    ________________________________________________________________________________</span>
<span class="go">  0|                                                           +               +</span>
<span class="go"> 20|</span>
<span class="go"> 40|</span>
<span class="go"> 60|   +</span>
<span class="go"> 80|</span>
<span class="go">100|</span>
<span class="go">120|</span>
<span class="go">140|</span>
<span class="go">160|</span>
<span class="go">180|</span>
<span class="go">200|       -</span>
<span class="go">220|</span>
<span class="go">240|</span>
<span class="go">260|</span>
<span class="go">280|</span>
<span class="go">300|</span>
<span class="go">320|                                                                   -</span>
<span class="go">340|</span>
<span class="go">360|   -                   -</span>
<span class="go">380|                                                       -</span>
<span class="go">400|</span>
<span class="go">420|                                       -</span>
<span class="go">440|</span>
<span class="go">460|</span>
<span class="go">480|</span>
<span class="go">500|       -</span>
<span class="go">520|</span>
<span class="go">540|</span>
<span class="go">560|</span>
<span class="go">580|</span>
</pre></div>
</div>
<p>TODO:</p>
<ul class="simple">
<li>Look at <a class="reference internal" href="#coldin01" id="id3">[ColDin01]</a>.</li>
</ul>
<p>REFERENCES:</p>
<table class="docutils citation" frame="void" id="stinson2004" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[Stinson2004]</a></td><td>Douglas R. Stinson,
Combinatorial designs: construction and analysis,
Springer, 2004.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="coldin01" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[ColDin01]</a></td><td>Charles Colbourn, Jeffrey Dinitz,
Mutually orthogonal latin squares: a brief survey of constructions,
Volume 95, Issues 1-2, Pages 9-48,
Journal of Statistical Planning and Inference,
Springer, 1 May 2001.</td></tr>
</tbody>
</table>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="sage.combinat.designs.latin_squares.MOLS_table">
<tt class="descclassname">sage.combinat.designs.latin_squares.</tt><tt class="descname">MOLS_table</tt><big>(</big><em>start</em>, <em>stop=None</em>, <em>compare=False</em>, <em>width=None</em><big>)</big><a class="headerlink" href="#sage.combinat.designs.latin_squares.MOLS_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the MOLS table that Sage can produce.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">start,stop</span></tt> (integers) &#8211; print the table of MOLS for value of <span class="math">\(n\)</span> such
that <tt class="docutils literal"><span class="pre">start&lt;=n&lt;stop</span></tt>. If only one integer is given as input, it is
interpreted as the value of <tt class="docutils literal"><span class="pre">stop</span></tt> with <tt class="docutils literal"><span class="pre">start=0</span></tt> (same behaviour as
<tt class="docutils literal"><span class="pre">range</span></tt>).</li>
<li><tt class="docutils literal"><span class="pre">compare</span></tt> (boolean) &#8211; if sets to <tt class="docutils literal"><span class="pre">True</span></tt> the MOLS displays
with <span class="math">\(+\)</span> and <span class="math">\(-\)</span> entries its difference with the table from the
Handbook of Combinatorial Designs (2ed).</li>
<li><tt class="docutils literal"><span class="pre">width</span></tt> (integer) &#8211; the width of each column of the table. By default,
it is computed from range of values determined by the parameters <tt class="docutils literal"><span class="pre">start</span></tt>
and <tt class="docutils literal"><span class="pre">stop</span></tt>.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.designs.latin_squares</span> <span class="kn">import</span> <span class="n">MOLS_table</span>
<span class="gp">sage: </span><span class="n">MOLS_table</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">       0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19</span>
<span class="go">    ________________________________________________________________________________</span>
<span class="go">  0| +oo +oo   1   2   3   4   1   6   7   8   2  10   5  12   4   4  15  16   5  18</span>
<span class="go"> 20|   4   5   3  22   7  24   4  26   5  28   4  30  31   5   4   5   8  36   4   5</span>
<span class="go"> 40|   7  40   5  42   5   6   4  46   8  48   6   5   5  52   5   6   7   7   5  58</span>
<span class="go"> 60|   5  60   5   6  63   7   5  66   5   6   6  70   7  72   5   7   6   6   6  78</span>
<span class="go"> 80|   9  80   8  82   6   6   6   6   7  88   6   7   6   6   6   6   7  96   6   8</span>
<span class="gp">sage: </span><span class="n">MOLS_table</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">         0    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16   17   18   19</span>
<span class="go">     ____________________________________________________________________________________________________</span>
<span class="go">   0|  +oo  +oo    1    2    3    4    1    6    7    8    2   10    5   12    4    4   15   16    5   18</span>
<span class="go">  20|    4    5    3   22    7   24    4   26    5   28    4   30   31    5    4    5    8   36    4    5</span>
<span class="go">  40|    7   40    5   42    5    6    4   46    8   48    6    5    5   52    5    6    7    7    5   58</span>
<span class="go">  60|    5   60    5    6   63    7    5   66    5    6    6   70    7   72    5    7    6    6    6   78</span>
<span class="go">  80|    9   80    8   82    6    6    6    6    7   88    6    7    6    6    6    6    7   96    6    8</span>
<span class="gp">sage: </span><span class="n">MOLS_table</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">compare</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">       0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19</span>
<span class="go">    ________________________________________________________________________________</span>
<span class="go">  0|                                                           +               +</span>
<span class="go"> 20|</span>
<span class="go"> 40|</span>
<span class="go"> 60|   +</span>
<span class="go"> 80|</span>
<span class="gp">sage: </span><span class="n">MOLS_table</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">compare</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">       0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19</span>
<span class="go">    ________________________________________________________________________________</span>
<span class="go"> 40|</span>
<span class="go"> 60|   +</span>
<span class="go"> 80|</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.combinat.designs.latin_squares.are_mutually_orthogonal_latin_squares">
<tt class="descclassname">sage.combinat.designs.latin_squares.</tt><tt class="descname">are_mutually_orthogonal_latin_squares</tt><big>(</big><em>l</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#sage.combinat.designs.latin_squares.are_mutually_orthogonal_latin_squares" title="Permalink to this definition">¶</a></dt>
<dd><p>Check wether the list of matrices in <tt class="docutils literal"><span class="pre">l</span></tt> form mutually orthogonal latin
squares.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">verbose</span></tt> - if <tt class="docutils literal"><span class="pre">True</span></tt> then print why the list of matrices provided are
not mutually orthogonal latin squares</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.designs.latin_squares</span> <span class="kn">import</span> <span class="n">are_mutually_orthogonal_latin_squares</span>
<span class="gp">sage: </span><span class="n">m1</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">m2</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">m3</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">are_mutually_orthogonal_latin_squares</span><span class="p">([</span><span class="n">m1</span><span class="p">,</span><span class="n">m2</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">are_mutually_orthogonal_latin_squares</span><span class="p">([</span><span class="n">m1</span><span class="p">,</span><span class="n">m3</span><span class="p">])</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">are_mutually_orthogonal_latin_squares</span><span class="p">([</span><span class="n">m2</span><span class="p">,</span><span class="n">m3</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">are_mutually_orthogonal_latin_squares</span><span class="p">([</span><span class="n">m1</span><span class="p">,</span><span class="n">m2</span><span class="p">,</span><span class="n">m3</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Squares 0 and 2 are not orthogonal</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">designs</span><span class="o">.</span><span class="n">mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">are_mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Not a latin square:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m1</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">m2</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">are_mutually_orthogonal_latin_squares</span><span class="p">([</span><span class="n">m1</span><span class="p">,</span><span class="n">m2</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Matrix 0 is not row latin</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">m1</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">are_mutually_orthogonal_latin_squares</span><span class="p">([</span><span class="n">m1</span><span class="p">,</span><span class="n">m2</span><span class="p">],</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Matrix 0 is not column latin</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">m1</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">m2</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">are_mutually_orthogonal_latin_squares</span><span class="p">([</span><span class="n">m1</span><span class="p">,</span><span class="n">m2</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.combinat.designs.latin_squares.latin_square_product">
<tt class="descclassname">sage.combinat.designs.latin_squares.</tt><tt class="descname">latin_square_product</tt><big>(</big><em>M</em>, <em>N</em>, <em>*others</em><big>)</big><a class="headerlink" href="#sage.combinat.designs.latin_squares.latin_square_product" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the product of two (or more) latin squares.</p>
<p>Given two Latin Squares <span class="math">\(M,N\)</span> of respective sizes <span class="math">\(m,n\)</span>, the direct product
<span class="math">\(M\times N\)</span> of size <span class="math">\(mn\)</span> is defined by <span class="math">\((M\times
N)((i_1,i_2),(j_1,j_2))=(M(i_1,j_1),N(i_2,j_2))\)</span> where <span class="math">\(i_1,j_1\in [m],
i_2,j_2\in [n]\)</span></p>
<p>Each pair of values <span class="math">\((i,j)\in [m]\times [n]\)</span> is then relabeled to <span class="math">\(in+j\)</span>.</p>
<p>This is Lemma 6.25 of <a class="reference internal" href="#stinson2004" id="id4">[Stinson2004]</a>.</p>
<p>INPUT:</p>
<p>An arbitrary number of latin squares (greater than 2).</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.designs.latin_squares</span> <span class="kn">import</span> <span class="n">latin_square_product</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">=</span><span class="n">designs</span><span class="o">.</span><span class="n">mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">latin_square_product</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">m</span><span class="p">)</span>
<span class="go">64 x 64 sparse matrix over Integer Ring (use the &#39;.str()&#39; method to see the entries)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.combinat.designs.latin_squares.mutually_orthogonal_latin_squares">
<tt class="descclassname">sage.combinat.designs.latin_squares.</tt><tt class="descname">mutually_orthogonal_latin_squares</tt><big>(</big><em>k</em>, <em>n</em>, <em>partitions=False</em>, <em>check=True</em>, <em>existence=False</em><big>)</big><a class="headerlink" href="#sage.combinat.designs.latin_squares.mutually_orthogonal_latin_squares" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <span class="math">\(k\)</span> Mutually Orthogonal <span class="math">\(n\times n\)</span> Latin Squares (MOLS).</p>
<p>For more information on Mutually Orthogonal Latin Squares, see
<a class="reference internal" href="#module-sage.combinat.designs.latin_squares" title="sage.combinat.designs.latin_squares"><tt class="xref py py-mod docutils literal"><span class="pre">latin_squares</span></tt></a>.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">k</span></tt> (integer) &#8211; number of MOLS. If <tt class="docutils literal"><span class="pre">k=None</span></tt> it is set to the largest
value available.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">n</span></tt> (integer) &#8211; size of the latin square.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">partition</span></tt> (boolean) &#8211; a Latin Square can be seen as 3 partitions of
the <span class="math">\(n^2\)</span> cells of the array into <span class="math">\(n\)</span> sets of size <span class="math">\(n\)</span>, respectively :</p>
<ul class="simple">
<li>The partition of rows</li>
<li>The partition of columns</li>
<li>The partition of number (cells numbered with 0, cells numbered with 1,
...)</li>
</ul>
<p>These partitions have the additional property that any two sets from
different partitions intersect on exactly one element.</p>
<p>When <tt class="docutils literal"><span class="pre">partition</span></tt> is set to <tt class="docutils literal"><span class="pre">True</span></tt>, this function returns a list of <span class="math">\(k+2\)</span>
partitions satisfying this intersection property instead of the <span class="math">\(k+2\)</span> MOLS
(though the data is exactly the same in both cases).</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">existence</span></tt> (boolean) &#8211; instead of building the design, return:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">True</span></tt> &#8211; meaning that Sage knows how to build the design</li>
<li><tt class="docutils literal"><span class="pre">Unknown</span></tt> &#8211; meaning that Sage does not know how to build the
design, but that the design may exist (see <a class="reference external" href="../../../../misc/sage/misc/unknown.html#module-sage.misc.unknown" title="(in Sage Reference Manual: Utilities v6.9)"><tt class="xref py py-mod docutils literal"><span class="pre">sage.misc.unknown</span></tt></a>).</li>
<li><tt class="docutils literal"><span class="pre">False</span></tt> &#8211; meaning that the design does not exist.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When <tt class="docutils literal"><span class="pre">k=None</span></tt> and <tt class="docutils literal"><span class="pre">existence=True</span></tt> the function returns an
integer, i.e. the largest <span class="math">\(k\)</span> such that we can build a <span class="math">\(k\)</span> MOLS of
order <span class="math">\(n\)</span>.</p>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">check</span></tt> &#8211; (boolean) Whether to check that output is correct before
returning it. As this is expected to be useless (but we are cautious
guys), you may want to disable it whenever you want speed. Set to
<tt class="docutils literal"><span class="pre">True</span></tt> by default.</p>
</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">[0 2 4 1 3]  [0 3 1 4 2]  [0 4 3 2 1]  [0 1 2 3 4]</span>
<span class="go">[4 1 3 0 2]  [3 1 4 2 0]  [2 1 0 4 3]  [4 0 1 2 3]</span>
<span class="go">[3 0 2 4 1]  [1 4 2 0 3]  [4 3 2 1 0]  [3 4 0 1 2]</span>
<span class="go">[2 4 1 3 0]  [4 2 0 3 1]  [1 0 4 3 2]  [2 3 4 0 1]</span>
<span class="go">[1 3 0 2 4], [2 0 3 1 4], [3 2 1 0 4], [1 2 3 4 0]</span>
<span class="go">]</span>

<span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">[0 2 4 6 1 3 5]  [0 3 6 2 5 1 4]  [0 4 1 5 2 6 3]</span>
<span class="go">[6 1 3 5 0 2 4]  [5 1 4 0 3 6 2]  [4 1 5 2 6 3 0]</span>
<span class="go">[5 0 2 4 6 1 3]  [3 6 2 5 1 4 0]  [1 5 2 6 3 0 4]</span>
<span class="go">[4 6 1 3 5 0 2]  [1 4 0 3 6 2 5]  [5 2 6 3 0 4 1]</span>
<span class="go">[3 5 0 2 4 6 1]  [6 2 5 1 4 0 3]  [2 6 3 0 4 1 5]</span>
<span class="go">[2 4 6 1 3 5 0]  [4 0 3 6 2 5 1]  [6 3 0 4 1 5 2]</span>
<span class="go">[1 3 5 0 2 4 6], [2 5 1 4 0 3 6], [3 0 4 1 5 2 6]</span>
<span class="go">]</span>

<span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">partitions</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[[[0, 1, 2, 3, 4],</span>
<span class="go">  [5, 6, 7, 8, 9],</span>
<span class="go">  [10, 11, 12, 13, 14],</span>
<span class="go">  [15, 16, 17, 18, 19],</span>
<span class="go">  [20, 21, 22, 23, 24]],</span>
<span class="go"> [[0, 5, 10, 15, 20],</span>
<span class="go">  [1, 6, 11, 16, 21],</span>
<span class="go">  [2, 7, 12, 17, 22],</span>
<span class="go">  [3, 8, 13, 18, 23],</span>
<span class="go">  [4, 9, 14, 19, 24]],</span>
<span class="go"> [[0, 8, 11, 19, 22],</span>
<span class="go">  [3, 6, 14, 17, 20],</span>
<span class="go">  [1, 9, 12, 15, 23],</span>
<span class="go">  [4, 7, 10, 18, 21],</span>
<span class="go">  [2, 5, 13, 16, 24]],</span>
<span class="go"> [[0, 9, 13, 17, 21],</span>
<span class="go">  [2, 6, 10, 19, 23],</span>
<span class="go">  [4, 8, 12, 16, 20],</span>
<span class="go">  [1, 5, 14, 18, 22],</span>
<span class="go">  [3, 7, 11, 15, 24]]]</span>
</pre></div>
</div>
<p>What is the maximum number of MOLS of size 8 that Sage knows how to build?:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">orthogonal_arrays</span><span class="o">.</span><span class="n">largest_available_k</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span>
<span class="go">7</span>
</pre></div>
</div>
<p>If you only want to know if Sage is able to build a given set of
MOLS, query the <tt class="docutils literal"><span class="pre">orthogonal_arrays.*</span></tt> functions:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">orthogonal_arrays</span><span class="o">.</span><span class="n">is_available</span><span class="p">(</span><span class="mi">5</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="c"># 5 MOLS of order 5</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">orthogonal_arrays</span><span class="o">.</span><span class="n">is_available</span><span class="p">(</span><span class="mi">4</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="c"># 4 MOLS of order 6</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Sage, however, is not able to prove that the second MOLS do not exist:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">orthogonal_arrays</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="mi">4</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="c"># 4 MOLS of order 6</span>
<span class="go">Unknown</span>
</pre></div>
</div>
<p>If you ask for such a MOLS then you will respecively get an informative
<tt class="docutils literal"><span class="pre">EmptySetError</span></tt> or <tt class="docutils literal"><span class="pre">NotImplementedError</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">EmptySetError</span>: <span class="n">There exist at most n-1 MOLS of size n if n&gt;=2.</span>
<span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">I don&#39;t know how to build 4 MOLS of order 6</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>The special case <span class="math">\(n=1\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">[[0], [0], [0]]</span>
<span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">there are no bound on k when 0&lt;=n&lt;=1</span>
<span class="gp">sage: </span><span class="n">designs</span><span class="o">.</span><span class="n">mutually_orthogonal_latin_squares</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">[1 8 9 0 2 4 6 3 5 7]  [1 7 6 5 0 9 8 2 3 4]</span>
<span class="go">[7 2 8 9 0 3 5 4 6 1]  [8 2 1 7 6 0 9 3 4 5]</span>
<span class="go">[6 1 3 8 9 0 4 5 7 2]  [9 8 3 2 1 7 0 4 5 6]</span>
<span class="go">[5 7 2 4 8 9 0 6 1 3]  [0 9 8 4 3 2 1 5 6 7]</span>
<span class="go">[0 6 1 3 5 8 9 7 2 4]  [2 0 9 8 5 4 3 6 7 1]</span>
<span class="go">[9 0 7 2 4 6 8 1 3 5]  [4 3 0 9 8 6 5 7 1 2]</span>
<span class="go">[8 9 0 1 3 5 7 2 4 6]  [6 5 4 0 9 8 7 1 2 3]</span>
<span class="go">[2 3 4 5 6 7 1 8 9 0]  [3 4 5 6 7 1 2 8 0 9]</span>
<span class="go">[3 4 5 6 7 1 2 0 8 9]  [5 6 7 1 2 3 4 0 9 8]</span>
<span class="go">[4 5 6 7 1 2 3 9 0 8], [7 1 2 3 4 5 6 9 8 0]</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Mutually Orthogonal Latin Squares (MOLS)</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="incidence_structures.html"
                                  title="previous chapter">Incidence structures (i.e. hypergraphs, i.e. set systems)</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="orthogonal_arrays.html"
                                  title="next chapter">Orthogonal arrays (OA)</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../../_sources/sage/combinat/designs/latin_squares.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="orthogonal_arrays.html" title="Orthogonal arrays (OA)"
             >next</a> |</li>
        <li class="right" >
          <a href="incidence_structures.html" title="Incidence structures (i.e. hypergraphs, i.e. set systems)"
             >previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../../index.html">Combinatorics</a> &raquo;</li>

          <li><a href="../../../module_list.html" >Comprehensive Module list</a> &raquo;</li> 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>