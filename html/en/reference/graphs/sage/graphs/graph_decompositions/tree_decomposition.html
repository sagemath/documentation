<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../../../genindex.html" /><link rel="search" title="Search" href="../../../../search.html" /><link rel="next" title="Vertex separation" href="vertex_separation.html" /><link rel="prev" title="Graph plotting in Javascript with d3.js" href="../graph_plot_js.html" />

    <meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>Tree decompositions - Graph Theory</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/custom-furo.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">Graph Theory</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 10.0 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../../index.html">Home - Graph Theory</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../generic_graph.html">Generic graphs (common to directed/undirected)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph.html">Undirected graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../digraph.html">Directed graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bipartite_graph.html">Bipartite graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">View classes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../graph_generators.html">Common graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../digraph_generators.html">Common digraphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_generators_pyx.html">Common graphs and digraphs generators (Cython)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_database.html">Graph database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../strongly_regular_db.html">Database of strongly regular graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generators/distance_regular.html">Database of distance regular graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generators/classical_geometries.html">Families of graphs derived from classical geometries over finite fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generators/families.html">Various families of graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generators/basic.html">Basic graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generators/chessboard.html">Chessboard graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generators/intersection.html">Intersection graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generators/platonic_solids.html">1-skeletons of Platonic solids</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generators/random.html">Random graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generators/smallgraphs.html">Various small graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generators/world_map.html">Graphs from the World Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../isgci.html">ISGCI: Information System on Graph Classes and their Inclusions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../base/overview.html">Overview of (di)graph data structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base/c_graph.html">Fast compiled graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base/sparse_graph.html">Fast sparse graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base/dense_graph.html">Fast dense graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base/static_dense_graph.html">Static dense graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base/static_sparse_graph.html">Static sparse graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base/static_sparse_backend.html">Static sparse graph backend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base/graph_backends.html">Backends for Sage (di)graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base/boost_graph.html">Interface to run Boost algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hypergraph_generators.html">Hypergraph generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../combinat/designs/incidence_structures.html">Incidence structures (i.e. hypergraphs, i.e. set systems)</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../graph_coloring.html">Graph coloring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cliquer.html">Interface with Cliquer (clique-related problems)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../centrality.html">Centrality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../asteroidal_triples.html">Asteroidal triples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../independent_sets.html">Independent sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../comparability.html">Comparability and permutation graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../line_graph.html">Line graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spanning_tree.html">Spanning trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pq_trees.html">PQ-Trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trees.html">Generation of trees</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matchpoly.html">Matching polynomial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genus.html">Genus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lovasz_theta.html">Lovász theta-function of graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schnyder.html">Schnyder’s algorithm for straight-line planar embeddings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../planarity.html">Wrapper for Boyer’s (C) planarity algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../traversals.html">Graph traversals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_plot.html">Graph plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_plot_js.html">Graph plotting in Javascript with d3.js</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Tree decompositions</a></li>
<li class="toctree-l1"><a class="reference internal" href="vertex_separation.html">Vertex separation</a></li>
<li class="toctree-l1"><a class="reference internal" href="rankwidth.html">Rank Decompositions of graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="bandwidth.html">Bandwidth of undirected graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="cutwidth.html">Cutwidth</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph_products.html">Products of graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="modular_decomposition.html">Modular Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="clique_separators.html">Decomposition by clique minimal separators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../convexity_properties.html">Convexity properties of graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../weakly_chordal.html">Weakly chordal graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distances_all_pairs.html">Distances/shortest paths between all pairs of vertices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_latex.html">LaTeX options for graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_editor.html">Graph editor widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_list.html">Lists of graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graph_input.html">Functions for reading/building graphs/digraphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hyperbolicity.html">Hyperbolicity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutte_polynomial.html">Tutte polynomial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../partial_cube.html">Partial cubes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../path_enumeration.html">Path enumeration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic_graph_pyx.html">GenericGraph Cython functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orientations.html">Orientations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connectivity.html">Connectivity related functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../edge_connectivity.html">Edge connectivity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../domination.html">Domination</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="tree-decompositions">
<span id="sage-graphs-graph-decompositions-tree-decomposition"></span><h1>Tree decompositions<a class="headerlink" href="#tree-decompositions" title="Permalink to this heading">#</a></h1>
<span class="target" id="module-sage.graphs.graph_decompositions.tree_decomposition"></span><p>This module implements tree-decomposition methods.</p>
<p>A tree-decomposition of a graph <span class="math notranslate nohighlight">\(G = (V, E)\)</span> is a pair <span class="math notranslate nohighlight">\((X, T)\)</span>, where <span class="math notranslate nohighlight">\(X=\{X_1,
X_2, \ldots, X_t\}\)</span> is a family of subsets of <span class="math notranslate nohighlight">\(V\)</span>, usually called <em>bags</em>, and
<span class="math notranslate nohighlight">\(T\)</span> is a tree of order <span class="math notranslate nohighlight">\(t\)</span> whose nodes are the subsets <span class="math notranslate nohighlight">\(X_i\)</span> satisfying the
following properties:</p>
<ul class="simple">
<li><p>The union of all sets <span class="math notranslate nohighlight">\(X_i\)</span> equals <span class="math notranslate nohighlight">\(V\)</span>. That is, each vertex of the graph <span class="math notranslate nohighlight">\(G\)</span>
is associated with at least one tree node.</p></li>
<li><p>For every edge <span class="math notranslate nohighlight">\((v, w)\)</span> in the graph, there is a subset <span class="math notranslate nohighlight">\(X_i\)</span> that contains
both <span class="math notranslate nohighlight">\(v\)</span> and <span class="math notranslate nohighlight">\(w\)</span>. That is, each edge of the graph <span class="math notranslate nohighlight">\(G\)</span> appears in a tree node.</p></li>
<li><p>The nodes associated with vertex <span class="math notranslate nohighlight">\(v \in V\)</span> form a connected subtree of
<span class="math notranslate nohighlight">\(T\)</span>. That is, if <span class="math notranslate nohighlight">\(X_i\)</span> and <span class="math notranslate nohighlight">\(X_j\)</span> both contain a vertex <span class="math notranslate nohighlight">\(v \in V\)</span>, then all
nodes <span class="math notranslate nohighlight">\(X_k\)</span> of the tree in the (unique) path between <span class="math notranslate nohighlight">\(X_i\)</span> and <span class="math notranslate nohighlight">\(X_j\)</span> contain
<span class="math notranslate nohighlight">\(v\)</span> as well, and we have <span class="math notranslate nohighlight">\(X_i \cap X_j \subseteq X_k\)</span>.</p></li>
</ul>
<p>The <em>width</em> of a tree decomposition is the size of the largest set <span class="math notranslate nohighlight">\(X_i\)</span> minus
one, i.e., <span class="math notranslate nohighlight">\(\max_{X_i \in X} |X_i| - 1\)</span>, and the <em>treewidth</em> <span class="math notranslate nohighlight">\(tw(G)\)</span> of a graph
<span class="math notranslate nohighlight">\(G\)</span> is the minimum width among all possible tree decompositions of <span class="math notranslate nohighlight">\(G\)</span>. Observe
that, the size of the largest set is diminished by one in order to make the
treewidth of a tree equal to one.</p>
<p>The <em>length</em> of a tree decomposition, as proposed in <a class="reference internal" href="../../../../references/index.html#dg2006" id="id1"><span>[DG2006]</span></a>, is the maximum
<em>diameter</em> in <span class="math notranslate nohighlight">\(G\)</span> of its bags, where the diameter of a bag <span class="math notranslate nohighlight">\(X_i\)</span> is the largest
distance in <span class="math notranslate nohighlight">\(G\)</span> between the vertices in <span class="math notranslate nohighlight">\(X_i\)</span> (i.e., <span class="math notranslate nohighlight">\(\max_{u, v \in X_i}
dist_G(u, v)\)</span>). The <em>treelength</em> <span class="math notranslate nohighlight">\(tl(G)\)</span> of a graph <span class="math notranslate nohighlight">\(G\)</span> is the minimum length
among all possible tree decompositions of <span class="math notranslate nohighlight">\(G\)</span>.</p>
<p>While deciding whether a graph has treelength 1 can be done in linear time
(equivalent to deciding if the graph is chordal), deciding if it has treelength
at most <span class="math notranslate nohighlight">\(k\)</span> for any fixed constant <span class="math notranslate nohighlight">\(k \leq 2\)</span> is NP-complete <a class="reference internal" href="../../../../references/index.html#lokshtanov2009" id="id2"><span>[Lokshtanov2009]</span></a>.</p>
<p>Treewidth and treelength are different measures of tree-likeness. In particular,
trees have treewidth and treelength 1:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">RandomTree</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">treewidth</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">treelength</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
<p>The treewidth of a cycle is 2 and its treelength is <span class="math notranslate nohighlight">\(\lceil n/3 \rceil\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">treewidth</span><span class="p">()</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">)]</span>
<span class="go">[2, 2, 2, 2, 2, 2, 2, 2]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">treelength</span><span class="p">()</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">)]</span>
<span class="go">[1, 2, 2, 2, 3, 3, 3, 4]</span>
</pre></div>
</div>
<p>The treewidth of a clique is <span class="math notranslate nohighlight">\(n-1\)</span> and its treelength is 1:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">graphs</span><span class="o">.</span><span class="n">CompleteGraph</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">treewidth</span><span class="p">()</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">)]</span>
<span class="go">[2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">graphs</span><span class="o">.</span><span class="n">CompleteGraph</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">treelength</span><span class="p">()</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">)]</span>
<span class="go">[1, 1, 1, 1, 1, 1, 1, 1]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Tree_decomposition">Wikipedia article Tree_decomposition</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Treewidth">Wikipedia article Treewidth</a></p></li>
</ul>
</div>
<p><strong>This module contains the following methods</strong></p>
<div class="table-wrapper colwidths-given contentstable docutils container">
<table class="contentstable docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.treewidth" title="sage.graphs.graph_decompositions.tree_decomposition.treewidth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">treewidth()</span></code></a></p></td>
<td><p>Compute the treewidth of <span class="math notranslate nohighlight">\(G\)</span> (and provide a decomposition).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.treelength" title="sage.graphs.graph_decompositions.tree_decomposition.treelength"><code class="xref py py-meth docutils literal notranslate"><span class="pre">treelength()</span></code></a></p></td>
<td><p>Compute the treelength of <span class="math notranslate nohighlight">\(G\)</span> (and provide a decomposition).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.is_valid_tree_decomposition" title="sage.graphs.graph_decompositions.tree_decomposition.is_valid_tree_decomposition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_valid_tree_decomposition()</span></code></a></p></td>
<td><p>Check whether <span class="math notranslate nohighlight">\(T\)</span> is a valid tree-decomposition for <span class="math notranslate nohighlight">\(G\)</span>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.reduced_tree_decomposition" title="sage.graphs.graph_decompositions.tree_decomposition.reduced_tree_decomposition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reduced_tree_decomposition()</span></code></a></p></td>
<td><p>Return a reduced tree-decomposition of <span class="math notranslate nohighlight">\(T\)</span>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.width_of_tree_decomposition" title="sage.graphs.graph_decompositions.tree_decomposition.width_of_tree_decomposition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">width_of_tree_decomposition()</span></code></a></p></td>
<td><p>Return the width of the tree decomposition <span class="math notranslate nohighlight">\(T\)</span> of <span class="math notranslate nohighlight">\(G\)</span>.</p></td>
</tr>
</tbody>
</table>
</div>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this heading">#</a></h2>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.graphs.graph_decompositions.tree_decomposition.</span></span><span class="sig-name descname"><span class="pre">TreelengthConnected</span></span><a class="headerlink" href="#sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Compute the treelength of a connected graph (and provide a decomposition).</p>
<p>This class implements an algorithm for computing the treelength of a
connected graph that virtually explores the graph of all pairs
<code class="docutils literal notranslate"><span class="pre">(vertex_cut,</span> <span class="pre">connected_component)</span></code>, where <code class="docutils literal notranslate"><span class="pre">vertex_cut</span></code> is a vertex cut
of the graph of length <span class="math notranslate nohighlight">\(\leq k\)</span>, and <code class="docutils literal notranslate"><span class="pre">connected_component</span></code> is a connected
component of the graph induced by <code class="docutils literal notranslate"><span class="pre">G</span> <span class="pre">-</span> <span class="pre">vertex_cut</span></code>.</p>
<p>We deduce that the pair <code class="docutils literal notranslate"><span class="pre">(vertex_cut,</span> <span class="pre">connected_component)</span></code> is feasible
with treelength <span class="math notranslate nohighlight">\(k\)</span> if <code class="docutils literal notranslate"><span class="pre">connected_component</span></code> is empty, or if a vertex
<code class="docutils literal notranslate"><span class="pre">v</span></code> from <code class="docutils literal notranslate"><span class="pre">vertex_cut</span></code> can be replaced with a vertex from
<code class="docutils literal notranslate"><span class="pre">connected_component</span></code>, such that the pair <code class="docutils literal notranslate"><span class="pre">(vertex_cut</span> <span class="pre">+</span> <span class="pre">v,</span>
<span class="pre">connected_component</span> <span class="pre">-</span> <span class="pre">v)</span></code> is feasible.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">G</span></code> – a sage Graph</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code> – integer (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>); indicates the length to be
considered. When <span class="math notranslate nohighlight">\(k\)</span> is an integer, the method checks that the graph has
treelength <span class="math notranslate nohighlight">\(\leq k\)</span>. If <span class="math notranslate nohighlight">\(k\)</span> is <code class="docutils literal notranslate"><span class="pre">None</span></code> (default), the method computes the
optimal treelength.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">certificate</span></code> – boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>); whether to also compute
the tree-decomposition itself</p></li>
</ul>
<p>OUTPUT:</p>
<p><code class="docutils literal notranslate"><span class="pre">TreelengthConnected(G)</span></code> returns the treelength of <span class="math notranslate nohighlight">\(G\)</span>. When <span class="math notranslate nohighlight">\(k\)</span> is
specified, it returns <code class="docutils literal notranslate"><span class="pre">False</span></code> when no tree-decomposition of length
<span class="math notranslate nohighlight">\(\leq k\)</span> exists or <code class="docutils literal notranslate"><span class="pre">True</span></code> otherwise. When <code class="docutils literal notranslate"><span class="pre">certificate=True</span></code>, the
tree-decomposition is also returned.</p>
<p>EXAMPLES:</p>
<p>A clique has treelength 1:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_decompositions.tree_decomposition</span> <span class="kn">import</span> <span class="n">TreelengthConnected</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CompleteGraph</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">get_length</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">TC</span> <span class="o">=</span> <span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CompleteGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TC</span><span class="o">.</span><span class="n">get_length</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">TC</span><span class="o">.</span><span class="n">get_tree_decomposition</span><span class="p">()</span>
<span class="go">Tree decomposition of Complete graph: Graph on 1 vertex</span>
</pre></div>
</div>
<p>A cycle has treelength <span class="math notranslate nohighlight">\(\lceil n/3 \rceil\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">get_length</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span><span class="o">.</span><span class="n">get_length</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">is_less_than_k</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_less_than_k</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected.get_length">
<span class="sig-name descname"><span class="pre">get_length</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected.get_length" title="Permalink to this definition">#</a></dt>
<dd><p>Return the length of the tree decomposition.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_decompositions.tree_decomposition</span> <span class="kn">import</span> <span class="n">TreelengthConnected</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">G</span><span class="p">)</span><span class="o">.</span><span class="n">get_length</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">get_length</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get_length</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: no tree decomposition with length &lt;= 1 was found</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected.get_tree_decomposition">
<span class="sig-name descname"><span class="pre">get_tree_decomposition</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected.get_tree_decomposition" title="Permalink to this definition">#</a></dt>
<dd><p>Return the tree-decomposition.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_decompositions.tree_decomposition</span> <span class="kn">import</span> <span class="n">TreelengthConnected</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">get_tree_decomposition</span><span class="p">()</span>
<span class="go">Tree decomposition of Cycle graph: Graph on 2 vertices</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">diameter</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">get_tree_decomposition</span><span class="p">()</span>
<span class="go">Tree decomposition of Cycle graph: Graph on 1 vertex</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">get_tree_decomposition</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: no tree decomposition with length &lt;= 1 was found</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected.is_less_than_k">
<span class="sig-name descname"><span class="pre">is_less_than_k</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected.is_less_than_k" title="Permalink to this definition">#</a></dt>
<dd><p>Return whether a tree decomposition with length at most <span class="math notranslate nohighlight">\(k\)</span> was found.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_decompositions.tree_decomposition</span> <span class="kn">import</span> <span class="n">TreelengthConnected</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_less_than_k</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_less_than_k</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TreelengthConnected</span><span class="p">(</span><span class="n">G</span><span class="p">)</span><span class="o">.</span><span class="n">is_less_than_k</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: parameter &#39;k&#39; has not been specified</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.graphs.graph_decompositions.tree_decomposition.is_valid_tree_decomposition">
<span class="sig-prename descclassname"><span class="pre">sage.graphs.graph_decompositions.tree_decomposition.</span></span><span class="sig-name descname"><span class="pre">is_valid_tree_decomposition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.graph_decompositions.tree_decomposition.is_valid_tree_decomposition" title="Permalink to this definition">#</a></dt>
<dd><p>Check whether <span class="math notranslate nohighlight">\(T\)</span> is a valid tree-decomposition for <span class="math notranslate nohighlight">\(G\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">G</span></code> – a sage Graph</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T</span></code> – a tree decomposition, i.e., a tree whose vertices are the bags
(subsets of vertices) of the decomposition</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_decompositions.tree_decomposition</span> <span class="kn">import</span> <span class="n">is_valid_tree_decomposition</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">CompleteGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">Set</span><span class="p">(</span><span class="n">K</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">is_valid_tree_decomposition</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">RandomGNP</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mf">.2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">treewidth</span><span class="p">(</span><span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">is_valid_tree_decomposition</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The union of the bags is the set of vertices of <span class="math notranslate nohighlight">\(G\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PathGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">treewidth</span><span class="p">(</span><span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">is_valid_tree_decomposition</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Each edge of <span class="math notranslate nohighlight">\(G\)</span> is contained in a bag:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PathGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">treewidth</span><span class="p">(</span><span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">is_valid_tree_decomposition</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>The bags containing a vertex <span class="math notranslate nohighlight">\(v\)</span> form a subtree of <span class="math notranslate nohighlight">\(T\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PathGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X1</span><span class="p">,</span> <span class="n">X2</span><span class="p">,</span> <span class="n">X3</span> <span class="o">=</span> <span class="n">Set</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="n">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span> <span class="n">Set</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">([(</span><span class="n">X1</span><span class="p">,</span> <span class="n">X3</span><span class="p">),</span> <span class="p">(</span><span class="n">X3</span><span class="p">,</span> <span class="n">X2</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">is_valid_tree_decomposition</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.graphs.graph_decompositions.tree_decomposition.reduced_tree_decomposition">
<span class="sig-prename descclassname"><span class="pre">sage.graphs.graph_decompositions.tree_decomposition.</span></span><span class="sig-name descname"><span class="pre">reduced_tree_decomposition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">T</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.graph_decompositions.tree_decomposition.reduced_tree_decomposition" title="Permalink to this definition">#</a></dt>
<dd><p>Return a reduced tree-decomposition of <span class="math notranslate nohighlight">\(T\)</span>.</p>
<p>We merge all edges between two sets <span class="math notranslate nohighlight">\(S\)</span> and <span class="math notranslate nohighlight">\(S'\)</span> where <span class="math notranslate nohighlight">\(S\)</span> is a subset of
<span class="math notranslate nohighlight">\(S'\)</span>. To do so, we use a simple union-find data structure to record merge
operations and the good sets.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method assumes that the vertices of the input tree <span class="math notranslate nohighlight">\(T\)</span> are hashable
and have attribute <code class="docutils literal notranslate"><span class="pre">issuperset</span></code>, e.g., <code class="docutils literal notranslate"><span class="pre">frozenset</span></code> or
<a class="reference external" href="../../../../sets/sage/sets/set.html#sage.sets.set.Set_object_enumerated" title="(in Sets v10.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set_object_enumerated</span></code></a>.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">T</span></code> – a tree-decomposition</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_decompositions.tree_decomposition</span> <span class="kn">import</span> <span class="n">reduced_tree_decomposition</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_decompositions.tree_decomposition</span> <span class="kn">import</span> <span class="n">is_valid_tree_decomposition</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PathGraph</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">add_path</span><span class="p">([</span><span class="n">Set</span><span class="p">([</span><span class="mi">0</span><span class="p">]),</span> <span class="n">Set</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span> <span class="n">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">]),</span> <span class="n">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>  <span class="n">Set</span><span class="p">([</span><span class="mi">2</span><span class="p">])])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">order</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">is_valid_tree_decomposition</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">T2</span> <span class="o">=</span> <span class="n">reduced_tree_decomposition</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">is_valid_tree_decomposition</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">T2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">T2</span><span class="o">.</span><span class="n">order</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.graphs.graph_decompositions.tree_decomposition.treelength">
<span class="sig-prename descclassname"><span class="pre">sage.graphs.graph_decompositions.tree_decomposition.</span></span><span class="sig-name descname"><span class="pre">treelength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">certificate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.graph_decompositions.tree_decomposition.treelength" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the treelength of <span class="math notranslate nohighlight">\(G\)</span> (and provide a decomposition).</p>
<p>The <em>length</em> of a tree decomposition, as proposed in <a class="reference internal" href="../../../../references/index.html#dg2006" id="id3"><span>[DG2006]</span></a>, is the
maximum <em>diameter</em> in <span class="math notranslate nohighlight">\(G\)</span> of its bags, where the diameter of a bag <span class="math notranslate nohighlight">\(X_i\)</span> is
the largest distance in <span class="math notranslate nohighlight">\(G\)</span> between the vertices in <span class="math notranslate nohighlight">\(X_i\)</span> (i.e., <span class="math notranslate nohighlight">\(\max_{u, v
\in X_i} dist_G(u, v)\)</span>). The <em>treelength</em> <span class="math notranslate nohighlight">\(tl(G)\)</span> of a graph <span class="math notranslate nohighlight">\(G\)</span> is the
minimum length among all possible tree decompositions of <span class="math notranslate nohighlight">\(G\)</span>.
See the documentation of the
<a class="reference internal" href="#module-sage.graphs.graph_decompositions.tree_decomposition" title="sage.graphs.graph_decompositions.tree_decomposition"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tree_decomposition</span></code></a> module for more
details.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">G</span></code> – a sage Graph</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code> – integer (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>); indicates the length to be
considered. When <span class="math notranslate nohighlight">\(k\)</span> is an integer, the method checks that the graph has
treelength <span class="math notranslate nohighlight">\(\leq k\)</span>. If <span class="math notranslate nohighlight">\(k\)</span> is <code class="docutils literal notranslate"><span class="pre">None</span></code> (default), the method computes the
optimal treelength.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">certificate</span></code> – boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>); whether to also return
the tree-decomposition itself</p></li>
</ul>
<p>OUTPUT:</p>
<p><code class="docutils literal notranslate"><span class="pre">G.treelength()</span></code> returns the treelength of <span class="math notranslate nohighlight">\(G\)</span>. When <span class="math notranslate nohighlight">\(k\)</span> is specified, it
returns <code class="docutils literal notranslate"><span class="pre">False</span></code> when no tree-decomposition of length <span class="math notranslate nohighlight">\(\leq k\)</span> exists or
<code class="docutils literal notranslate"><span class="pre">True</span></code> otherwise. When <code class="docutils literal notranslate"><span class="pre">certificate=True</span></code>, the tree-decomposition is
also returned.</p>
<p>ALGORITHM:</p>
<p>This method virtually explores the graph of all pairs <code class="docutils literal notranslate"><span class="pre">(vertex_cut,</span>
<span class="pre">connected_component)</span></code>, where <code class="docutils literal notranslate"><span class="pre">vertex_cut</span></code> is a vertex cut of the graph of
length <span class="math notranslate nohighlight">\(\leq k\)</span>, and <code class="docutils literal notranslate"><span class="pre">connected_component</span></code> is a connected component of the
graph induced by <code class="docutils literal notranslate"><span class="pre">G</span> <span class="pre">-</span> <span class="pre">vertex_cut</span></code>.</p>
<p>We deduce that the pair <code class="docutils literal notranslate"><span class="pre">(vertex_cut,</span> <span class="pre">connected_component)</span></code> is feasible
with treelength <span class="math notranslate nohighlight">\(k\)</span> if <code class="docutils literal notranslate"><span class="pre">connected_component</span></code> is empty, or if a vertex
<code class="docutils literal notranslate"><span class="pre">v</span></code> from <code class="docutils literal notranslate"><span class="pre">vertex_cut</span></code> can be replaced with a vertex from
<code class="docutils literal notranslate"><span class="pre">connected_component</span></code>, such that the pair <code class="docutils literal notranslate"><span class="pre">(vertex_cut</span> <span class="pre">+</span> <span class="pre">v,</span>
<span class="pre">connected_component</span> <span class="pre">-</span> <span class="pre">v)</span></code> is feasible.</p>
<p>In practice, this method decomposes the graph by its clique minimal
separators into atoms, computes the treelength of each of atom and returns
the maximum value over all the atoms. Indeed, we have that <span class="math notranslate nohighlight">\(tl(G) = \max_{X
\in A} tl(G[X])\)</span> where <span class="math notranslate nohighlight">\(A\)</span> is the set of atoms of the decomposition by
clique separators of <span class="math notranslate nohighlight">\(G\)</span>. When <code class="docutils literal notranslate"><span class="pre">certificate</span> <span class="pre">==</span> <span class="pre">True</span></code>, the
tree-decompositions of the atoms are connected to each others by adding
edges with respect to the clique separators.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.treewidth" title="sage.graphs.graph_decompositions.tree_decomposition.treewidth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">treewidth()</span></code></a> computes the treewidth of a graph.</p></li>
<li><p><a class="reference internal" href="vertex_separation.html#sage.graphs.graph_decompositions.vertex_separation.path_decomposition" title="sage.graphs.graph_decompositions.vertex_separation.path_decomposition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">path_decomposition()</span></code></a>
computes the pathwidth of a graph.</p></li>
<li><p>module <a class="reference internal" href="vertex_separation.html#module-sage.graphs.graph_decompositions.vertex_separation" title="sage.graphs.graph_decompositions.vertex_separation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">vertex_separation</span></code></a>.</p></li>
<li><p><a class="reference internal" href="clique_separators.html#sage.graphs.graph_decompositions.clique_separators.atoms_and_clique_separators" title="sage.graphs.graph_decompositions.clique_separators.atoms_and_clique_separators"><code class="xref py py-meth docutils literal notranslate"><span class="pre">atoms_and_clique_separators()</span></code></a></p></li>
</ul>
</div>
<p>EXAMPLES:</p>
<p>The PetersenGraph has treelength 2:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">treelength</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Disconnected graphs have infinite treelength:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">treelength</span><span class="p">()</span>
<span class="go">+Infinity</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">treelength</span><span class="p">(</span><span class="n">k</span><span class="o">=+</span><span class="n">Infinity</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">treelength</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">treelength</span><span class="p">(</span><span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: the tree decomposition of a disconnected graph is not defined</span>
</pre></div>
</div>
<p>Chordal graphs have treelength 1:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">RandomChordalGraph</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="ow">not</span> <span class="n">G</span><span class="o">.</span><span class="n">is_connected</span><span class="p">():</span>
<span class="gp">....: </span>    <span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">RandomChordalGraph</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">treelength</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Cycles have treelength <span class="math notranslate nohighlight">\(\lceil n/3 \rceil\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">treelength</span><span class="p">()</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">)]</span>
<span class="go">[1, 2, 2, 2, 3, 3, 3, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.graphs.graph_decompositions.tree_decomposition.treelength_lowerbound">
<span class="sig-prename descclassname"><span class="pre">sage.graphs.graph_decompositions.tree_decomposition.</span></span><span class="sig-name descname"><span class="pre">treelength_lowerbound</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.graph_decompositions.tree_decomposition.treelength_lowerbound" title="Permalink to this definition">#</a></dt>
<dd><p>Return a lower bound on the treelength of <span class="math notranslate nohighlight">\(G\)</span>.</p>
<p>See <a class="reference internal" href="../../../../references/index.html#dg2006" id="id4"><span>[DG2006]</span></a> for more details.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">G</span></code> – a sage Graph</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_decompositions.tree_decomposition</span> <span class="kn">import</span> <span class="n">treelength_lowerbound</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">treelength_lowerbound</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">treelength</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">treelength_lowerbound</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">treelength</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.graphs.graph_decompositions.tree_decomposition.treewidth">
<span class="sig-prename descclassname"><span class="pre">sage.graphs.graph_decompositions.tree_decomposition.</span></span><span class="sig-name descname"><span class="pre">treewidth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">certificate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.graph_decompositions.tree_decomposition.treewidth" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the treewidth of <span class="math notranslate nohighlight">\(g\)</span> (and provide a decomposition).</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code> – a sage Graph</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code> – integer (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>); indicates the width to be
considered. When <code class="docutils literal notranslate"><span class="pre">k</span></code> is an integer, the method checks that the graph has
treewidth <span class="math notranslate nohighlight">\(\leq k\)</span>. If <code class="docutils literal notranslate"><span class="pre">k</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> (default), the method computes
the optimal tree-width.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kmin</span></code> – integer (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>); when specified, search for a
tree-decomposition of width at least <code class="docutils literal notranslate"><span class="pre">kmin</span></code>. This parameter is useful
when the graph can be decomposed into atoms.  This parameter is ignored
when <code class="docutils literal notranslate"><span class="pre">k</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code> or when <code class="docutils literal notranslate"><span class="pre">algorithm</span> <span class="pre">==</span> <span class="pre">'tdlib'</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">certificate</span></code> – boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>); whether to return the
tree-decomposition itself.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">algorithm</span></code> – whether to use <code class="docutils literal notranslate"><span class="pre">&quot;sage&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;tdlib&quot;</span></code> (requires the
installation of the ‘tdlib’ package). The default behaviour is to use
‘tdlib’ if it is available, and Sage’s own algorithm when it is not.</p></li>
</ul>
<p>OUTPUT:</p>
<p><code class="docutils literal notranslate"><span class="pre">g.treewidth()</span></code> returns the treewidth of <code class="docutils literal notranslate"><span class="pre">g</span></code>. When <code class="docutils literal notranslate"><span class="pre">k</span></code> is specified,
it returns <code class="docutils literal notranslate"><span class="pre">False</span></code> when no tree-decomposition of width <span class="math notranslate nohighlight">\(\leq k\)</span> exists or
<code class="docutils literal notranslate"><span class="pre">True</span></code> otherwise. When <code class="docutils literal notranslate"><span class="pre">certificate=True</span></code>, the tree-decomposition is
also returned.</p>
<p>ALGORITHM:</p>
<p>This function virtually explores the graph of all pairs <code class="docutils literal notranslate"><span class="pre">(vertex_cut,cc)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">vertex_cut</span></code> is a vertex cut of the graph of cardinality <span class="math notranslate nohighlight">\(\leq k+1\)</span>,
and <code class="docutils literal notranslate"><span class="pre">connected_component</span></code> is a connected component of the graph induced by
<code class="docutils literal notranslate"><span class="pre">G-vertex_cut</span></code>.</p>
<p>We deduce that the pair <code class="docutils literal notranslate"><span class="pre">(vertex_cut,cc)</span></code> is feasible with tree-width <span class="math notranslate nohighlight">\(k\)</span>
if <code class="docutils literal notranslate"><span class="pre">cc</span></code> is empty, or if a vertex <code class="docutils literal notranslate"><span class="pre">v</span></code> from <code class="docutils literal notranslate"><span class="pre">vertex_cut</span></code> can be replaced
with a vertex from <code class="docutils literal notranslate"><span class="pre">cc</span></code>, such that the pair <code class="docutils literal notranslate"><span class="pre">(vertex_cut+v,cc-v)</span></code> is
feasible.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The implementation would be much faster if <code class="docutils literal notranslate"><span class="pre">cc</span></code>, the argument of the
recursive function, was a bitset. It would also be very nice to not copy
the graph in order to compute connected components, for this is really a
waste of time.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="vertex_separation.html#sage.graphs.graph_decompositions.vertex_separation.path_decomposition" title="sage.graphs.graph_decompositions.vertex_separation.path_decomposition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">path_decomposition()</span></code></a>
computes the pathwidth of a graph. See also the
<a class="reference internal" href="vertex_separation.html#module-sage.graphs.graph_decompositions.vertex_separation" title="sage.graphs.graph_decompositions.vertex_separation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">vertex_separation</span></code></a> module.</p>
</div>
<p>EXAMPLES:</p>
<p>The PetersenGraph has treewidth 4:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span><span class="o">.</span><span class="n">treewidth</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span><span class="o">.</span><span class="n">treewidth</span><span class="p">(</span><span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Tree decomposition: Graph on 6 vertices</span>
</pre></div>
</div>
<p>The treewidth of a 2d grid is its smallest side:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">graphs</span><span class="o">.</span><span class="n">Grid2dGraph</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">treewidth</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">graphs</span><span class="o">.</span><span class="n">Grid2dGraph</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">treewidth</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
<p>When parameter <code class="docutils literal notranslate"><span class="pre">kmin</span></code> is specified, the method search for a
tree-decomposition of width at least <code class="docutils literal notranslate"><span class="pre">kmin</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">treewidth</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">treewidth</span><span class="p">(</span><span class="n">kmin</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sage&#39;</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">treewidth</span><span class="p">(</span><span class="n">kmin</span><span class="o">=</span><span class="n">g</span><span class="o">.</span><span class="n">order</span><span class="p">(),</span> <span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;sage&#39;</span><span class="p">)</span>
<span class="go">Tree decomposition: Graph on 1 vertex</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.graphs.graph_decompositions.tree_decomposition.width_of_tree_decomposition">
<span class="sig-prename descclassname"><span class="pre">sage.graphs.graph_decompositions.tree_decomposition.</span></span><span class="sig-name descname"><span class="pre">width_of_tree_decomposition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.graph_decompositions.tree_decomposition.width_of_tree_decomposition" title="Permalink to this definition">#</a></dt>
<dd><p>Return the width of the tree decomposition <span class="math notranslate nohighlight">\(T\)</span> of <span class="math notranslate nohighlight">\(G\)</span>.</p>
<p>The width of a tree-decomposition is the size of the largest bag minus
1. The empty graph and a graph of order 1 have treewidth 0.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">G</span></code> – a sage Graph</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T</span></code> – a tree-decomposition for <span class="math notranslate nohighlight">\(G\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check</span></code> – boolean (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>); whether to check that the
tree-decomposition <span class="math notranslate nohighlight">\(T\)</span> is valid for <span class="math notranslate nohighlight">\(G\)</span></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_decompositions.tree_decomposition</span> <span class="kn">import</span> <span class="n">width_of_tree_decomposition</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PathGraph</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">treewidth</span><span class="p">(</span><span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">width_of_tree_decomposition</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="vertex_separation.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Vertex separation</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../graph_plot_js.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Graph plotting in Javascript with d3.js</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2023, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Tree decompositions</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected"><code class="docutils literal notranslate"><span class="pre">TreelengthConnected</span></code></a><ul>
<li><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected.get_length"><code class="docutils literal notranslate"><span class="pre">get_length()</span></code></a></li>
<li><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected.get_tree_decomposition"><code class="docutils literal notranslate"><span class="pre">get_tree_decomposition()</span></code></a></li>
<li><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.TreelengthConnected.is_less_than_k"><code class="docutils literal notranslate"><span class="pre">is_less_than_k()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.is_valid_tree_decomposition"><code class="docutils literal notranslate"><span class="pre">is_valid_tree_decomposition()</span></code></a></li>
<li><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.reduced_tree_decomposition"><code class="docutils literal notranslate"><span class="pre">reduced_tree_decomposition()</span></code></a></li>
<li><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.treelength"><code class="docutils literal notranslate"><span class="pre">treelength()</span></code></a></li>
<li><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.treelength_lowerbound"><code class="docutils literal notranslate"><span class="pre">treelength_lowerbound()</span></code></a></li>
<li><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.treewidth"><code class="docutils literal notranslate"><span class="pre">treewidth()</span></code></a></li>
<li><a class="reference internal" href="#sage.graphs.graph_decompositions.tree_decomposition.width_of_tree_decomposition"><code class="docutils literal notranslate"><span class="pre">width_of_tree_decomposition()</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/scripts/furo.js"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script src="../../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"ZZ": "\\Bold{Z}", "NN": "\\Bold{N}", "RR": "\\Bold{R}", "CC": "\\Bold{C}", "QQ": "\\Bold{Q}", "QQbar": "\\overline{\\QQ}", "GF": ["\\Bold{F}_{#1}", 1], "Zp": ["\\Bold{Z}_{#1}", 1], "Qp": ["\\Bold{Q}_{#1}", 1], "Zmod": ["\\ZZ/#1\\ZZ", 1], "CDF": "\\Bold{C}", "CIF": "\\Bold{C}", "CLF": "\\Bold{C}", "RDF": "\\Bold{R}", "RIF": "\\Bold{I} \\Bold{R}", "RLF": "\\Bold{R}", "SL": "\\mathrm{SL}", "PSL": "\\mathrm{PSL}", "Bold": ["\\mathbf{#1}", 1]}, "inlineMath": [["$", "$"], ["\\(", "\\)"]], "maxBuffer": 51200, "autoload": {"color": [], "colorv2": ["color"]}}}</script>
    <script defer="defer" src="../../../../_static/mathjax/tex-chtml.js"></script>
    </body>
</html>