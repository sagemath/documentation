<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Bipartite graphs &mdash; Sage Reference Manual v7.3: Graph Theory</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.3: Graph Theory" href="../../index.html" />
    <link rel="next" title="Common Graphs" href="graph_generators.html" />
    <link rel="prev" title="Directed graphs" href="digraph.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="graph_generators.html" title="Common Graphs"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="digraph.html" title="Directed graphs"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Graph Theory</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bipartite-graphs">
<span id="sage-graphs-bipartite-graph"></span><h1>Bipartite graphs<a class="headerlink" href="#bipartite-graphs" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.graphs.bipartite_graph"></span><p>This module implements bipartite graphs.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>Robert L. Miller (2008-01-20): initial version</li>
<li>Ryan W. Hinton (2010-03-04): overrides for adding and deleting vertices
and edges</li>
</ul>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">CompleteBipartiteGraph</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">B</span><span class="p">))</span> <span class="o">==</span> <span class="n">B</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">==</span> <span class="n">B</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
<span class="go">&lt;class &#39;sage.graphs.bipartite_graph.BipartiteGraph&#39;&gt;</span>
</pre></div>
</div>
<dl class="class">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph">
<em class="property">class </em><code class="descclassname">sage.graphs.bipartite_graph.</code><code class="descname">BipartiteGraph</code><span class="sig-paren">(</span><em>data=None</em>, <em>partition=None</em>, <em>check=True</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="graph.html#sage.graphs.graph.Graph" title="sage.graphs.graph.Graph"><code class="xref py py-class docutils literal"><span class="pre">sage.graphs.graph.Graph</span></code></a></p>
<p>Bipartite graph.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">data</span></code> &#8211; can be any of the following:<ol class="arabic">
<li>Empty or <code class="docutils literal"><span class="pre">None</span></code> (creates an empty graph).</li>
<li>An arbitrary graph.</li>
<li>A reduced adjacency matrix.</li>
<li>A file in alist format.</li>
<li>From a NetworkX bipartite graph.</li>
</ol>
</li>
</ul>
<p>A reduced adjacency matrix contains only the non-redundant portion of the
full adjacency matrix for the bipartite graph.  Specifically, for zero
matrices of the appropriate size, for the reduced adjacency matrix <code class="docutils literal"><span class="pre">H</span></code>,
the full adjacency matrix is <code class="docutils literal"><span class="pre">[[0,</span> <span class="pre">H'],</span> <span class="pre">[H,</span> <span class="pre">0]]</span></code>.</p>
<p>The alist file format is described at
<a class="reference external" href="http://www.inference.phy.cam.ac.uk/mackay/codes/alist.html">http://www.inference.phy.cam.ac.uk/mackay/codes/alist.html</a></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">partition</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) a tuple defining vertices of the left and right
partition of the graph. Partitions will be determined automatically
if <code class="docutils literal"><span class="pre">partition``=``None</span></code>.</li>
<li><code class="docutils literal"><span class="pre">check</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">True</span></code>) if <code class="docutils literal"><span class="pre">True</span></code>, an invalid input partition
raises an exception. In the other case offending edges simply won&#8217;t
be included.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All remaining arguments are passed to the <code class="docutils literal"><span class="pre">Graph</span></code> constructor</p>
</div>
<p>EXAMPLES:</p>
<ol class="arabic">
<li><p class="first">No inputs or <code class="docutils literal"><span class="pre">None</span></code> for the input creates an empty graph:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.graphs.bipartite_graph.BipartiteGraph&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">order</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">==</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p class="first">From a graph: without any more information, finds a bipartition:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">Input graph is not bipartite!</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">({</span><span class="mi">0</span><span class="p">:[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="mi">1</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="mi">2</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="mi">3</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]})</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">==</span> <span class="n">G</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">left</span>
<span class="go">{0, 1, 2, 3}</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">right</span>
<span class="go">{4, 5, 6}</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">({</span><span class="mi">0</span><span class="p">:[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="mi">1</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="mi">2</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="mi">3</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]})</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">==</span> <span class="n">G</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">left</span>
<span class="go">{0, 1, 2, 3}</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">right</span>
<span class="go">{4, 5, 6}</span>
</pre></div>
</div>
</li>
</ol>
<p>You can specify a partition using <code class="docutils literal"><span class="pre">partition</span></code> argument. Note that if such graph
is not bipartite, then Sage will raise an error. However, if one specifies
<code class="docutils literal"><span class="pre">check=False</span></code>, the offending edges are simply deleted (along with
those vertices not appearing in either list).  We also lump creating
one bipartite graph from another into this category:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>  sage: P = graphs.PetersenGraph()
  sage: partition = [range(5), range(5,10)]
  sage: B = BipartiteGraph(P, partition)
  Traceback (most recent call last):
  ...
  TypeError: Input graph is not bipartite with respect to the given partition!

  sage: B = BipartiteGraph(P, partition, check=False)
  sage: B.left
  {0, 1, 2, 3, 4}
  sage: B.show()

::

  sage: G = Graph({0:[5,6], 1:[4,5], 2:[4,6], 3:[4,5,6]})
  sage: B = BipartiteGraph(G)
  sage: B2 = BipartiteGraph(B)
  sage: B == B2
  True
  sage: B3 = BipartiteGraph(G, [range(4), range(4,7)])
  sage: B3
  Bipartite graph on 7 vertices
  sage: B3 == B2
  True

::

  sage: G = Graph({0:[], 1:[], 2:[]})
  sage: part = (range(2), [2])
  sage: B = BipartiteGraph(G, part)
  sage: B2 = BipartiteGraph(B)
  sage: B == B2
  True
</pre></div>
</div>
<ol class="arabic" start="4">
<li><p class="first">From a reduced adjacency matrix:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">... </span>              <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">M</span>
<span class="go">[1 1 1 0 0 0 0]</span>
<span class="go">[1 0 0 1 1 0 0]</span>
<span class="go">[0 1 0 1 0 1 0]</span>
<span class="go">[1 1 0 1 0 0 1]</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">M</span><span class="p">);</span> <span class="n">H</span>
<span class="go">Bipartite graph on 11 vertices</span>
<span class="gp">sage: </span><span class="n">H</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="go">[(0, 7, None),</span>
<span class="go"> (0, 8, None),</span>
<span class="go"> (0, 10, None),</span>
<span class="go"> (1, 7, None),</span>
<span class="go"> (1, 9, None),</span>
<span class="go"> (1, 10, None),</span>
<span class="go"> (2, 7, None),</span>
<span class="go"> (3, 8, None),</span>
<span class="go"> (3, 9, None),</span>
<span class="go"> (3, 10, None),</span>
<span class="go"> (4, 8, None),</span>
<span class="go"> (5, 9, None),</span>
<span class="go"> (6, 10, None)]</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">multiedges</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="go">[(0, 5, None),</span>
<span class="go"> (1, 5, None),</span>
<span class="go"> (1, 6, None),</span>
<span class="go"> (1, 6, None),</span>
<span class="go"> (1, 7, None),</span>
<span class="go"> (2, 5, None),</span>
<span class="go"> (2, 5, None),</span>
<span class="go"> (2, 6, None),</span>
<span class="go"> (2, 7, None),</span>
<span class="go"> (2, 7, None),</span>
<span class="go"> (3, 6, None),</span>
<span class="go"> (3, 7, None),</span>
<span class="go"> (4, 6, None),</span>
<span class="go"> (4, 7, None)]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">MS</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MS</span><span class="o">.</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">weighted</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="go">[(0, 4, a), (1, 3, 1), (1, 4, 1), (2, 3, a + 1), (2, 4, 1)]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">weighted</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="5">
<li><p class="first">From an alist file:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SAGE_TMP</span><span class="p">,</span> <span class="s1">&#39;deleteme.alist.txt&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fi</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fi</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;7 4 </span><span class="se">\n</span><span class="s2"> 3 4 </span><span class="se">\n</span><span class="s2"> 3 3 1 3 1 1 1 </span><span class="se">\n</span><span class="s2"> 3 3 3 4 </span><span class="se">\n\</span>
<span class="go">                1 2 4 \n 1 3 4 \n 1 0 0 \n 2 3 4 \n\</span>
<span class="go">                2 0 0 \n 3 0 0 \n 4 0 0 \n\</span>
<span class="go">                1 2 3 0 \n 1 4 5 0 \n 2 4 6 0 \n 1 2 4 7 \n&quot;)</span>
<span class="gp">sage: </span><span class="n">fi</span><span class="o">.</span><span class="n">close</span><span class="p">();</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">==</span> <span class="n">H</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p class="first">From a NetworkX bipartite graph:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">networkx</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">OctahedralGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">networkx</span><span class="o">.</span><span class="n">make_clique_bipartite</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">networkx_graph</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>TESTS:</p>
<p>Make sure we can create a <code class="docutils literal"><span class="pre">BipartiteGraph</span></code> with keywords but no
positional arguments (trac #10958).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">multiedges</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">allows_multiple_edges</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Ensure that we can construct a <code class="docutils literal"><span class="pre">BipartiteGraph</span></code> with isolated vertices
via the reduced adjacency matrix (trac #10356):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">=</span><span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">Bipartite graph on 4 vertices</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
<span class="go">[0, 1, 2, 3]</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span><span class="o">+</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">12</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7]</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">right</span><span class="p">))</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7]</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.add_edge">
<code class="descname">add_edge</code><span class="sig-paren">(</span><em>u</em>, <em>v=None</em>, <em>label=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.add_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an edge from <code class="docutils literal"><span class="pre">u</span></code> and <code class="docutils literal"><span class="pre">v</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">u</span></code> &#8211; the tail of an edge.</li>
<li><code class="docutils literal"><span class="pre">v</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) the head of an edge. If <code class="docutils literal"><span class="pre">v=None</span></code>, then
attempt to understand <code class="docutils literal"><span class="pre">u</span></code> as a edge tuple.</li>
<li><code class="docutils literal"><span class="pre">label</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) the label of the edge <code class="docutils literal"><span class="pre">(u,</span> <span class="pre">v)</span></code>.</li>
</ul>
<p>The following forms are all accepted:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">G.add_edge(1,</span> <span class="pre">2)</span></code></li>
<li><code class="docutils literal"><span class="pre">G.add_edge((1,</span> <span class="pre">2))</span></code></li>
<li><code class="docutils literal"><span class="pre">G.add_edges([(1,</span> <span class="pre">2)])</span></code></li>
<li><code class="docutils literal"><span class="pre">G.add_edge(1,</span> <span class="pre">2,</span> <span class="pre">'label')</span></code></li>
<li><code class="docutils literal"><span class="pre">G.add_edge((1,</span> <span class="pre">2,</span> <span class="pre">'label'))</span></code></li>
<li><code class="docutils literal"><span class="pre">G.add_edges([(1,</span> <span class="pre">2,</span> <span class="pre">'label')])</span></code></li>
</ul>
<p>See <code class="docutils literal"><span class="pre">Graph.add_edge</span></code> for more detail.</p>
<p>This method simply checks that the edge endpoints are in different
partitions. If a new vertex is to be created, it will be added
to the proper partition. If both vertices are created, the first
one will be added to the left partition, the second to the right
partition.</p>
<p>TEST:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">bg</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">left</span><span class="o">=</span><span class="p">[</span><span class="bp">True</span><span class="p">,</span><span class="bp">False</span><span class="p">,</span><span class="bp">True</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_edges</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">Edge vertices must lie in different partitions.</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span> <span class="nb">list</span><span class="p">(</span><span class="n">bg</span><span class="o">.</span><span class="n">right</span><span class="p">)</span>
<span class="go">[1, 3]</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">);</span> <span class="mi">5</span> <span class="ow">in</span> <span class="n">bg</span><span class="o">.</span><span class="n">left</span><span class="p">;</span> <span class="mi">6</span> <span class="ow">in</span> <span class="n">bg</span><span class="o">.</span><span class="n">right</span>
<span class="go">True</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.add_vertex">
<code class="descname">add_vertex</code><span class="sig-paren">(</span><em>name=None</em>, <em>left=False</em>, <em>right=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.add_vertex" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an isolated vertex. If the vertex already exists, then
nothing is done.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">name</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) name of the new vertex.  If no name
is specified, then the vertex will be represented by the least
non-negative integer not already representing a vertex.  Name must
be an immutable object and cannot be <code class="docutils literal"><span class="pre">None</span></code>.</li>
<li><code class="docutils literal"><span class="pre">left</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">False</span></code>) if <code class="docutils literal"><span class="pre">True</span></code>, puts the new vertex
in the left partition.</li>
<li><code class="docutils literal"><span class="pre">right</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">False</span></code>) if <code class="docutils literal"><span class="pre">True</span></code>, puts the new vertex
in the right partition.</li>
</ul>
<p>Obviously, <code class="docutils literal"><span class="pre">left</span></code> and <code class="docutils literal"><span class="pre">right</span></code> are mutually exclusive.</p>
<p>As it is implemented now, if a graph <span class="math">\(G\)</span> has a large number
of vertices with numeric labels, then <code class="docutils literal"><span class="pre">G.add_vertex()</span></code> could
potentially be slow, if name is <code class="docutils literal"><span class="pre">None</span></code>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>If <code class="docutils literal"><span class="pre">name``=``None</span></code>, the new vertex name is returned. <code class="docutils literal"><span class="pre">None</span></code> otherwise.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
<span class="go">[0, 1]</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">left</span>
<span class="go">{0}</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">right</span>
<span class="go">{1}</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Exactly one of <code class="docutils literal"><span class="pre">left</span></code> and <code class="docutils literal"><span class="pre">right</span></code> must be true:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">Partition must be specified (e.g. left=True).</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">Only one partition may be specified.</span>
</pre></div>
</div>
<p>Adding the same vertex must specify the same partition:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">bg</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">Cannot add duplicate vertex to other partition.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.add_vertices">
<code class="descname">add_vertices</code><span class="sig-paren">(</span><em>vertices</em>, <em>left=False</em>, <em>right=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.add_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Add vertices to the bipartite graph from an iterable container of
vertices.  Vertices that already exist in the graph will not be added
again.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">vertices</span></code> &#8211; sequence of vertices to add.</li>
<li><code class="docutils literal"><span class="pre">left</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">False</span></code>) either <code class="docutils literal"><span class="pre">True</span></code> or sequence of
same length as <code class="docutils literal"><span class="pre">vertices</span></code> with <code class="docutils literal"><span class="pre">True</span></code>/<code class="docutils literal"><span class="pre">False</span></code> elements.</li>
<li><code class="docutils literal"><span class="pre">right</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">False</span></code>) either <code class="docutils literal"><span class="pre">True</span></code> or sequence of
the same length as <code class="docutils literal"><span class="pre">vertices</span></code> with <code class="docutils literal"><span class="pre">True</span></code>/<code class="docutils literal"><span class="pre">False</span></code> elements.</li>
</ul>
<p>Only one of <code class="docutils literal"><span class="pre">left</span></code> and <code class="docutils literal"><span class="pre">right</span></code> keywords should be provided.  See
the examples below.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">bg</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">left</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">left</span><span class="o">=</span><span class="p">[</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="n">right</span><span class="o">=</span><span class="p">[</span><span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">],</span> <span class="n">right</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">left</span>
<span class="go">{0, 1, 2, 3, 5, 7}</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">right</span>
<span class="go">{4, 6, 8, 9, 10, 11}</span>
</pre></div>
</div>
<p>TEST:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">bg</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">left</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">left</span><span class="o">=</span><span class="p">[</span><span class="bp">True</span><span class="p">,</span><span class="bp">True</span><span class="p">,</span><span class="bp">True</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">right</span><span class="o">=</span><span class="p">[</span><span class="bp">False</span><span class="p">,</span><span class="bp">False</span><span class="p">,</span><span class="bp">False</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">right</span><span class="o">=</span><span class="p">[</span><span class="bp">False</span><span class="p">,</span><span class="bp">False</span><span class="p">,</span><span class="bp">False</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">Partition must be specified (e.g. left=True).</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">left</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">Only one partition may be specified.</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">add_vertices</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">right</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">Cannot add duplicate vertex to other partition.</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">bg</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">bg</span><span class="o">.</span><span class="n">right</span><span class="p">)</span>
<span class="go">({0, 1, 2}, set())</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.bipartition">
<code class="descname">bipartition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.bipartition" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the underlying bipartition of the bipartite graph.</p>
<p>EXAMPLE:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">bipartition</span><span class="p">()</span>
<span class="go">({0, 2}, {1, 3})</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.delete_vertex">
<code class="descname">delete_vertex</code><span class="sig-paren">(</span><em>vertex</em>, <em>in_order=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.delete_vertex" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes vertex, removing all incident edges. Deleting a non-existent
vertex will raise an exception.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">vertex</span></code> &#8211; a vertex to delete.</li>
<li><code class="docutils literal"><span class="pre">in_order</span></code> &#8211; (default <code class="docutils literal"><span class="pre">False</span></code>) if <code class="docutils literal"><span class="pre">True</span></code>, this deletes the
<span class="math">\(i\)</span>-th vertex in the sorted list of vertices,
i.e. <code class="docutils literal"><span class="pre">G.vertices()[i]</span></code>.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">Bipartite cycle graph: graph on 4 vertices</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">delete_vertex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">Bipartite cycle graph: graph on 3 vertices</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">left</span>
<span class="go">{2}</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="go">[(1, 2, None), (2, 3, None)]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">delete_vertex</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">right</span>
<span class="go">{1}</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="go">[(1, 2, None)]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">delete_vertex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">Vertex (0) not in the graph.</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:[</span><span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">:[</span><span class="s1">&#39;b&#39;</span><span class="p">]})</span>
<span class="gp">sage: </span><span class="n">bg</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>  <span class="c1"># finds bipartition</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">delete_vertex</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="go">[(&#39;b&#39;, &#39;c&#39;, None)]</span>
<span class="gp">sage: </span><span class="n">bg</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
<span class="go">[&#39;b&#39;, &#39;c&#39;]</span>
<span class="gp">sage: </span><span class="n">bg2</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">bg2</span><span class="o">.</span><span class="n">delete_vertex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">in_order</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">bg2</span> <span class="o">==</span> <span class="n">bg</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.delete_vertices">
<code class="descname">delete_vertices</code><span class="sig-paren">(</span><em>vertices</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.delete_vertices" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove vertices from the bipartite graph taken from an iterable
sequence of vertices. Deleting a non-existent vertex will raise an
exception.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">vertices</span></code> &#8211; a sequence of vertices to remove.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">Bipartite cycle graph: graph on 4 vertices</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">delete_vertices</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">Bipartite cycle graph: graph on 2 vertices</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">left</span>
<span class="go">{2}</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">right</span>
<span class="go">{1}</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="go">[(1, 2, None)]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">delete_vertices</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">Vertex (0) not in the graph.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.load_afile">
<code class="descname">load_afile</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.load_afile" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads into the current object the bipartite graph specified in the
given file name.  This file should follow David MacKay&#8217;s alist format,
see
<a class="reference external" href="http://www.inference.phy.cam.ac.uk/mackay/codes/data.html">http://www.inference.phy.cam.ac.uk/mackay/codes/data.html</a>
for examples and definition of the format.</p>
<p>EXAMPLE:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SAGE_TMP</span><span class="p">,</span> <span class="s1">&#39;deleteme.alist.txt&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fi</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fi</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;7 4 </span><span class="se">\n</span><span class="s2"> 3 4 </span><span class="se">\n</span><span class="s2"> 3 3 1 3 1 1 1 </span><span class="se">\n</span><span class="s2"> 3 3 3 4 </span><span class="se">\n\</span>
<span class="go">                1 2 4 \n 1 3 4 \n 1 0 0 \n 2 3 4 \n\</span>
<span class="go">                2 0 0 \n 3 0 0 \n 4 0 0 \n\</span>
<span class="go">                1 2 3 0 \n 1 4 5 0 \n 2 4 6 0 \n 1 2 4 7 \n&quot;)</span>
<span class="gp">sage: </span><span class="n">fi</span><span class="o">.</span><span class="n">close</span><span class="p">();</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">load_afile</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
<span class="go">Bipartite graph on 11 vertices</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="go">[(0, 7, None),</span>
<span class="go"> (0, 8, None),</span>
<span class="go"> (0, 10, None),</span>
<span class="go"> (1, 7, None),</span>
<span class="go"> (1, 9, None),</span>
<span class="go"> (1, 10, None),</span>
<span class="go"> (2, 7, None),</span>
<span class="go"> (3, 8, None),</span>
<span class="go"> (3, 9, None),</span>
<span class="go"> (3, 10, None),</span>
<span class="go"> (4, 8, None),</span>
<span class="go"> (5, 9, None),</span>
<span class="go"> (6, 10, None)]</span>
<span class="go"> sage: B2 = BipartiteGraph(file_name)</span>
<span class="go"> sage: B2 == B</span>
<span class="go"> True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.matching_polynomial">
<code class="descname">matching_polynomial</code><span class="sig-paren">(</span><em>algorithm='Godsil'</em>, <em>name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.matching_polynomial" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the matching polynomial.</p>
<p>If <span class="math">\(p(G, k)\)</span> denotes the number of <span class="math">\(k\)</span>-matchings (matchings with <span class="math">\(k\)</span> edges)
in <span class="math">\(G\)</span>, then the <em>matching polynomial</em> is defined as <a class="reference internal" href="matchpoly.html#godsil93" id="id1">[Godsil93]</a>:</p>
<div class="math">
\[\mu(x)=\sum_{k \geq 0} (-1)^k p(G,k) x^{n-2k}\]</div>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">algorithm</span></code> - a string which must be either &#8220;Godsil&#8221; (default)
or &#8220;rook&#8221;; &#8220;rook&#8221; is usually faster for larger graphs.</li>
<li><code class="docutils literal"><span class="pre">name</span></code> - optional string for the variable name in the polynomial.</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CubeGraph</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">matching_polynomial</span><span class="p">()</span>
<span class="go">x^8 - 12*x^6 + 42*x^4 - 44*x^2 + 9</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CompleteBipartiteGraph</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">*</span><span class="n">laguerre</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">g</span><span class="o">.</span><span class="n">matching_polynomial</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;rook&#39;</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Compute the matching polynomial of a line with <span class="math">\(60\)</span> vertices:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.functions.orthogonal_polys</span> <span class="kn">import</span> <span class="n">chebyshev_U</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">trees</span><span class="p">(</span><span class="mi">60</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">chebyshev_U</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">matching_polynomial</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;rook&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The matching polynomial of a tree graphs is equal to its characteristic
polynomial:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">RandomTree</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">characteristic_polynomial</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">==</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">matching_polynomial</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;rook&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">matrix</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">matching_polynomial</span><span class="p">()</span>
<span class="go">x^7 - 12*x^5 + 36*x^3 - 24*x</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">matching_polynomial</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s2">&quot;rook&quot;</span><span class="p">)</span>
<span class="go">x^7 - 12*x^5 + 36*x^3 - 24*x</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Overrides Graph&#8217;s plot function, to illustrate the bipartite nature.</p>
<p>EXAMPLE:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="go">Graphics object consisting of 41 graphics primitives</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.project_left">
<code class="descname">project_left</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.project_left" title="Permalink to this definition">¶</a></dt>
<dd><p>Projects <code class="docutils literal"><span class="pre">self</span></code> onto left vertices. Edges are 2-paths in the
original.</p>
<p>EXAMPLE:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">project_left</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">order</span><span class="p">(),</span> <span class="n">G</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="go">(10, 10)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.project_right">
<code class="descname">project_right</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.project_right" title="Permalink to this definition">¶</a></dt>
<dd><p>Projects <code class="docutils literal"><span class="pre">self</span></code> onto right vertices. Edges are 2-paths in the
original.</p>
<p>EXAMPLE:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">project_right</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">order</span><span class="p">(),</span> <span class="n">G</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="go">(10, 10)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.reduced_adjacency_matrix">
<code class="descname">reduced_adjacency_matrix</code><span class="sig-paren">(</span><em>sparse=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.reduced_adjacency_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the reduced adjacency matrix for the given graph.</p>
<p>A reduced adjacency matrix contains only the non-redundant portion of
the full adjacency matrix for the bipartite graph.  Specifically, for
zero matrices of the appropriate size, for the reduced adjacency
matrix <code class="docutils literal"><span class="pre">H</span></code>, the full adjacency matrix is <code class="docutils literal"><span class="pre">[[0,</span> <span class="pre">H'],</span> <span class="pre">[H,</span> <span class="pre">0]]</span></code>.</p>
<p>This method supports the named argument &#8216;sparse&#8217; which defaults to
<code class="docutils literal"><span class="pre">True</span></code>.  When enabled, the returned matrix will be sparse.</p>
<p>EXAMPLES:</p>
<p>Bipartite graphs that are not weighted will return a matrix over ZZ:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">... </span>              <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">reduced_adjacency_matrix</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">N</span>
<span class="go">[1 1 1 0 0 0 0]</span>
<span class="go">[1 0 0 1 1 0 0]</span>
<span class="go">[0 1 0 1 0 1 0]</span>
<span class="go">[1 1 0 1 0 0 1]</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">==</span> <span class="n">M</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Integer Ring</span>
</pre></div>
</div>
<p>Multi-edge graphs also return a matrix over ZZ:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">multiedges</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">reduced_adjacency_matrix</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">==</span> <span class="n">M</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Integer Ring</span>
</pre></div>
</div>
<p>Weighted graphs will return a matrix over the ring given by their
(first) weights:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">MS</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MS</span><span class="o">.</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">weighted</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">reduced_adjacency_matrix</span><span class="p">(</span><span class="n">sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">==</span> <span class="n">M</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Finite Field in a of size 2^2</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">reduced_adjacency_matrix</span><span class="p">()</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">M</span><span class="p">)</span><span class="o">.</span><span class="n">reduced_adjacency_matrix</span><span class="p">()</span> <span class="o">==</span> <span class="n">M</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">weighted</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">==</span> <span class="n">B</span><span class="o">.</span><span class="n">reduced_adjacency_matrix</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.save_afile">
<code class="descname">save_afile</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.save_afile" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the graph to file in alist format.</p>
<p>Saves this graph to file in David MacKay&#8217;s alist format, see
<a class="reference external" href="http://www.inference.phy.cam.ac.uk/mackay/codes/data.html">http://www.inference.phy.cam.ac.uk/mackay/codes/data.html</a>
for examples and definition of the format.</p>
<p>EXAMPLE:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">... </span>              <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">M</span>
<span class="go">[1 1 1 0 0 0 0]</span>
<span class="go">[1 0 0 1 1 0 0]</span>
<span class="go">[0 1 0 1 0 1 0]</span>
<span class="go">[1 1 0 1 0 0 1]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SAGE_TMP</span><span class="p">,</span> <span class="s1">&#39;deleteme.alist.txt&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">save_afile</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b2</span> <span class="o">=</span> <span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">==</span> <span class="n">b2</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SAGE_TMP</span><span class="p">,</span> <span class="s1">&#39;deleteme.alist.txt&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
<span class="go">....:     num_chks = int(order / 3)</span>
<span class="go">....:     num_vars = order - num_chks</span>
<span class="go">....:     partition = (range(num_vars), range(num_vars, num_vars+num_chks))</span>
<span class="go">....:     for idx in range(100):</span>
<span class="go">....:         g = graphs.RandomGNP(order, 0.5)</span>
<span class="go">....:         try:</span>
<span class="go">....:             b = BipartiteGraph(g, partition, check=False)</span>
<span class="go">....:             b.save_afile(file_name)</span>
<span class="go">....:             b2 = BipartiteGraph(file_name)</span>
<span class="go">....:             if b != b2:</span>
<span class="go">....:                 print(&quot;Load/save failed for code with edges:&quot;)</span>
<span class="go">....:                 print(b.edges())</span>
<span class="go">....:                 break</span>
<span class="go">....:         except Exception:</span>
<span class="go">....:             print(&quot;Exception encountered for graph of order &quot;+ str(order))</span>
<span class="go">....:             print(&quot;with edges: &quot;)</span>
<span class="go">....:             g.edges()</span>
<span class="go">....:             raise</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.bipartite_graph.BipartiteGraph.to_undirected">
<code class="descname">to_undirected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.bipartite_graph.BipartiteGraph.to_undirected" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an undirected Graph (without bipartite constraint) of the given
object.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">BipartiteGraph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">to_undirected</span><span class="p">()</span>
<span class="go">Cycle graph: Graph on 6 vertices</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="digraph.html"
                                  title="previous chapter">Directed graphs</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="graph_generators.html"
                                  title="next chapter">Common Graphs</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/graphs/bipartite_graph.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="graph_generators.html" title="Common Graphs"
             >next</a> |</li>
        <li class="right" >
          <a href="digraph.html" title="Directed graphs"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Graph Theory</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>