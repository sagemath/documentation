<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Graph database &mdash; Sage Reference Manual v6.7: Graph Theory</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.7: Graph Theory" href="../../index.html" />
    <link rel="next" title="ISGCI: Information System on Graph Classes and their Inclusions" href="isgci.html" />
    <link rel="prev" title="Common graphs and digraphs generators (Cython)" href="graph_generators_pyx.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="isgci.html" title="ISGCI: Information System on Graph Classes and their Inclusions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="graph_generators_pyx.html" title="Common graphs and digraphs generators (Cython)"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Graph Theory</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="graph-database">
<span id="sage-graphs-graph-database"></span><h1>Graph database<a class="headerlink" href="#graph-database" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.graphs.graph_database"></span><p>INFO:</p>
<p>This module implements classes (GraphDatabase, GraphQuery,
GenericGraphQuery) for interfacing with the sqlite database
graphs.db.</p>
<p>The GraphDatabase class interfaces with the sqlite database
graphs.db. It is an immutable database that inherits from
SQLDatabase (see sage.databases.database.py).</p>
<p>The database contains all unlabeled graphs with 7 or fewer nodes.
This class will also interface with the optional database package
containing all unlabeled graphs with 8 or fewer nodes. The
database(s) consists of five tables, and has the structure given by
the function graph_info. (For a full description including column
data types, create a GraphDatabase instance and call the method
get_skeleton).</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>Emily A. Kirkman (2008-09-20): first version of interactive queries,
cleaned up code and generalized many elements to
sage.databases.database.py</li>
<li>Emily A. Kirkman (2007-07-23): inherits GenericSQLDatabase, also
added classes: GraphQuery and GenericGraphQuery</li>
<li>Emily A. Kirkman (2007-05-11): initial sqlite version</li>
<li>Emily A. Kirkman (2007-02-13): initial version (non-sqlite)</li>
</ul>
<p>REFERENCES:</p>
<ul class="simple">
<li>Data provided by Jason Grout (Brigham Young University). [Online]
Available: <a class="reference external" href="http://artsci.drake.edu/grout/graphs/">http://artsci.drake.edu/grout/graphs/</a></li>
</ul>
<dl class="class">
<dt id="sage.graphs.graph_database.GenericGraphQuery">
<em class="property">class </em><tt class="descclassname">sage.graphs.graph_database.</tt><tt class="descname">GenericGraphQuery</tt><big>(</big><em>query_string</em>, <em>database=None</em>, <em>param_tuple=None</em><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.GenericGraphQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../misc/sage/databases/sql_db.html#sage.databases.sql_db.SQLQuery" title="(in Sage Reference Manual: Utilities v6.7)"><tt class="xref py py-class docutils literal"><span class="pre">sage.databases.sql_db.SQLQuery</span></tt></a></p>
<p>A query for a GraphDatabase.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">database</span></tt> - the GraphDatabase instance to query
(if None then a new instance is created)</li>
<li><tt class="docutils literal"><span class="pre">query_string</span></tt> - a string representing the SQL
query</li>
<li><tt class="docutils literal"><span class="pre">param_tuple</span></tt> - a tuple of strings - what to
replace question marks in query_string with (optional, but a good
idea)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This query class is generally intended for developers and
more advanced users. It allows you to execute any query,
and so may be considered unsafe.</p>
</div>
<p>See GraphDatabase class docstrings or enter:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">GraphDatabase</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">get_skeleton</span><span class="p">()</span>
<span class="go">{...</span>
</pre></div>
</div>
<p>to see the underlying structure of the database. Also see
SQLQuery in sage.databases.database for more info and a
tutorial.</p>
<p>A piece of advice about &#8216;?&#8217; and param_tuple: It is generally
considered safer to query with a &#8216;?&#8217; in place of each value
parameter, and using a second argument (a tuple of strings) in a
call to the sqlite database. Successful use of the param_tuple
argument is exemplified:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">GraphDatabase</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="s">&#39;select graph_id,graph6,num_vertices,num_edges from graph_data where graph_id&lt;=(?) and num_vertices=(?)&#39;</span>
<span class="gp">sage: </span><span class="n">param</span> <span class="o">=</span> <span class="p">(</span><span class="mi">22</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">SQLQuery</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">q</span><span class="p">,</span><span class="n">param</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">graph_id             graph6               num_vertices         num_edges</span>
<span class="go">--------------------------------------------------------------------------------</span>
<span class="go">18                   D??                  5                    0</span>
<span class="go">19                   D?C                  5                    1</span>
<span class="go">20                   D?K                  5                    2</span>
<span class="go">21                   D@O                  5                    2</span>
<span class="go">22                   D?[                  5                    3</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.graphs.graph_database.GraphDatabase">
<em class="property">class </em><tt class="descclassname">sage.graphs.graph_database.</tt><tt class="descname">GraphDatabase</tt><a class="headerlink" href="#sage.graphs.graph_database.GraphDatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../misc/sage/databases/sql_db.html#sage.databases.sql_db.SQLDatabase" title="(in Sage Reference Manual: Utilities v6.7)"><tt class="xref py py-class docutils literal"><span class="pre">sage.databases.sql_db.SQLDatabase</span></tt></a></p>
<p>Graph Database</p>
<p>INFO:</p>
<p>This class interfaces with the sqlite database graphs.db. It is an
immutable database that inherits from SQLDatabase (see
sage.databases.database.py). The display functions and get_graphs_list
create their own queries, but it is also possible to query the
database by constructing either a SQLQuery.</p>
<p>The database contains all unlabeled graphs with 7 or fewer nodes.
This class will also interface with the optional database package
containing all unlabeled graphs with 8 or fewer nodes. The database
consists of five tables. For a full table and column structure,
call graph_db_info.</p>
<p>USE: The tables are associated by the unique primary key graph_id
(int).</p>
<p>To query this database, we create a GraphQuery. This can be done
directly with the query method or by initializing one of 1.
GenericGraphQuery - allows direct entry of a query string and tuple
of parameters. This is the route for more advanced users that are
familiar with SQL. 2. GraphQuery - is a wrapper of SQLQuery, a
general database/query wrapper of SQLite for new users.</p>
<p>REFERENCES:</p>
<ul class="simple">
<li>Data provided by Jason Grout (Brigham Young
University). [Online] Available:
<a class="reference external" href="http://artsci.drake.edu/grout/graphs/">http://artsci.drake.edu/grout/graphs/</a></li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">GraphDatabase</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">get_skeleton</span><span class="p">()</span>
<span class="go">{u&#39;aut_grp&#39;: {u&#39;aut_grp_size&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;edge_transitive&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;BOOLEAN&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;graph_id&#39;: {&#39;index&#39;: False,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;num_fixed_points&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;num_orbits&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;vertex_transitive&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;BOOLEAN&#39;,</span>
<span class="go">   &#39;unique&#39;: False}},</span>
<span class="go"> u&#39;degrees&#39;: {u&#39;average_degree&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;REAL&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;degree_sequence&#39;: {&#39;index&#39;: False,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;degrees_sd&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;REAL&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;graph_id&#39;: {&#39;index&#39;: False,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;max_degree&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;min_degree&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;regular&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;BOOLEAN&#39;,</span>
<span class="go">   &#39;unique&#39;: False}},</span>
<span class="go"> u&#39;graph_data&#39;: {u&#39;complement_graph6&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;TEXT&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;eulerian&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;BOOLEAN&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;graph6&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;TEXT&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;graph_id&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: True},</span>
<span class="go">  u&#39;lovasz_number&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;REAL&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;num_cycles&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;num_edges&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;num_hamiltonian_cycles&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;num_vertices&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;perfect&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;BOOLEAN&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;planar&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;BOOLEAN&#39;,</span>
<span class="go">   &#39;unique&#39;: False}},</span>
<span class="go"> u&#39;misc&#39;: {u&#39;clique_number&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;diameter&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;edge_connectivity&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;BOOLEAN&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;girth&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;graph_id&#39;: {&#39;index&#39;: False,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;independence_number&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;induced_subgraphs&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;TEXT&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;min_vertex_cover_size&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;num_components&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;num_cut_vertices&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;num_spanning_trees&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;radius&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;vertex_connectivity&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;BOOLEAN&#39;,</span>
<span class="go">   &#39;unique&#39;: False}},</span>
<span class="go"> u&#39;spectrum&#39;: {u&#39;eigenvalues_sd&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;REAL&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;energy&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;REAL&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;graph_id&#39;: {&#39;index&#39;: False,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;INTEGER&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;max_eigenvalue&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;REAL&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;min_eigenvalue&#39;: {&#39;index&#39;: True,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;REAL&#39;,</span>
<span class="go">   &#39;unique&#39;: False},</span>
<span class="go">  u&#39;spectrum&#39;: {&#39;index&#39;: False,</span>
<span class="go">   &#39;primary_key&#39;: False,</span>
<span class="go">   &#39;sql&#39;: u&#39;TEXT&#39;,</span>
<span class="go">   &#39;unique&#39;: False}}}</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.graphs.graph_database.GraphDatabase.interactive_query">
<tt class="descname">interactive_query</tt><big>(</big><em>display_cols</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.GraphDatabase.interactive_query" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: This function could use improvement. Add full options of
typical GraphQuery (i.e.: have it accept list input); and update
options in interact to make it less annoying to put in operators.</p>
<p>Generates an interact shell (in the notebook only) that allows the
user to manipulate query parameters and see the updated results.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">GraphDatabase</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">interactive_query</span><span class="p">(</span><span class="n">display_cols</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;graph6&#39;</span><span class="p">,</span><span class="s">&#39;num_vertices&#39;</span><span class="p">,</span><span class="s">&#39;degree_sequence&#39;</span><span class="p">],</span><span class="n">num_edges</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">max_degree</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&lt;html&gt;...&lt;/html&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.graph_database.GraphDatabase.query">
<tt class="descname">query</tt><big>(</big><em>query_dict=None</em>, <em>display_cols=None</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.GraphDatabase.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a GraphQuery on this database. For full class details, type
GraphQuery? and press shift+enter.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">GraphDatabase</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">display_cols</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;graph6&#39;</span><span class="p">,</span><span class="s">&#39;num_vertices&#39;</span><span class="p">,</span><span class="s">&#39;degree_sequence&#39;</span><span class="p">],</span><span class="n">num_edges</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;&lt;=&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">q</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Graph6               Num Vertices         Degree Sequence</span>
<span class="go">------------------------------------------------------------</span>
<span class="go">@                    1                    [0]</span>
<span class="go">A?                   2                    [0, 0]</span>
<span class="go">A_                   2                    [1, 1]</span>
<span class="go">B?                   3                    [0, 0, 0]</span>
<span class="go">BG                   3                    [0, 1, 1]</span>
<span class="go">BW                   3                    [1, 1, 2]</span>
<span class="go">Bw                   3                    [2, 2, 2]</span>
<span class="go">C?                   4                    [0, 0, 0, 0]</span>
<span class="go">C@                   4                    [0, 0, 1, 1]</span>
<span class="go">CB                   4                    [0, 1, 1, 2]</span>
<span class="go">CF                   4                    [1, 1, 1, 3]</span>
<span class="go">CJ                   4                    [0, 2, 2, 2]</span>
<span class="go">CK                   4                    [1, 1, 1, 1]</span>
<span class="go">CL                   4                    [1, 1, 2, 2]</span>
<span class="go">CN                   4                    [1, 2, 2, 3]</span>
<span class="go">C]                   4                    [2, 2, 2, 2]</span>
<span class="go">C^                   4                    [2, 2, 3, 3]</span>
<span class="go">D??                  5                    [0, 0, 0, 0, 0]</span>
<span class="go">D?C                  5                    [0, 0, 0, 1, 1]</span>
<span class="go">D?K                  5                    [0, 0, 1, 1, 2]</span>
<span class="go">D?[                  5                    [0, 1, 1, 1, 3]</span>
<span class="go">D?{                  5                    [1, 1, 1, 1, 4]</span>
<span class="go">D@K                  5                    [0, 0, 2, 2, 2]</span>
<span class="go">D@O                  5                    [0, 1, 1, 1, 1]</span>
<span class="go">D@S                  5                    [0, 1, 1, 2, 2]</span>
<span class="go">D@[                  5                    [0, 1, 2, 2, 3]</span>
<span class="go">D@s                  5                    [1, 1, 1, 2, 3]</span>
<span class="go">D@{                  5                    [1, 1, 2, 2, 4]</span>
<span class="go">DBW                  5                    [0, 2, 2, 2, 2]</span>
<span class="go">DB[                  5                    [0, 2, 2, 3, 3]</span>
<span class="go">DBg                  5                    [1, 1, 2, 2, 2]</span>
<span class="go">DBk                  5                    [1, 1, 2, 3, 3]</span>
<span class="go">DIk                  5                    [1, 2, 2, 2, 3]</span>
<span class="go">DK[                  5                    [1, 2, 2, 2, 3]</span>
<span class="go">DLo                  5                    [2, 2, 2, 2, 2]</span>
<span class="go">D_K                  5                    [1, 1, 1, 1, 2]</span>
<span class="go">D`K                  5                    [1, 1, 2, 2, 2]</span>
<span class="go">E???                 6                    [0, 0, 0, 0, 0, 0]</span>
<span class="go">E??G                 6                    [0, 0, 0, 0, 1, 1]</span>
<span class="go">E??W                 6                    [0, 0, 0, 1, 1, 2]</span>
<span class="go">E??w                 6                    [0, 0, 1, 1, 1, 3]</span>
<span class="go">E?@w                 6                    [0, 1, 1, 1, 1, 4]</span>
<span class="go">E?Bw                 6                    [1, 1, 1, 1, 1, 5]</span>
<span class="go">E?CW                 6                    [0, 0, 0, 2, 2, 2]</span>
<span class="go">E?C_                 6                    [0, 0, 1, 1, 1, 1]</span>
<span class="go">E?Cg                 6                    [0, 0, 1, 1, 2, 2]</span>
<span class="go">E?Cw                 6                    [0, 0, 1, 2, 2, 3]</span>
<span class="go">E?Dg                 6                    [0, 1, 1, 1, 2, 3]</span>
<span class="go">E?Dw                 6                    [0, 1, 1, 2, 2, 4]</span>
<span class="go">E?Fg                 6                    [1, 1, 1, 1, 2, 4]</span>
<span class="go">E?Ko                 6                    [0, 0, 2, 2, 2, 2]</span>
<span class="go">E?Kw                 6                    [0, 0, 2, 2, 3, 3]</span>
<span class="go">E?LO                 6                    [0, 1, 1, 2, 2, 2]</span>
<span class="go">E?LW                 6                    [0, 1, 1, 2, 3, 3]</span>
<span class="go">E?N?                 6                    [1, 1, 1, 1, 2, 2]</span>
<span class="go">E?NG                 6                    [1, 1, 1, 1, 3, 3]</span>
<span class="go">E@FG                 6                    [1, 1, 1, 2, 2, 3]</span>
<span class="go">E@HW                 6                    [0, 1, 2, 2, 2, 3]</span>
<span class="go">E@N?                 6                    [1, 1, 2, 2, 2, 2]</span>
<span class="go">E@Ow                 6                    [0, 1, 2, 2, 2, 3]</span>
<span class="go">E@Q?                 6                    [1, 1, 1, 1, 1, 1]</span>
<span class="go">E@QW                 6                    [1, 1, 1, 2, 2, 3]</span>
<span class="go">E@T_                 6                    [0, 2, 2, 2, 2, 2]</span>
<span class="go">E@YO                 6                    [1, 1, 2, 2, 2, 2]</span>
<span class="go">EG?W                 6                    [0, 1, 1, 1, 1, 2]</span>
<span class="go">EGCW                 6                    [0, 1, 1, 2, 2, 2]</span>
<span class="go">E_?w                 6                    [1, 1, 1, 1, 1, 3]</span>
<span class="go">E_Cg                 6                    [1, 1, 1, 1, 2, 2]</span>
<span class="go">E_Cw                 6                    [1, 1, 1, 2, 2, 3]</span>
<span class="go">E_Ko                 6                    [1, 1, 2, 2, 2, 2]</span>
<span class="go">F????                7                    [0, 0, 0, 0, 0, 0, 0]</span>
<span class="go">F???G                7                    [0, 0, 0, 0, 0, 1, 1]</span>
<span class="go">F???W                7                    [0, 0, 0, 0, 1, 1, 2]</span>
<span class="go">F???w                7                    [0, 0, 0, 1, 1, 1, 3]</span>
<span class="go">F??@w                7                    [0, 0, 1, 1, 1, 1, 4]</span>
<span class="go">F??Bw                7                    [0, 1, 1, 1, 1, 1, 5]</span>
<span class="go">F??GW                7                    [0, 0, 0, 0, 2, 2, 2]</span>
<span class="go">F??G_                7                    [0, 0, 0, 1, 1, 1, 1]</span>
<span class="go">F??Gg                7                    [0, 0, 0, 1, 1, 2, 2]</span>
<span class="go">F??Gw                7                    [0, 0, 0, 1, 2, 2, 3]</span>
<span class="go">F??Hg                7                    [0, 0, 1, 1, 1, 2, 3]</span>
<span class="go">F??Hw                7                    [0, 0, 1, 1, 2, 2, 4]</span>
<span class="go">F??Jg                7                    [0, 1, 1, 1, 1, 2, 4]</span>
<span class="go">F??Wo                7                    [0, 0, 0, 2, 2, 2, 2]</span>
<span class="go">F??Ww                7                    [0, 0, 0, 2, 2, 3, 3]</span>
<span class="go">F??XO                7                    [0, 0, 1, 1, 2, 2, 2]</span>
<span class="go">F??XW                7                    [0, 0, 1, 1, 2, 3, 3]</span>
<span class="go">F??Z?                7                    [0, 1, 1, 1, 1, 2, 2]</span>
<span class="go">F??ZG                7                    [0, 1, 1, 1, 1, 3, 3]</span>
<span class="go">F??^?                7                    [1, 1, 1, 1, 1, 2, 3]</span>
<span class="go">F?CJG                7                    [0, 1, 1, 1, 2, 2, 3]</span>
<span class="go">F?CPW                7                    [0, 0, 1, 2, 2, 2, 3]</span>
<span class="go">F?CZ?                7                    [0, 1, 1, 2, 2, 2, 2]</span>
<span class="go">F?C_w                7                    [0, 0, 1, 2, 2, 2, 3]</span>
<span class="go">F?Ca?                7                    [0, 1, 1, 1, 1, 1, 1]</span>
<span class="go">F?CaW                7                    [0, 1, 1, 1, 2, 2, 3]</span>
<span class="go">F?Ch_                7                    [0, 0, 2, 2, 2, 2, 2]</span>
<span class="go">F?CqO                7                    [0, 1, 1, 2, 2, 2, 2]</span>
<span class="go">F?LCG                7                    [1, 1, 1, 1, 2, 2, 2]</span>
<span class="go">F@??W                7                    [0, 0, 1, 1, 1, 1, 2]</span>
<span class="go">F@?GW                7                    [0, 0, 1, 1, 2, 2, 2]</span>
<span class="go">FG??w                7                    [0, 1, 1, 1, 1, 1, 3]</span>
<span class="go">FG?Gg                7                    [0, 1, 1, 1, 1, 2, 2]</span>
<span class="go">FG?Gw                7                    [0, 1, 1, 1, 2, 2, 3]</span>
<span class="go">FG?Wo                7                    [0, 1, 1, 2, 2, 2, 2]</span>
<span class="go">FK??W                7                    [1, 1, 1, 1, 1, 1, 2]</span>
<span class="go">FK?GW                7                    [1, 1, 1, 1, 2, 2, 2]</span>
<span class="go">F_?@w                7                    [1, 1, 1, 1, 1, 1, 4]</span>
<span class="go">F_?Hg                7                    [1, 1, 1, 1, 1, 2, 3]</span>
<span class="go">F_?XO                7                    [1, 1, 1, 1, 2, 2, 2]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.graphs.graph_database.GraphQuery">
<em class="property">class </em><tt class="descclassname">sage.graphs.graph_database.</tt><tt class="descname">GraphQuery</tt><big>(</big><em>graph_db=None</em>, <em>query_dict=None</em>, <em>display_cols=None</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.GraphQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.graphs.graph_database.GenericGraphQuery" title="sage.graphs.graph_database.GenericGraphQuery"><tt class="xref py py-class docutils literal"><span class="pre">sage.graphs.graph_database.GenericGraphQuery</span></tt></a></p>
<p>A query for an instance of GraphDatabase. This class nicely wraps
the SQLQuery class located in sage.databases.database.py to make
the query constraints intuitive and with as many pre-definitions as
possible. (i.e.: since it has to be a GraphDatabase, we already know
the table structure and types; and since it is immutable, we can
treat these as a guarantee).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">SQLQuery functions are available for GraphQuery. See
sage.dataabases.database.py for more details.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">graph_db</span></tt> - The GraphDatabase instance to apply
the query to. (If None, then a new instance is created).</li>
<li><tt class="docutils literal"><span class="pre">query_dict</span></tt> - A dictionary specifying the query
itself. Format is: &#8216;table_name&#8217;: &#8216;tblname&#8217;, &#8216;display_cols&#8217;:
[&#8216;col1&#8217;, &#8216;col2&#8217;], &#8216;expression&#8217;:[col, operator, value] If not None,
query_dict will take precedence over all other arguments.</li>
<li><tt class="docutils literal"><span class="pre">display_cols</span></tt> - A list of column names (strings)
to display in the result when running or showing a query.</li>
<li><tt class="docutils literal"><span class="pre">kwds</span></tt> - The columns of the database are all
keywords. For a database table/column structure dictionary, call
graph_db_info. Keywords accept both single values and lists of
length 2. The list allows the user to specify an expression other
than equality. Valid expressions are strings, and for numeric
values (i.e. Reals and Integers) are: &#8216;=&#8217;,&#8217;&#8216;,&#8217;&#8216;,&#8217;=&#8217;,&#8217;=&#8217;. String
values also accept &#8216;regexp&#8217; as an expression argument. The only
keyword exception to this format is induced_subgraphs, which
accepts one of the following options: 1.
[&#8216;one_of&#8217;,String,...,String] Will search for graphs containing a
subgraph isomorphic to any of the graph6 strings in the list. 2.
[&#8216;all_of&#8217;,String,...,String] Will search for graphs containing a
subgraph isomorphic to each of the graph6 strings in the list.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">GraphQuery</span><span class="p">(</span><span class="n">display_cols</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;graph6&#39;</span><span class="p">,</span><span class="s">&#39;num_vertices&#39;</span><span class="p">,</span><span class="s">&#39;degree_sequence&#39;</span><span class="p">],</span><span class="n">num_edges</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;&lt;=&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="n">min_degree</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">number_of</span><span class="p">()</span>
<span class="go">35</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Graph6               Num Vertices         Degree Sequence</span>
<span class="go">------------------------------------------------------------</span>
<span class="go">A_                   2                    [1, 1]</span>
<span class="go">BW                   3                    [1, 1, 2]</span>
<span class="go">CF                   4                    [1, 1, 1, 3]</span>
<span class="go">CK                   4                    [1, 1, 1, 1]</span>
<span class="go">CL                   4                    [1, 1, 2, 2]</span>
<span class="go">CN                   4                    [1, 2, 2, 3]</span>
<span class="go">D?{                  5                    [1, 1, 1, 1, 4]</span>
<span class="go">D@s                  5                    [1, 1, 1, 2, 3]</span>
<span class="go">D@{                  5                    [1, 1, 2, 2, 4]</span>
<span class="go">DBg                  5                    [1, 1, 2, 2, 2]</span>
<span class="go">DBk                  5                    [1, 1, 2, 3, 3]</span>
<span class="go">DIk                  5                    [1, 2, 2, 2, 3]</span>
<span class="go">DK[                  5                    [1, 2, 2, 2, 3]</span>
<span class="go">D_K                  5                    [1, 1, 1, 1, 2]</span>
<span class="go">D`K                  5                    [1, 1, 2, 2, 2]</span>
<span class="go">E?Bw                 6                    [1, 1, 1, 1, 1, 5]</span>
<span class="go">E?Fg                 6                    [1, 1, 1, 1, 2, 4]</span>
<span class="go">E?N?                 6                    [1, 1, 1, 1, 2, 2]</span>
<span class="go">E?NG                 6                    [1, 1, 1, 1, 3, 3]</span>
<span class="go">E@FG                 6                    [1, 1, 1, 2, 2, 3]</span>
<span class="go">E@N?                 6                    [1, 1, 2, 2, 2, 2]</span>
<span class="go">E@Q?                 6                    [1, 1, 1, 1, 1, 1]</span>
<span class="go">E@QW                 6                    [1, 1, 1, 2, 2, 3]</span>
<span class="go">E@YO                 6                    [1, 1, 2, 2, 2, 2]</span>
<span class="go">E_?w                 6                    [1, 1, 1, 1, 1, 3]</span>
<span class="go">E_Cg                 6                    [1, 1, 1, 1, 2, 2]</span>
<span class="go">E_Cw                 6                    [1, 1, 1, 2, 2, 3]</span>
<span class="go">E_Ko                 6                    [1, 1, 2, 2, 2, 2]</span>
<span class="go">F??^?                7                    [1, 1, 1, 1, 1, 2, 3]</span>
<span class="go">F?LCG                7                    [1, 1, 1, 1, 2, 2, 2]</span>
<span class="go">FK??W                7                    [1, 1, 1, 1, 1, 1, 2]</span>
<span class="go">FK?GW                7                    [1, 1, 1, 1, 2, 2, 2]</span>
<span class="go">F_?@w                7                    [1, 1, 1, 1, 1, 1, 4]</span>
<span class="go">F_?Hg                7                    [1, 1, 1, 1, 1, 2, 3]</span>
<span class="go">F_?XO                7                    [1, 1, 1, 1, 2, 2, 2]</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.graphs.graph_database.GraphQuery.get_graphs_list">
<tt class="descname">get_graphs_list</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.GraphQuery.get_graphs_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of Sage Graph objects that satisfy the query.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">GraphQuery</span><span class="p">(</span><span class="n">display_cols</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;graph6&#39;</span><span class="p">,</span><span class="s">&#39;num_vertices&#39;</span><span class="p">,</span><span class="s">&#39;degree_sequence&#39;</span><span class="p">],</span><span class="n">num_edges</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;&lt;=&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="n">min_degree</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">get_graphs_list</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">Graph on 2 vertices</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="go">35</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.graph_database.GraphQuery.number_of">
<tt class="descname">number_of</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.GraphQuery.number_of" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of graphs in the database that satisfy the
query.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">GraphQuery</span><span class="p">(</span><span class="n">display_cols</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;graph6&#39;</span><span class="p">,</span><span class="s">&#39;num_vertices&#39;</span><span class="p">,</span><span class="s">&#39;degree_sequence&#39;</span><span class="p">],</span><span class="n">num_edges</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;&lt;=&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="n">min_degree</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">number_of</span><span class="p">()</span>
<span class="go">35</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.graph_database.GraphQuery.query_iterator">
<tt class="descname">query_iterator</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.GraphQuery.query_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator over the results list of the GraphQuery.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">GraphQuery</span><span class="p">(</span><span class="n">display_cols</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;graph6&#39;</span><span class="p">],</span><span class="n">num_vertices</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">diameter</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">Q</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">g</span><span class="o">.</span><span class="n">graph6_string</span><span class="p">()</span>
<span class="go">F?`po</span>
<span class="go">F?gqg</span>
<span class="go">F@?]O</span>
<span class="go">F@OKg</span>
<span class="go">F@R@o</span>
<span class="go">FA_pW</span>
<span class="go">FEOhW</span>
<span class="go">FGC{o</span>
<span class="go">FIAHo</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">GraphQuery</span><span class="p">(</span><span class="n">display_cols</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;graph6&#39;</span><span class="p">],</span><span class="n">num_vertices</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">diameter</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span> <span class="k">print</span> <span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span><span class="o">.</span><span class="n">graph6_string</span><span class="p">()</span>
<span class="gp">... </span>    <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span> <span class="k">break</span>
<span class="go">F?`po</span>
<span class="go">F?gqg</span>
<span class="go">F@?]O</span>
<span class="go">F@OKg</span>
<span class="go">F@R@o</span>
<span class="go">FA_pW</span>
<span class="go">FEOhW</span>
<span class="go">FGC{o</span>
<span class="go">FIAHo</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.graphs.graph_database.GraphQuery.show">
<tt class="descname">show</tt><big>(</big><em>max_field_size=20</em>, <em>with_picture=False</em><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.GraphQuery.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a query in table format.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">max_field_size</span></tt> - width of fields in command
prompt version</li>
<li><tt class="docutils literal"><span class="pre">with_picture</span></tt> - whether or not to display
results with a picture of the graph (available only in the
notebook)</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">GraphDatabase</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">GraphQuery</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">display_cols</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;graph6&#39;</span><span class="p">,</span><span class="s">&#39;num_vertices&#39;</span><span class="p">,</span><span class="s">&#39;aut_grp_size&#39;</span><span class="p">],</span> <span class="n">num_vertices</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">aut_grp_size</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Graph6               Num Vertices         Aut Grp Size</span>
<span class="go">------------------------------------------------------------</span>
<span class="go">C@                   4                    4</span>
<span class="go">C^                   4                    4</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">GraphQuery</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">display_cols</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;graph6&#39;</span><span class="p">,</span><span class="s">&#39;num_vertices&#39;</span><span class="p">,</span><span class="s">&#39;degree_sequence&#39;</span><span class="p">],</span> <span class="n">num_vertices</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Graph6               Num Vertices         Degree Sequence</span>
<span class="go">------------------------------------------------------------</span>
<span class="go">C?                   4                    [0, 0, 0, 0]</span>
<span class="go">C@                   4                    [0, 0, 1, 1]</span>
<span class="go">CB                   4                    [0, 1, 1, 2]</span>
<span class="go">CF                   4                    [1, 1, 1, 3]</span>
<span class="go">CJ                   4                    [0, 2, 2, 2]</span>
<span class="go">CK                   4                    [1, 1, 1, 1]</span>
<span class="go">CL                   4                    [1, 1, 2, 2]</span>
<span class="go">CN                   4                    [1, 2, 2, 3]</span>
<span class="go">C]                   4                    [2, 2, 2, 2]</span>
<span class="go">C^                   4                    [2, 2, 3, 3]</span>
<span class="go">C~                   4                    [3, 3, 3, 3]</span>
</pre></div>
</div>
<p>Show the pictures (in notebook mode only):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">GraphQuery</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">display_cols</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;graph6&#39;</span><span class="p">,</span><span class="s">&#39;aut_grp_size&#39;</span><span class="p">],</span> <span class="n">num_vertices</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">with_picture</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">NotImplementedError</span>: <span class="n-Identifier">Cannot display plot on command line.</span>
</pre></div>
</div>
<p>Note that pictures can be turned off:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">with_picture</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">Graph6               Aut Grp Size</span>
<span class="go">----------------------------------------</span>
<span class="go">C?                   24</span>
<span class="go">C@                   4</span>
<span class="go">CB                   2</span>
<span class="go">CF                   6</span>
<span class="go">CJ                   6</span>
<span class="go">CK                   8</span>
<span class="go">CL                   2</span>
<span class="go">CN                   2</span>
<span class="go">C]                   8</span>
<span class="go">C^                   4</span>
<span class="go">C~                   24</span>
</pre></div>
</div>
<p>Show your own query (note that the output is not reformatted for
generic queries):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="n">GenericGraphQuery</span><span class="p">(</span><span class="s">&#39;select degree_sequence from degrees where max_degree=2 and min_degree &gt;= 1&#39;</span><span class="p">,</span><span class="n">G</span><span class="p">))</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">degree_sequence</span>
<span class="go">--------------------</span>
<span class="go">211</span>
<span class="go">222</span>
<span class="go">2211</span>
<span class="go">2222</span>
<span class="go">21111</span>
<span class="go">22211</span>
<span class="go">22211</span>
<span class="go">22222</span>
<span class="go">221111</span>
<span class="go">221111</span>
<span class="go">222211</span>
<span class="go">222211</span>
<span class="go">222211</span>
<span class="go">222222</span>
<span class="go">222222</span>
<span class="go">2111111</span>
<span class="go">2221111</span>
<span class="go">2221111</span>
<span class="go">2221111</span>
<span class="go">2222211</span>
<span class="go">2222211</span>
<span class="go">2222211</span>
<span class="go">2222211</span>
<span class="go">2222222</span>
<span class="go">2222222</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.graphs.graph_database.data_to_degseq">
<tt class="descclassname">sage.graphs.graph_database.</tt><tt class="descname">data_to_degseq</tt><big>(</big><em>data</em>, <em>graph6=None</em><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.data_to_degseq" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the database integer data type (one digit per vertex
representing its degree, sorted high to low) and converts it to
degree sequence list. The graph6 identifier is required for all
graphs with no edges, so that the correct number of zeros will be
returned.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_database</span> <span class="kn">import</span> <span class="n">data_to_degseq</span>
<span class="gp">sage: </span><span class="n">data_to_degseq</span><span class="p">(</span><span class="mi">3221</span><span class="p">)</span>
<span class="go">[1, 2, 2, 3]</span>
<span class="gp">sage: </span><span class="n">data_to_degseq</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;D??&#39;</span><span class="p">)</span>
<span class="go">[0, 0, 0, 0, 0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.graphs.graph_database.degseq_to_data">
<tt class="descclassname">sage.graphs.graph_database.</tt><tt class="descname">degseq_to_data</tt><big>(</big><em>degree_sequence</em><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.degseq_to_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a degree sequence list (of Integers) and converts to a sorted
(max-min) integer data type, as used for faster access in the
underlying database.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_database</span> <span class="kn">import</span> <span class="n">degseq_to_data</span>
<span class="gp">sage: </span><span class="n">degseq_to_data</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">3221</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.graphs.graph_database.graph6_to_plot">
<tt class="descclassname">sage.graphs.graph_database.</tt><tt class="descname">graph6_to_plot</tt><big>(</big><em>graph6</em><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.graph6_to_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a graph from a graph6 string and returns a Graphics
object with arguments preset for show function.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_database</span> <span class="kn">import</span> <span class="n">graph6_to_plot</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">graph6_to_plot</span><span class="p">(</span><span class="s">&#39;D??&#39;</span><span class="p">))</span>
<span class="go">&lt;class &#39;sage.plot.graphics.Graphics&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.graphs.graph_database.graph_db_info">
<tt class="descclassname">sage.graphs.graph_database.</tt><tt class="descname">graph_db_info</tt><big>(</big><em>tablename=None</em><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.graph_db_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of allowed table and column names.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">tablename</span></tt> - restricts the output to a single
table</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">graph_db_info</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[&#39;graph_data&#39;, &#39;degrees&#39;, &#39;spectrum&#39;, &#39;misc&#39;, &#39;aut_grp&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">graph_db_info</span><span class="p">(</span><span class="n">tablename</span><span class="o">=</span><span class="s">&#39;graph_data&#39;</span><span class="p">)</span>
<span class="go">[&#39;complement_graph6&#39;,</span>
<span class="go"> &#39;eulerian&#39;,</span>
<span class="go"> &#39;graph6&#39;,</span>
<span class="go"> &#39;lovasz_number&#39;,</span>
<span class="go"> &#39;num_cycles&#39;,</span>
<span class="go"> &#39;num_edges&#39;,</span>
<span class="go"> &#39;num_hamiltonian_cycles&#39;,</span>
<span class="go"> &#39;num_vertices&#39;,</span>
<span class="go"> &#39;perfect&#39;,</span>
<span class="go"> &#39;planar&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.graphs.graph_database.subgraphs_to_query">
<tt class="descclassname">sage.graphs.graph_database.</tt><tt class="descname">subgraphs_to_query</tt><big>(</big><em>subgraphs</em>, <em>db</em><big>)</big><a class="headerlink" href="#sage.graphs.graph_database.subgraphs_to_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs and returns a GraphQuery object respecting the special
input required for the induced_subgraphs parameter. This input can
be an individual graph6 string (in which case it is evaluated
without the use of this method) or a list of strings. In the latter
case, the list should be of one of the following two formats: 1.
[&#8216;one_of&#8217;,String,...,String] Will search for graphs containing a
subgraph isomorphic to any of the graph6 strings in the list. 2.
[&#8216;all_of&#8217;,String,...,String] Will search for graphs containing a
subgraph isomorphic to each of the graph6 strings in the list.</p>
<p>This is a helper method called by the GraphQuery constructor to
handle this special format. This method should not be used on its
own because it doesn&#8217;t set any display columns in the query string,
causing a failure to fetch the data when run.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.graph_database</span> <span class="kn">import</span> <span class="n">subgraphs_to_query</span>
<span class="gp">sage: </span><span class="n">gd</span> <span class="o">=</span> <span class="n">GraphDatabase</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">subgraphs_to_query</span><span class="p">([</span><span class="s">&#39;all_of&#39;</span><span class="p">,</span><span class="s">&#39;A?&#39;</span><span class="p">,</span><span class="s">&#39;B?&#39;</span><span class="p">,</span><span class="s">&#39;C?&#39;</span><span class="p">],</span><span class="n">gd</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">q</span><span class="o">.</span><span class="n">get_query_string</span><span class="p">()</span>
<span class="go">&#39;SELECT ,,,,,  FROM misc WHERE ( ( misc.induced_subgraphs regexp ? ) AND (</span>
<span class="go">misc.induced_subgraphs regexp ? ) ) AND ( misc.induced_subgraphs regexp ? )&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="graph_generators_pyx.html"
                                  title="previous chapter">Common graphs and digraphs generators (Cython)</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="isgci.html"
                                  title="next chapter">ISGCI: Information System on Graph Classes and their Inclusions</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/graphs/graph_database.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="isgci.html" title="ISGCI: Information System on Graph Classes and their Inclusions"
             >next</a> |</li>
        <li class="right" >
          <a href="graph_generators_pyx.html" title="Common graphs and digraphs generators (Cython)"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Graph Theory</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>