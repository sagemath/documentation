<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Line graphs &mdash; Sage Reference Manual v7.5: Graph Theory</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.5: Graph Theory" href="../../index.html" />
    <link rel="next" title="Spanning trees" href="spanning_tree.html" />
    <link rel="prev" title="Comparability and permutation graphs" href="comparability.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="spanning_tree.html" title="Spanning trees"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="comparability.html" title="Comparability and permutation graphs"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Graph Theory</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="line-graphs">
<span id="sage-graphs-line-graph"></span><h1>Line graphs<a class="headerlink" href="#line-graphs" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.graphs.line_graph"></span><p>This module gather everything which is related to line graphs. Right now, this
amounts to the following functions :</p>
<table border="1" class="contentstable docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#sage.graphs.line_graph.line_graph" title="sage.graphs.line_graph.line_graph"><code class="xref py py-meth docutils literal"><span class="pre">line_graph()</span></code></a></td>
<td>Computes the line graph of a given graph</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.graphs.line_graph.is_line_graph" title="sage.graphs.line_graph.is_line_graph"><code class="xref py py-meth docutils literal"><span class="pre">is_line_graph()</span></code></a></td>
<td>Check whether a graph is a line graph</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.graphs.line_graph.root_graph" title="sage.graphs.line_graph.root_graph"><code class="xref py py-meth docutils literal"><span class="pre">root_graph()</span></code></a></td>
<td>Computes the root graph corresponding to the given graph</td>
</tr>
</tbody>
</table>
<p>Author:</p>
<ul class="simple">
<li>Nathann Cohen (01-2013), <a class="reference internal" href="#sage.graphs.line_graph.root_graph" title="sage.graphs.line_graph.root_graph"><code class="xref py py-meth docutils literal"><span class="pre">root_graph()</span></code></a> method and module documentation.
Written while listening to Nina Simone <em>&#8220;I wish I knew how it would feel to be
free&#8221;</em>. Crazy good song. And <em>&#8220;Prendre ta douleur&#8221;</em>, too.</li>
</ul>
<div class="section" id="definition">
<h2>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h2>
<p>Given a graph <span class="math">\(G\)</span>, the <em>line graph</em> <span class="math">\(L(G)\)</span> of <span class="math">\(G\)</span> is the graph such that</p>
<div class="math">
\[\begin{split}V(L(G)) =&amp; E(G)\\
E(L(G)) =&amp; \{(e,e'):\text{ and }e,e'\text{ have a common endpoint in }G\}\\\end{split}\]</div>
<p>The definition is extended to directed graphs. In this situation, there is an
arc <span class="math">\((e,e')\)</span> in <span class="math">\(L(G)\)</span> if the destination of <span class="math">\(e\)</span> is the origin of <span class="math">\(e'\)</span>.</p>
<p>For more information, see the <a class="reference external" href="https://en.wikipedia.org/wiki/Line_graph">Wikipedia page on line graphs</a>.</p>
</div>
<div class="section" id="root-graph">
<h2>Root graph<a class="headerlink" href="#root-graph" title="Permalink to this headline">¶</a></h2>
<p>A graph whose line graph is <span class="math">\(LG\)</span> is called the <em>root graph</em> of <span class="math">\(LG\)</span>. The root
graph of a (connected) graph is unique (<a class="reference internal" href="#whitney32" id="id1">[Whitney32]</a>, <a class="reference internal" href="#harary69" id="id2">[Harary69]</a>), except when
<span class="math">\(LG=K_3\)</span>, as both <span class="math">\(L(K_3)\)</span> and <span class="math">\(L(K_{1,3})\)</span> are equal to <span class="math">\(K_3\)</span>.</p>
<p>Here is how we can <em>&#8220;see&#8221;</em> <span class="math">\(G\)</span> by staring (very intently) at <span class="math">\(LG\)</span> :</p>
<blockquote>
<div><p>A graph <span class="math">\(LG\)</span> is the line graph of <span class="math">\(G\)</span> if there exists a collection
<span class="math">\((S_v)_{v\in G}\)</span> of subsets of <span class="math">\(V(LG)\)</span> such that :</p>
<ul class="simple">
<li>Every <span class="math">\(S_v\)</span> is a complete subgraph of <span class="math">\(LG\)</span>.</li>
<li>Every <span class="math">\(v\in LG\)</span> belongs to exactly two sets of the family <span class="math">\((S_v)_{v\in G}\)</span>.</li>
<li>Any two sets of <span class="math">\((S_v)_{v\in G}\)</span> have at most one common elements</li>
<li>For any edge <span class="math">\((u,v)\in LG\)</span> there exists a set of <span class="math">\((S_v)_{v\in G}\)</span> containing
both <span class="math">\(u\)</span> and <span class="math">\(v\)</span>.</li>
</ul>
<p>In this family, each set <span class="math">\(S_v\)</span> represent a vertex of <span class="math">\(G\)</span>, and contains &#8220;the
set of edges incident to <span class="math">\(v\)</span> in <span class="math">\(G\)</span>&#8221;. Two elements <span class="math">\(S_v,S_{v'}\)</span> have a
nonempty intersection whenever <span class="math">\(vv'\)</span> is an edge of <span class="math">\(G\)</span>.</p>
<p>Hence, finding the root graph of <span class="math">\(LG\)</span> is the job of finding this collection of
sets.</p>
</div></blockquote>
<p>In particular, what we know for sure is that a maximal clique <span class="math">\(S\)</span> of size <span class="math">\(2\)</span> or
<span class="math">\(\geq 4\)</span> in <span class="math">\(LG\)</span> corresponds to a vertex of degree <span class="math">\(|S|\)</span> in <span class="math">\(G\)</span>, whose incident
edges are the elements of <span class="math">\(S\)</span> itself.</p>
<p>The main problem lies with maximal cliques of size 3, i.e. triangles. Those we
have to split into two categories, <em>even</em> and <em>odd</em> triangles :</p>
<blockquote>
<div>A triangle <span class="math">\(\{e_1,e_2,e_3\}\subseteq V(LG)\)</span> is said to be an <em>odd</em> triangle if
there exists a vertex <span class="math">\(e\in V(G)\)</span> incident to exactly <em>one</em> or <em>all</em> of
<span class="math">\(\{e_1,e_2,e_3\}\)</span>, and it is said to be <em>even</em> otherwise.</div></blockquote>
<p>The very good point of this definition is that an inclusionwise maximal clique
which is an odd triangle will always correspond to a vertex of degree 3 in <span class="math">\(G\)</span>,
while an even triangle could result from either a vertex of degree 3 in <span class="math">\(G\)</span> or a
triangle in <span class="math">\(G\)</span>. And in order to build the root graph we obviously have to
decide <em>which</em>.</p>
<p>Beineke proves in <a class="reference internal" href="#beineke70" id="id3">[Beineke70]</a> that the collection of sets we are looking for
can be easily found. Indeed it turns out that it is the union of :</p>
<ol class="arabic simple">
<li>The family of all maximal cliques of <span class="math">\(LG\)</span> of size 2 or <span class="math">\(\geq 4\)</span>, as well as
all odd triangles.</li>
<li>The family of all pairs of adjacent vertices which appear in exactly <em>one</em>
maximal clique which is an even triangle.</li>
</ol>
<p>There are actually four special cases to which the decomposition above does not
apply, i.e. graphs containing an edge which belongs to exactly two even
triangles. We deal with those independently.</p>
<ul class="simple">
<li>The <a class="reference internal" href="graph_generators.html#sage.graphs.graph_generators.GraphGenerators.CompleteGraph" title="sage.graphs.graph_generators.GraphGenerators.CompleteGraph"><code class="xref py py-meth docutils literal"><span class="pre">Complete</span> <span class="pre">graph</span></code></a> <span class="math">\(K_3\)</span>.</li>
<li>The <a class="reference internal" href="graph_generators.html#sage.graphs.graph_generators.GraphGenerators.DiamondGraph" title="sage.graphs.graph_generators.GraphGenerators.DiamondGraph"><code class="xref py py-meth docutils literal"><span class="pre">Diamond</span> <span class="pre">graph</span></code></a> &#8211; the line graph
of <span class="math">\(K_{1,3}\)</span> plus an edge.</li>
<li>The <a class="reference internal" href="graph_generators.html#sage.graphs.graph_generators.GraphGenerators.WheelGraph" title="sage.graphs.graph_generators.GraphGenerators.WheelGraph"><code class="xref py py-meth docutils literal"><span class="pre">Wheel</span> <span class="pre">graph</span></code></a> on <span class="math">\(4+1\)</span> vertices
&#8211; the line graph of the <a class="reference internal" href="graph_generators.html#sage.graphs.graph_generators.GraphGenerators.DiamondGraph" title="sage.graphs.graph_generators.GraphGenerators.DiamondGraph"><code class="xref py py-meth docutils literal"><span class="pre">Diamond</span> <span class="pre">graph</span></code></a></li>
<li>The <a class="reference internal" href="graph_generators.html#sage.graphs.graph_generators.GraphGenerators.OctahedralGraph" title="sage.graphs.graph_generators.GraphGenerators.OctahedralGraph"><code class="xref py py-meth docutils literal"><span class="pre">Octahedron</span></code></a> &#8211; the line
graph of <span class="math">\(K_4\)</span>.</li>
</ul>
<p>This decomposition turns out to be very easy to implement :-)</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Even though the root graph is <em>NOT UNIQUE</em> for the triangle, this method
returns <span class="math">\(K_{1,3}\)</span> (and not <span class="math">\(K_3\)</span>) in this case. Pay <em>very close</em> attention
to that, for this answer is not theoretically correct : there is no unique
answer in this case, and we deal with it by returning one of the two
possible answers.</p>
</div>
<table class="docutils citation" frame="void" id="whitney32" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[Whitney32]</a></td><td>Congruent graphs and the connectivity of graphs,
Whitney,
American Journal of Mathematics,
pages 150&#8211;168, 1932,
<a class="reference external" href="http://www.jstor.org/stable/2371086">available on JSTOR</a></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="harary69" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[Harary69]</a></td><td>Graph Theory,
Harary,
Addison-Wesley, 1969</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="beineke70" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[Beineke70]</a></td><td>Lowell Beineke,
Characterizations of derived graphs,
Journal of Combinatorial Theory,
Vol. 9(2), pages 129-135, 1970
<a class="reference external" href="http://dx.doi.org/10.1016/S0021-9800(70)80019-9">http://dx.doi.org/10.1016/S0021-9800(70)80019-9</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="sage.graphs.line_graph.is_line_graph">
<code class="descclassname">sage.graphs.line_graph.</code><code class="descname">is_line_graph</code><span class="sig-paren">(</span><em>g</em>, <em>certificate=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.line_graph.is_line_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests wether the graph is a line graph.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">certificate</span></code> (boolean) &#8211; whether to return a certificate along with
the boolean result. Here is what happens when <code class="docutils literal"><span class="pre">certificate</span> <span class="pre">=</span> <span class="pre">True</span></code>:<ul>
<li>If the graph is not a line graph, the method returns a pair <code class="docutils literal"><span class="pre">(b,</span>
<span class="pre">subgraph)</span></code> where <code class="docutils literal"><span class="pre">b</span></code> is <code class="docutils literal"><span class="pre">False</span></code> and <code class="docutils literal"><span class="pre">subgraph</span></code> is a subgraph
isomorphic to one of the 9 forbidden induced subgraphs of a line graph.</li>
<li>If the graph is a line graph, the method returns a triple <code class="docutils literal"><span class="pre">(b,R,isom)</span></code>
where <code class="docutils literal"><span class="pre">b</span></code> is <code class="docutils literal"><span class="pre">True</span></code>, <code class="docutils literal"><span class="pre">R</span></code> is a graph whose line graph is the graph
given as input, and <code class="docutils literal"><span class="pre">isom</span></code> is a map associating an edge of <code class="docutils literal"><span class="pre">R</span></code> to
each vertex of the graph.</li>
</ul>
</li>
</ul>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">This method sequentially tests each of the forbidden subgraphs in order
to know whether the graph is a line graph, which is a very slow
method. It could eventually be replaced by
<a class="reference internal" href="#sage.graphs.line_graph.root_graph" title="sage.graphs.line_graph.root_graph"><code class="xref py py-func docutils literal"><span class="pre">root_graph()</span></code></a> when this method will not
require an exponential time to run on general graphs anymore (see its
documentation for more information on this problem)...  and if it can be
improved to return negative certificates !</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method wastes a bit of time when the input graph is not
connected. If you have performance in mind, it is probably better to
only feed it with connected graphs only.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>The <a class="reference internal" href="#module-sage.graphs.line_graph" title="sage.graphs.line_graph"><code class="xref py py-mod docutils literal"><span class="pre">line_graph</span></code></a> module.</li>
<li><a class="reference internal" href="graph_generators.html#sage.graphs.graph_generators.GraphGenerators.line_graph_forbidden_subgraphs" title="sage.graphs.graph_generators.GraphGenerators.line_graph_forbidden_subgraphs"><code class="xref py py-meth docutils literal"><span class="pre">line_graph_forbidden_subgraphs()</span></code></a>
&#8211; the forbidden subgraphs of a line graph.</li>
<li><a class="reference internal" href="generic_graph.html#sage.graphs.generic_graph.GenericGraph.line_graph" title="sage.graphs.generic_graph.GenericGraph.line_graph"><code class="xref py py-meth docutils literal"><span class="pre">line_graph()</span></code></a></li>
</ul>
</div>
<p>EXAMPLES:</p>
<p>A complete graph is always the line graph of a star:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">graphs</span><span class="o">.</span><span class="n">CompleteGraph</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">is_line_graph</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The Petersen Graph not being claw-free, it is not a line
graph:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span><span class="o">.</span><span class="n">is_line_graph</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>This is indeed the subgraph returned:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span><span class="o">.</span><span class="n">is_line_graph</span><span class="p">(</span><span class="n">certificate</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">ClawGraph</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The house graph is a line graph:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">HouseGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_line_graph</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>But what is the graph whose line graph is the house ?:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">is_line</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">isom</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">is_line_graph</span><span class="p">(</span><span class="n">certificate</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">sparse6_string</span><span class="p">()</span>
<span class="go">&#39;:DaHI~&#39;</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">isom</span>
<span class="go">{0: (0, 1), 1: (0, 2), 2: (1, 3), 3: (2, 3), 4: (3, 4)}</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Disconnected graphs:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">graphs</span><span class="o">.</span><span class="n">CycleGraph</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">gl</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">line_graph</span><span class="p">()</span><span class="o">.</span><span class="n">relabel</span><span class="p">(</span><span class="n">inplace</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">new_g</span> <span class="o">=</span> <span class="n">gl</span><span class="o">.</span><span class="n">is_line_graph</span><span class="p">(</span><span class="n">certificate</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">line_graph</span><span class="p">()</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">gl</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.graphs.line_graph.line_graph">
<code class="descclassname">sage.graphs.line_graph.</code><code class="descname">line_graph</code><span class="sig-paren">(</span><em>self</em>, <em>labels=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.line_graph.line_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the line graph of the (di)graph.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">labels</span></code> (boolean) &#8211; whether edge labels should be taken in
consideration. If <code class="docutils literal"><span class="pre">labels=True</span></code>, the vertices of the line graph will be
triples <code class="docutils literal"><span class="pre">(u,v,label)</span></code>, and pairs of vertices otherwise.</p>
<p>This is set to <code class="docutils literal"><span class="pre">True</span></code> by default.</p>
</li>
</ul>
<p>The line graph of an undirected graph G is an undirected graph H such that
the vertices of H are the edges of G and two vertices e and f of H are
adjacent if e and f share a common vertex in G. In other words, an edge in H
represents a path of length 2 in G.</p>
<p>The line graph of a directed graph G is a directed graph H such that the
vertices of H are the edges of G and two vertices e and f of H are adjacent
if e and f share a common vertex in G and the terminal vertex of e is the
initial vertex of f. In other words, an edge in H represents a (directed)
path of length 2 in G.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As a <a class="reference internal" href="graph.html#sage.graphs.graph.Graph" title="sage.graphs.graph.Graph"><code class="xref py py-class docutils literal"><span class="pre">Graph</span></code></a> object only accepts hashable objects as vertices
(and as the vertices of the line graph are the edges of the graph), this
code will fail if edge labels are not hashable. You can also set the
argument <code class="docutils literal"><span class="pre">labels=False</span></code> to ignore labels.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>The <a class="reference internal" href="#module-sage.graphs.line_graph" title="sage.graphs.line_graph"><code class="xref py py-mod docutils literal"><span class="pre">line_graph</span></code></a> module.</li>
<li><a class="reference internal" href="graph_generators.html#sage.graphs.graph_generators.GraphGenerators.line_graph_forbidden_subgraphs" title="sage.graphs.graph_generators.GraphGenerators.line_graph_forbidden_subgraphs"><code class="xref py py-meth docutils literal"><span class="pre">line_graph_forbidden_subgraphs()</span></code></a>
&#8211; the forbidden subgraphs of a line graph.</li>
<li><a class="reference internal" href="graph.html#sage.graphs.graph.Graph.is_line_graph" title="sage.graphs.graph.Graph.is_line_graph"><code class="xref py py-meth docutils literal"><span class="pre">is_line_graph()</span></code></a> &#8211; tests whether a graph is a line graph.</li>
</ul>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">CompleteGraph</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">line_graph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
<span class="go">[(0, 1, None),</span>
<span class="go">(0, 2, None),</span>
<span class="go">(0, 3, None),</span>
<span class="go">(1, 2, None),</span>
<span class="go">(1, 3, None),</span>
<span class="go">(2, 3, None)]</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">am</span><span class="p">()</span>
<span class="go">[0 1 1 1 1 0]</span>
<span class="go">[1 0 1 1 0 1]</span>
<span class="go">[1 1 0 0 1 1]</span>
<span class="go">[1 1 0 0 1 1]</span>
<span class="go">[1 0 1 1 0 1]</span>
<span class="go">[0 1 1 1 1 0]</span>
<span class="gp">sage: </span><span class="n">h2</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">line_graph</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h2</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
<span class="go">[(0, 1), (0, 2), (0, 3), (1, 2), (1, 3), (2, 3)]</span>
<span class="gp">sage: </span><span class="n">h2</span><span class="o">.</span><span class="n">am</span><span class="p">()</span> <span class="o">==</span> <span class="n">h</span><span class="o">.</span><span class="n">am</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">DiGraph</span><span class="p">([[</span><span class="mf">1.</span><span class="o">.</span><span class="mi">4</span><span class="p">],</span><span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">j</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">line_graph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
<span class="go">[(1, 2, None),</span>
<span class="go">(1, 3, None),</span>
<span class="go">(1, 4, None),</span>
<span class="go">(2, 3, None),</span>
<span class="go">(2, 4, None),</span>
<span class="go">(3, 4, None)]</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
<span class="go">[((1, 2, None), (2, 3, None), None),</span>
<span class="go"> ((1, 2, None), (2, 4, None), None),</span>
<span class="go"> ((1, 3, None), (3, 4, None), None),</span>
<span class="go"> ((2, 3, None), (3, 4, None), None)]</span>
</pre></div>
</div>
<p>Tests:</p>
<p><a class="reference external" href="https://trac.sagemath.org/13787">trac ticket #13787</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">KneserGraph</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">CompleteGraph</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">line_graph</span><span class="p">()</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">line_graph</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.graphs.line_graph.root_graph">
<code class="descclassname">sage.graphs.line_graph.</code><code class="descname">root_graph</code><span class="sig-paren">(</span><em>g</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.graphs.line_graph.root_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the root graph corresponding to the given graph</p>
<p>See the documentation of <a class="reference internal" href="#module-sage.graphs.line_graph" title="sage.graphs.line_graph"><code class="xref py py-mod docutils literal"><span class="pre">sage.graphs.line_graph</span></code></a> to know how it works.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">g</span></code> &#8211; a graph</li>
<li><code class="docutils literal"><span class="pre">verbose</span></code> (boolean) &#8211; display some information about what is happening
inside of the algorithm.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is best to use this code through
<a class="reference internal" href="graph.html#sage.graphs.graph.Graph.is_line_graph" title="sage.graphs.graph.Graph.is_line_graph"><code class="xref py py-meth docutils literal"><span class="pre">is_line_graph()</span></code></a>, which first checks that
the graph is indeed a line graph, and deals with the disconnected
case. But if you are sure of yourself, dig in !</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<ul class="last simple">
<li>This code assumes that the graph is connected.</li>
<li>If the graph is <em>not</em> a line graph, this implementation will take a
loooooong time to run. Its first step is to enumerate all maximal
cliques, and that can take a while for general graphs. As soon as
there is a way to iterate over maximal cliques without first building
the (long) list of them this implementation can be updated, and will
deal reasonably with non-line graphs too !</li>
</ul>
</div>
<p>TESTS:</p>
<p>All connected graphs on 6 vertices:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.line_graph</span> <span class="kn">import</span> <span class="n">root_graph</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">g</span><span class="p">):</span>
<span class="go">....:    gl = g.line_graph(labels = False)</span>
<span class="go">....:    d=root_graph(gl)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">g</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">graphs</span><span class="p">(</span><span class="mi">6</span><span class="p">)):</span> <span class="c1"># long time</span>
<span class="go">....:   if not g.is_connected():       # long time</span>
<span class="go">....:     continue                     # long time</span>
<span class="go">....:   test(g)                        # long time</span>
</pre></div>
</div>
<p>Non line-graphs:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">root_graph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">())</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">This graph is not a line graph !</span>
</pre></div>
</div>
<p>Small corner-cases:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.line_graph</span> <span class="kn">import</span> <span class="n">root_graph</span>
<span class="gp">sage: </span><span class="n">root_graph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">CompleteGraph</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">(Complete bipartite graph: Graph on 4 vertices, {0: (0, 1), 1: (0, 2), 2: (0, 3)})</span>
<span class="gp">sage: </span><span class="n">root_graph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">OctahedralGraph</span><span class="p">())</span>
<span class="go">(Complete graph: Graph on 4 vertices, {0: (0, 1), 1: (0, 2), 2: (0, 3), 3: (1, 2), 4: (1, 3), 5: (2, 3)})</span>
<span class="gp">sage: </span><span class="n">root_graph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">DiamondGraph</span><span class="p">())</span>
<span class="go">(Graph on 4 vertices, {0: (0, 3), 1: (0, 1), 2: (0, 2), 3: (1, 2)})</span>
<span class="gp">sage: </span><span class="n">root_graph</span><span class="p">(</span><span class="n">graphs</span><span class="o">.</span><span class="n">WheelGraph</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">(Diamond Graph: Graph on 4 vertices, {0: (1, 2), 1: (0, 1), 2: (0, 2), 3: (2, 3), 4: (1, 3)})</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Line graphs</a><ul>
<li><a class="reference internal" href="#definition">Definition</a></li>
<li><a class="reference internal" href="#root-graph">Root graph</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="comparability.html"
                                  title="previous chapter">Comparability and permutation graphs</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="spanning_tree.html"
                                  title="next chapter">Spanning trees</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/graphs/line_graph.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="spanning_tree.html" title="Spanning trees"
             >next</a> |</li>
        <li class="right" >
          <a href="comparability.html" title="Comparability and permutation graphs"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Graph Theory</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005--2017, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>