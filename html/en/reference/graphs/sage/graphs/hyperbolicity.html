<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Hyperbolicity &mdash; Sage Reference Manual v6.6: Graph Theory</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.6: Graph Theory" href="../../index.html" />
    <link rel="next" title="Tutte polynomial" href="tutte_polynomial.html" />
    <link rel="prev" title="Lists of graphs" href="graph_list.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutte_polynomial.html" title="Tutte polynomial"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="graph_list.html" title="Lists of graphs"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Graph Theory</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="hyperbolicity">
<span id="sage-graphs-hyperbolicity"></span><h1>Hyperbolicity<a class="headerlink" href="#hyperbolicity" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.graphs.hyperbolicity"></span><p><strong>Definition</strong> :</p>
<blockquote>
<div><p>The hyperbolicity <span class="math">\(\delta\)</span> of a graph <span class="math">\(G\)</span> has been defined by Gromov
<a class="reference internal" href="#gromov87" id="id1">[Gromov87]</a> as follows (we give here the so-called 4-points condition):</p>
<blockquote>
<div><p>Let <span class="math">\(a, b, c, d\)</span> be vertices of the graph, let <span class="math">\(S_1\)</span>, <span class="math">\(S_2\)</span> and <span class="math">\(S_3\)</span> be
defined by</p>
<div class="math">
\[\begin{split}S_1 = dist(a, b) + dist(b, c)\\
S_2 = dist(a, c) + dist(b, d)\\
S_3 = dist(a, d) + dist(b, c)\\\end{split}\]</div>
<p>and let <span class="math">\(M_1\)</span> and <span class="math">\(M_2\)</span> be the two largest values among <span class="math">\(S_1\)</span>, <span class="math">\(S_2\)</span>, and
<span class="math">\(S_3\)</span>. We define <span class="math">\(hyp(a, b, c, d) = M_1 - M_2\)</span>, and the hyperbolicity
<span class="math">\(\delta(G)\)</span> of the graph is the maximum of <span class="math">\(hyp\)</span> over all possible
4-tuples <span class="math">\((a, b, c, d)\)</span> divided by 2. That is, the graph is said
<span class="math">\(\delta\)</span>-hyperbolic when</p>
<div class="math">
\[\delta(G) = \frac{1}{2}\max_{a,b,c,d\in V(G)}hyp(a, b, c, d)\]</div>
<p>(note that <span class="math">\(hyp(a, b, c, d)=0\)</span> whenever two elements among <span class="math">\(a,b,c,d\)</span> are equal)</p>
</div></blockquote>
</div></blockquote>
<p><strong>Some known results</strong> :</p>
<blockquote>
<div><ul class="simple">
<li>Trees and cliques are <span class="math">\(0\)</span>-hyperbolic</li>
<li><span class="math">\(n\times n\)</span> grids are <span class="math">\(n-1\)</span>-hyperbolic</li>
<li>Cycles are approximately <span class="math">\(n/4\)</span>-hyperbolic</li>
<li>Chordal graphs are <span class="math">\(\leq 1\)</span>-hyperbolic</li>
</ul>
<p>Besides, the hyperbolicity of a graph is the maximum over all its
biconnected components.</p>
</div></blockquote>
<p><strong>Algorithms and complexity</strong> :</p>
<blockquote>
<div><p>The time complexity of the naive implementation (i.e. testing all 4-tuples)
is <span class="math">\(O( n^4 )\)</span>, and an algorithm with time complexity <span class="math">\(O(n^{3.69})\)</span> has been
proposed in <a class="reference internal" href="#fiv12" id="id2">[FIV12]</a>.  This remains very long for large-scale graphs, and
much harder to implement.</p>
<p>Several improvements over the naive algorithm have been proposed and are
implemented in the current module.</p>
<ul>
<li><p class="first">It is shown in <a class="reference internal" href="#soto11" id="id3">[Soto11]</a> that <span class="math">\(hyp(a, b, c, d)\)</span> is upper bounded by the
smallest distance between the vertices in <span class="math">\(\{a,b,c,d\}\)</span> multiplied by 2.</p>
<div class="math">
\[hyp(a, b, c, d) \leq \min_{u,v\in\{a,b,c,d\}}2dist(u,v)\]</div>
<p>This result is used to reduce the number of tested 4-tuples in the naive
implementation (called &#8216;basic+&#8217;).</p>
</li>
<li><p class="first">Another upper bound on <span class="math">\(hyp(a, b, c, d)\)</span> has been proved in <a class="reference internal" href="#ccl12" id="id4">[CCL12]</a>. It
is used to design an algorithm with worse case time complexity in <span class="math">\(O(n^4)\)</span>
but that behaves much better in practice.</p>
<p>Assume that <span class="math">\(S_1 = dist(a, b) + dist(c, d)\)</span> is the largest sum among
<span class="math">\(S_1,S_2,S_3\)</span>. We have</p>
<div class="math">
\[\begin{split}S_2 + S_3 =&amp; dist(a, c) + dist(b, d) + dist(a, d) + dist(b, c)\\
=&amp; [ dist(a, c) + dist(b, c) ] + [ dist(a, d) + dist(b, d)]\\
\geq &amp;dist(a,b) + dist(a,b)\\
\geq &amp;2dist(a,b)\\\end{split}\]</div>
<p>Now, since <span class="math">\(S_1\)</span> is the largest sum, we have</p>
<div class="math">
\[\begin{split}hyp(a, b, c, d) =&amp; S_1 - \max\{S_2, S_3\}\\
\leq&amp; S_1 - \frac{S_2+ S_3}{2}\\
\leq&amp; S_1 - dist(a, b)\\
=&amp; dist(c, d)\\\end{split}\]</div>
<p>We obtain similarly that <span class="math">\(hyp(a, b, c, d) \leq dist(a, b)\)</span>. Consequently,
in the implementation of the &#8216;cuts&#8217; algorithm, we ensure that <span class="math">\(S_1\)</span> is
larger than <span class="math">\(S_2\)</span> and <span class="math">\(S_3\)</span> using an ordering of the pairs by decreasing
lengths. Then, we use the best value <span class="math">\(h\)</span> found so far to stop exploration
as soon as <span class="math">\(dist(a, b) \leq h\)</span>.</p>
<p>The worst case time complexity of this algorithm is <span class="math">\(O(n^4)\)</span>, but it
performs very well in practice since it cuts the search space.  This
algorithm can be turned into an approximation algorithm since at any step
of its execution we maintain an upper and a lower bound. We can thus stop
execution as soon as a multiplicative approximation factor or an additive
one is proven.</p>
</li>
<li><p class="first">The notion of &#8216;&#8217;far-apart pairs&#8217;&#8217; has been introduced in <a class="reference internal" href="#soto11" id="id5">[Soto11]</a> to
further reduce the number of 4-tuples to consider. We say that the pair
<span class="math">\((a,b)\)</span> is far-apart if for every <span class="math">\(w\)</span> in <span class="math">\(V\setminus\{a,b\}\)</span> we have</p>
<div class="math">
\[\begin{split}dist(w,a)+dist(a,b) &gt; dist(w,b) \text{ and }dist(w,b)+dist(a,b) &gt; dist(w,a)\end{split}\]</div>
<p>Determining the set of far-apart pairs can be done in time <span class="math">\(O(nm)\)</span> using
BFS. Now, it is proved in <a class="reference internal" href="#soto11" id="id6">[Soto11]</a> that there exists two far-apart pairs
<span class="math">\((a,b)\)</span> and <span class="math">\((c,d)\)</span> satisfying <span class="math">\(\delta(G) = hyp(a, b, c, d)/2\)</span>. For
instance, the <span class="math">\(n\times m\)</span>-grid has only two far-apart pairs, and so
computing its hyperbolicity is immediate once the far-apart pairs are
found. The &#8216;cuts+&#8217; algorithm improves the &#8216;cuts&#8217; algorithm since it uses
far-apart pairs.</p>
</li>
</ul>
</div></blockquote>
<p>TODO:</p>
<ul class="simple">
<li>Add exact methods for the hyperbolicity of chordal graphs</li>
<li>Add method for partitioning the graph with clique separators</li>
</ul>
<p><strong>This module contains the following functions</strong></p>
<p>At Python level :</p>
<table border="1" class="contentstable docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#sage.graphs.hyperbolicity.hyperbolicity" title="sage.graphs.hyperbolicity.hyperbolicity"><tt class="xref py py-meth docutils literal"><span class="pre">hyperbolicity()</span></tt></a></td>
<td>Return the hyperbolicity of the graph or an approximation of this value.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.graphs.hyperbolicity.hyperbolicity_distribution" title="sage.graphs.hyperbolicity.hyperbolicity_distribution"><tt class="xref py py-meth docutils literal"><span class="pre">hyperbolicity_distribution()</span></tt></a></td>
<td>Return the hyperbolicity distribution of the graph or a sampling of it.</td>
</tr>
</tbody>
</table>
<p>REFERENCES:</p>
<table class="docutils citation" frame="void" id="ccl12" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[CCL12]</a></td><td>N. Cohen, D. Coudert, and A. Lancin. Exact and approximate algorithms
for computing the hyperbolicity of large-scale graphs.  Research Report
RR-8074, Sep. 2012. [<a class="reference external" href="http://hal.inria.fr/hal-00735481">http://hal.inria.fr/hal-00735481</a>].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="fiv12" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[FIV12]</a></td><td>H. Fournier, A. Ismail, and A. Vigneron. Computing the Gromov
hyperbolicity of a discrete metric space. ArXiv, Tech. Rep. arXiv:1210.3323,
Oct. 2012. [<a class="reference external" href="http://arxiv.org/abs/1210.3323">http://arxiv.org/abs/1210.3323</a>].</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="gromov87" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Gromov87]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id7">2</a>, <a class="fn-backref" href="#id10">3</a>)</em> M. Gromov. Hyperbolic groups. Essays in Group Theory, 8:75&#8211;263,
1987.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="soto11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Soto11]</td><td><em>(<a class="fn-backref" href="#id3">1</a>, <a class="fn-backref" href="#id5">2</a>, <a class="fn-backref" href="#id6">3</a>, <a class="fn-backref" href="#id8">4</a>, <a class="fn-backref" href="#id9">5</a>)</em> M. A. Soto Gomez. 2011. Quelques proprietes topologiques des graphes
et applications a internet et aux reseaux. Ph.D. Dissertation. Univ. Paris
Diderot (Paris 7).</td></tr>
</tbody>
</table>
<p>AUTHORS:</p>
<ul class="simple">
<li>David Coudert (2012): initial version, exact and approximate algorithm,
distribution, sampling</li>
<li>David Coudert (2014): improved exact algorithm using far-apart pairs</li>
</ul>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="sage.graphs.hyperbolicity.hyperbolicity">
<tt class="descclassname">sage.graphs.hyperbolicity.</tt><tt class="descname">hyperbolicity</tt><big>(</big><em>G</em>, <em>algorithm='cuts'</em>, <em>approximation_factor=None</em>, <em>additive_gap=None</em>, <em>verbose=False</em><big>)</big><a class="headerlink" href="#sage.graphs.hyperbolicity.hyperbolicity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the hyperbolicity of the graph or an approximation of this value.</p>
<p>The hyperbolicity of a graph has been defined by Gromov <a class="reference internal" href="#gromov87" id="id7">[Gromov87]</a> as
follows: Let <span class="math">\(a, b, c, d\)</span> be vertices of the graph, let <span class="math">\(S_1 = dist(a, b) +
dist(b, c)\)</span>, <span class="math">\(S_2 = dist(a, c) + dist(b, d)\)</span>, and <span class="math">\(S_3 = dist(a, d) +
dist(b, c)\)</span>, and let <span class="math">\(M_1\)</span> and <span class="math">\(M_2\)</span> be the two largest values among <span class="math">\(S_1\)</span>,
<span class="math">\(S_2\)</span>, and <span class="math">\(S_3\)</span>. We have <span class="math">\(hyp(a, b, c, d) = |M_1 - M_2|\)</span>, and the
hyperbolicity of the graph is the maximum over all possible 4-tuples <span class="math">\((a, b,
c, d)\)</span> divided by 2. The worst case time complexity is in <span class="math">\(O( n^4 )\)</span>.</p>
<p>See the documentation of <a class="reference internal" href="#module-sage.graphs.hyperbolicity" title="sage.graphs.hyperbolicity"><tt class="xref py py-mod docutils literal"><span class="pre">sage.graphs.hyperbolicity</span></tt></a> for more
information.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">G</span></tt> &#8211; a connected Graph</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">algorithm</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">'cuts'</span></tt>) specifies the algorithm to use
among:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">'basic'</span></tt> is an exhaustive algorithm considering all possible
4-tuples and so have time complexity in <span class="math">\(O(n^4)\)</span>.</li>
<li><tt class="docutils literal"><span class="pre">'basic+'</span></tt> uses a cutting rule proposed in <a class="reference internal" href="#soto11" id="id8">[Soto11]</a> to
significantly reduce the overall computation time of the <tt class="docutils literal"><span class="pre">'basic'</span></tt>
algorithm.</li>
<li><tt class="docutils literal"><span class="pre">'cuts'</span></tt> is an exact algorithm proposed in [<a class="reference internal" href="#ccl12">CCL12</a>]. It considers
the 4-tuples in an ordering allowing to cut the search space as soon
as a new lower bound is found (see the module&#8217;s documentation). This
algorithm can be turned into a approximation algorithm.</li>
<li><tt class="docutils literal"><span class="pre">'cuts+'</span></tt> uses the notion of far-apart pairs as proposed in
<a class="reference internal" href="#soto11" id="id9">[Soto11]</a> to significantly reduce the overall computation time of
the <tt class="docutils literal"><span class="pre">'cuts'</span></tt> algorithm.</li>
<li><tt class="docutils literal"><span class="pre">'dom'</span></tt> is an approximation with additive constant four. It
computes the hyperbolicity of the vertices of a dominating set of
the graph. This is sometimes slower than <tt class="docutils literal"><span class="pre">'cuts'</span></tt> and sometimes
faster. Try it to know if it is interesting for you.
The <tt class="docutils literal"><span class="pre">additive_gap</span></tt> and <tt class="docutils literal"><span class="pre">approximation_factor</span></tt> parameters cannot
be used in combination with this method and so are ignored.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">approximation_factor</span></tt> &#8211; (default: None) When the approximation factor
is set to some value (larger than 1.0), the function stop computations as
soon as the ratio between the upper bound and the best found solution is
less than the approximation factor. When the approximation factor is 1.0,
the problem is solved optimaly. This parameter is used only when the
chosen algorithm is <tt class="docutils literal"><span class="pre">'cuts'</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">additive_gap</span></tt> &#8211; (default: None) When sets to a positive number, the
function stop computations as soon as the difference between the upper
bound and the best found solution is less than additive gap. When the gap
is 0.0, the problem is solved optimaly. This parameter is used only when
the chosen algorithm is <tt class="docutils literal"><span class="pre">'cuts'</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">verbose</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">False</span></tt>) is a boolean set to True to display
some information during execution: new upper and lower bounds, etc.</p>
</li>
</ul>
<p>OUTPUT:</p>
<p>This function returns the tuple ( delta, certificate, delta_UB ), where:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">delta</span></tt> &#8211; the hyperbolicity of the graph (half-integer value).</li>
<li><tt class="docutils literal"><span class="pre">certificate</span></tt> &#8211; is the list of the 4 vertices for which the maximum
value has been computed, and so the hyperbolicity of the graph.</li>
<li><tt class="docutils literal"><span class="pre">delta_UB</span></tt> &#8211; is an upper bound for <tt class="docutils literal"><span class="pre">delta</span></tt>. When <tt class="docutils literal"><span class="pre">delta</span> <span class="pre">==</span>
<span class="pre">delta_UB</span></tt>, the returned solution is optimal. Otherwise, the approximation
factor if <tt class="docutils literal"><span class="pre">delta_UB/delta</span></tt>.</li>
</ul>
<p>EXAMPLES:</p>
<p>Hyperbolicity of a <span class="math">\(3\times 3\)</span> grid:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">GridGraph</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;cuts&#39;</span><span class="p">)</span>
<span class="go">(2, [(0, 0), (0, 2), (2, 0), (2, 2)], 2)</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;basic&#39;</span><span class="p">)</span>
<span class="go">(2, [(0, 0), (0, 2), (2, 0), (2, 2)], 2)</span>
</pre></div>
</div>
<p>Hyperbolicity of a PetersenGraph:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;cuts&#39;</span><span class="p">)</span>
<span class="go">(1/2, [0, 1, 2, 3], 1/2)</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;cuts+&#39;</span><span class="p">)</span>
<span class="go">(1/2, [0, 1, 2, 3], 1/2)</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;basic&#39;</span><span class="p">)</span>
<span class="go">(1/2, [0, 1, 2, 3], 1/2)</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;basic+&#39;</span><span class="p">)</span>
<span class="go">(1/2, [0, 1, 2, 3], 1/2)</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;dom&#39;</span><span class="p">)</span>
<span class="go">(0, [0, 2, 8, 9], 1)</span>
</pre></div>
</div>
<p>Asking for an approximation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">GridGraph</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;cuts&#39;</span><span class="p">,</span> <span class="n">approximation_factor</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="go">(1, [(0, 0), (0, 9), (1, 0), (1, 9)], 3/2)</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;cuts&#39;</span><span class="p">,</span> <span class="n">approximation_factor</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">(1, [(0, 0), (0, 9), (1, 0), (1, 9)], 4)</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;cuts&#39;</span><span class="p">,</span> <span class="n">additive_gap</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(1, [(0, 0), (0, 9), (1, 0), (1, 9)], 3)</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;dom&#39;</span><span class="p">)</span>
<span class="go">(1, [(0, 1), (0, 9), (1, 0), (1, 8)], 5)</span>
</pre></div>
</div>
<p>Comparison of results:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span> <span class="c"># long time</span>
<span class="gp">... </span>      <span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">RandomBarabasiAlbert</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">... </span>      <span class="n">d1</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span> <span class="o">=</span> <span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;basic&#39;</span><span class="p">)</span>
<span class="gp">... </span>      <span class="n">d4</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span> <span class="o">=</span> <span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;basic+&#39;</span><span class="p">)</span>
<span class="gp">... </span>      <span class="n">d2</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span> <span class="o">=</span> <span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;cuts&#39;</span><span class="p">)</span>
<span class="gp">... </span>      <span class="n">d3</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span> <span class="o">=</span> <span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;cuts+&#39;</span><span class="p">)</span>
<span class="gp">... </span>      <span class="n">l3</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">u3</span> <span class="o">=</span> <span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">approximation_factor</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">... </span>      <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">d1</span><span class="o">==</span><span class="n">d2</span><span class="o">==</span><span class="n">d3</span><span class="o">==</span><span class="n">d4</span><span class="p">)</span> <span class="ow">or</span> <span class="n">l3</span><span class="o">&gt;</span><span class="n">d1</span> <span class="ow">or</span> <span class="n">u3</span><span class="o">&lt;</span><span class="n">d1</span><span class="p">:</span>
<span class="gp">... </span>         <span class="k">print</span> <span class="s">&quot;That&#39;s not good!&quot;</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Giving anything else than a Graph:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">([])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">The input parameter must be a Graph.</span>
</pre></div>
</div>
<p>Giving a non connected graph:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">The input Graph must be connected.</span>
</pre></div>
</div>
<p>Giving wrong approximation factor:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;cuts&#39;</span><span class="p">,</span> <span class="n">approximation_factor</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">The approximation factor must be &gt;= 1.0.</span>
</pre></div>
</div>
<p>Giving negative additive gap:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;cuts&#39;</span><span class="p">,</span> <span class="n">additive_gap</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">The additive gap must be &gt;= 0 when using the &#39;cuts&#39; algorithm.</span>
</pre></div>
</div>
<p>Asking for an unknown algorithm:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">hyperbolicity</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;tip top&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">Algorithm &#39;tip top&#39; not yet implemented. Please contribute.</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.graphs.hyperbolicity.hyperbolicity_distribution">
<tt class="descclassname">sage.graphs.hyperbolicity.</tt><tt class="descname">hyperbolicity_distribution</tt><big>(</big><em>G</em>, <em>algorithm='sampling'</em>, <em>sampling_size=1000000</em><big>)</big><a class="headerlink" href="#sage.graphs.hyperbolicity.hyperbolicity_distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the hyperbolicity distribution of the graph or a sampling of it.</p>
<p>The hyperbolicity of a graph has been defined by Gromov <a class="reference internal" href="#gromov87" id="id10">[Gromov87]</a> as
follows: Let <span class="math">\(a, b, c, d\)</span> be vertices of the graph, let <span class="math">\(S_1 = dist(a, b) +
dist(b, c)\)</span>, <span class="math">\(S_2 = dist(a, c) + dist(b, d)\)</span>, and <span class="math">\(S_3 = dist(a, d) +
dist(b, c)\)</span>, and let <span class="math">\(M_1\)</span> and <span class="math">\(M_2\)</span> be the two largest values among <span class="math">\(S_1\)</span>,
<span class="math">\(S_2\)</span>, and <span class="math">\(S_3\)</span>. We have <span class="math">\(hyp(a, b, c, d) = |M_1 - M_2|\)</span>, and the
hyperbolicity of the graph is the maximum over all possible 4-tuples <span class="math">\((a, b,
c, d)\)</span> divided by 2.</p>
<p>The computation of the hyperbolicity of each 4-tuple, and so the
hyperbolicity distribution, takes time in <span class="math">\(O( n^4 )\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">G</span></tt> &#8211; a Graph.</li>
<li><tt class="docutils literal"><span class="pre">algorithm</span></tt> &#8211; (default: &#8216;sampling&#8217;) When algorithm is &#8216;sampling&#8217;, it
returns the distribution of the hyperbolicity over a sample of
<tt class="docutils literal"><span class="pre">sampling_size</span></tt> 4-tuples. When algorithm is &#8216;exact&#8217;, it computes the
distribution of the hyperbolicity over all 4-tuples. Be aware that the
computation time can be HUGE.</li>
<li><tt class="docutils literal"><span class="pre">sampling_size</span></tt> &#8211; (default: <span class="math">\(10^6\)</span>) number of 4-tuples considered in
the sampling. Used only when <tt class="docutils literal"><span class="pre">algorithm</span> <span class="pre">==</span> <span class="pre">'sampling'</span></tt>.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">hdict</span></tt> &#8211; A dictionnary such that hdict[i] is the number of 4-tuples of
hyperbolicity i.</li>
</ul>
<p>EXAMPLES:</p>
<p>Exact hyperbolicity distribution of the Petersen Graph:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity_distribution</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">hyperbolicity_distribution</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;exact&#39;</span><span class="p">)</span>
<span class="go">{0: 3/7, 1/2: 4/7}</span>
</pre></div>
</div>
<p>Exact hyperbolicity distribution of a <span class="math">\(3\times 3\)</span> grid:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity_distribution</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">GridGraph</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">hyperbolicity_distribution</span><span class="p">(</span><span class="n">G</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;exact&#39;</span><span class="p">)</span>
<span class="go">{0: 11/18, 1: 8/21, 2: 1/126}</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Giving anythin else than a Graph:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity_distribution</span>
<span class="gp">sage: </span><span class="n">hyperbolicity_distribution</span><span class="p">([])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">The input parameter must be a Graph.</span>
</pre></div>
</div>
<p>Giving a non connected graph:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.graphs.hyperbolicity</span> <span class="kn">import</span> <span class="n">hyperbolicity_distribution</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">hyperbolicity_distribution</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">The input Graph must be connected.</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Hyperbolicity</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="graph_list.html"
                                  title="previous chapter">Lists of graphs</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="tutte_polynomial.html"
                                  title="next chapter">Tutte polynomial</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/graphs/hyperbolicity.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutte_polynomial.html" title="Tutte polynomial"
             >next</a> |</li>
        <li class="right" >
          <a href="graph_list.html" title="Lists of graphs"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Graph Theory</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>