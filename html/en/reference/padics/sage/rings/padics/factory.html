
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Factory &#8212; $p$-adics</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sage.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/thebelab.css" />
    
    <script data-url_root="../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <script async="async" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Local Generic" href="local_generic.html" />
    <link rel="prev" title="Introduction to the \(p\)-adics" href="tutorial.html" />
  <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />
  <!-- <script src="../../../../_static/thebe.js" type="text/javascript"></script> -->
  <!-- <script src="../../../../_static/thebe-sage.js" type="text/javascript"></script> -->

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="local_generic.html" title="Local Generic"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Introduction to the \(p\)-adics"
             accesskey="P">previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="../../../../_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../../../../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="../../../../index.html">Reference Manual</a> &#187;
      
      <a href="../../../index.html">$p$-adics</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Factory</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="factory">
<span id="sage-rings-padics-factory"></span><h1>Factory<a class="headerlink" href="#factory" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.rings.padics.factory"></span><p>This file contains the constructor classes and functions for <span class="math notranslate nohighlight">\(p\)</span>-adic rings and fields.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>David Roe</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.QpCR">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">QpCR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.QpCR" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped relative <span class="math notranslate nohighlight">\(p\)</span>-adic fields.</p>
<p>Same functionality as <code class="docutils literal notranslate"><span class="pre">Qp</span></code>.  See documentation for <code class="docutils literal notranslate"><span class="pre">Qp</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QpCR</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">5-adic Field with capped relative precision 40</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.QpER">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">QpER</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">halt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.QpER" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create relaxed <span class="math notranslate nohighlight">\(p\)</span>-adic fields.</p>
<p>See <a class="reference internal" href="#sage.rings.padics.factory.ZpER" title="sage.rings.padics.factory.ZpER"><code class="xref py py-func docutils literal notranslate"><span class="pre">ZpER()</span></code></a> for more information about this model of precision.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">QpER</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">2-adic Field handled with relaxed arithmetics</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.QpFP">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">QpFP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.QpFP" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create floating point <span class="math notranslate nohighlight">\(p\)</span>-adic fields.</p>
<p>Same functionality as <code class="docutils literal notranslate"><span class="pre">Qp</span></code>.  See documentation for <code class="docutils literal notranslate"><span class="pre">Qp</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QpFP</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">5-adic Field with floating precision 40</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.QpLC">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">QpLC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.QpLC" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create <span class="math notranslate nohighlight">\(p\)</span>-adic fields with lattice precision.</p>
<p>See <a class="reference internal" href="#sage.rings.padics.factory.ZpLC" title="sage.rings.padics.factory.ZpLC"><code class="xref py py-func docutils literal notranslate"><span class="pre">ZpLC()</span></code></a> for more information about this model of precision.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">QpLC</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">2-adic Field with lattice-cap precision</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.QpLF">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">QpLF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.QpLF" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create <span class="math notranslate nohighlight">\(p\)</span>-adic fields with lattice precision.</p>
<p>See <a class="reference internal" href="#sage.rings.padics.factory.ZpLC" title="sage.rings.padics.factory.ZpLC"><code class="xref py py-func docutils literal notranslate"><span class="pre">ZpLC()</span></code></a> for more information about this model of precision.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">QpLF</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">2-adic Field with lattice-float precision</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.padics.factory.Qp_class">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">Qp_class</span></span><a class="headerlink" href="#sage.rings.padics.factory.Qp_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../structure/sage/structure/factory.html#sage.structure.factory.UniqueFactory" title="(in Parents and Elements v9.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.factory.UniqueFactory</span></code></a></p>
<p>A creation function for <span class="math notranslate nohighlight">\(p\)</span>-adic fields.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> – integer: the <span class="math notranslate nohighlight">\(p\)</span> in <span class="math notranslate nohighlight">\(\QQ_p\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prec</span></code> – integer (default: <code class="docutils literal notranslate"><span class="pre">20</span></code>) the precision cap of the field.
In the lattice capped case, <code class="docutils literal notranslate"><span class="pre">prec</span></code> can either be a
pair (<code class="docutils literal notranslate"><span class="pre">relative_cap</span></code>, <code class="docutils literal notranslate"><span class="pre">absolute_cap</span></code>) or an integer
(understood at relative cap).
In the relaxed case, <code class="docutils literal notranslate"><span class="pre">prec</span></code> can be either a
pair (<code class="docutils literal notranslate"><span class="pre">default_prec</span></code>, <code class="docutils literal notranslate"><span class="pre">halting_prec</span></code>) or an integer
(understood at default precision).
Except in the floating point case, individual elements keep track of
their own precision.  See TYPES and PRECISION below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> – string (default: <code class="docutils literal notranslate"><span class="pre">'capped-rel'</span></code>) Valid types are
<code class="docutils literal notranslate"><span class="pre">'capped-rel'</span></code>, <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code>, <code class="docutils literal notranslate"><span class="pre">'lattice-cap'</span></code>, <code class="docutils literal notranslate"><span class="pre">'lattice-float'</span></code>.
See TYPES and PRECISION below</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_mode</span></code> – string (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>).  Valid modes are ‘series’,
‘val-unit’, ‘terse’, ‘digits’, and ‘bars’. See PRINTING below</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">names</span></code> – string or tuple (defaults to a string representation of
<span class="math notranslate nohighlight">\(p\)</span>).  What to use whenever <span class="math notranslate nohighlight">\(p\)</span> is printed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ram_name</span></code> – string.  Another way to specify the name; for
consistency with the <code class="docutils literal notranslate"><span class="pre">Qq</span></code> and <code class="docutils literal notranslate"><span class="pre">Zq</span></code> and extension functions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_pos</span></code> – bool (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) Whether to only use positive
integers in the representations of elements. See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_sep</span></code> – string (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The separator character used
in the <code class="docutils literal notranslate"><span class="pre">'bars'</span></code> mode. See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_alphabet</span></code> – tuple (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The encoding into digits
for use in the ‘digits’ mode. See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_max_terms</span></code> – integer (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The maximum number of
terms shown.  See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">show_prec</span></code> – a boolean or a string (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) Specify how
the precision is printed. See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check</span></code> – bool (default <code class="docutils literal notranslate"><span class="pre">True</span></code>) whether to check if <span class="math notranslate nohighlight">\(p\)</span> is prime.
Non-prime input may cause seg-faults (but can also be useful for
base n expansions for example)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">label</span></code> – string (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) used for lattice precision to
create parents with different lattices.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>The corresponding <span class="math notranslate nohighlight">\(p\)</span>-adic field.</p></li>
</ul>
<p>TYPES AND PRECISION:</p>
<p>There are two main types of precision for a <span class="math notranslate nohighlight">\(p\)</span>-adic element.
The first is relative precision, which gives the number of known
<span class="math notranslate nohighlight">\(p\)</span>-adic digits:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">675</span><span class="p">);</span> <span class="n">a</span>
<span class="go">2*5^2 + 5^4 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">precision_relative</span><span class="p">()</span>
<span class="go">20</span>
</pre></div>
</div>
<p>The second type of precision is absolute precision, which gives
the power of <span class="math notranslate nohighlight">\(p\)</span> that this element is defined modulo:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">22</span>
</pre></div>
</div>
<p>There are several types of <span class="math notranslate nohighlight">\(p\)</span>-adic fields, depending on the methods
used for tracking precision. Namely, we have:</p>
<ul class="simple">
<li><p>capped relative fields (<code class="docutils literal notranslate"><span class="pre">type='capped-rel'</span></code>)</p></li>
<li><p>capped absolute fields (<code class="docutils literal notranslate"><span class="pre">type='capped-abs'</span></code>)</p></li>
<li><p>fixed modulus fields (<code class="docutils literal notranslate"><span class="pre">type='fixed-mod'</span></code>)</p></li>
<li><p>floating point fields (<code class="docutils literal notranslate"><span class="pre">type='floating-point'</span></code>)</p></li>
<li><p>lattice precision fields (<code class="docutils literal notranslate"><span class="pre">type='lattice-cap'</span></code> or <code class="docutils literal notranslate"><span class="pre">type='lattice-float'</span></code>)</p></li>
<li><p>exact fields with relaxed arithmetics (<code class="docutils literal notranslate"><span class="pre">type='relaxed'</span></code>)</p></li>
</ul>
<p>In the capped relative case, the relative precision of an element
is restricted to be at most a certain value, specified at the
creation of the field.  Individual elements also store their own
precision, so the effect of various arithmetic operations on
precision is tracked.  When you cast an exact element into a
capped relative field, it truncates it to the precision cap of the
field.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4006</span><span class="p">);</span> <span class="n">a</span>
<span class="go">1 + 5 + 2*5^3 + 5^4 + O(5^5)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4025</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^2 + 2*5^3 + 5^4 + 5^5 + O(5^7)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="go">1 + 5 + 5^2 + 4*5^3 + 2*5^4 + O(5^5)</span>
</pre></div>
</div>
<p>In the floating point case, elements do not track their
precision, but the relative precision of elements is truncated
during arithmetic to the precision cap of the field.</p>
<p>In the lattice case, precision on elements is tracked by a global
lattice that is updated after every operation, yielding better
precision behavior at the cost of higher memory and runtime usage.
We refer to the documentation of the function <a class="reference internal" href="#sage.rings.padics.factory.ZpLC" title="sage.rings.padics.factory.ZpLC"><code class="xref py py-func docutils literal notranslate"><span class="pre">ZpLC()</span></code></a> for a
small demonstration of the capabilities of this precision model.</p>
<p>Finally, the model for relaxed <span class="math notranslate nohighlight">\(p\)</span>-adics is quite different from any of
the other types. In addition to storing a finite approximation, one
also stores a method for increasing the precision.
A quite interesting feature with relaxed <span class="math notranslate nohighlight">\(p\)</span>-adics is the possibility to
create (in some cases) self-referent numbers, that are numbers whose
<span class="math notranslate nohighlight">\(n\)</span>-th digit is defined by the previous ones.
We refer to the documentation of the function <code class="xref py py-func docutils literal notranslate"><span class="pre">ZpL()</span></code> for a
small demonstration of the capabilities of this precision model.</p>
<p>PRINTING:</p>
<p>There are many different ways to print <span class="math notranslate nohighlight">\(p\)</span>-adic elements.  The way
elements of a given field print is controlled by options passed in
at the creation of the field.  There are five basic printing modes
(series, val-unit, terse, digits and bars), as well as various
options that either hide some information in the print
representation or sometimes make print representations more
compact.  Note that the printing options affect whether different
<span class="math notranslate nohighlight">\(p\)</span>-adic fields are considered equal.</p>
<ol class="arabic">
<li><p><strong>series</strong>: elements are displayed as series in <span class="math notranslate nohighlight">\(p\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">3*5^2 + 3*5^4 + 2*5^5 + 4*5^6 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2*5^2 + 4*5^3 + 5^4 + 2*5^5 + 4*5^7 + 4*5^8 + 4*5^9 + 4*5^10 + 4*5^11 + 4*5^12 + 4*5^13 + 4*5^14 + 4*5^15 + 4*5^16 + 4*5^17 + 4*5^18 + 4*5^19 + 4*5^20 + 4*5^21 + O(5^22)</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><em>print_pos</em> controls whether negatives can be used in the
coefficients of powers of <span class="math notranslate nohighlight">\(p\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">-2*5^2 + 5^3 - 2*5^4 - 2*5^5 + 5^7 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2*5^2 - 5^3 + 2*5^4 + 2*5^5 - 5^7 + O(5^22)</span>
</pre></div>
</div>
<p><em>print_max_terms</em> limits the number of terms that appear.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;2*5^2 + 4*5^3 + 5^4 + 2*5^5 + ... + O(5^22)&#39;</span>
</pre></div>
</div>
<p><em>names</em> affects how the prime is printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">p</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="n">p</span>
<span class="go">p + O(p^21)</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>) or ‘bigoh’.
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> type
and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">)(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">1 + 5 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">1 + 5</span>

<span class="gp">sage: </span><span class="n">QpFP</span><span class="p">(</span><span class="mi">5</span><span class="p">)(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">1 + 5</span>
</pre></div>
</div>
<p><em>print_sep</em> and <em>print_alphabet</em> have no effect in series mode.</p>
<p>Note that print options affect equality:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p><strong>val-unit</strong>: elements are displayed as p^k*u:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">5^2 * 2828 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^-1 * 95367431639918 + O(5^19)</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><em>print_pos</em> controls whether to use a balanced representation or
not.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^2 * (-2828) + O(5^22)</span>
</pre></div>
</div>
<p><em>names</em> affects how the prime is printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;pi&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">pi^2 * 2828 + O(pi^22)</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>) or ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>).
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> type
and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="mi">30</span><span class="p">)</span>
<span class="go">5 * 6</span>
</pre></div>
</div>
<p><em>print_max_terms</em>, <em>print_sep</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="3">
<li><p><strong>terse</strong>: elements are displayed as an integer in base 10 or the
quotient of an integer by a power of <span class="math notranslate nohighlight">\(p\)</span> (still in base 10):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">70700 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2384185790944925 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span> <span class="n">c</span>
<span class="go">95367431639918/5 + O(5^19)</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>The denominator, as of version 3.3, is always printed
explicitly as a power of <span class="math notranslate nohighlight">\(p\)</span>, for predictability.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">d</span>
<span class="go">707/5^2 + O(5^18)</span>
</pre></div>
</div>
<p><em>print_pos</em> controls whether to use a balanced representation or not.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">-70700 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span> <span class="n">c</span>
<span class="go">-707/5 + O(5^19)</span>
</pre></div>
</div>
<p><em>name</em> affects how the name is printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">unif</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">);</span> <span class="n">c</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span> <span class="n">c</span>
<span class="go">95367431639918/unif + O(unif^19)</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">10</span><span class="p">);</span> <span class="n">d</span>
<span class="go">95367431639918/unif^10 + O(unif^10)</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>) or ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>).
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> type
and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
<p><em>print_max_terms</em>, <em>print_sep</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p><strong>digits</strong>: elements are displayed as a string of base <span class="math notranslate nohighlight">\(p\)</span> digits</p></li>
</ol>
<blockquote>
<div><p>Restriction: you can only use the digits printing mode for
small primes.  Namely, <span class="math notranslate nohighlight">\(p\)</span> must be less than the length of the
alphabet tuple (default alphabet has length 62).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...0000000000000004230300&#39;</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...4444444444444440214200&#39;</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">&#39;...4444444444444443413.3&#39;</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&#39;...444444444444444341.33&#39;</span>
</pre></div>
</div>
<p>Observe that the significant 0’s are printed even if they are
located in front of the number. On the contrary, unknown digits
located after the comma appears as question marks.
The precision can therefore be read in this mode as well.
Here are more examples:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="mi">7</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">&#39;...0000000001&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="n">p</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span>
<span class="go">&#39;...000000000100&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="n">p</span><span class="o">^-</span><span class="mi">5</span><span class="p">))</span>
<span class="go">&#39;...00000.00001&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="n">p</span><span class="o">^-</span><span class="mi">20</span><span class="p">))</span>
<span class="go">&#39;...?.??????????0000000001&#39;</span>
</pre></div>
</div>
<p><em>print_max_terms</em> limits the number of digits that are printed.
Note that if the valuation of the element is very negative, more
digits will be printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">)</span>
<span class="go">2*5^2 + 4*5^3 + 5^4 + 2*5^5 + ... + O(5^22)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3*5^-2 + 3*5^-1 + 1 + 4*5 + ... + O(5^18)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">3*5^-6 + 3*5^-5 + 5^-4 + 4*5^-3 + ... + O(5^14)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">6</span><span class="p">,</span><span class="n">absprec</span><span class="o">=-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3*5^-6 + 3*5^-5 + 5^-4 + 4*5^-3 + O(5^-2)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">3*5^-4 + 3*5^-3 + 5^-2 + 4*5^-1 + ... + O(5^16)</span>
</pre></div>
</div>
<p><em>print_alphabet</em> controls the symbols used to substitute for digits
greater than 9.</p>
<p>Defaults to (‘0’, ‘1’, ‘2’, ‘3’, ‘4’, ‘5’, ‘6’, ‘7’, ‘8’, ‘9’, ‘A’, ‘B’, ‘C’, ‘D’, ‘E’, ‘F’, ‘G’, ‘H’, ‘I’, ‘J’, ‘K’, ‘L’, ‘M’, ‘N’, ‘O’, ‘P’, ‘Q’, ‘R’, ‘S’, ‘T’, ‘U’, ‘V’, ‘W’, ‘X’, ‘Y’, ‘Z’, ‘a’, ‘b’, ‘c’, ‘d’, ‘e’, ‘f’, ‘g’, ‘h’, ‘i’, ‘j’, ‘k’, ‘l’, ‘m’, ‘n’, ‘o’, ‘p’, ‘q’, ‘r’, ‘s’, ‘t’, ‘u’, ‘v’, ‘w’, ‘x’, ‘y’, ‘z’):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="n">print_alphabet</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">));</span> <span class="nb">repr</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">))</span>
<span class="go">&#39;...5555555555555551325311&#39;</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘dots’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>) or ‘bigoh’.
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> type
and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">&#39;...00000000000000000011&#39;</span>

<span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="s1">&#39;bigoh&#39;</span><span class="p">)(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">&#39;11 + O(5^20)&#39;</span>
</pre></div>
</div>
<p><em>print_pos</em>, <em>name</em> and <em>print_sep</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="5">
<li><p><strong>bars</strong>: elements are displayed as a string of base <span class="math notranslate nohighlight">\(p\)</span> digits
with separators:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...4|2|3|0|3|0|0&#39;</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...4|4|4|4|4|4|4|4|4|4|4|4|4|4|4|0|2|1|4|2|0|0&#39;</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&#39;...4|4|4|4|4|4|4|4|4|4|4|4|4|4|4|3|4|1|.|3|3&#39;</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>Again, note that it’s not possible to read off the precision from the representation in this mode.</p>
<p><em>print_pos</em> controls whether the digits can be negative.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span><span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...-1|0|2|2|-1|2|0|0&#39;</span>
</pre></div>
</div>
<p><em>print_max_terms</em> limits the number of digits that are printed.
Note that if the valuation of the element is very negative, more
digits will be printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">)</span>
<span class="go">2*5^2 + 4*5^3 + 5^4 + 2*5^5 + ... + O(5^22)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3*5^-2 + 3*5^-1 + 1 + 4*5 + ... + O(5^18)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">3*5^-6 + 3*5^-5 + 5^-4 + 4*5^-3 + ... + O(5^14)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">6</span><span class="p">,</span><span class="n">absprec</span><span class="o">=-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3*5^-6 + 3*5^-5 + 5^-4 + 4*5^-3 + O(5^-2)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">3*5^-4 + 3*5^-3 + 5^-2 + 4*5^-1 + ... + O(5^16)</span>
</pre></div>
</div>
<p><em>print_sep</em> controls the separation character.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_sep</span><span class="o">=</span><span class="s1">&#39;][&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">U</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...4][2][3][0][3][0][0&#39;</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘dots’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>) or ‘bigoh’
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> type
and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="s1">&#39;bigoh&#39;</span><span class="p">)(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">&#39;...1|1 + O(5^20)&#39;</span>
</pre></div>
</div>
<p><em>name</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">K</span><span class="p">(</span><span class="mi">999</span><span class="p">);</span> <span class="n">a</span>
<span class="go">9 + 6*15 + 4*15^2 + O(15^20)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.padics.factory.Qp_class.create_key">
<span class="sig-name descname"><span class="pre">create_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'capped-rel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ram_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_alphabet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Qp_class.create_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a key from input parameters for <code class="docutils literal notranslate"><span class="pre">Qp</span></code>.</p>
<p>See the documentation for <code class="docutils literal notranslate"><span class="pre">Qp</span></code> for more information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.padics.factory.Qp_class.create_object">
<span class="sig-name descname"><span class="pre">create_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Qp_class.create_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an object using a given key.</p>
<p>See the documentation for <code class="docutils literal notranslate"><span class="pre">Qp</span></code> for more information.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.Qq">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">Qq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'capped-rel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modulus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ram_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_ram_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_unram_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_terse_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">implementation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FLINT'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Qq" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a prime power <span class="math notranslate nohighlight">\(q = p^n\)</span>, return the unique unramified
extension of <span class="math notranslate nohighlight">\(\QQ_p\)</span> of degree <span class="math notranslate nohighlight">\(n\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code> – integer, list, tuple or <code class="docutils literal notranslate"><span class="pre">Factorization</span></code> object. If <code class="docutils literal notranslate"><span class="pre">q</span></code> is an
integer, it is the prime power <span class="math notranslate nohighlight">\(q\)</span> in <span class="math notranslate nohighlight">\(\QQ_q\)</span>. If <code class="docutils literal notranslate"><span class="pre">q</span></code> is a
<code class="docutils literal notranslate"><span class="pre">Factorization</span></code> object, it is the factorization of the prime power <span class="math notranslate nohighlight">\(q\)</span>.
As a tuple it is the pair <code class="docutils literal notranslate"><span class="pre">(p,</span> <span class="pre">n)</span></code>, and as a list it is a single
element list <code class="docutils literal notranslate"><span class="pre">[(p,</span> <span class="pre">n)]</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prec</span></code> – integer (default: <code class="docutils literal notranslate"><span class="pre">20</span></code>) the precision cap of the field.
Individual elements keep track of their own precision.  See
TYPES and PRECISION below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> – string (default: <code class="docutils literal notranslate"><span class="pre">'capped-rel'</span></code>) Valid types are
<code class="docutils literal notranslate"><span class="pre">'capped-rel'</span></code>, <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code>, <code class="docutils literal notranslate"><span class="pre">'lattice-cap'</span></code>
and <code class="docutils literal notranslate"><span class="pre">'lattice-float'</span></code>.  See TYPES and PRECISION below</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">modulus</span></code> – polynomial (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) A polynomial defining an
unramified extension of <span class="math notranslate nohighlight">\(\QQ_p\)</span>.  See MODULUS below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">names</span></code> – string or tuple (<code class="docutils literal notranslate"><span class="pre">None</span></code> is only allowed when <span class="math notranslate nohighlight">\(q=p\)</span>).  The
name of the generator, reducing to a generator of the residue
field.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_mode</span></code> – string (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>).  Valid modes are <code class="docutils literal notranslate"><span class="pre">'series'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'val-unit'</span></code>, <code class="docutils literal notranslate"><span class="pre">'terse'</span></code>, and <code class="docutils literal notranslate"><span class="pre">'bars'</span></code>. See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ram_name</span></code> – string (defaults to string representation of <span class="math notranslate nohighlight">\(p\)</span> if
None).  <code class="docutils literal notranslate"><span class="pre">ram_name</span></code> controls how the prime is printed. See PRINTING
below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">res_name</span></code> – string (defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, which corresponds to
adding a <code class="docutils literal notranslate"><span class="pre">'0'</span></code> to the end of the name).  Controls how elements of
the reside field print.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_pos</span></code> – bool (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) Whether to only use positive
integers in the representations of elements. See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_sep</span></code> – string (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The separator character used
in the <code class="docutils literal notranslate"><span class="pre">'bars'</span></code> mode. See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_max_ram_terms</span></code> – integer (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The maximum number
of powers of <span class="math notranslate nohighlight">\(p\)</span> shown.  See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_max_unram_terms</span></code> – integer (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The maximum
number of entries shown in a coefficient of <span class="math notranslate nohighlight">\(p\)</span>.  See PRINTING
below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_max_terse_terms</span></code> – integer (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The maximum
number of terms in the polynomial representation of an element
(using <code class="docutils literal notranslate"><span class="pre">'terse'</span></code>).  See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">show_prec</span></code> – bool (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) whether to show the precision
for elements.  See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check</span></code> – bool (default <code class="docutils literal notranslate"><span class="pre">True</span></code>) whether to check inputs.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>The corresponding unramified <span class="math notranslate nohighlight">\(p\)</span>-adic field.</p></li>
</ul>
<p>TYPES AND PRECISION:</p>
<p>There are two types of precision for a <span class="math notranslate nohighlight">\(p\)</span>-adic element.  The first
is relative precision, which gives the number of known <span class="math notranslate nohighlight">\(p\)</span>-adic
digits:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">25</span><span class="o">*</span><span class="n">a</span><span class="p">;</span> <span class="n">b</span>
<span class="go">a*5^2 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_relative</span><span class="p">()</span>
<span class="go">20</span>
</pre></div>
</div>
<p>The second type of precision is absolute precision, which gives
the power of <span class="math notranslate nohighlight">\(p\)</span> that this element is defined modulo:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">22</span>
</pre></div>
</div>
<p>There are two types of unramified <span class="math notranslate nohighlight">\(p\)</span>-adic fields: capped relative
fields, floating point fields.</p>
<p>In the capped relative case, the relative precision of an element
is restricted to be at most a certain value, specified at the
creation of the field.  Individual elements also store their own
precision, so the effect of various arithmetic operations on
precision is tracked.  When you cast an exact element into a
capped relative field, it truncates it to the precision cap of the
field.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">;</span> <span class="n">b</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 1)*3^2 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">3249</span><span class="p">);</span> <span class="n">c</span>
<span class="go">3^2 + 3^4 + 3^5 + 3^6 + O(3^7)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">+</span> <span class="n">c</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 2)*3^2 + 3^4 + O(3^5)</span>
</pre></div>
</div>
<p>In the floating point case, elements do not track their
precision, but the relative precision of elements is truncated
during arithmetic to the precision cap of the field.</p>
<p>MODULUS:</p>
<p>The modulus needs to define an unramified extension of <span class="math notranslate nohighlight">\(\QQ_p\)</span>: when it
is reduced to a polynomial over <span class="math notranslate nohighlight">\(\GF{p}\)</span> it should be irreducible.</p>
<p>The modulus can be given in a number of forms.</p>
<ol class="arabic simple">
<li><p>A <strong>polynomial</strong>.</p></li>
</ol>
<blockquote>
<div><p>The base ring can be <span class="math notranslate nohighlight">\(\ZZ\)</span>, <span class="math notranslate nohighlight">\(\QQ\)</span>, <span class="math notranslate nohighlight">\(\ZZ_p\)</span>, <span class="math notranslate nohighlight">\(\QQ_p\)</span>, <span class="math notranslate nohighlight">\(\GF{p}\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">R</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(3^20))*x^3 + O(3^20)*x^2 + (2 + O(3^20))*x + 1 + O(3^20)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Which form the modulus is given in has no effect on the unramified
extension produced:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">U</span> <span class="o">==</span> <span class="n">V</span>
<span class="go">(True, True, True, False)</span>
</pre></div>
</div>
<p>unless the precision of the modulus differs.  In the case of V,
the modulus is only given to precision 1, so the resulting field
has a precision cap of 1.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">20</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">7</span><span class="p">))</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">modulus</span>
<span class="go">(1 + O(3^20))*x^3 + (2 + O(3^7))*x + 1 + O(3^10)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">modulus</span><span class="p">);</span> <span class="n">W</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">7</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p>The modulus can also be given as a <strong>symbolic expression</strong>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">X</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(3^20))*x^3 + O(3^20)*x^2 + (2 + O(3^20))*x + 1 + O(3^20)</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">==</span> <span class="n">R</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>By default, the polynomial chosen is the standard lift of the
generator chosen for <span class="math notranslate nohighlight">\(\GF{q}\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">GF</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">x^3 + 3*x + 3</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">);</span> <span class="n">Y</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(5^20))*x^3 + O(5^20)*x^2 + (3 + O(5^20))*x + 3 + O(5^20)</span>
</pre></div>
</div>
<p>However, you can choose another polynomial if desired (as long as
the reduction to <span class="math notranslate nohighlight">\(\GF{p}[x]\)</span> is irreducible).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Z</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">Z</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(5^20))*x^3 + (3 + O(5^20))*x^2 + (1 + O(5^20))*x + 1 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">==</span> <span class="n">Z</span>
<span class="go">False</span>
</pre></div>
</div>
</div></blockquote>
<p>PRINTING:</p>
<p>There are many different ways to print <span class="math notranslate nohighlight">\(p\)</span>-adic elements.  The way
elements of a given field print is controlled by options passed in
at the creation of the field.  There are four basic printing modes
(<code class="docutils literal notranslate"><span class="pre">'series'</span></code>, <code class="docutils literal notranslate"><span class="pre">'val-unit'</span></code>, <code class="docutils literal notranslate"><span class="pre">'terse'</span></code> and <code class="docutils literal notranslate"><span class="pre">'bars'</span></code>; <code class="docutils literal notranslate"><span class="pre">'digits'</span></code> is not available), as
well as various options that either hide some information in the
print representation or sometimes make print representations more
compact.  Note that the printing options affect whether different
<span class="math notranslate nohighlight">\(p\)</span>-adic fields are considered equal.</p>
<ol class="arabic">
<li><p><strong>series</strong>: elements are displayed as series in <span class="math notranslate nohighlight">\(p\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 1)*3^2 + O(3^20)</span>
<span class="gp">sage: </span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">3 + a*3^2 + 3^3 + (2*a + 2)*3^4 + (2*a + 2)*3^5 + (2*a + 2)*3^6 + (2*a + 2)*3^7 + (2*a + 2)*3^8 + (2*a + 2)*3^9 + (2*a + 2)*3^10 + (2*a + 2)*3^11 + (2*a + 2)*3^12 + (2*a + 2)*3^13 + (2*a + 2)*3^14 + (2*a + 2)*3^15 + (2*a + 2)*3^16 + (2*a + 2)*3^17 + (2*a + 2)*3^18 + (2*a + 2)*3^19 + (2*a + 2)*3^20 + O(3^21)</span>
<span class="gp">sage: </span><span class="o">~</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="o">+</span><span class="mi">18</span><span class="p">)</span>
<span class="go">(a + 2)*3^-1 + 1 + 2*3 + (a + 1)*3^2 + 3^3 + 2*3^4 + (a + 1)*3^5 + 3^6 + 2*3^7 + (a + 1)*3^8 + 3^9 + 2*3^10 + (a + 1)*3^11 + 3^12 + 2*3^13 + (a + 1)*3^14 + 3^15 + 2*3^16 + (a + 1)*3^17 + 3^18 + O(3^19)</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><em>print_pos</em> controls whether negatives can be used in the
coefficients of powers of <span class="math notranslate nohighlight">\(p\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">-1 - b*3 - 3^2 + (b + 1)*3^3 + O(3^20)</span>
<span class="gp">sage: </span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">3 + b*3^2 + 3^3 + (-b - 1)*3^4 + O(3^21)</span>
</pre></div>
</div>
<p><em>ram_name</em> controls how the prime is printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">d</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">);</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">d</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">2*p + (2*d + 2)*p^2 + (2*d + 1)*p^3 + O(p^21)</span>
</pre></div>
</div>
<p><em>print_max_ram_terms</em> limits the number of powers of <span class="math notranslate nohighlight">\(p\)</span> that appear.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_ram_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;3 + e*3^2 + 3^3 + (2*e + 2)*3^4 + ... + O(3^21)&#39;</span>
</pre></div>
</div>
<p><em>print_max_unram_terms</em> limits the number of terms that appear in a
coefficient of a power of <span class="math notranslate nohighlight">\(p\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + f^4 + f^3 + f^2)*2 + (f^6 + f^5 + f^4 + f + 1)*2^2 + (f^5 + f^4 + f^2 + f + 1)*2^3 + (f^6 + f^5 + f^4 + f^3 + f^2 + f + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + f^5 + f^4 + f^3 + f + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">3</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + f^4 + ... + f^2)*2 + (f^6 + f^5 + ... + 1)*2^2 + (f^5 + f^4 + ... + 1)*2^3 + (f^6 + f^5 + ... + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + f^5 + ... + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + ... + f^2)*2 + (f^6 + ... + 1)*2^2 + (f^5 + ... + 1)*2^3 + (f^6 + ... + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + ... + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + ...) + (f^5 + ...)*2 + (f^6 + ...)*2^2 + (f^5 + ...)*2^3 + (f^6 + ...)*2^4 + (f^5 + ...)*2^5 + (f^6 + ...)*2^6 + (f + ...)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">f</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&#39;(...)*2 + (...)*2^2 + (...)*2^3 + (...)*2^4 + (...)*2^5 + (...)*2^6 + (...)*2^7 + O(2^8)&#39;</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>).
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> type
and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;3 + e*3^2&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em> and <em>print_max_terse_terms</em> have no effect.</p>
<p>Note that print options affect equality:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">U</span> <span class="o">==</span> <span class="n">V</span>
<span class="go">(False, False, False, False, False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p><strong>val-unit</strong>: elements are displayed as <span class="math notranslate nohighlight">\(p^k u\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">b</span>
<span class="go">3^3 * (15 + 64*a) + O(3^7)</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">b</span>
<span class="go">3^-3 * (41 + a) + O(3)</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><em>print_pos</em> controls whether to use a balanced representation or
not.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">b</span>
<span class="go">3^3 * (15 - 17*a) + O(3^7)</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">b</span>
<span class="go">3^-3 * (-40 + a) + O(3)</span>
</pre></div>
</div>
<p><em>ram_name</em> affects how the prime is printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">),</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="mi">385831</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">106556</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">321036</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a</span> <span class="o">-</span> <span class="mi">4</span><span class="p">));</span> <span class="n">b</span>
<span class="go">p^-2 * (503009563508519137754940 + 704413692798200940253892*a + 968097057817740999537581*a^2) + O(p^2)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">*</span> <span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">p^-2 * 1 + O(p^2)</span>
</pre></div>
</div>
<p><em>print_max_terse_terms</em> controls how many terms of the polynomial
appear in the unit part.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">17</span><span class="o">^</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_max_terse_terms</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="mi">17</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="n">a</span><span class="o">+</span><span class="mi">14</span><span class="p">));</span> <span class="n">b</span>
<span class="go">17^-1 * (22110411 + 11317400*a + 20656972*a^2 + ...) + O(17^5)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">*</span><span class="mi">17</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="n">a</span><span class="o">+</span><span class="mi">14</span><span class="p">)</span>
<span class="go">1 + O(17^6)</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>).
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> type
and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;3 * (1 + 3*e)&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em>, <em>print_max_ram_terms</em> and <em>print_max_unram_terms</em> have no
effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="3">
<li><p><strong>terse</strong>: elements are displayed as a polynomial of degree less
than the degree of the extension.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">177</span>
<span class="go">68210977979428 + 90313850704069*a + 73948093055069*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">/</span><span class="mi">5</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">177</span>
<span class="go">68210977979428/5^177 + 90313850704069/5^177*a + 73948093055069/5^177*a^2 + O(5^-157)</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>As of version 3.3, if coefficients of the polynomial are
non-integral, they are always printed with an explicit power of <span class="math notranslate nohighlight">\(p\)</span>
in the denominator.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">5</span><span class="o">*</span><span class="n">a</span> <span class="o">+</span> <span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="mi">25</span>
<span class="go">5*a + 1/5^2*a^2 + O(5^18)</span>
</pre></div>
</div>
<p><em>print_pos</em> controls whether to use a balanced representation or
not.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">22864 + 95367431627998*a + 8349*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">;</span> <span class="n">b</span>
<span class="go">22864 - 12627*a + 8349*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">-20624/5^6 + 18369/5^5*a + 1353/5^3*a^2 + O(5^14)</span>
</pre></div>
</div>
<p><em>ram_name</em> affects how the prime is printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">95367431620001/p^6 + 18369/p^5*a + 1353/p^3*a^2 + O(p^14)</span>
</pre></div>
</div>
<p><em>print_max_terse_terms</em> controls how many terms of the polynomial
are shown.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">625</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_max_terse_terms</span><span class="o">=</span><span class="mi">2</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">106251/5^6 + 49994/5^5*a + ... + O(5^14)</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>).
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> type
and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;3 + 9*e&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em>, <em>print_max_ram_terms</em> and <em>print_max_unram_terms</em> have no
effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="4">
<li><p><strong>digits</strong>: This print mode is not available when the residue
field is not prime.</p>
<p>It might make sense to have a dictionary for small fields, but
this isn’t implemented.</p>
</li>
<li><p><strong>bars</strong>: elements are displayed in a similar fashion to
series, but more compactly.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">(4*a^2 + 3*a + 4) + (3*a^2 + 2*a)*5 + (a^2 + a + 1)*5^2 + (3*a + 2)*5^3 + (3*a^2 + a + 3)*5^4 + (2*a^2 + 3*a + 2)*5^5 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">8</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[2, 3, 2]|[3, 1, 3]|[2, 3]|[1, 1, 1]|[0, 2, 3]|[4, 3, 4]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[0, 4]|[1, 4]|[2, 0, 2]|[1, 4, 3]|[2, 3, 1]|[4, 4, 3]|[2, 4, 4]|[4, 3, 4]&#39;</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>Note that elements with negative valuation are shown with a
decimal point at valuation 0.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[3]|[4, 1, 3]|.|[1, 2, 3]|[3, 3]|[0, 0, 3]|[0, 1]|[0, 1]|[1]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;...[0, 0, 1]|.|[0, 2]|[1]&#39;</span>
</pre></div>
</div>
<p>If not enough precision is known, <code class="docutils literal notranslate"><span class="pre">'?'</span></code> is used instead.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="n">relprec</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span>
<span class="go">&#39;...|.|?|?|?|?|[0, 1, 1]|[0, 2]|[1]&#39;</span>
</pre></div>
</div>
<p>Note that it’s not possible to read off the precision from the
representation in this mode.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">3</span><span class="p">;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[3, 1]&#39;</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">&#39;...[3, 1]&#39;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
<p><em>print_pos</em> controls whether the digits can be negative.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[1, -1, 1]|[2, 1, -2]|[2, 0, -2]|[-2, -1, 2]|[0, 0, -1]|[-2]|[-1, -2, -1]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[0, 1, 2]|[-1, 1, 1]|.|[-2, -1, -1]|[2, 2, 1]|[0, 0, -2]|[0, -1]|[0, -1]|[1]&#39;</span>
</pre></div>
</div>
<p><em>print_max_ram_terms</em> controls the maximum number of “digits” shown.
Note that this puts a cap on the relative precision, not the
absolute precision.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_max_ram_terms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">(-a^2 - 2*a - 1) - 2*5 - a^2*5^2 + ... + O(5^20)</span>
<span class="gp">sage: </span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span> <span class="o">+</span> <span class="mi">50</span>
<span class="go">(-a^2 - 2*a - 1)*5 - a^2*5^3 + (2*a^2 - a - 2)*5^4 + ... + O(5^21)</span>
</pre></div>
</div>
<p><em>print_sep</em> controls the separating character (<code class="docutils literal notranslate"><span class="pre">'|'</span></code> by default).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">625</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_sep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4, 0, 2][3, 2, 2, 3][4, 2, 2, 4][0, 3][1, 1, 3][3, 1, 4, 1]&#39;</span>
</pre></div>
</div>
<p><em>print_max_unram_terms</em> controls how many terms are shown in each
“digit”:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4,..., 0, 2][3,..., 2, 3][4,..., 2, 4][0, 3][1,..., 1, 3][3,..., 4, 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4,..., 2][3,..., 3][4,..., 4][0, 3][1,..., 3][3,..., 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[..., 1][..., 2][..., 3][..., 4][..., 3][..., 3][..., 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="mi">75</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...[...][...][...][...][][...][...]&#39;</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘dots’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>) or ‘bigoh’
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> type
and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;...[0, 1]|[1]|[]&#39;</span>
</pre></div>
</div>
<p><em>ram_name</em> and <em>print_max_terse_terms</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<p>EXAMPLES:</p>
<p>Unlike for <code class="docutils literal notranslate"><span class="pre">Qp</span></code>, you can’t create <code class="docutils literal notranslate"><span class="pre">Qq(N)</span></code> when <code class="docutils literal notranslate"><span class="pre">N</span></code> is not a prime power.</p>
<p>However, you can use <code class="docutils literal notranslate"><span class="pre">check=False</span></code> to pass in a pair in order to not
have to factor.  If you do so, you need to use names explicitly
rather than the <code class="docutils literal notranslate"><span class="pre">R.&lt;a&gt;</span></code> syntax.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">next_prime</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">123</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">k</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">([(</span><span class="n">p</span><span class="p">,</span> <span class="mi">5</span><span class="p">)],</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="mf">.0</span><span class="o">^</span><span class="mi">5</span>
<span class="go">(-a - 4) + O(p^20)</span>
</pre></div>
</div>
<p>In tests on <code class="docutils literal notranslate"><span class="pre">sage.math.washington.edu</span></code>, the creation of <code class="docutils literal notranslate"><span class="pre">K</span></code> as above took an
average of 1.58ms, while:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="n">p</span><span class="o">^</span><span class="mi">5</span><span class="p">,</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>took an average of 24.5ms.  Of course, with smaller primes these
savings disappear.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.QqCR">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">QqCR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.QqCR" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped relative unramified <span class="math notranslate nohighlight">\(p\)</span>-adic
fields.</p>
<p>Same functionality as <code class="docutils literal notranslate"><span class="pre">Qq</span></code>.  See documentation for <code class="docutils literal notranslate"><span class="pre">Qq</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QqCR</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span> <span class="n">R</span>
<span class="go">5-adic Unramified Extension Field in a defined by x^2 + 4*x + 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.QqFP">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">QqFP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.QqFP" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create floating point unramified <span class="math notranslate nohighlight">\(p\)</span>-adic
fields.</p>
<p>Same functionality as <code class="docutils literal notranslate"><span class="pre">Qq</span></code>.  See documentation for <code class="docutils literal notranslate"><span class="pre">Qq</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QqFP</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span> <span class="n">R</span>
<span class="go">5-adic Unramified Extension Field in a defined by x^2 + 4*x + 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.ZpCA">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">ZpCA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZpCA" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped absolute <span class="math notranslate nohighlight">\(p\)</span>-adic rings.</p>
<p>See documentation for <code class="xref py py-func docutils literal notranslate"><span class="pre">Zp()</span></code> for a description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ZpCA</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">5-adic Ring with capped absolute precision 40</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.ZpCR">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">ZpCR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZpCR" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped relative <span class="math notranslate nohighlight">\(p\)</span>-adic rings.</p>
<p>Same functionality as <code class="docutils literal notranslate"><span class="pre">Zp</span></code>.  See documentation for <code class="docutils literal notranslate"><span class="pre">Zp</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ZpCR</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">5-adic Ring with capped relative precision 40</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.ZpER">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">ZpER</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">halt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZpER" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create relaxed <span class="math notranslate nohighlight">\(p\)</span>-adic rings.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">prec</span></code> – an integer (default: <code class="docutils literal notranslate"><span class="pre">20</span></code>), the default
precision</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">halt</span></code> – an integer (default: twice <code class="docutils literal notranslate"><span class="pre">prec</span></code>), the
halting precision</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">secure</span></code> – a boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>); if <code class="docutils literal notranslate"><span class="pre">False</span></code>,
consider indistinguishable elements at the working precision
as equal; otherwise, raise an error.</p></li>
</ul>
<p>See documentation for <code class="xref py py-func docutils literal notranslate"><span class="pre">Zp()</span></code> for a description of the other
input parameters.</p>
<p>A SHORT INTRODUCTION TO RELAXED <span class="math notranslate nohighlight">\(p\)</span>-ADICS:</p>
<p>The model for relaxed <span class="math notranslate nohighlight">\(p\)</span>-adics is quite different from any of the
other types of <span class="math notranslate nohighlight">\(p\)</span>-adics. In addition to storing a finite
approximation, one also stores a method for increasing the
precision.</p>
<p>Relaxed <span class="math notranslate nohighlight">\(p\)</span>-adic rings are created by the constructor <a class="reference internal" href="#sage.rings.padics.factory.ZpER" title="sage.rings.padics.factory.ZpER"><code class="xref py py-func docutils literal notranslate"><span class="pre">ZpER()</span></code></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">ZpER</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s2">&quot;digits&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">5-adic Ring handled with relaxed arithmetics</span>
</pre></div>
</div>
<p>The precision is not capped in <span class="math notranslate nohighlight">\(R\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
<p>However, a default precision is fixed. This is the precision
at which the elements will be printed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">default_prec</span><span class="p">()</span>
<span class="go">20</span>
</pre></div>
</div>
<p>A default halting precision is also set. It is the default absolute
precision at which the elements will be compared. By default, it is
twice the default precision:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">halting_prec</span><span class="p">()</span>
<span class="go">40</span>
</pre></div>
</div>
<p>However, both the default precision and the halting precision can be
customized at the creation of the parent as follows:</p>
<blockquote>
<div><p>sage: S = ZpER(5, prec=10, halt=100)
sage: S.default_prec()
10
sage: S.halting_prec()
100</p>
</div></blockquote>
<p>One creates elements as usual:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">17</span><span class="o">/</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">...00244200244200244201</span>

<span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>  <span class="c1"># random</span>
<span class="go">...21013213133412431402</span>
</pre></div>
</div>
<p>Here we notice that 20 digits (that is the default precision) are printed.
However, the computation model is designed in order to guarantee that more
digits of <span class="math notranslate nohighlight">\(a\)</span> will be available on demand.
This feature is reflected by the fact that, when we ask for the precision
of <span class="math notranslate nohighlight">\(a\)</span>, the software answers <span class="math notranslate nohighlight">\(+\infty\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
<p>Asking for more digits is achieved by the methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">at_precision_absolute()</span></code>
and <code class="xref py py-meth docutils literal notranslate"><span class="pre">at_precision_relative()</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">at_precision_absolute</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="go">...?244200244200244200244200244201</span>
</pre></div>
</div>
<p>As a shortcut, one can use the bracket operator:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="p">[:</span><span class="mi">30</span><span class="p">]</span>
<span class="go">...?244200244200244200244200244201</span>
</pre></div>
</div>
<p>Of course, standard operations are supported:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">42</span><span class="o">/</span><span class="mi">17</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="go">...03232011214322140002</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
<span class="go">...42311334324023403400</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<span class="go">...00000000000000000001</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">/</span> <span class="n">b</span>
<span class="go">...12442142113021233401</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">...20042333114021142101</span>
</pre></div>
</div>
<p>We observe again that only 20 digits are printed but, as before,
more digits are available on demand:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">a</span><span class="p">)[:</span><span class="mi">30</span><span class="p">]</span>
<span class="go">...?142443342120042333114021142101</span>
</pre></div>
</div>
<p class="rubric">Equality tests</p>
<p>Checking equalities between relaxed <span class="math notranslate nohighlight">\(p\)</span>-adics is a bit subtle and can
sometimes be puzzling at first glance.</p>
<p>When the parent is created with <code class="docutils literal notranslate"><span class="pre">secure=False</span></code> (which is the
default), elements are compared at the current precision, or at the
default halting precision if it is higher:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">5</span><span class="o">^</span><span class="mi">50</span>
<span class="go">True</span>
</pre></div>
</div>
<p>In the above example, the halting precision is <span class="math notranslate nohighlight">\(40\)</span>; it is the
reason why a congruence modulo <span class="math notranslate nohighlight">\(5^50\)</span> is considered as an equality.
However, if both sides of the equalities have been previously
computed with more digits, those digits are taken into account.
Hence comparing two elements at different times can produce
different results:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">aa</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">5</span><span class="o">^</span><span class="mi">50</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="n">aa</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">[:</span><span class="mi">60</span><span class="p">]</span>
<span class="go">...?244200244200244200244200244200244200244200244200244200244201</span>
<span class="gp">sage: </span><span class="n">aa</span><span class="p">[:</span><span class="mi">60</span><span class="p">]</span>
<span class="go">...?244200244300244200244200244200244200244200244200244200244201</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="n">aa</span>
<span class="go">False</span>
</pre></div>
</div>
<p>This annoying situation, where the output of <span class="math notranslate nohighlight">\(a == aa\)</span> may change
depending on previous computations, cannot occur when the parent is
created with <code class="docutils literal notranslate"><span class="pre">secure=True</span></code>.
Indeed, in this case, if the equality cannot be decided, an error
is raised:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">ZpER</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">secure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">uu</span> <span class="o">=</span> <span class="n">u</span> <span class="o">+</span> <span class="mi">5</span><span class="o">^</span><span class="mi">50</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">==</span> <span class="n">uu</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">PrecisionError: unable to decide equality; try to bound precision</span>

<span class="gp">sage: </span><span class="n">u</span><span class="p">[:</span><span class="mi">60</span><span class="p">]</span> <span class="o">==</span> <span class="n">uu</span>
<span class="go">False</span>
</pre></div>
</div>
<p class="rubric">Self-referent numbers</p>
<p>A quite interesting feature with relaxed <span class="math notranslate nohighlight">\(p\)</span>-adics is the possibility to
create (in some cases) self-referent numbers. Here is an example.
We first declare a new variable as follows:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">unknown</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span>
<span class="go">...?.0</span>
</pre></div>
</div>
<p>We then use the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">set()</span></code> to define <span class="math notranslate nohighlight">\(x\)</span> by writing down an equation
it satisfies:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The variable <span class="math notranslate nohighlight">\(x\)</span> now contains the unique solution of the equation
<span class="math notranslate nohighlight">\(x = 1 + 5 x^2\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span>
<span class="go">...04222412141121000211</span>
</pre></div>
</div>
<p>This works because the <span class="math notranslate nohighlight">\(n\)</span>-th digit of the right hand size of the
defining equation only involves the <span class="math notranslate nohighlight">\(i\)</span>-th digits of <span class="math notranslate nohighlight">\(x\)</span> with <span class="math notranslate nohighlight">\(i &lt; n\)</span>
(this is due to the factor <span class="math notranslate nohighlight">\(5\)</span>).</p>
<p>As a comparison, the following does not work:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">unknown</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">y</span>
<span class="go">...?.0</span>
<span class="gp">sage: </span><span class="n">y</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">RecursionError: definition looks circular</span>
</pre></div>
</div>
<p>Self-referent definitions also work with systems of equations:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">unknown</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">unknown</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">w</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">unknown</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">u</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">v</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">w</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">u</span><span class="o">*</span><span class="n">v</span><span class="o">*</span><span class="n">w</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">w</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">u</span> <span class="o">+</span> <span class="mi">10</span><span class="o">*</span><span class="n">v</span> <span class="o">+</span> <span class="mi">15</span><span class="o">*</span><span class="n">w</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">w</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">25</span><span class="o">*</span><span class="p">(</span><span class="n">u</span><span class="o">*</span><span class="n">v</span> <span class="o">+</span> <span class="n">v</span><span class="o">*</span><span class="n">w</span> <span class="o">+</span> <span class="n">u</span><span class="o">*</span><span class="n">w</span><span class="p">))</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">u</span>
<span class="go">...31203130103131131433</span>
<span class="gp">sage: </span><span class="n">v</span>
<span class="go">...33441043031103114240</span>
<span class="gp">sage: </span><span class="n">w</span>
<span class="go">...30212422041102444403</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.ZpFM">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">ZpFM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZpFM" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create fixed modulus <span class="math notranslate nohighlight">\(p\)</span>-adic rings.</p>
<p>See documentation for <code class="xref py py-func docutils literal notranslate"><span class="pre">Zp()</span></code> for a description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ZpFM</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">5-adic Ring of fixed modulus 5^40</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.ZpFP">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">ZpFP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZpFP" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create floating point <span class="math notranslate nohighlight">\(p\)</span>-adic rings.</p>
<p>Same functionality as <code class="docutils literal notranslate"><span class="pre">Zp</span></code>.  See documentation for <code class="docutils literal notranslate"><span class="pre">Zp</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ZpFP</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">5-adic Ring with floating precision 40</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.ZpLC">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">ZpLC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZpLC" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create <span class="math notranslate nohighlight">\(p\)</span>-adic rings with lattice precision
(precision is encoded by a lattice in a large vector space and tracked
using automatic differentiation).</p>
<p>See documentation for <code class="xref py py-func docutils literal notranslate"><span class="pre">Zp()</span></code> for a description of the input parameters.</p>
<p>EXAMPLES:</p>
<p>Below is a small demo of the features by this model of precision:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">ZpLC</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">3-adic Ring with lattice-cap precision</span>

<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>Of course, when we multiply by 3, we gain one digit of absolute
precision:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">3</span><span class="o">*</span><span class="n">x</span>
<span class="go">3 + O(3^11)</span>
</pre></div>
</div>
<p>The lattice precision machinery sees this even if we decompose
the computation into several steps:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">y</span>
<span class="go">2 + O(3^10)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="go">3 + O(3^11)</span>
</pre></div>
</div>
<p>The same works for the multiplication:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">z</span>
<span class="go">1 + O(3^10)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">*</span><span class="n">z</span>
<span class="go">1 + O(3^11)</span>
</pre></div>
</div>
<p>This can be more surprising when we are working with elements given
at different precisions:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">ZpLC</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">;</span> <span class="n">z</span>
<span class="go">2 + O(2^5)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">;</span> <span class="n">t</span>
<span class="go">O(2^5)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">+</span><span class="n">t</span>  <span class="c1"># observe that z+t = 2*x</span>
<span class="go">2 + O(2^11)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">-</span><span class="n">t</span>  <span class="c1"># observe that z-t = 2*y</span>
<span class="go">2 + O(2^6)</span>

<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">28888</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">204</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span><span class="p">;</span> <span class="n">z</span>
<span class="go">242 + O(2^9)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">*</span><span class="n">y</span>  <span class="c1"># which is x</span>
<span class="go">28888 + O(2^15)</span>
</pre></div>
</div>
<p>The SOMOS sequence is the sequence defined by the recurrence:</p>
<div class="math notranslate nohighlight">
\[u_n = \frac {u_{n-1} u_{n-3} + u_{n-2}^2} {u_{n-4}}\]</div>
<p>It is known for its numerical instability.
On the one hand, one can show that if the initial values are
invertible in <span class="math notranslate nohighlight">\(\ZZ_p\)</span> and known at precision <span class="math notranslate nohighlight">\(O(p^N)\)</span>
then all the next terms of the SOMOS sequence will be known
at the same precision as well.
On the other hand, because of the division, when we unroll
the recurrence, we loose a lot of precision. Observe:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span> <span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span> <span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">4 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">13 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">55 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">21975 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">6639 + O(2^13)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">7186 + O(2^13)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">569 + O(2^13)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">253 + O(2^13)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">4149 + O(2^13)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">2899 + O(2^12)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">3072 + O(2^12)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">349 + O(2^12)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">619 + O(2^12)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">243 + O(2^12)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">3 + O(2^2)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">2 + O(2^2)</span>
</pre></div>
</div>
<p>If instead, we use the lattice precision, everything goes well:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">ZpLC</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span> <span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span> <span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">4 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">13 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">55 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">21975 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">23023 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">31762 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">16953 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span><span class="p">;</span> <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">16637 + O(2^15)</span>

<span class="gp">sage: </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,(</span><span class="n">b</span><span class="o">*</span><span class="n">d</span><span class="o">+</span><span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span><span class="o">/</span><span class="n">a</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">15519 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">b</span>
<span class="go">32042 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">c</span>
<span class="go">17769 + O(2^15)</span>
<span class="gp">sage: </span><span class="n">d</span>
<span class="go">20949 + O(2^15)</span>
</pre></div>
</div>
<p>ALGORITHM:</p>
<p>The precision is global.
It is encoded by a lattice in a huge vector space whose dimension
is the number of elements having this parent. Precision is tracked
using automatic differentiation techniques (see <a class="reference internal" href="../../../../references/index.html#crv2014" id="id1"><span>[CRV2014]</span></a> and
<a class="reference internal" href="../../../../references/index.html#crv2018" id="id2"><span>[CRV2018]</span></a>).</p>
<p>Concretely, this precision datum is an instance of the class
<code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.padic.lattice_precision.PrecisionLattice</span></code>.
It is attached to the parent and is created at the same time
as the parent.
(It is actually a bit more subtle because two different parents
may share the same instance; this happens for instance for a
<span class="math notranslate nohighlight">\(p\)</span>-adic ring and its field of fractions.)</p>
<p>This precision datum is accessible through the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">precision()</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">ZpLC</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">prec</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">precision</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">prec</span>
<span class="go">Precision lattice on 0 objects</span>
</pre></div>
</div>
<p>This instance knows about all elements of the parent. It is
automatically updated when a new element (of this parent) is
created:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">3513</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">prec</span>
<span class="go">Precision lattice on 1 object</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">176</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">prec</span>
<span class="go">Precision lattice on 2 objects</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">prec</span>
<span class="go">Precision lattice on 3 objects</span>
</pre></div>
</div>
<p>The method <code class="xref py py-meth docutils literal notranslate"><span class="pre">tracked_elements()</span></code> provides the list of all
tracked elements:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">prec</span><span class="o">.</span><span class="n">tracked_elements</span><span class="p">()</span>
<span class="go">[3513 + O(5^10), 176 + O(5^5), ...]</span>
</pre></div>
</div>
<p>Similarly, when a variable is collected by the garbage collector,
the precision lattice is updated. Note however that the update
might be delayed. We can force it with the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">del_elements()</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">prec</span> <span class="c1"># random output, could be 2 objects if the garbage collector is fast</span>
<span class="go">Precision lattice on 3 objects</span>
<span class="gp">sage: </span><span class="n">prec</span><span class="o">.</span><span class="n">del_elements</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">prec</span>
<span class="go">Precision lattice on 2 objects</span>
</pre></div>
</div>
<p>The method <code class="xref py py-meth docutils literal notranslate"><span class="pre">precision_lattice()</span></code> returns (a matrix defining)
the lattice that models the precision. Here we have:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">prec</span><span class="o">.</span><span class="n">precision_lattice</span><span class="p">()</span>
<span class="go">[9765625       0]</span>
<span class="go">[      0    3125]</span>
</pre></div>
</div>
<p>Observe that <span class="math notranslate nohighlight">\(5^10 = 9765625\)</span> and <span class="math notranslate nohighlight">\(5^5 = 3125\)</span>.
The above matrix then reflects the precision on <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span>.</p>
<p>Now, observe how the precision lattice changes while performing
computations:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">prec</span><span class="o">.</span><span class="n">del_elements</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">prec</span><span class="o">.</span><span class="n">precision_lattice</span><span class="p">()</span>
<span class="go">[    3125 48825000]</span>
<span class="go">[       0 48828125]</span>
</pre></div>
</div>
<p>The matrix we get is no longer diagonal, meaning that some digits
of precision are diffused among the two new elements <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span>.
They nevertheless show up when we compute for instance <span class="math notranslate nohighlight">\(x+y\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span>
<span class="go">1516 + O(5^5)</span>
<span class="gp">sage: </span><span class="n">y</span>
<span class="go">424 + O(5^5)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="go">17565 + O(5^11)</span>
</pre></div>
</div>
<p>These diffused digits of precision (which are tracked but
do not appear on the printing) allow to be always sharp on
precision.</p>
<p>NOTE:</p>
<p>Each elementary operation requires significant manipulations
on the precision lattice and therefore is costly. Precisely:</p>
<ul class="simple">
<li><p>The creation of a new element has a cost <span class="math notranslate nohighlight">\(O(n)\)</span> where <span class="math notranslate nohighlight">\(n\)</span>
is the number of tracked elements.</p></li>
<li><p>The destruction of one element has a cost <span class="math notranslate nohighlight">\(O(m^2)\)</span> where
<span class="math notranslate nohighlight">\(m\)</span> is the distance between the destroyed element and
the last one. Fortunately, it seems that <span class="math notranslate nohighlight">\(m\)</span> tends to
be small in general (the dynamics of the list of tracked
elements is rather close to that of a stack).</p></li>
</ul>
<p>It is nevertheless still possible to manipulate several
hundred variables (e.g. square matrices of size 5 or
polynomials of degree 20).</p>
<p>The class <code class="xref py py-class docutils literal notranslate"><span class="pre">PrecisionLattice</span></code> provides several
features for introspection, especially concerning timings.
See <code class="xref py py-meth docutils literal notranslate"><span class="pre">history()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">timings()</span></code> for details.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sage.rings.padics.factory.ZpLF" title="sage.rings.padics.factory.ZpLF"><code class="xref py py-func docutils literal notranslate"><span class="pre">ZpLF()</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.ZpLF">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">ZpLF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZpLF" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create <span class="math notranslate nohighlight">\(p\)</span>-adic rings where precision
is encoded by a module in a large vector space.</p>
<p>See documentation for <code class="xref py py-func docutils literal notranslate"><span class="pre">Zp()</span></code> for a description of the input parameters.</p>
<p>NOTE:</p>
<p>The precision is tracked using automatic differentiation
techniques (see <a class="reference internal" href="../../../../references/index.html#crv2018" id="id3"><span>[CRV2018]</span></a> and <a class="reference internal" href="../../../../references/index.html#crv2014" id="id4"><span>[CRV2014]</span></a>).
Floating point <span class="math notranslate nohighlight">\(p\)</span>-adic numbers are used for the computation
of the differential (which is then not exact).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">ZpLF</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">5-adic Ring with lattice-float precision</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sage.rings.padics.factory.ZpLC" title="sage.rings.padics.factory.ZpLC"><code class="xref py py-func docutils literal notranslate"><span class="pre">ZpLC()</span></code></a></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.padics.factory.Zp_class">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">Zp_class</span></span><a class="headerlink" href="#sage.rings.padics.factory.Zp_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../structure/sage/structure/factory.html#sage.structure.factory.UniqueFactory" title="(in Parents and Elements v9.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.factory.UniqueFactory</span></code></a></p>
<p>A creation function for <span class="math notranslate nohighlight">\(p\)</span>-adic rings.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> – integer: the <span class="math notranslate nohighlight">\(p\)</span> in <span class="math notranslate nohighlight">\(\ZZ_p\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prec</span></code> – integer (default: <code class="docutils literal notranslate"><span class="pre">20</span></code>) the precision cap of the
ring.  In the lattice capped case, <code class="docutils literal notranslate"><span class="pre">prec</span></code> can either be a
pair (<code class="docutils literal notranslate"><span class="pre">relative_cap</span></code>, <code class="docutils literal notranslate"><span class="pre">absolute_cap</span></code>) or an integer
(understood at relative cap).
In the relaxed case, <code class="docutils literal notranslate"><span class="pre">prec</span></code> can be either a
pair (<code class="docutils literal notranslate"><span class="pre">default_prec</span></code>, <code class="docutils literal notranslate"><span class="pre">halting_prec</span></code>) or an integer
(understood at default precision).
Except for the fixed modulus and floating point cases, individual elements
keep track of their own precision.  See TYPES and PRECISION
below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> – string (default: <code class="docutils literal notranslate"><span class="pre">'capped-rel'</span></code>) Valid types are
<code class="docutils literal notranslate"><span class="pre">'capped-rel'</span></code>, <code class="docutils literal notranslate"><span class="pre">'capped-abs'</span></code>, <code class="docutils literal notranslate"><span class="pre">'fixed-mod'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code>, <code class="docutils literal notranslate"><span class="pre">'lattice-cap'</span></code>, <code class="docutils literal notranslate"><span class="pre">'lattice-float'</span></code>, <code class="docutils literal notranslate"><span class="pre">'relaxed'</span></code>
See TYPES and PRECISION below</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_mode</span></code> – string (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>).  Valid modes are
<code class="docutils literal notranslate"><span class="pre">'series'</span></code>, <code class="docutils literal notranslate"><span class="pre">'val-unit'</span></code>, <code class="docutils literal notranslate"><span class="pre">'terse'</span></code>, <code class="docutils literal notranslate"><span class="pre">'digits'</span></code>, and
<code class="docutils literal notranslate"><span class="pre">'bars'</span></code>. See PRINTING below</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">names</span></code> – string or tuple (defaults to a string
representation of <span class="math notranslate nohighlight">\(p\)</span>).  What to use whenever <span class="math notranslate nohighlight">\(p\)</span> is printed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_pos</span></code> – bool (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) Whether to only use
positive integers in the representations of elements. See
PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_sep</span></code> – string (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The separator
character used in the <code class="docutils literal notranslate"><span class="pre">'bars'</span></code> mode. See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_alphabet</span></code> – tuple (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The encoding into
digits for use in the <code class="docutils literal notranslate"><span class="pre">'digits'</span></code> mode. See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_max_terms</span></code> – integer (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The maximum
number of terms shown.  See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">show_prec</span></code> – bool (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) whether to show the precision
for elements.  See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check</span></code> – bool (default <code class="docutils literal notranslate"><span class="pre">True</span></code>) whether to check if <span class="math notranslate nohighlight">\(p\)</span> is
prime.  Non-prime input may cause seg-faults (but can also be
useful for base <span class="math notranslate nohighlight">\(n\)</span> expansions for example)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">label</span></code> – string (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) used for lattice precision to
create parents with different lattices.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>The corresponding <span class="math notranslate nohighlight">\(p\)</span>-adic ring.</p></li>
</ul>
<p>TYPES AND PRECISION:</p>
<p>There are two main types of precision.
The first is relative precision; it gives the number of known
<span class="math notranslate nohighlight">\(p\)</span>-adic digits:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">675</span><span class="p">);</span> <span class="n">a</span>
<span class="go">2*5^2 + 5^4 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">precision_relative</span><span class="p">()</span>
<span class="go">20</span>
</pre></div>
</div>
<p>The second type of precision is absolute precision, which gives
the power of <span class="math notranslate nohighlight">\(p\)</span> that this element is defined modulo:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">22</span>
</pre></div>
</div>
<p>There are several types of <span class="math notranslate nohighlight">\(p\)</span>-adic rings, depending on the methods
used for tracking precision. Namely, we have:</p>
<ul class="simple">
<li><p>capped relative rings (<code class="docutils literal notranslate"><span class="pre">type='capped-rel'</span></code>)</p></li>
<li><p>capped absolute rings (<code class="docutils literal notranslate"><span class="pre">type='capped-abs'</span></code>)</p></li>
<li><p>fixed modulus rings (<code class="docutils literal notranslate"><span class="pre">type='fixed-mod'</span></code>)</p></li>
<li><p>floating point rings (<code class="docutils literal notranslate"><span class="pre">type='floating-point'</span></code>)</p></li>
<li><p>lattice precision rings (<code class="docutils literal notranslate"><span class="pre">type='lattice-cap'</span></code> or <code class="docutils literal notranslate"><span class="pre">type='lattice-float'</span></code>)</p></li>
<li><p>exact fields with relaxed arithmetics (<code class="docutils literal notranslate"><span class="pre">type='relaxed'</span></code>)</p></li>
</ul>
<p>In the capped relative case, the relative precision of an element
is restricted to be at most a certain value, specified at the
creation of the field.  Individual elements also store their own
precision, so the effect of various arithmetic operations on
precision is tracked.  When you cast an exact element into a
capped relative field, it truncates it to the precision cap of the
field.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4006</span><span class="p">);</span> <span class="n">a</span>
<span class="go">1 + 5 + 2*5^3 + 5^4 + O(5^5)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4025</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^2 + 2*5^3 + 5^4 + 5^5 + O(5^7)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="go">1 + 5 + 5^2 + 4*5^3 + 2*5^4 + O(5^5)</span>
</pre></div>
</div>
<p>In the capped absolute type, instead of having a cap on the
relative precision of an element there is instead a cap on the
absolute precision.  Elements still store their own precisions,
and as with the capped relative case, exact elements are truncated
when cast into the ring.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-abs&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4005</span><span class="p">);</span> <span class="n">a</span>
<span class="go">5 + 2*5^3 + 5^4 + O(5^5)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4025</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^2 + 2*5^3 + 5^4 + O(5^5)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<span class="go">5^3 + 2*5^4 + O(5^5)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span> <span class="o">//</span> <span class="mi">5</span><span class="o">^</span><span class="mi">3</span>
<span class="go">1 + 2*5 + O(5^2)</span>
</pre></div>
</div>
<p>The fixed modulus type is the leanest of the <span class="math notranslate nohighlight">\(p\)</span>-adic rings: it is
basically just a wrapper around <span class="math notranslate nohighlight">\(\ZZ / p^n \ZZ\)</span> providing a unified
interface with the rest of the <span class="math notranslate nohighlight">\(p\)</span>-adics.  This is the type you
should use if your sole interest is speed.  It does not track
precision of elements.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="s1">&#39;fixed-mod&#39;</span><span class="p">,</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4005</span><span class="p">);</span> <span class="n">a</span>
<span class="go">5 + 2*5^3 + 5^4</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">//</span> <span class="mi">5</span>
<span class="go">1 + 2*5^2 + 5^3</span>
</pre></div>
</div>
<p>The floating point case is similar to the fixed modulus type
in that elements do not trac their own precision.  However, relative
precision is truncated with each operation rather than absolute precision.</p>
<p>On the contrary, the lattice type tracks precision using lattices
and automatic differentiation. It is rather slow but provides sharp
(often optimal) results regarding precision.
We refer to the documentation of the function <a class="reference internal" href="#sage.rings.padics.factory.ZpLC" title="sage.rings.padics.factory.ZpLC"><code class="xref py py-func docutils literal notranslate"><span class="pre">ZpLC()</span></code></a> for a
small demonstration of the capabilities of this precision model.</p>
<p>Finally, the model for relaxed <span class="math notranslate nohighlight">\(p\)</span>-adics is quite different from any of
the other types. In addition to storing a finite approximation, one
also stores a method for increasing the precision.
A quite interesting feature with relaxed <span class="math notranslate nohighlight">\(p\)</span>-adics is the possibility to
create (in some cases) self-referent numbers, that are numbers whose
<span class="math notranslate nohighlight">\(n\)</span>-th digit is defined by the previous ones.
We refer to the documentation of the function <code class="xref py py-func docutils literal notranslate"><span class="pre">ZpL()</span></code> for a
small demonstration of the capabilities of this precision model.</p>
<p>PRINTING:</p>
<p>There are many different ways to print <span class="math notranslate nohighlight">\(p\)</span>-adic elements.  The
way elements of a given ring print is controlled by options
passed in at the creation of the ring.  There are five basic
printing modes (series, val-unit, terse, digits and bars), as
well as various options that either hide some information in
the print representation or sometimes make print
representations more compact.  Note that the printing options
affect whether different <span class="math notranslate nohighlight">\(p\)</span>-adic fields are considered equal.</p>
<ol class="arabic">
<li><p><strong>series</strong>: elements are displayed as series in <span class="math notranslate nohighlight">\(p\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">3*5^2 + 3*5^4 + 2*5^5 + 4*5^6 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2*5^2 + 4*5^3 + 5^4 + 2*5^5 + 4*5^7 + 4*5^8 + 4*5^9 + 4*5^10 + 4*5^11 + 4*5^12 + 4*5^13 + 4*5^14 + 4*5^15 + 4*5^16 + 4*5^17 + 4*5^18 + 4*5^19 + 4*5^20 + 4*5^21 + O(5^22)</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><em>print_pos</em> controls whether negatives can be used in the
coefficients of powers of <span class="math notranslate nohighlight">\(p\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">-2*5^2 + 5^3 - 2*5^4 - 2*5^5 + 5^7 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2*5^2 - 5^3 + 2*5^4 + 2*5^5 - 5^7 + O(5^22)</span>
</pre></div>
</div>
<p><em>print_max_terms</em> limits the number of terms that appear.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2*5^2 + 4*5^3 + 5^4 + 2*5^5 + ... + O(5^22)</span>
</pre></div>
</div>
<p><em>names</em> affects how the prime is printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">p</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="n">p</span>
<span class="go">p + O(p^21)</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>).
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'fixed-mod'</span></code> types and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">1 + 5</span>
</pre></div>
</div>
<p><em>print_sep</em> and <em>print_alphabet</em> have no effect.</p>
<p>Note that print options affect equality:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p><strong>val-unit</strong>: elements are displayed as <span class="math notranslate nohighlight">\(p^k u\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">5^2 * 2828 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">*</span><span class="mi">5</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5 * 95367431639918 + O(5^21)</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><em>print_pos</em> controls whether to use a balanced representation or
not.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^2 * (-2828) + O(5^22)</span>
</pre></div>
</div>
<p><em>names</em> affects how the prime is printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;pi&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">pi^2 * 2828 + O(pi^22)</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>).
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'fixed-mod'</span></code> types and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="mi">30</span><span class="p">)</span>
<span class="go">5 * 6</span>
</pre></div>
</div>
<p><em>print_max_terms</em>, <em>print_sep</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="3">
<li><p><strong>terse</strong>: elements are displayed as an integer in base 10:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">70700 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2384185790944925 + O(5^22)</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><em>print_pos</em> controls whether to use a balanced representation or not.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">-70700 + O(5^22)</span>
</pre></div>
</div>
<p><em>name</em> affects how the name is printed.  Note that this interacts
with the choice of shorter string for denominators.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">unif</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">);</span> <span class="n">c</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="p">);</span> <span class="n">c</span>
<span class="go">95367431639918 + O(unif^20)</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>).
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'fixed-mod'</span></code> types and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="mi">30</span><span class="p">)</span>
<span class="go">30</span>
</pre></div>
</div>
<p><em>print_max_terms</em>, <em>print_sep</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p><strong>digits</strong>: elements are displayed as a string of base <span class="math notranslate nohighlight">\(p\)</span> digits</p></li>
</ol>
<blockquote>
<div><p>Restriction: you can only use the digits printing mode for small
primes.  Namely, <span class="math notranslate nohighlight">\(p\)</span> must be less than the length of the alphabet
tuple (default alphabet has length 62).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...4230300&#39;</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...4444444444444440214200&#39;</span>
</pre></div>
</div>
<p>Note that it’s not possible to read off the precision from the
representation in this mode.</p>
<p><em>print_max_terms</em> limits the number of digits that are printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">)</span>
<span class="go">2*5^2 + 4*5^3 + 5^4 + 2*5^5 + ... + O(5^22)</span>
</pre></div>
</div>
<p><em>print_alphabet</em> controls the symbols used to substitute for digits
greater than 9.  Defaults to
(‘0’, ‘1’, ‘2’, ‘3’, ‘4’, ‘5’, ‘6’, ‘7’, ‘8’, ‘9’, ‘A’, ‘B’, ‘C’, ‘D’, ‘E’, ‘F’, ‘G’, ‘H’, ‘I’, ‘J’, ‘K’, ‘L’, ‘M’, ‘N’, ‘O’, ‘P’, ‘Q’, ‘R’, ‘S’, ‘T’, ‘U’, ‘V’, ‘W’, ‘X’, ‘Y’, ‘Z’, ‘a’, ‘b’, ‘c’, ‘d’, ‘e’, ‘f’, ‘g’, ‘h’, ‘i’, ‘j’, ‘k’, ‘l’, ‘m’, ‘n’, ‘o’, ‘p’, ‘q’, ‘r’, ‘s’, ‘t’, ‘u’, ‘v’, ‘w’, ‘x’, ‘y’, ‘z’):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="n">print_alphabet</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">));</span> <span class="nb">repr</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">))</span>
<span class="go">&#39;...5555555555555551325311&#39;</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘dots’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>) or ‘bigoh’.
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'fixed-mod'</span></code> types and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">&#39;...11&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="s1">&#39;bigoh&#39;</span><span class="p">)(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">&#39;11 + O(5^2)&#39;</span>
</pre></div>
</div>
<p><em>print_pos</em>, <em>name</em> and <em>print_sep</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="5">
<li><p><strong>bars</strong>: elements are displayed as a string of base <span class="math notranslate nohighlight">\(p\)</span> digits
with separators:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...4|2|3|0|3|0|0&#39;</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...4|4|4|4|4|4|4|4|4|4|4|4|4|4|4|0|2|1|4|2|0|0&#39;</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>Again, note that it’s not possible to read off the precision from
the representation in this mode.</p>
<p><em>print_pos</em> controls whether the digits can be negative.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span><span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...-1|0|2|2|-1|2|0|0&#39;</span>
</pre></div>
</div>
<p><em>print_max_terms</em> limits the number of digits that are printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">)</span>
<span class="go">2*5^2 + 4*5^3 + 5^4 + 2*5^5 + ... + O(5^22)</span>
</pre></div>
</div>
<p><em>print_sep</em> controls the separation character.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_sep</span><span class="o">=</span><span class="s1">&#39;][&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">U</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...4][2][3][0][3][0][0&#39;</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘dots’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>) or ‘bigoh’.
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'fixed-mod'</span></code> types and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">&#39;...1|1&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">)(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">&#39;1|1&#39;</span>
</pre></div>
</div>
<p><em>name</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<p>EXAMPLES:</p>
<p>We allow non-prime <span class="math notranslate nohighlight">\(p\)</span>, but only if <code class="docutils literal notranslate"><span class="pre">check</span> <span class="pre">=</span> <span class="pre">False</span></code>.  Note that some
features will not work.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">K</span><span class="p">(</span><span class="mi">999</span><span class="p">);</span> <span class="n">a</span>
<span class="go">9 + 6*15 + 4*15^2 + O(15^20)</span>
</pre></div>
</div>
<p>We create rings with various parameters:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="go">7-adic Ring with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: p must be prime</span>
<span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">17-adic Ring with capped relative precision 5</span>
<span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">5</span><span class="p">)(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">16 + 16*17 + 16*17^2 + 16*17^3 + 16*17^4 + O(17^5)</span>
</pre></div>
</div>
<p>It works even with a fairly huge cap:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">50</span><span class="p">),</span> <span class="mi">100000</span><span class="p">)</span>
<span class="go">100000000000000000000000000000000000000000000000151-adic Ring with capped relative precision 100000</span>
</pre></div>
</div>
<p>We create each type of ring:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">)</span>
<span class="go">7-adic Ring with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;fixed-mod&#39;</span><span class="p">)</span>
<span class="go">7-adic Ring of fixed modulus 7^20</span>
<span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-abs&#39;</span><span class="p">)</span>
<span class="go">7-adic Ring with capped absolute precision 20</span>
</pre></div>
</div>
<p>We create a capped relative ring with each print mode:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">k</span>
<span class="go">7-adic Ring with capped relative precision 8</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="mi">19</span><span class="p">))</span>
<span class="go">5*7 + 2*7^2 + O(7^9)</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">19</span><span class="p">))</span>
<span class="go">2*7 + 4*7^2 + 6*7^3 + 6*7^4 + 6*7^5 + 6*7^6 + 6*7^7 + 6*7^8 + O(7^9)</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">);</span> <span class="n">k</span>
<span class="go">7-adic Ring with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="mi">19</span><span class="p">))</span>
<span class="go">7 * 19 + O(7^21)</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">19</span><span class="p">))</span>
<span class="go">7 * 79792266297611982 + O(7^21)</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">);</span> <span class="n">k</span>
<span class="go">7-adic Ring with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="mi">19</span><span class="p">))</span>
<span class="go">133 + O(7^21)</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">19</span><span class="p">))</span>
<span class="go">558545864083283874 + O(7^21)</span>
</pre></div>
</div>
<p>Note that <span class="math notranslate nohighlight">\(p\)</span>-adic rings are cached (via weak references):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="ow">is</span> <span class="n">b</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We create some elements in various rings:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span> <span class="n">a</span>
<span class="go">4 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;capped-abs&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2 + O(5^10)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="go">1 + 5 + O(5^10)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.padics.factory.Zp_class.create_key">
<span class="sig-name descname"><span class="pre">create_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'capped-rel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ram_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_alphabet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Zp_class.create_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a key from input parameters for <code class="docutils literal notranslate"><span class="pre">Zp</span></code>.</p>
<p>See the documentation for <code class="docutils literal notranslate"><span class="pre">Zp</span></code> for more information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.padics.factory.Zp_class.create_object">
<span class="sig-name descname"><span class="pre">create_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Zp_class.create_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an object using a given key.</p>
<p>See the documentation for <code class="docutils literal notranslate"><span class="pre">Zp</span></code> for more information.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.Zq">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">Zq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'capped-rel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modulus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ram_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_ram_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_unram_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_terse_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">implementation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FLINT'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Zq" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a prime power <span class="math notranslate nohighlight">\(q = p^n\)</span>, return the unique unramified
extension of <span class="math notranslate nohighlight">\(\ZZ_p\)</span> of degree <span class="math notranslate nohighlight">\(n\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code> – integer, list or tuple: the prime power in <span class="math notranslate nohighlight">\(\QQ_q\)</span>.  Or a
factorization object, single element list <code class="docutils literal notranslate"><span class="pre">[(p,</span> <span class="pre">n)]</span></code> where <code class="docutils literal notranslate"><span class="pre">p</span></code> is
a prime and <code class="docutils literal notranslate"><span class="pre">n</span></code> a positive integer, or the pair <code class="docutils literal notranslate"><span class="pre">(p,</span> <span class="pre">n)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prec</span></code> – integer (default: <code class="docutils literal notranslate"><span class="pre">20</span></code>) the precision cap of the
field.  Individual elements keep track of their own precision.
See TYPES and PRECISION below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> – string (default: <code class="docutils literal notranslate"><span class="pre">'capped-rel'</span></code>) Valid types are
<code class="docutils literal notranslate"><span class="pre">'capped-abs'</span></code>, <code class="docutils literal notranslate"><span class="pre">'capped-rel'</span></code>, <code class="docutils literal notranslate"><span class="pre">'fixed-mod'</span></code>, and
<code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code>.  See TYPES and PRECISION below</p></li>
<li><p>modulus – polynomial (default None) A polynomial defining an
unramified extension of <span class="math notranslate nohighlight">\(\ZZ_p\)</span>.  See MODULUS below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">names</span></code> – string or tuple (<code class="docutils literal notranslate"><span class="pre">None</span></code> is only allowed when
<span class="math notranslate nohighlight">\(q=p\)</span>).  The name of the generator, reducing to a generator of
the residue field.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_mode</span></code> – string (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>).  Valid modes are <code class="docutils literal notranslate"><span class="pre">'series'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'val-unit'</span></code>, <code class="docutils literal notranslate"><span class="pre">'terse'</span></code>, and <code class="docutils literal notranslate"><span class="pre">'bars'</span></code>. See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ram_name</span></code> – string (defaults to string representation of <span class="math notranslate nohighlight">\(p\)</span> if
None).  <code class="docutils literal notranslate"><span class="pre">ram_name</span></code> controls how the prime is printed. See PRINTING
below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">res_name</span></code> – string (defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, which corresponds
to adding a <code class="docutils literal notranslate"><span class="pre">'0'</span></code> to the end of the name).  Controls how
elements of the reside field print.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_pos</span></code> – bool (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) Whether to only use
positive integers in the representations of elements. See
PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_sep</span></code> – string (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The separator
character used in the <code class="docutils literal notranslate"><span class="pre">'bars'</span></code> mode. See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_max_ram_terms</span></code> – integer (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The maximum
number of powers of <span class="math notranslate nohighlight">\(p\)</span> shown.  See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_max_unram_terms</span></code> – integer (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The
maximum number of entries shown in a coefficient of <span class="math notranslate nohighlight">\(p\)</span>.  See
PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print_max_terse_terms</span></code> – integer (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) The maximum
number of terms in the polynomial representation of an element
(using <code class="docutils literal notranslate"><span class="pre">'terse'</span></code>).  See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">show_prec</span></code> – bool (default <code class="docutils literal notranslate"><span class="pre">None</span></code>) Whether to show the precision
for elements.  See PRINTING below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check</span></code> – bool (default <code class="docutils literal notranslate"><span class="pre">True</span></code>) whether to check inputs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">implementation</span></code> – string (default <code class="docutils literal notranslate"><span class="pre">FLINT</span></code>) which
implementation to use.  <code class="docutils literal notranslate"><span class="pre">NTL</span></code> is the other option.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>The corresponding unramified <span class="math notranslate nohighlight">\(p\)</span>-adic ring.</p></li>
</ul>
<p>TYPES AND PRECISION:</p>
<p>There are two types of precision for a <span class="math notranslate nohighlight">\(p\)</span>-adic element.  The first
is relative precision (default), which gives the number of known <span class="math notranslate nohighlight">\(p\)</span>-adic
digits:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">25</span><span class="o">*</span><span class="n">a</span><span class="p">;</span> <span class="n">b</span>
<span class="go">a*5^2 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_relative</span><span class="p">()</span>
<span class="go">20</span>
</pre></div>
</div>
<p>The second type of precision is absolute precision, which gives
the power of <span class="math notranslate nohighlight">\(p\)</span> that this element is defined modulo:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">22</span>
</pre></div>
</div>
<p>There are many types of <span class="math notranslate nohighlight">\(p\)</span>-adic rings: capped relative rings
(<code class="docutils literal notranslate"><span class="pre">type='capped-rel'</span></code>), capped absolute rings
(<code class="docutils literal notranslate"><span class="pre">type='capped-abs'</span></code>), fixed modulus rings (<code class="docutils literal notranslate"><span class="pre">type='fixed-mod'</span></code>),
and floating point rings (<code class="docutils literal notranslate"><span class="pre">type='floating-point'</span></code>).</p>
<p>In the capped relative case, the relative precision of an element
is restricted to be at most a certain value, specified at the
creation of the field.  Individual elements also store their own
precision, so the effect of various arithmetic operations on
precision is tracked.  When you cast an exact element into a
capped relative field, it truncates it to the precision cap of the
field.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">;</span> <span class="n">b</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 1)*3^2 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">3249</span><span class="p">);</span> <span class="n">c</span>
<span class="go">3^2 + 3^4 + 3^5 + 3^6 + O(3^7)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">+</span> <span class="n">c</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 2)*3^2 + 3^4 + O(3^5)</span>
</pre></div>
</div>
<p>One can invert non-units: the result is in the fraction field.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="p">);</span> <span class="n">d</span>
<span class="go">2*3^-1 + (a + 1) + (a + 1)*3 + a*3^3 + O(3^4)</span>
<span class="gp">sage: </span><span class="n">d</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">3-adic Unramified Extension Field in a defined by x^2 + 2*x + 2</span>
</pre></div>
</div>
<p>The capped absolute case is the same as the capped relative case,
except that the cap is on the absolute precision rather than the
relative precision.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-abs&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">;</span> <span class="n">b</span>
<span class="go">2*3 + (2*a + 2)*3^2 + (2*a + 1)*3^3 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">3249</span><span class="p">);</span> <span class="n">c</span>
<span class="go">3^2 + 3^4 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">*</span><span class="n">c</span>
<span class="go">2*3^3 + (2*a + 2)*3^4 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">*</span><span class="n">c</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
<span class="go">2*3^2 + (2*a + 2)*3^3 + O(3^4)</span>
</pre></div>
</div>
<p>The fixed modulus case is like the capped absolute, except that
individual elements don’t track their precision.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;fixed-mod&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">;</span> <span class="n">b</span>
<span class="go">2*3 + (2*a + 2)*3^2 + (2*a + 1)*3^3</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">3249</span><span class="p">);</span> <span class="n">c</span>
<span class="go">3^2 + 3^4</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">*</span><span class="n">c</span>
<span class="go">2*3^3 + (2*a + 2)*3^4</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">*</span><span class="n">c</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
<span class="go">2*3^2 + (2*a + 2)*3^3</span>
</pre></div>
</div>
<p>The floating point case is similar to the fixed modulus type
in that elements do not trac their own precision.  However, relative
precision is truncated with each operation rather than absolute precision.</p>
<p>MODULUS:</p>
<p>The modulus needs to define an unramified extension of <span class="math notranslate nohighlight">\(\ZZ_p\)</span>: when it
is reduced to a polynomial over <span class="math notranslate nohighlight">\(\GF{p}\)</span> it should be irreducible.</p>
<p>The modulus can be given in a number of forms.</p>
<ol class="arabic simple">
<li><p>A <strong>polynomial</strong>.</p></li>
</ol>
<blockquote>
<div><p>The base ring can be <span class="math notranslate nohighlight">\(\ZZ\)</span>, <span class="math notranslate nohighlight">\(\QQ\)</span>, <span class="math notranslate nohighlight">\(\ZZ_p\)</span>, <span class="math notranslate nohighlight">\(\GF{p}\)</span>, or anything that can
be converted to <span class="math notranslate nohighlight">\(\ZZ_p\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">R</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(3^20))*x^3 + O(3^20)*x^2 + (2 + O(3^20))*x + 1 + O(3^20)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">7</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Which form the modulus is given in has no effect on the unramified
extension produced:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">U</span> <span class="o">==</span> <span class="n">V</span>
<span class="go">(False, True, True, False)</span>
</pre></div>
</div>
<p>unless the modulus is different, or the precision of the modulus
differs.  In the case of <code class="docutils literal notranslate"><span class="pre">V</span></code>, the modulus is only given to precision
<code class="docutils literal notranslate"><span class="pre">1</span></code>, so the resulting field has a precision cap of <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">20</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">7</span><span class="p">))</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">modulus</span>
<span class="go">(1 + O(3^20))*x^3 + (2 + O(3^7))*x + 1 + O(3^10)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">modulus</span><span class="p">);</span> <span class="n">W</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">7</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p>The modulus can also be given as a <strong>symbolic expression</strong>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">X</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(3^20))*x^3 + O(3^20)*x^2 + (2 + O(3^20))*x + 1 + O(3^20)</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">==</span> <span class="n">R</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>By default, the polynomial chosen is the standard lift of the
generator chosen for <span class="math notranslate nohighlight">\(\GF{q}\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">GF</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">x^3 + 3*x + 3</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">);</span> <span class="n">Y</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(5^20))*x^3 + O(5^20)*x^2 + (3 + O(5^20))*x + 3 + O(5^20)</span>
</pre></div>
</div>
<p>However, you can choose another polynomial if desired (as long as
the reduction to <span class="math notranslate nohighlight">\(\GF{p}[x]\)</span> is irreducible).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Z</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">Z</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(5^20))*x^3 + (3 + O(5^20))*x^2 + (1 + O(5^20))*x + 1 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">==</span> <span class="n">Z</span>
<span class="go">False</span>
</pre></div>
</div>
</div></blockquote>
<p>PRINTING:</p>
<p>There are many different ways to print <span class="math notranslate nohighlight">\(p\)</span>-adic elements.  The way
elements of a given field print is controlled by options passed in
at the creation of the field.  There are four basic printing modes
(<code class="docutils literal notranslate"><span class="pre">'series'</span></code>, <code class="docutils literal notranslate"><span class="pre">'val-unit'</span></code>, <code class="docutils literal notranslate"><span class="pre">'terse'</span></code> and <code class="docutils literal notranslate"><span class="pre">'bars'</span></code>; <code class="docutils literal notranslate"><span class="pre">'digits'</span></code> is not available), as
well as various options that either hide some information in the
print representation or sometimes make print representations more
compact.  Note that the printing options affect whether different
<span class="math notranslate nohighlight">\(p\)</span>-adic fields are considered equal.</p>
<ol class="arabic">
<li><p><strong>series</strong>: elements are displayed as series in <span class="math notranslate nohighlight">\(p\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 1)*3^2 + O(3^20)</span>
<span class="gp">sage: </span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">3 + a*3^2 + 3^3 + (2*a + 2)*3^4 + (2*a + 2)*3^5 + (2*a + 2)*3^6 + (2*a + 2)*3^7 + (2*a + 2)*3^8 + (2*a + 2)*3^9 + (2*a + 2)*3^10 + (2*a + 2)*3^11 + (2*a + 2)*3^12 + (2*a + 2)*3^13 + (2*a + 2)*3^14 + (2*a + 2)*3^15 + (2*a + 2)*3^16 + (2*a + 2)*3^17 + (2*a + 2)*3^18 + (2*a + 2)*3^19 + (2*a + 2)*3^20 + O(3^21)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="o">+</span><span class="mi">18</span><span class="p">);</span> <span class="n">b</span>
<span class="go">(a + 2)*3^-1 + 1 + 2*3 + (a + 1)*3^2 + 3^3 + 2*3^4 + (a + 1)*3^5 + 3^6 + 2*3^7 + (a + 1)*3^8 + 3^9 + 2*3^10 + (a + 1)*3^11 + 3^12 + 2*3^13 + (a + 1)*3^14 + 3^15 + 2*3^16 + (a + 1)*3^17 + 3^18 + O(3^19)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">R</span><span class="o">.</span><span class="n">fraction_field</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><em>print_pos</em> controls whether negatives can be used in the
coefficients of powers of <span class="math notranslate nohighlight">\(p\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">-1 - b*3 - 3^2 + (b + 1)*3^3 + O(3^20)</span>
<span class="gp">sage: </span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">3 + b*3^2 + 3^3 + (-b - 1)*3^4 + O(3^21)</span>
</pre></div>
</div>
<p><em>ram_name</em> controls how the prime is printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">d</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">);</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">d</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">2*p + (2*d + 2)*p^2 + (2*d + 1)*p^3 + O(p^21)</span>
</pre></div>
</div>
<p><em>print_max_ram_terms</em> limits the number of powers of <span class="math notranslate nohighlight">\(p\)</span> that
appear.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_ram_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;3 + e*3^2 + 3^3 + (2*e + 2)*3^4 + ... + O(3^21)&#39;</span>
</pre></div>
</div>
<p><em>print_max_unram_terms</em> limits the number of terms that appear in a
coefficient of a power of <span class="math notranslate nohighlight">\(p\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + f^4 + f^3 + f^2)*2 + (f^6 + f^5 + f^4 + f + 1)*2^2 + (f^5 + f^4 + f^2 + f + 1)*2^3 + (f^6 + f^5 + f^4 + f^3 + f^2 + f + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + f^5 + f^4 + f^3 + f + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">3</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + f^4 + ... + f^2)*2 + (f^6 + f^5 + ... + 1)*2^2 + (f^5 + f^4 + ... + 1)*2^3 + (f^6 + f^5 + ... + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + f^5 + ... + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + ... + f^2)*2 + (f^6 + ... + 1)*2^2 + (f^5 + ... + 1)*2^3 + (f^6 + ... + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + ... + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + ...) + (f^5 + ...)*2 + (f^6 + ...)*2^2 + (f^5 + ...)*2^3 + (f^6 + ...)*2^4 + (f^5 + ...)*2^5 + (f^6 + ...)*2^6 + (f + ...)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">f</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&#39;(...)*2 + (...)*2^2 + (...)*2^3 + (...)*2^4 + (...)*2^5 + (...)*2^6 + (...)*2^7 + O(2^8)&#39;</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>).
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'fixed-mod'</span></code> types and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;3 + e*3^2&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em> and <em>print_max_terse_terms</em> have no effect.</p>
<p>Note that print options affect equality:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">U</span> <span class="o">==</span> <span class="n">V</span>
<span class="go">(False, False, False, False, False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p><strong>val-unit</strong>: elements are displayed as <span class="math notranslate nohighlight">\(p^k u\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">b</span>
<span class="go">3^3 * (15 + 64*a) + O(3^7)</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">b</span>
<span class="go">3^-3 * (41 + a) + O(3)</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><em>print_pos</em> controls whether to use a balanced representation or
not.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">b</span>
<span class="go">3^3 * (15 - 17*a) + O(3^7)</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">b</span>
<span class="go">3^-3 * (-40 + a) + O(3)</span>
</pre></div>
</div>
<p><em>ram_name</em> affects how the prime is printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">),</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="mi">385831</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">106556</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">321036</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span>
<span class="go">p^2 * (87996187118837557387483 + 246348888344392418464080*a + 1353538653775332610349*a^2) + O(p^6)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">*</span> <span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span><span class="o">^-</span><span class="mi">4</span>
<span class="go">p^2 * 1 + O(p^6)</span>
</pre></div>
</div>
<p><em>print_max_terse_terms</em> controls how many terms of the polynomial
appear in the unit part.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">17</span><span class="o">^</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_max_terse_terms</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="n">a</span><span class="o">+</span><span class="mi">14</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">);</span> <span class="n">b</span>
<span class="go">17 * (12131797 + 12076378*a + 10809706*a^2 + ...) + O(17^7)</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>).
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'fixed-mod'</span></code> types and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;3 * (1 + 3*e)&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em>, <em>print_max_ram_terms</em> and <em>print_max_unram_terms</em> have no effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="3">
<li><p><strong>terse</strong>: elements are displayed as a polynomial of degree less
than the degree of the extension.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">177</span>
<span class="go">68210977979428 + 90313850704069*a + 73948093055069*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">/</span><span class="mi">5</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">177</span>
<span class="go">68210977979428/5^177 + 90313850704069/5^177*a + 73948093055069/5^177*a^2 + O(5^-157)</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>Note that in this last computation, you get one fewer <span class="math notranslate nohighlight">\(p\)</span>-adic digit
than one might expect.  This is because <code class="docutils literal notranslate"><span class="pre">R</span></code> is capped absolute, and
thus 5 is cast in with relative precision 19.</p>
<p>As of version 3.3, if coefficients of the polynomial are
non-integral, they are always printed with an explicit power of <span class="math notranslate nohighlight">\(p\)</span>
in the denominator.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">5</span><span class="o">*</span><span class="n">a</span> <span class="o">+</span> <span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="mi">25</span>
<span class="go">5*a + 1/5^2*a^2 + O(5^18)</span>
</pre></div>
</div>
<p><em>print_pos</em> controls whether to use a balanced representation or
not.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">22864 + 95367431627998*a + 8349*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">;</span> <span class="n">b</span>
<span class="go">22864 - 12627*a + 8349*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">-20624/5^6 + 18369/5^5*a + 1353/5^3*a^2 + O(5^14)</span>
</pre></div>
</div>
<p><em>ram_name</em> affects how the prime is printed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">95367431620001/p^6 + 18369/p^5*a + 1353/p^3*a^2 + O(p^14)</span>
</pre></div>
</div>
<p><em>print_max_terse_terms</em> controls how many terms of the polynomial
are shown.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">625</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_max_terse_terms</span><span class="o">=</span><span class="mi">2</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">106251/5^6 + 49994/5^5*a + ... + O(5^14)</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘bigoh’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>).
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'fixed-mod'</span></code> types and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;3 + 9*e&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em>, <em>print_max_ram_terms</em> and <em>print_max_unram_terms</em> have no
effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="4">
<li><p><strong>digits</strong>: This print mode is not available when the residue
field is not prime.  It might make sense to have a dictionary
for small fields, but this isn’t implemented.</p></li>
<li><p><strong>bars</strong>: elements are displayed in a similar fashion to series,
but more compactly.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">(4*a^2 + 3*a + 4) + (3*a^2 + 2*a)*5 + (a^2 + a + 1)*5^2 + (3*a + 2)*5^3 + (3*a^2 + a + 3)*5^4 + (2*a^2 + 3*a + 2)*5^5 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">8</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[2, 3, 2]|[3, 1, 3]|[2, 3]|[1, 1, 1]|[0, 2, 3]|[4, 3, 4]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[0, 4]|[1, 4]|[2, 0, 2]|[1, 4, 3]|[2, 3, 1]|[4, 4, 3]|[2, 4, 4]|[4, 3, 4]&#39;</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>Note that it’s not possible to read off the precision from the
representation in this mode.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">3</span><span class="p">;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[3, 1]&#39;</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">&#39;...[3, 1]&#39;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
<p><em>print_pos</em> controls whether the digits can be negative.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[1, -1, 1]|[2, 1, -2]|[2, 0, -2]|[-2, -1, 2]|[0, 0, -1]|[-2]|[-1, -2, -1]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[0, 1, 2]|[-1, 1, 1]|.|[-2, -1, -1]|[2, 2, 1]|[0, 0, -2]|[0, -1]|[0, -1]|[1]&#39;</span>
</pre></div>
</div>
<p><em>print_max_ram_terms</em> controls the maximum number of “digits” shown.
Note that this puts a cap on the relative precision, not the
absolute precision.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_max_ram_terms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">(-a^2 - 2*a - 1) - 2*5 - a^2*5^2 + ... + O(5^20)</span>
<span class="gp">sage: </span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span> <span class="o">+</span> <span class="mi">50</span>
<span class="go">(-a^2 - 2*a - 1)*5 - a^2*5^3 + (2*a^2 - a - 2)*5^4 + ... + O(5^21)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">5^-6 - a*5^-5 - a*5^-4 + ... + O(5^14)</span>
</pre></div>
</div>
<p><em>print_sep</em> controls the separating character (<code class="docutils literal notranslate"><span class="pre">'|'</span></code> by default).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">625</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_sep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4, 0, 2][3, 2, 2, 3][4, 2, 2, 4][0, 3][1, 1, 3][3, 1, 4, 1]&#39;</span>
</pre></div>
</div>
<p><em>print_max_unram_terms</em> controls how many terms are shown in each
<code class="docutils literal notranslate"><span class="pre">'digit'</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4,..., 0, 2][3,..., 2, 3][4,..., 2, 4][0, 3][1,..., 1, 3][3,..., 4, 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4,..., 2][3,..., 3][4,..., 4][0, 3][1,..., 3][3,..., 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[..., 1][..., 2][..., 3][..., 4][..., 3][..., 3][..., 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="mi">75</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...[...][...][...][...][][...][...]&#39;</span>
</pre></div>
</div>
<p><em>show_prec</em> determines how the precision is printed.
It can be either ‘none’ (or equivalently <code class="docutils literal notranslate"><span class="pre">False</span></code>), ‘dots’
(or equivalently <code class="docutils literal notranslate"><span class="pre">True</span></code>) or ‘bigoh’.
The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> for the <code class="docutils literal notranslate"><span class="pre">'floating-point'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'fixed-mod'</span></code> types and <code class="docutils literal notranslate"><span class="pre">True</span></code> for all other types.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">show_prec</span><span class="o">=</span><span class="s1">&#39;bigoh&#39;</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;[0, 1]|[1]|[] + O(3^3)&#39;</span>
</pre></div>
</div>
<p><em>ram_name</em> and <em>print_max_terse_terms</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
</div></blockquote>
<p>EXAMPLES:</p>
<p>Unlike for <code class="docutils literal notranslate"><span class="pre">Zp</span></code>, you can’t create <code class="docutils literal notranslate"><span class="pre">Zq(N)</span></code> when <code class="docutils literal notranslate"><span class="pre">N</span></code> is not a prime power.</p>
<p>However, you can use <code class="docutils literal notranslate"><span class="pre">check=False</span></code> to pass in a pair in order to not
have to factor.  If you do so, you need to use names explicitly
rather than the <code class="docutils literal notranslate"><span class="pre">R.&lt;a&gt;</span></code> syntax.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">next_prime</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">123</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">k</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">([(</span><span class="n">p</span><span class="p">,</span> <span class="mi">5</span><span class="p">)],</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="mf">.0</span><span class="o">^</span><span class="mi">5</span>
<span class="go">(-a - 4) + O(p^20)</span>
</pre></div>
</div>
<p>In tests on sage.math, the creation of <code class="docutils literal notranslate"><span class="pre">K</span></code> as above took an average
of 1.58ms, while:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="n">p</span><span class="o">^</span><span class="mi">5</span><span class="p">,</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>took an average of 24.5ms.  Of course, with smaller primes these
savings disappear.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.ZqCA">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">ZqCA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZqCA" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped absolute unramified <span class="math notranslate nohighlight">\(p\)</span>-adic rings.</p>
<p>See documentation for <a class="reference internal" href="#sage.rings.padics.factory.Zq" title="sage.rings.padics.factory.Zq"><code class="xref py py-func docutils literal notranslate"><span class="pre">Zq()</span></code></a> for a description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZqCA</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span> <span class="n">R</span>
<span class="go">5-adic Unramified Extension Ring in a defined by x^2 + 4*x + 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.ZqCR">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">ZqCR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZqCR" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped relative unramified <span class="math notranslate nohighlight">\(p\)</span>-adic rings.</p>
<p>Same functionality as <code class="docutils literal notranslate"><span class="pre">Zq</span></code>.  See documentation for <code class="docutils literal notranslate"><span class="pre">Zq</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZqCR</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span> <span class="n">R</span>
<span class="go">5-adic Unramified Extension Ring in a defined by x^2 + 4*x + 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.ZqFM">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">ZqFM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZqFM" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create fixed modulus unramified <span class="math notranslate nohighlight">\(p\)</span>-adic rings.</p>
<p>See documentation for <a class="reference internal" href="#sage.rings.padics.factory.Zq" title="sage.rings.padics.factory.Zq"><code class="xref py py-func docutils literal notranslate"><span class="pre">Zq()</span></code></a> for a description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZqFM</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span> <span class="n">R</span>
<span class="go">5-adic Unramified Extension Ring in a defined by x^2 + 4*x + 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.ZqFP">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">ZqFP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZqFP" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create floating point unramified <span class="math notranslate nohighlight">\(p\)</span>-adic rings.</p>
<p>Same functionality as <code class="docutils literal notranslate"><span class="pre">Zq</span></code>.  See documentation for <code class="docutils literal notranslate"><span class="pre">Zq</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZqFP</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span> <span class="n">R</span>
<span class="go">5-adic Unramified Extension Ring in a defined by x^2 + 4*x + 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.get_key_base">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">get_key_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ram_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_sep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_alphabet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_terms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_prec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.get_key_base" title="Permalink to this definition">¶</a></dt>
<dd><p>This implements create_key for Zp and Qp: moving it here prevents code duplication.</p>
<p>It fills in unspecified values and checks for contradictions in the input.  It also standardizes irrelevant options so that duplicate parents are not created.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.padics.factory</span> <span class="kn">import</span> <span class="n">get_key_base</span>
<span class="gp">sage: </span><span class="n">get_key_base</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;capped-rel&#39;</span><span class="p">])</span>
<span class="go">(11, 5, &#39;capped-rel&#39;, &#39;series&#39;, &#39;11&#39;, True, &#39;|&#39;, (), -1, &#39;none&#39;, None)</span>
<span class="gp">sage: </span><span class="n">get_key_base</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;capped-rel&#39;</span><span class="p">])</span>
<span class="go">(12,</span>
<span class="go"> 5,</span>
<span class="go"> &#39;capped-rel&#39;,</span>
<span class="go"> &#39;digits&#39;,</span>
<span class="go"> &#39;12&#39;,</span>
<span class="go"> True,</span>
<span class="go"> &#39;|&#39;,</span>
<span class="go"> (&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;),</span>
<span class="go"> -1,</span>
<span class="go"> &#39;dots&#39;,</span>
<span class="go"> None)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.is_eisenstein">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">is_eisenstein</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poly</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.is_eisenstein" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True iff this monic polynomial is Eisenstein.</p>
<p>A polynomial is Eisenstein if it is monic, the constant term has
valuation 1 and all other terms have positive valuation.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.padics.factory</span> <span class="kn">import</span> <span class="n">is_eisenstein</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">75</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">15</span>
<span class="gp">sage: </span><span class="n">is_eisenstein</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">75</span>
<span class="gp">sage: </span><span class="n">is_eisenstein</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">7</span> <span class="o">+</span> <span class="mi">27</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span><span class="mi">15</span>
<span class="gp">sage: </span><span class="n">is_eisenstein</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.is_unramified">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">is_unramified</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poly</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.is_unramified" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true iff this monic polynomial is unramified.</p>
<p>A polynomial is unramified if its reduction modulo the maximal
ideal is irreducible.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.padics.factory</span> <span class="kn">import</span> <span class="n">is_unramified</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">14</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">9</span>
<span class="gp">sage: </span><span class="n">is_unramified</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">6</span> <span class="o">+</span> <span class="mi">17</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">6</span>
<span class="gp">sage: </span><span class="n">is_unramified</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.krasner_check">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">krasner_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poly</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.krasner_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True iff poly determines a unique isomorphism class of
extensions at precision prec.</p>
<p>Currently just returns True (thus allowing extensions that are not
defined to high enough precision in order to specify them up to
isomorphism).  This will change in the future.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.padics.factory</span> <span class="kn">import</span> <span class="n">krasner_check</span>
<span class="gp">sage: </span><span class="n">krasner_check</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#this is a stupid example.</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.padics.factory.pAdicExtension_class">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">pAdicExtension_class</span></span><a class="headerlink" href="#sage.rings.padics.factory.pAdicExtension_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../structure/sage/structure/factory.html#sage.structure.factory.UniqueFactory" title="(in Parents and Elements v9.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.factory.UniqueFactory</span></code></a></p>
<p>A class for creating extensions of <span class="math notranslate nohighlight">\(p\)</span>-adic rings and fields.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.&lt;</span><span class="n">w</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pAdicExtension</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="o">-</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">5-adic Eisenstein Extension Ring in w defined by x^4 - 15</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">12</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.padics.factory.pAdicExtension_class.create_key_and_extra_args">
<span class="sig-name descname"><span class="pre">create_key_and_extra_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modulus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unram_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ram_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_alphabet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_ram_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_unram_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_max_terse_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unram</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">implementation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FLINT'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.pAdicExtension_class.create_key_and_extra_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a key from input parameters for pAdicExtension.</p>
<p>See the documentation for <code class="docutils literal notranslate"><span class="pre">Qq</span></code> for more information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.padics.factory.pAdicExtension_class.create_object">
<span class="sig-name descname"><span class="pre">create_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">approx_modulus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.pAdicExtension_class.create_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an object using a given key.</p>
<p>See the documentation for pAdicExtension for more information.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.split">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poly</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a polynomial <code class="docutils literal notranslate"><span class="pre">poly</span></code> and a desired precision <code class="docutils literal notranslate"><span class="pre">prec</span></code>, computes
<code class="docutils literal notranslate"><span class="pre">upoly</span></code> and epoly so that the extension defined by <code class="docutils literal notranslate"><span class="pre">poly</span></code> is isomorphic
to the extension defined by first taking an extension by the unramified
polynomial <code class="docutils literal notranslate"><span class="pre">upoly</span></code>, and then an extension by the Eisenstein polynomial
<code class="docutils literal notranslate"><span class="pre">epoly</span></code>.</p>
<p>We need better <span class="math notranslate nohighlight">\(p\)</span>-adic factoring in Sage before this function can be
implemented.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">rings</span><span class="o">.</span><span class="n">padics</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">NotImplementedError: Extensions by general polynomials not yet supported. Please use an unramified or Eisenstein polynomial.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.rings.padics.factory.truncate_to_prec">
<span class="sig-prename descclassname"><span class="pre">sage.rings.padics.factory.</span></span><span class="sig-name descname"><span class="pre">truncate_to_prec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poly</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">absprec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.truncate_to_prec" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncates the unused precision off of a polynomial.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.padics.factory</span> <span class="kn">import</span> <span class="n">truncate_to_prec</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="p">(</span><span class="mi">3</span><span class="o">+</span><span class="n">O</span><span class="p">(</span><span class="mi">5</span><span class="o">^</span><span class="mi">6</span><span class="p">))</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="mi">5</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">truncate_to_prec</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">(1 + O(5^5))*x^4 + (3 + O(5^5))*x^3 + O(5^5)*x^2 + O(5^5)*x + O(5^4)</span>
</pre></div>
</div>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="tutorial.html"
                          title="previous chapter">Introduction to the <span class="math notranslate nohighlight">\(p\)</span>-adics</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="local_generic.html"
                          title="next chapter">Local Generic</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/sage/rings/padics/factory.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="local_generic.html" title="Local Generic"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Introduction to the \(p\)-adics"
             >previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="../../../../_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../../../../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="../../../../index.html">Reference Manual</a> &#187;
      
      <a href="../../../index.html">$p$-adics</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Factory</a></li> 
      </ul>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2022, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
  </script>
  <script type="text/javascript">
/* detex the document title by removing "\(", "\)", "\", "$" */
document.title = document.title.replace(/\\\(/g, '').replace(/\\\)/g, '').replace(/\\/g, '').replace(/\$/g, '');
  </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>