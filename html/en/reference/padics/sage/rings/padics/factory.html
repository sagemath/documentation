<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Factory &mdash; Sage Reference Manual v7.3: p-Adics</title>
    
    <link rel="stylesheet" href="../../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '7.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.3: p-Adics" href="../../../index.html" />
    <link rel="next" title="Local Generic" href="local_generic.html" />
    <link rel="prev" title="Introduction to the \(p\)-adics" href="tutorial.html" />
    <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="local_generic.html" title="Local Generic"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Introduction to the \(p\)-adics"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">p-Adics</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="factory">
<span id="sage-rings-padics-factory"></span><h1>Factory<a class="headerlink" href="#factory" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.rings.padics.factory"></span><p>This file contains the constructor classes and functions for <span class="math">\(p\)</span>-adic rings and fields.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>David Roe</li>
</ul>
<dl class="function">
<dt id="sage.rings.padics.factory.QpCR">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">QpCR</code><span class="sig-paren">(</span><em>p</em>, <em>prec=20</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>names=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_alphabet=None</em>, <em>print_max_terms=None</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.QpCR" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped relative <span class="math">\(p\)</span>-adic fields.</p>
<p>Same functionality as <code class="docutils literal"><span class="pre">Qp</span></code>.  See documentation for <code class="docutils literal"><span class="pre">Qp</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QpCR</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">5-adic Field with capped relative precision 40</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.rings.padics.factory.Qp_class">
<em class="property">class </em><code class="descclassname">sage.rings.padics.factory.</code><code class="descname">Qp_class</code><a class="headerlink" href="#sage.rings.padics.factory.Qp_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../structure/sage/structure/factory.html#sage.structure.factory.UniqueFactory" title="(in Sage Reference Manual: Basic Structures v7.3)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.factory.UniqueFactory</span></code></a></p>
<p>A creation function for <span class="math">\(p\)</span>-adic fields.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">p</span></code> &#8211; integer: the <span class="math">\(p\)</span> in <span class="math">\(\mathbb{Q}_p\)</span></li>
<li><code class="docutils literal"><span class="pre">prec</span></code> &#8211; integer (default: <code class="docutils literal"><span class="pre">20</span></code>) the precision cap of the field.
Individual elements keep track of their own precision.  See
TYPES and PRECISION below.</li>
<li><code class="docutils literal"><span class="pre">type</span></code> &#8211; string (default: <code class="docutils literal"><span class="pre">'capped-rel'</span></code>) Valid types are
<code class="docutils literal"><span class="pre">'capped-rel'</span></code> and <code class="docutils literal"><span class="pre">'lazy'</span></code> (though <code class="docutils literal"><span class="pre">'lazy'</span></code> currently
doesn&#8217;t work).  See TYPES and PRECISION below</li>
<li><code class="docutils literal"><span class="pre">print_mode</span></code> &#8211; string (default: <code class="docutils literal"><span class="pre">None</span></code>).  Valid modes are &#8216;series&#8217;,
&#8216;val-unit&#8217;, &#8216;terse&#8217;, &#8216;digits&#8217;, and &#8216;bars&#8217;. See PRINTING below</li>
<li><code class="docutils literal"><span class="pre">halt</span></code> &#8211; currently irrelevant (to be used for lazy fields)</li>
<li><code class="docutils literal"><span class="pre">names</span></code> &#8211; string or tuple (defaults to a string representation of
<span class="math">\(p\)</span>).  What to use whenever <span class="math">\(p\)</span> is printed.</li>
<li><code class="docutils literal"><span class="pre">ram_name</span></code> &#8211; string.  Another way to specify the name; for
consistency with the <code class="docutils literal"><span class="pre">Qq</span></code> and <code class="docutils literal"><span class="pre">Zq</span></code> and extension functions.</li>
<li><code class="docutils literal"><span class="pre">print_pos</span></code> &#8211; bool (default <code class="docutils literal"><span class="pre">None</span></code>) Whether to only use positive
integers in the representations of elements. See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_sep</span></code> &#8211; string (default <code class="docutils literal"><span class="pre">None</span></code>) The separator character used
in the <code class="docutils literal"><span class="pre">'bars'</span></code> mode. See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_alphabet</span></code> &#8211; tuple (default <code class="docutils literal"><span class="pre">None</span></code>) The encoding into digits
for use in the &#8216;digits&#8217; mode. See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_max_terms</span></code> &#8211; integer (default <code class="docutils literal"><span class="pre">None</span></code>) The maximum number of
terms shown.  See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">check</span></code> &#8211; bool (default <code class="docutils literal"><span class="pre">True</span></code>) whether to check if <span class="math">\(p\)</span> is prime.
Non-prime input may cause seg-faults (but can also be useful for
base n expansions for example)</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>The corresponding <span class="math">\(p\)</span>-adic field.</li>
</ul>
<p>TYPES AND PRECISION:</p>
<p>There are two types of precision for a <span class="math">\(p\)</span>-adic element.  The first
is relative precision, which gives the number of known <span class="math">\(p\)</span>-adic
digits:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">675</span><span class="p">);</span> <span class="n">a</span>
<span class="go">2*5^2 + 5^4 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">precision_relative</span><span class="p">()</span>
<span class="go">20</span>
</pre></div>
</div>
<p>The second type of precision is absolute precision, which gives
the power of <span class="math">\(p\)</span> that this element is defined modulo:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">22</span>
</pre></div>
</div>
<p>There are two types of <span class="math">\(p\)</span>-adic fields: capped relative fields and
lazy fields.</p>
<p>In the capped relative case, the relative precision of an element
is restricted to be at most a certain value, specified at the
creation of the field.  Individual elements also store their own
precision, so the effect of various arithmetic operations on
precision is tracked.  When you cast an exact element into a
capped relative field, it truncates it to the precision cap of the
field.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4006</span><span class="p">);</span> <span class="n">a</span>
<span class="go">1 + 5 + 2*5^3 + 5^4 + O(5^5)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4025</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^2 + 2*5^3 + 5^4 + 5^5 + O(5^7)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="go">1 + 5 + 5^2 + 4*5^3 + 2*5^4 + O(5^5)</span>
</pre></div>
</div>
<p>The lazy case will eventually support elements that can increase
their precision upon request.  It is not currently implemented.</p>
<p>PRINTING:</p>
<p>There are many different ways to print <span class="math">\(p\)</span>-adic elements.  The way
elements of a given field print is controlled by options passed in
at the creation of the field.  There are five basic printing modes
(series, val-unit, terse, digits and bars), as well as various
options that either hide some information in the print
representation or sometimes make print representations more
compact.  Note that the printing options affect whether different
<span class="math">\(p\)</span>-adic fields are considered equal.</p>
<ol class="arabic">
<li><p class="first"><strong>series</strong>: elements are displayed as series in <span class="math">\(p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">3*5^2 + 3*5^4 + 2*5^5 + 4*5^6 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2*5^2 + 4*5^3 + 5^4 + 2*5^5 + 4*5^7 + 4*5^8 + 4*5^9 + 4*5^10 + 4*5^11 + 4*5^12 + 4*5^13 + 4*5^14 + 4*5^15 + 4*5^16 + 4*5^17 + 4*5^18 + 4*5^19 + 4*5^20 + 4*5^21 + O(5^22)</span>
</pre></div>
</div>
</li>
</ol>
<p><em>print_pos</em> controls whether negatives can be used in the
coefficients of powers of <span class="math">\(p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">-2*5^2 + 5^3 - 2*5^4 - 2*5^5 + 5^7 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2*5^2 - 5^3 + 2*5^4 + 2*5^5 - 5^7 + O(5^22)</span>
</pre></div>
</div>
<p><em>print_max_terms</em> limits the number of terms that appear.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;2*5^2 + 4*5^3 + 5^4 + 2*5^5 + ... + O(5^22)&#39;</span>
</pre></div>
</div>
<p><em>names</em> affects how the prime is printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">p</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="n">p</span>
<span class="go">p + O(p^21)</span>
</pre></div>
</div>
<p><em>print_sep</em> and <em>print_alphabet</em> have no effect in series mode.</p>
<p>Note that print options affect equality:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
<ol class="arabic" start="2">
<li><p class="first"><strong>val-unit</strong>: elements are displayed as p^k*u:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">5^2 * 2828 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^-1 * 95367431639918 + O(5^19)</span>
</pre></div>
</div>
</li>
</ol>
<p><em>print_pos</em> controls whether to use a balanced representation or
not.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^2 * (-2828) + O(5^22)</span>
</pre></div>
</div>
<p><em>names</em> affects how the prime is printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;pi&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">pi^2 * 2828 + O(pi^22)</span>
</pre></div>
</div>
<p><em>print_max_terms</em>, <em>print_sep</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
<ol class="arabic" start="3">
<li><p class="first"><strong>terse</strong>: elements are displayed as an integer in base 10 or the
quotient of an integer by a power of <span class="math">\(p\)</span> (still in base 10):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">70700 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2384185790944925 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span> <span class="n">c</span>
<span class="go">95367431639918/5 + O(5^19)</span>
</pre></div>
</div>
</li>
</ol>
<p>The denominator, as of version 3.3, is always printed
explicitly as a power of <span class="math">\(p\)</span>, for predictability.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">d</span>
<span class="go">707/5^2 + O(5^18)</span>
</pre></div>
</div>
<p><em>print_pos</em> controls whether to use a balanced representation or not.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">-70700 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span> <span class="n">c</span>
<span class="go">-707/5 + O(5^19)</span>
</pre></div>
</div>
<p><em>name</em> affects how the name is printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">unif</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">);</span> <span class="n">c</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span> <span class="n">c</span>
<span class="go">95367431639918/unif + O(unif^19)</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">10</span><span class="p">);</span> <span class="n">d</span>
<span class="go">95367431639918/unif^10 + O(unif^10)</span>
</pre></div>
</div>
<p><em>print_max_terms</em>, <em>print_sep</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><strong>digits</strong>: elements are displayed as a string of base <span class="math">\(p\)</span> digits</li>
</ol>
<p>Restriction: you can only use the digits printing mode for
small primes.  Namely, <span class="math">\(p\)</span> must be less than the length of the
alphabet tuple (default alphabet has length 62).:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...4230300&#39;</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...4444444444444440214200&#39;</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">&#39;...4444444444444443413.3&#39;</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&#39;...444444444444444341.33&#39;</span>
</pre></div>
</div>
<p>Note that it&#8217;s not possible to read off the precision from the
representation in this mode.</p>
<p><em>print_max_terms</em> limits the number of digits that are printed.
Note that if the valuation of the element is very negative, more
digits will be printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...214200&#39;</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&#39;...41.33&#39;</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">6</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">&#39;...?.434133&#39;</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">6</span><span class="p">,</span><span class="n">absprec</span><span class="o">=-</span><span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&#39;...?.??4133&#39;</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">4</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">&#39;...?.4133&#39;</span>
</pre></div>
</div>
<p><em>print_alphabet</em> controls the symbols used to substitute for digits
greater than 9.</p>
<p>Defaults to (&#8216;0&#8217;, &#8216;1&#8217;, &#8216;2&#8217;, &#8216;3&#8217;, &#8216;4&#8217;, &#8216;5&#8217;, &#8216;6&#8217;, &#8216;7&#8217;, &#8216;8&#8217;, &#8216;9&#8217;, &#8216;A&#8217;, &#8216;B&#8217;, &#8216;C&#8217;, &#8216;D&#8217;, &#8216;E&#8217;, &#8216;F&#8217;, &#8216;G&#8217;, &#8216;H&#8217;, &#8216;I&#8217;, &#8216;J&#8217;, &#8216;K&#8217;, &#8216;L&#8217;, &#8216;M&#8217;, &#8216;N&#8217;, &#8216;O&#8217;, &#8216;P&#8217;, &#8216;Q&#8217;, &#8216;R&#8217;, &#8216;S&#8217;, &#8216;T&#8217;, &#8216;U&#8217;, &#8216;V&#8217;, &#8216;W&#8217;, &#8216;X&#8217;, &#8216;Y&#8217;, &#8216;Z&#8217;, &#8216;a&#8217;, &#8216;b&#8217;, &#8216;c&#8217;, &#8216;d&#8217;, &#8216;e&#8217;, &#8216;f&#8217;, &#8216;g&#8217;, &#8216;h&#8217;, &#8216;i&#8217;, &#8216;j&#8217;, &#8216;k&#8217;, &#8216;l&#8217;, &#8216;m&#8217;, &#8216;n&#8217;, &#8216;o&#8217;, &#8216;p&#8217;, &#8216;q&#8217;, &#8216;r&#8217;, &#8216;s&#8217;, &#8216;t&#8217;, &#8216;u&#8217;, &#8216;v&#8217;, &#8216;w&#8217;, &#8216;x&#8217;, &#8216;y&#8217;, &#8216;z&#8217;):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">print_alphabet</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">));</span> <span class="n">b</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...325311&#39;</span>
</pre></div>
</div>
<p><em>print_pos</em>, <em>name</em> and <em>print_sep</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
<ol class="arabic" start="5">
<li><p class="first"><strong>bars</strong>: elements are displayed as a string of base <span class="math">\(p\)</span> digits
with separators:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...4|2|3|0|3|0|0&#39;</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...4|4|4|4|4|4|4|4|4|4|4|4|4|4|4|0|2|1|4|2|0|0&#39;</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&#39;...4|4|4|4|4|4|4|4|4|4|4|4|4|4|4|3|4|1|.|3|3&#39;</span>
</pre></div>
</div>
</li>
</ol>
<p>Again, note that it&#8217;s not possible to read of the precision from the representation in this mode.</p>
<p><em>print_pos</em> controls whether the digits can be negative.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span><span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...-1|0|2|2|-1|2|0|0&#39;</span>
</pre></div>
</div>
<p><em>print_max_terms</em> limits the number of digits that are printed.
Note that if the valuation of the element is very negative, more
digits will be printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...2|1|4|2|0|0&#39;</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&#39;...4|1|.|3|3&#39;</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">6</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">&#39;...|.|4|3|4|1|3|3&#39;</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">6</span><span class="p">,</span><span class="n">absprec</span><span class="o">=-</span><span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&#39;...|.|?|?|4|1|3|3&#39;</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">/</span><span class="mi">5</span><span class="o">^</span><span class="mi">4</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">&#39;...|.|4|1|3|3&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em> controls the separation character.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_sep</span><span class="o">=</span><span class="s1">&#39;][&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">U</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...4][2][3][0][3][0][0&#39;</span>
</pre></div>
</div>
<p><em>name</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">K</span><span class="p">(</span><span class="mi">999</span><span class="p">);</span> <span class="n">a</span>
<span class="go">9 + 6*15 + 4*15^2 + O(15^20)</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.rings.padics.factory.Qp_class.create_key">
<code class="descname">create_key</code><span class="sig-paren">(</span><em>p</em>, <em>prec=20</em>, <em>type='capped-rel'</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>names=None</em>, <em>ram_name=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_alphabet=None</em>, <em>print_max_terms=None</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Qp_class.create_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a key from input parameters for <code class="docutils literal"><span class="pre">Qp</span></code>.</p>
<p>See the documentation for <code class="docutils literal"><span class="pre">Qp</span></code> for more information.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Qp</span><span class="o">.</span><span class="n">create_key</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">40</span><span class="p">)</span>
<span class="go">(5, 40, &#39;capped-rel&#39;, &#39;series&#39;, &#39;5&#39;, True, &#39;|&#39;, (), -1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.padics.factory.Qp_class.create_object">
<code class="descname">create_object</code><span class="sig-paren">(</span><em>version</em>, <em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Qp_class.create_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an object using a given key.</p>
<p>See the documentation for <code class="docutils literal"><span class="pre">Qp</span></code> for more information.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Qp</span><span class="o">.</span><span class="n">create_object</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;|&#39;</span><span class="p">,</span> <span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="go">5-adic Field with capped relative precision 41</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.Qq">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">Qq</code><span class="sig-paren">(</span><em>q</em>, <em>prec=20</em>, <em>type='capped-rel'</em>, <em>modulus=None</em>, <em>names=None</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>ram_name=None</em>, <em>res_name=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_max_ram_terms=None</em>, <em>print_max_unram_terms=None</em>, <em>print_max_terse_terms=None</em>, <em>check=True</em>, <em>implementation='FLINT'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Qq" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a prime power <span class="math">\(q = p^n\)</span>, return the unique unramified
extension of <span class="math">\(\mathbb{Q}_p\)</span> of degree <span class="math">\(n\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">q</span></code> &#8211; integer, list, tuple or <code class="docutils literal"><span class="pre">Factorization</span></code> object. If <code class="docutils literal"><span class="pre">q</span></code> is an
integer, it is the prime power <span class="math">\(q\)</span> in <span class="math">\(\mathbb{Q}_q\)</span>. If <code class="docutils literal"><span class="pre">q</span></code> is a
<code class="docutils literal"><span class="pre">Factorization</span></code> object, it is the factorization of the prime power <span class="math">\(q\)</span>.
As a tuple it is the pair <code class="docutils literal"><span class="pre">(p,</span> <span class="pre">n)</span></code>, and as a list it is a single
element list <code class="docutils literal"><span class="pre">[(p,</span> <span class="pre">n)]</span></code>.</li>
<li><code class="docutils literal"><span class="pre">prec</span></code> &#8211; integer (default: <code class="docutils literal"><span class="pre">20</span></code>) the precision cap of the field.
Individual elements keep track of their own precision.  See
TYPES and PRECISION below.</li>
<li><code class="docutils literal"><span class="pre">type</span></code> &#8211; string (default: <code class="docutils literal"><span class="pre">'capped-rel'</span></code>) Valid types are
<code class="docutils literal"><span class="pre">'capped-rel'</span></code> and <code class="docutils literal"><span class="pre">'lazy'</span></code> (though <code class="docutils literal"><span class="pre">'lazy'</span></code> doesn&#8217;t currently work).
See TYPES and PRECISION below</li>
<li><code class="docutils literal"><span class="pre">modulus</span></code> &#8211; polynomial (default <code class="docutils literal"><span class="pre">None</span></code>) A polynomial defining an
unramified extension of <span class="math">\(\mathbb{Q}_p\)</span>.  See MODULUS below.</li>
<li><code class="docutils literal"><span class="pre">names</span></code> &#8211; string or tuple (<code class="docutils literal"><span class="pre">None</span></code> is only allowed when <span class="math">\(q=p\)</span>).  The
name of the generator, reducing to a generator of the residue
field.</li>
<li><code class="docutils literal"><span class="pre">print_mode</span></code> &#8211; string (default: <code class="docutils literal"><span class="pre">None</span></code>).  Valid modes are <code class="docutils literal"><span class="pre">'series'</span></code>,
<code class="docutils literal"><span class="pre">'val-unit'</span></code>, <code class="docutils literal"><span class="pre">'terse'</span></code>, and <code class="docutils literal"><span class="pre">'bars'</span></code>. See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">halt</span></code> &#8211; currently irrelevant (to be used for lazy fields)</li>
<li><code class="docutils literal"><span class="pre">ram_name</span></code> &#8211; string (defaults to string representation of <span class="math">\(p\)</span> if
None).  <code class="docutils literal"><span class="pre">ram_name</span></code> controls how the prime is printed. See PRINTING
below.</li>
<li><code class="docutils literal"><span class="pre">res_name</span></code> &#8211; string (defaults to <code class="docutils literal"><span class="pre">None</span></code>, which corresponds to
adding a <code class="docutils literal"><span class="pre">'0'</span></code> to the end of the name).  Controls how elements of
the reside field print.</li>
<li><code class="docutils literal"><span class="pre">print_pos</span></code> &#8211; bool (default <code class="docutils literal"><span class="pre">None</span></code>) Whether to only use positive
integers in the representations of elements. See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_sep</span></code> &#8211; string (default <code class="docutils literal"><span class="pre">None</span></code>) The separator character used
in the <code class="docutils literal"><span class="pre">'bars'</span></code> mode. See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_max_ram_terms</span></code> &#8211; integer (default <code class="docutils literal"><span class="pre">None</span></code>) The maximum number
of powers of <span class="math">\(p\)</span> shown.  See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_max_unram_terms</span></code> &#8211; integer (default <code class="docutils literal"><span class="pre">None</span></code>) The maximum
number of entries shown in a coefficient of <span class="math">\(p\)</span>.  See PRINTING
below.</li>
<li><code class="docutils literal"><span class="pre">print_max_terse_terms</span></code> &#8211; integer (default <code class="docutils literal"><span class="pre">None</span></code>) The maximum
number of terms in the polynomial representation of an element
(using <code class="docutils literal"><span class="pre">'terse'</span></code>).  See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">check</span></code> &#8211; bool (default <code class="docutils literal"><span class="pre">True</span></code>) whether to check inputs.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>The corresponding unramified <span class="math">\(p\)</span>-adic field.</li>
</ul>
<p>TYPES AND PRECISION:</p>
<p>There are two types of precision for a <span class="math">\(p\)</span>-adic element.  The first
is relative precision, which gives the number of known <span class="math">\(p\)</span>-adic
digits:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">25</span><span class="o">*</span><span class="n">a</span><span class="p">;</span> <span class="n">b</span>
<span class="go">a*5^2 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_relative</span><span class="p">()</span>
<span class="go">20</span>
</pre></div>
</div>
<p>The second type of precision is absolute precision, which gives
the power of <span class="math">\(p\)</span> that this element is defined modulo:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">22</span>
</pre></div>
</div>
<p>There are two types of unramified <span class="math">\(p\)</span>-adic fields: capped relative
fields and lazy fields.</p>
<p>In the capped relative case, the relative precision of an element
is restricted to be at most a certain value, specified at the
creation of the field.  Individual elements also store their own
precision, so the effect of various arithmetic operations on
precision is tracked.  When you cast an exact element into a
capped relative field, it truncates it to the precision cap of the
field.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">;</span> <span class="n">b</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 1)*3^2 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">3249</span><span class="p">);</span> <span class="n">c</span>
<span class="go">3^2 + 3^4 + 3^5 + 3^6 + O(3^7)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">+</span> <span class="n">c</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 2)*3^2 + 3^4 + O(3^5)</span>
</pre></div>
</div>
<p>The lazy case will eventually support elements that can increase
their precision upon request.  It is not currently implemented.</p>
<p>MODULUS:</p>
<p>The modulus needs to define an unramified extension of <span class="math">\(\mathbb{Q}_p\)</span>: when it
is reduced to a polynomial over <span class="math">\(\mathbb{F}_p\)</span> it should be irreducible.</p>
<p>The modulus can be given in a number of forms.</p>
<ol class="arabic simple">
<li>A <strong>polynomial</strong>.</li>
</ol>
<p>The base ring can be <span class="math">\(\mathbb{Z}\)</span>, <span class="math">\(\mathbb{Q}\)</span>, <span class="math">\(\mathbb{Z}_p\)</span>, <span class="math">\(\mathbb{Q}_p\)</span>, <span class="math">\(\mathbb{F}_p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">R</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(3^20))*x^3 + (O(3^20))*x^2 + (2 + O(3^20))*x + (1 + O(3^20))</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Which form the modulus is given in has no effect on the unramified
extension produced:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">U</span> <span class="o">==</span> <span class="n">V</span>
<span class="go">(True, True, True, False)</span>
</pre></div>
</div>
<p>unless the precision of the modulus differs.  In the case of V,
the modulus is only given to precision 1, so the resulting field
has a precision cap of 1.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">20</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">7</span><span class="p">))</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">modulus</span>
<span class="go">(1 + O(3^20))*x^3 + (2 + O(3^7))*x + (1 + O(3^10))</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">modulus</span><span class="p">);</span> <span class="n">W</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">7</span>
</pre></div>
</div>
<ol class="arabic" start="2">
<li><p class="first">The modulus can also be given as a <strong>symbolic expression</strong>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">X</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(3^20))*x^3 + (O(3^20))*x^2 + (2 + O(3^20))*x + (1 + O(3^20))</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">==</span> <span class="n">R</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
</ol>
<p>By default, the polynomial chosen is the standard lift of the
generator chosen for <span class="math">\(\mathbb{F}_q\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">GF</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">x^3 + 3*x + 3</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">);</span> <span class="n">Y</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(5^20))*x^3 + (O(5^20))*x^2 + (3 + O(5^20))*x + (3 + O(5^20))</span>
</pre></div>
</div>
<p>However, you can choose another polynomial if desired (as long as
the reduction to <span class="math">\(\mathbb{F}_p[x]\)</span> is irreducible).:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Z</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">Z</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(5^20))*x^3 + (3 + O(5^20))*x^2 + (1 + O(5^20))*x + (1 + O(5^20))</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">==</span> <span class="n">Z</span>
<span class="go">False</span>
</pre></div>
</div>
<p>PRINTING:</p>
<p>There are many different ways to print <span class="math">\(p\)</span>-adic elements.  The way
elements of a given field print is controlled by options passed in
at the creation of the field.  There are four basic printing modes
(<code class="docutils literal"><span class="pre">'series'</span></code>, <code class="docutils literal"><span class="pre">'val-unit'</span></code>, <code class="docutils literal"><span class="pre">'terse'</span></code> and <code class="docutils literal"><span class="pre">'bars'</span></code>; <code class="docutils literal"><span class="pre">'digits'</span></code> is not available), as
well as various options that either hide some information in the
print representation or sometimes make print representations more
compact.  Note that the printing options affect whether different
<span class="math">\(p\)</span>-adic fields are considered equal.</p>
<ol class="arabic">
<li><p class="first"><strong>series</strong>: elements are displayed as series in <span class="math">\(p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 1)*3^2 + O(3^20)</span>
<span class="gp">sage: </span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">3 + a*3^2 + 3^3 + (2*a + 2)*3^4 + (2*a + 2)*3^5 + (2*a + 2)*3^6 + (2*a + 2)*3^7 + (2*a + 2)*3^8 + (2*a + 2)*3^9 + (2*a + 2)*3^10 + (2*a + 2)*3^11 + (2*a + 2)*3^12 + (2*a + 2)*3^13 + (2*a + 2)*3^14 + (2*a + 2)*3^15 + (2*a + 2)*3^16 + (2*a + 2)*3^17 + (2*a + 2)*3^18 + (2*a + 2)*3^19 + (2*a + 2)*3^20 + O(3^21)</span>
<span class="gp">sage: </span><span class="o">~</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="o">+</span><span class="mi">18</span><span class="p">)</span>
<span class="go">(a + 2)*3^-1 + 1 + 2*3 + (a + 1)*3^2 + 3^3 + 2*3^4 + (a + 1)*3^5 + 3^6 + 2*3^7 + (a + 1)*3^8 + 3^9 + 2*3^10 + (a + 1)*3^11 + 3^12 + 2*3^13 + (a + 1)*3^14 + 3^15 + 2*3^16 + (a + 1)*3^17 + 3^18 + O(3^19)</span>
</pre></div>
</div>
</li>
</ol>
<p><em>print_pos</em> controls whether negatives can be used in the
coefficients of powers of <span class="math">\(p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">-1 - b*3 - 3^2 + (b + 1)*3^3 + O(3^20)</span>
<span class="gp">sage: </span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">3 + b*3^2 + 3^3 + (-b - 1)*3^4 + O(3^21)</span>
</pre></div>
</div>
<p><em>ram_name</em> controls how the prime is printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">d</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">);</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">d</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">2*p + (2*d + 2)*p^2 + (2*d + 1)*p^3 + O(p^21)</span>
</pre></div>
</div>
<p><em>print_max_ram_terms</em> limits the number of powers of <span class="math">\(p\)</span> that appear.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_ram_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;3 + e*3^2 + 3^3 + (2*e + 2)*3^4 + ... + O(3^21)&#39;</span>
</pre></div>
</div>
<p><em>print_max_unram_terms</em> limits the number of terms that appear in a
coefficient of a power of <span class="math">\(p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + f^4 + f^3 + f^2)*2 + (f^6 + f^5 + f^4 + f + 1)*2^2 + (f^5 + f^4 + f^2 + f + 1)*2^3 + (f^6 + f^5 + f^4 + f^3 + f^2 + f + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + f^5 + f^4 + f^3 + f + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">3</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + f^4 + ... + f^2)*2 + (f^6 + f^5 + ... + 1)*2^2 + (f^5 + f^4 + ... + 1)*2^3 + (f^6 + f^5 + ... + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + f^5 + ... + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + ... + f^2)*2 + (f^6 + ... + 1)*2^2 + (f^5 + ... + 1)*2^3 + (f^6 + ... + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + ... + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + ...) + (f^5 + ...)*2 + (f^6 + ...)*2^2 + (f^5 + ...)*2^3 + (f^6 + ...)*2^4 + (f^5 + ...)*2^5 + (f^6 + ...)*2^6 + (f + ...)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">f</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&#39;(...)*2 + (...)*2^2 + (...)*2^3 + (...)*2^4 + (...)*2^5 + (...)*2^6 + (...)*2^7 + O(2^8)&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em> and <em>print_max_terse_terms</em> have no effect.</p>
<p>Note that print options affect equality:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">U</span> <span class="o">==</span> <span class="n">V</span>
<span class="go">(False, False, False, False, False, False, False, False, False, False)</span>
</pre></div>
</div>
<ol class="arabic" start="2">
<li><p class="first"><strong>val-unit</strong>: elements are displayed as <span class="math">\(p^k u\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">b</span>
<span class="go">3^3 * (15 + 64*a) + O(3^7)</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">b</span>
<span class="go">3^-3 * (41 + a) + O(3)</span>
</pre></div>
</div>
</li>
</ol>
<p><em>print_pos</em> controls whether to use a balanced representation or
not.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">b</span>
<span class="go">3^3 * (15 - 17*a) + O(3^7)</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">b</span>
<span class="go">3^-3 * (-40 + a) + O(3)</span>
</pre></div>
</div>
<p><em>ram_name</em> affects how the prime is printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">),</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="mi">385831</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">106556</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">321036</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a</span> <span class="o">-</span> <span class="mi">4</span><span class="p">));</span> <span class="n">b</span>
<span class="go">p^-2 * (503009563508519137754940 + 704413692798200940253892*a + 968097057817740999537581*a^2) + O(p^2)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">*</span> <span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">p^-2 * 1 + O(p^2)</span>
</pre></div>
</div>
<p><em>print_max_terse_terms</em> controls how many terms of the polynomial
appear in the unit part.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">17</span><span class="o">^</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_max_terse_terms</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="mi">17</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="n">a</span><span class="o">+</span><span class="mi">14</span><span class="p">));</span> <span class="n">b</span>
<span class="go">17^-1 * (22110411 + 11317400*a + 20656972*a^2 + ...) + O(17^5)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">*</span><span class="mi">17</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="n">a</span><span class="o">+</span><span class="mi">14</span><span class="p">)</span>
<span class="go">1 + O(17^6)</span>
</pre></div>
</div>
<p><em>print_sep</em>, <em>print_max_ram_terms</em> and <em>print_max_unram_terms</em> have no
effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
<ol class="arabic" start="3">
<li><p class="first"><strong>terse</strong>: elements are displayed as a polynomial of degree less
than the degree of the extension.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">177</span>
<span class="go">68210977979428 + 90313850704069*a + 73948093055069*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">/</span><span class="mi">5</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">177</span>
<span class="go">68210977979428/5^177 + 90313850704069/5^177*a + 73948093055069/5^177*a^2 + O(5^-157)</span>
</pre></div>
</div>
</li>
</ol>
<p>As of version 3.3, if coefficients of the polynomial are
non-integral, they are always printed with an explicit power of <span class="math">\(p\)</span>
in the denominator.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">5</span><span class="o">*</span><span class="n">a</span> <span class="o">+</span> <span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="mi">25</span>
<span class="go">5*a + 1/5^2*a^2 + O(5^18)</span>
</pre></div>
</div>
<p><em>print_pos</em> controls whether to use a balanced representation or
not.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">22864 + 95367431627998*a + 8349*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">;</span> <span class="n">b</span>
<span class="go">22864 - 12627*a + 8349*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">-20624/5^6 + 18369/5^5*a + 1353/5^3*a^2 + O(5^14)</span>
</pre></div>
</div>
<p><em>ram_name</em> affects how the prime is printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">95367431620001/p^6 + 18369/p^5*a + 1353/p^3*a^2 + O(p^14)</span>
</pre></div>
</div>
<p><em>print_max_terse_terms</em> controls how many terms of the polynomial
are shown.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">625</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_max_terse_terms</span><span class="o">=</span><span class="mi">2</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">106251/5^6 + 49994/5^5*a + ... + O(5^14)</span>
</pre></div>
</div>
<p><em>print_sep</em>, <em>print_max_ram_terms</em> and <em>print_max_unram_terms</em> have no
effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><strong>digits</strong>: This print mode is not available when the residue
field is not prime.</li>
</ol>
<p>It might make sense to have a dictionary for small fields, but
this isn&#8217;t implemented.</p>
<ol class="arabic" start="5">
<li><p class="first"><strong>bars</strong>: elements are displayed in a similar fashion to
series, but more compactly.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">(4*a^2 + 3*a + 4) + (3*a^2 + 2*a)*5 + (a^2 + a + 1)*5^2 + (3*a + 2)*5^3 + (3*a^2 + a + 3)*5^4 + (2*a^2 + 3*a + 2)*5^5 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">8</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[2, 3, 2]|[3, 1, 3]|[2, 3]|[1, 1, 1]|[0, 2, 3]|[4, 3, 4]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[0, 4]|[1, 4]|[2, 0, 2]|[1, 4, 3]|[2, 3, 1]|[4, 4, 3]|[2, 4, 4]|[4, 3, 4]&#39;</span>
</pre></div>
</div>
</li>
</ol>
<p>Note that elements with negative valuation are shown with a
decimal point at valuation 0.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[3]|[4, 1, 3]|.|[1, 2, 3]|[3, 3]|[0, 0, 3]|[0, 1]|[0, 1]|[1]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;...[0, 0, 1]|.|[0, 2]|[1]&#39;</span>
</pre></div>
</div>
<p>If not enough precision is known, <code class="docutils literal"><span class="pre">'?'</span></code> is used instead.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="n">relprec</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span>
<span class="go">&#39;...|.|?|?|?|?|[0, 1, 1]|[0, 2]|[1]&#39;</span>
</pre></div>
</div>
<p>Note that it&#8217;s not possible to read of the precision from the
representation in this mode.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">3</span><span class="p">;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[3, 1]&#39;</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">&#39;...[3, 1]&#39;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
<p><em>print_pos</em> controls whether the digits can be negative.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[1, -1, 1]|[2, 1, -2]|[2, 0, -2]|[-2, -1, 2]|[0, 0, -1]|[-2]|[-1, -2, -1]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[0, 1, 2]|[-1, 1, 1]|.|[-2, -1, -1]|[2, 2, 1]|[0, 0, -2]|[0, -1]|[0, -1]|[1]&#39;</span>
</pre></div>
</div>
<p><em>print_max_ram_terms</em> controls the maximum number of &#8220;digits&#8221; shown.
Note that this puts a cap on the relative precision, not the
absolute precision.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_max_ram_terms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[0, 0, -1]|[-2]|[-1, -2, -1]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="o">+</span><span class="mi">50</span><span class="p">)</span>
<span class="go">&#39;...[0, 0, -1]|[]|[-1, -2, -1]|[]&#39;</span>
</pre></div>
</div>
<p>However, if the element has negative valuation, digits are shown
up to the decimal point.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...|.|[-2, -1, -1]|[2, 2, 1]|[0, 0, -2]|[0, -1]|[0, -1]|[1]&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em> controls the separating character (<code class="docutils literal"><span class="pre">'|'</span></code> by default).:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="mi">625</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_sep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4, 0, 2][3, 2, 2, 3][4, 2, 2, 4][0, 3][1, 1, 3][3, 1, 4, 1]&#39;</span>
</pre></div>
</div>
<p><em>print_max_unram_terms</em> controls how many terms are shown in each
&#8220;digit&#8221;:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4,..., 0, 2][3,..., 2, 3][4,..., 2, 4][0, 3][1,..., 1, 3][3,..., 4, 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4,..., 2][3,..., 3][4,..., 4][0, 3][1,..., 3][3,..., 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[..., 1][..., 2][..., 3][..., 4][..., 3][..., 3][..., 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="mi">75</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...[...][...][...][...][][...][...]&#39;</span>
</pre></div>
</div>
<p><em>ram_name</em> and <em>print_max_terse_terms</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
<p>EXAMPLES</p>
<p>Unlike for <code class="docutils literal"><span class="pre">Qp</span></code>, you can&#8217;t create <code class="docutils literal"><span class="pre">Qq(N)</span></code> when <code class="docutils literal"><span class="pre">N</span></code> is not a prime power.</p>
<p>However, you can use <code class="docutils literal"><span class="pre">check=False</span></code> to pass in a pair in order to not
have to factor.  If you do so, you need to use names explicitly
rather than the <code class="docutils literal"><span class="pre">R.&lt;a&gt;</span></code> syntax.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">next_prime</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">123</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">k</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">([(</span><span class="n">p</span><span class="p">,</span> <span class="mi">5</span><span class="p">)],</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.</span><span class="mi">0</span><span class="o">^</span><span class="mi">5</span>
<span class="go">(-a - 4) + O(p^20)</span>
</pre></div>
</div>
<p>In tests on <code class="docutils literal"><span class="pre">sage.math.washington.edu</span></code>, the creation of <code class="docutils literal"><span class="pre">K</span></code> as above took an
average of 1.58ms, while:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">(</span><span class="n">p</span><span class="o">^</span><span class="mi">5</span><span class="p">,</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>took an average of 24.5ms.  Of course, with smaller primes these
savings disappear.</p>
<p>TESTS:</p>
<p>Check that <a class="reference external" href="https://trac.sagemath.org/8162">trac ticket #8162</a> is resolved:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Qq</span><span class="p">([(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)],</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;alpha&quot;</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">R</span>
<span class="go">Unramified Extension of 5-adic Field with capped relative precision 20 in alpha defined by (1 + O(5^20))*x^3 + (O(5^20))*x^2 + (3 + O(5^20))*x + (3 + O(5^20))</span>
<span class="gp">sage: </span><span class="n">Qq</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;alpha&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">R</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Qq</span><span class="p">(</span><span class="mf">125.</span><span class="n">factor</span><span class="p">(),</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;alpha&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">R</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.QqCR">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">QqCR</code><span class="sig-paren">(</span><em>q</em>, <em>prec=20</em>, <em>modulus=None</em>, <em>names=None</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>ram_name=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_alphabet=None</em>, <em>print_max_ram_terms=None</em>, <em>print_max_unram_terms=None</em>, <em>print_max_terse_terms=None</em>, <em>check=True</em>, <em>implementation='FLINT'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.QqCR" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped relative unramified <span class="math">\(p\)</span>-adic
fields.</p>
<p>Same functionality as <code class="docutils literal"><span class="pre">Qq</span></code>.  See documentation for <code class="docutils literal"><span class="pre">Qq</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QqCR</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span> <span class="n">R</span>
<span class="go">Unramified Extension of 5-adic Field with capped relative precision 40 in a defined by (1 + O(5^40))*x^2 + (4 + O(5^40))*x + (2 + O(5^40))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.ZpCA">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">ZpCA</code><span class="sig-paren">(</span><em>p</em>, <em>prec=20</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>names=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_alphabet=None</em>, <em>print_max_terms=None</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZpCA" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped absolute <span class="math">\(p\)</span>-adic rings.</p>
<p>See documentation for <code class="docutils literal"><span class="pre">Zp</span></code> for a description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ZpCA</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">5-adic Ring with capped absolute precision 40</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.ZpCR">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">ZpCR</code><span class="sig-paren">(</span><em>p</em>, <em>prec=20</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>names=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_alphabet=None</em>, <em>print_max_terms=None</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZpCR" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped relative <span class="math">\(p\)</span>-adic rings.</p>
<p>Same functionality as <code class="docutils literal"><span class="pre">Zp</span></code>.  See documentation for <code class="docutils literal"><span class="pre">Zp</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ZpCR</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">5-adic Ring with capped relative precision 40</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.ZpFM">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">ZpFM</code><span class="sig-paren">(</span><em>p</em>, <em>prec=20</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>names=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_alphabet=None</em>, <em>print_max_terms=None</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZpFM" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create fixed modulus <span class="math">\(p\)</span>-adic rings.</p>
<p>See documentation for <code class="docutils literal"><span class="pre">Zp</span></code> for a description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ZpFM</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="go">5-adic Ring of fixed modulus 5^40</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.rings.padics.factory.Zp_class">
<em class="property">class </em><code class="descclassname">sage.rings.padics.factory.</code><code class="descname">Zp_class</code><a class="headerlink" href="#sage.rings.padics.factory.Zp_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../structure/sage/structure/factory.html#sage.structure.factory.UniqueFactory" title="(in Sage Reference Manual: Basic Structures v7.3)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.factory.UniqueFactory</span></code></a></p>
<p>A creation function for <span class="math">\(p\)</span>-adic rings.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">p</span></code> &#8211; integer: the <span class="math">\(p\)</span> in <span class="math">\(\mathbb{Z}_p\)</span></li>
<li><code class="docutils literal"><span class="pre">prec</span></code> &#8211; integer (default: <code class="docutils literal"><span class="pre">20</span></code>) the precision cap of the
ring.  Except for the fixed modulus case, individual elements
keep track of their own precision.  See TYPES and PRECISION
below.</li>
<li><code class="docutils literal"><span class="pre">type</span></code> &#8211; string (default: <code class="docutils literal"><span class="pre">'capped-rel'</span></code>) Valid types are
<code class="docutils literal"><span class="pre">'capped-rel'</span></code>, <code class="docutils literal"><span class="pre">'capped-abs'</span></code>, <code class="docutils literal"><span class="pre">'fixed-mod'</span></code> and
<code class="docutils literal"><span class="pre">'lazy'</span></code> (though lazy is not yet implemented).  See TYPES and
PRECISION below</li>
<li><code class="docutils literal"><span class="pre">print_mode</span></code> &#8211; string (default: <code class="docutils literal"><span class="pre">None</span></code>).  Valid modes are
<code class="docutils literal"><span class="pre">'series'</span></code>, <code class="docutils literal"><span class="pre">'val-unit'</span></code>, <code class="docutils literal"><span class="pre">'terse'</span></code>, <code class="docutils literal"><span class="pre">'digits'</span></code>, and
<code class="docutils literal"><span class="pre">'bars'</span></code>. See PRINTING below</li>
<li><code class="docutils literal"><span class="pre">halt</span></code> &#8211; currently irrelevant (to be used for lazy fields)</li>
<li><code class="docutils literal"><span class="pre">names</span></code> &#8211; string or tuple (defaults to a string
representation of <span class="math">\(p\)</span>).  What to use whenever <span class="math">\(p\)</span> is printed.</li>
<li><code class="docutils literal"><span class="pre">print_pos</span></code> &#8211; bool (default <code class="docutils literal"><span class="pre">None</span></code>) Whether to only use
positive integers in the representations of elements. See
PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_sep</span></code> &#8211; string (default <code class="docutils literal"><span class="pre">None</span></code>) The separator
character used in the <code class="docutils literal"><span class="pre">'bars'</span></code> mode. See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_alphabet</span></code> &#8211; tuple (default <code class="docutils literal"><span class="pre">None</span></code>) The encoding into
digits for use in the <code class="docutils literal"><span class="pre">'digits'</span></code> mode. See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_max_terms</span></code> &#8211; integer (default <code class="docutils literal"><span class="pre">None</span></code>) The maximum
number of terms shown.  See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">check</span></code> &#8211; bool (default <code class="docutils literal"><span class="pre">True</span></code>) whether to check if <span class="math">\(p\)</span> is
prime.  Non-prime input may cause seg-faults (but can also be
useful for base <span class="math">\(n\)</span> expansions for example)</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>The corresponding <span class="math">\(p\)</span>-adic ring.</li>
</ul>
<p>TYPES AND PRECISION:</p>
<p>There are two types of precision for a <span class="math">\(p\)</span>-adic element.  The first
is relative precision, which gives the number of known <span class="math">\(p\)</span>-adic
digits:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">675</span><span class="p">);</span> <span class="n">a</span>
<span class="go">2*5^2 + 5^4 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">precision_relative</span><span class="p">()</span>
<span class="go">20</span>
</pre></div>
</div>
<p>The second type of precision is absolute precision, which gives
the power of <span class="math">\(p\)</span> that this element is defined modulo:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">22</span>
</pre></div>
</div>
<p>There are four types of <span class="math">\(p\)</span>-adic rings: capped relative rings
(type= <code class="docutils literal"><span class="pre">'capped-rel'</span></code>), capped absolute rings
(type= <code class="docutils literal"><span class="pre">'capped-abs'</span></code>), fixed modulus ring (type= <code class="docutils literal"><span class="pre">'fixed-mod'</span></code>)
and lazy rings (type= <code class="docutils literal"><span class="pre">'lazy'</span></code>).</p>
<p>In the capped relative case, the relative precision of an element
is restricted to be at most a certain value, specified at the
creation of the field.  Individual elements also store their own
precision, so the effect of various arithmetic operations on
precision is tracked.  When you cast an exact element into a
capped relative field, it truncates it to the precision cap of the
field.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4006</span><span class="p">);</span> <span class="n">a</span>
<span class="go">1 + 5 + 2*5^3 + 5^4 + O(5^5)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4025</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^2 + 2*5^3 + 5^4 + 5^5 + O(5^7)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="go">1 + 5 + 5^2 + 4*5^3 + 2*5^4 + O(5^5)</span>
</pre></div>
</div>
<p>In the capped absolute type, instead of having a cap on the
relative precision of an element there is instead a cap on the
absolute precision.  Elements still store their own precisions,
and as with the capped relative case, exact elements are truncated
when cast into the ring.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-abs&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4005</span><span class="p">);</span> <span class="n">a</span>
<span class="go">5 + 2*5^3 + 5^4 + O(5^5)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4025</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^2 + 2*5^3 + 5^4 + O(5^5)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<span class="go">5^3 + 2*5^4 + O(5^5)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span> <span class="o">//</span> <span class="mi">5</span><span class="o">^</span><span class="mi">3</span>
<span class="go">1 + 2*5 + O(5^2)</span>
</pre></div>
</div>
<p>The fixed modulus type is the leanest of the <span class="math">\(p\)</span>-adic rings: it is
basically just a wrapper around <span class="math">\(\mathbb{Z} / p^n \mathbb{Z}\)</span> providing a unified
interface with the rest of the <span class="math">\(p\)</span>-adics.  This is the type you
should use if your sole interest is speed.  It does not track
precision of elements.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="s1">&#39;fixed-mod&#39;</span><span class="p">,</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4005</span><span class="p">);</span> <span class="n">a</span>
<span class="go">5 + 2*5^3 + 5^4 + O(5^5)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">//</span> <span class="mi">5</span>
<span class="go">1 + 2*5^2 + 5^3 + O(5^5)</span>
</pre></div>
</div>
<p>The lazy case will eventually support elements that can increase
their precision upon request.  It is not currently implemented.</p>
<p>PRINTING</p>
<p>There are many different ways to print <span class="math">\(p\)</span>-adic elements.  The
way elements of a given ring print is controlled by options
passed in at the creation of the ring.  There are five basic
printing modes (series, val-unit, terse, digits and bars), as
well as various options that either hide some information in
the print representation or sometimes make print
representations more compact.  Note that the printing options
affect whether different <span class="math">\(p\)</span>-adic fields are considered equal.</p>
<ol class="arabic">
<li><p class="first"><strong>series</strong>: elements are displayed as series in <span class="math">\(p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">3*5^2 + 3*5^4 + 2*5^5 + 4*5^6 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2*5^2 + 4*5^3 + 5^4 + 2*5^5 + 4*5^7 + 4*5^8 + 4*5^9 + 4*5^10 + 4*5^11 + 4*5^12 + 4*5^13 + 4*5^14 + 4*5^15 + 4*5^16 + 4*5^17 + 4*5^18 + 4*5^19 + 4*5^20 + 4*5^21 + O(5^22)</span>
</pre></div>
</div>
</li>
</ol>
<p><em>print_pos</em> controls whether negatives can be used in the
coefficients of powers of <span class="math">\(p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">-2*5^2 + 5^3 - 2*5^4 - 2*5^5 + 5^7 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2*5^2 - 5^3 + 2*5^4 + 2*5^5 - 5^7 + O(5^22)</span>
</pre></div>
</div>
<p><em>print_max_terms</em> limits the number of terms that appear.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2*5^2 + 4*5^3 + 5^4 + 2*5^5 + ... + O(5^22)</span>
</pre></div>
</div>
<p><em>names</em> affects how the prime is printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">p</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="n">p</span>
<span class="go">p + O(p^21)</span>
</pre></div>
</div>
<p><em>print_sep</em> and <em>print_alphabet</em> have no effect.</p>
<p>Note that print options affect equality:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
<ol class="arabic" start="2">
<li><p class="first"><strong>val-unit</strong>: elements are displayed as <span class="math">\(p^k u\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">5^2 * 2828 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="o">*</span><span class="mi">5</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5 * 95367431639918 + O(5^21)</span>
</pre></div>
</div>
</li>
</ol>
<p><em>print_pos</em> controls whether to use a balanced representation or
not.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">5^2 * (-2828) + O(5^22)</span>
</pre></div>
</div>
<p><em>names</em> affects how the prime is printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;pi&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">pi^2 * 2828 + O(pi^22)</span>
</pre></div>
</div>
<p><em>print_max_terms</em>, <em>print_sep</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
<ol class="arabic" start="3">
<li><p class="first"><strong>terse</strong>: elements are displayed as an integer in base 10:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="n">a</span>
<span class="go">70700 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2384185790944925 + O(5^22)</span>
</pre></div>
</div>
</li>
</ol>
<p><em>print_pos</em> controls whether to use a balanced representation or not.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="n">b</span>
<span class="go">-70700 + O(5^22)</span>
</pre></div>
</div>
<p><em>name</em> affects how the name is printed.  Note that this interacts
with the choice of shorter string for denominators.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">unif</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">);</span> <span class="n">c</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">707</span><span class="p">);</span> <span class="n">c</span>
<span class="go">95367431639918 + O(unif^20)</span>
</pre></div>
</div>
<p><em>print_max_terms</em>, <em>print_sep</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><strong>digits</strong>: elements are displayed as a string of base <span class="math">\(p\)</span> digits</li>
</ol>
<p>Restriction: you can only use the digits printing mode for small
primes.  Namely, <span class="math">\(p\)</span> must be less than the length of the alphabet
tuple (default alphabet has length 62).:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...4230300&#39;</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...4444444444444440214200&#39;</span>
</pre></div>
</div>
<p>Note that it&#8217;s not possible to read off the precision from the
representation in this mode.</p>
<p><em>print_max_terms</em> limits the number of digits that are printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...214200&#39;</span>
</pre></div>
</div>
<p><em>print_alphabet</em> controls the symbols used to substitute for digits
greater than 9.  Defaults to
(&#8216;0&#8217;, &#8216;1&#8217;, &#8216;2&#8217;, &#8216;3&#8217;, &#8216;4&#8217;, &#8216;5&#8217;, &#8216;6&#8217;, &#8216;7&#8217;, &#8216;8&#8217;, &#8216;9&#8217;, &#8216;A&#8217;, &#8216;B&#8217;, &#8216;C&#8217;, &#8216;D&#8217;, &#8216;E&#8217;, &#8216;F&#8217;, &#8216;G&#8217;, &#8216;H&#8217;, &#8216;I&#8217;, &#8216;J&#8217;, &#8216;K&#8217;, &#8216;L&#8217;, &#8216;M&#8217;, &#8216;N&#8217;, &#8216;O&#8217;, &#8216;P&#8217;, &#8216;Q&#8217;, &#8216;R&#8217;, &#8216;S&#8217;, &#8216;T&#8217;, &#8216;U&#8217;, &#8216;V&#8217;, &#8216;W&#8217;, &#8216;X&#8217;, &#8216;Y&#8217;, &#8216;Z&#8217;, &#8216;a&#8217;, &#8216;b&#8217;, &#8216;c&#8217;, &#8216;d&#8217;, &#8216;e&#8217;, &#8216;f&#8217;, &#8216;g&#8217;, &#8216;h&#8217;, &#8216;i&#8217;, &#8216;j&#8217;, &#8216;k&#8217;, &#8216;l&#8217;, &#8216;m&#8217;, &#8216;n&#8217;, &#8216;o&#8217;, &#8216;p&#8217;, &#8216;q&#8217;, &#8216;r&#8217;, &#8216;s&#8217;, &#8216;t&#8217;, &#8216;u&#8217;, &#8216;v&#8217;, &#8216;w&#8217;, &#8216;x&#8217;, &#8216;y&#8217;, &#8216;z&#8217;):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">print_alphabet</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">));</span> <span class="n">b</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...325311&#39;</span>
</pre></div>
</div>
<p><em>print_pos</em>, <em>name</em> and <em>print_sep</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
<ol class="arabic" start="5">
<li><p class="first"><strong>bars</strong>: elements are displayed as a string of base <span class="math">\(p\)</span> digits
with separators</p>
<blockquote>
<div><p>sage: R = Zp(5, print_mode=&#8217;bars&#8217;); a = R(70700); repr(a)
&#8216;...4|2|3|0|3|0|0&#8217;
sage: b = R(-70700); repr(b)
&#8216;...4|4|4|4|4|4|4|4|4|4|4|4|4|4|4|0|2|1|4|2|0|0&#8217;</p>
</div></blockquote>
</li>
</ol>
<p>Again, note that it&#8217;s not possible to read of the precision from
the representation in this mode.</p>
<p><em>print_pos</em> controls whether the digits can be negative.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span><span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...-1|0|2|2|-1|2|0|0&#39;</span>
</pre></div>
</div>
<p><em>print_max_terms</em> limits the number of digits that are printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_max_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="o">-</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...2|1|4|2|0|0&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em> controls the separation character.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_sep</span><span class="o">=</span><span class="s1">&#39;][&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">U</span><span class="p">(</span><span class="mi">70700</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...4][2][3][0][3][0][0&#39;</span>
</pre></div>
</div>
<p><em>name</em> and <em>print_alphabet</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
<p>EXAMPLES:</p>
<p>We allow non-prime <span class="math">\(p\)</span>, but only if <code class="docutils literal"><span class="pre">check</span> <span class="pre">=</span> <span class="pre">False</span></code>.  Note that some
features will not work.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">K</span><span class="p">(</span><span class="mi">999</span><span class="p">);</span> <span class="n">a</span>
<span class="go">9 + 6*15 + 4*15^2 + O(15^20)</span>
</pre></div>
</div>
<p>We create rings with various parameters:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="go">7-adic Ring with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">p must be prime</span>
<span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">17-adic Ring with capped relative precision 5</span>
<span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">5</span><span class="p">)(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">16 + 16*17 + 16*17^2 + 16*17^3 + 16*17^4 + O(17^5)</span>
</pre></div>
</div>
<p>It works even with a fairly huge cap:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">50</span><span class="p">),</span> <span class="mi">100000</span><span class="p">)</span>
<span class="go">100000000000000000000000000000000000000000000000151-adic Ring with capped relative precision 100000</span>
</pre></div>
</div>
<p>We create each type of ring:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">)</span>
<span class="go">7-adic Ring with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;fixed-mod&#39;</span><span class="p">)</span>
<span class="go">7-adic Ring of fixed modulus 7^20</span>
<span class="gp">sage: </span><span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-abs&#39;</span><span class="p">)</span>
<span class="go">7-adic Ring with capped absolute precision 20</span>
</pre></div>
</div>
<p>We create a capped relative ring with each print mode:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">k</span>
<span class="go">7-adic Ring with capped relative precision 8</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="mi">19</span><span class="p">))</span>
<span class="go">5*7 + 2*7^2 + O(7^9)</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">19</span><span class="p">))</span>
<span class="go">2*7 + 4*7^2 + 6*7^3 + 6*7^4 + 6*7^5 + 6*7^6 + 6*7^7 + 6*7^8 + O(7^9)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">);</span> <span class="n">k</span>
<span class="go">7-adic Ring with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="mi">19</span><span class="p">))</span>
<span class="go">7 * 19 + O(7^21)</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">19</span><span class="p">))</span>
<span class="go">7 * 79792266297611982 + O(7^21)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">);</span> <span class="n">k</span>
<span class="go">7-adic Ring with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="mi">19</span><span class="p">))</span>
<span class="go">133 + O(7^21)</span>
<span class="gp">sage: </span><span class="n">k</span><span class="p">(</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">19</span><span class="p">))</span>
<span class="go">558545864083283874 + O(7^21)</span>
</pre></div>
</div>
<p>Note that <span class="math">\(p\)</span>-adic rings are cached (via weak references):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="ow">is</span> <span class="n">b</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We create some elements in various rings:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span> <span class="n">a</span>
<span class="go">4 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;capped-abs&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="n">b</span>
<span class="go">2 + O(5^10)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="go">1 + 5 + O(5^10)</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.rings.padics.factory.Zp_class.create_key">
<code class="descname">create_key</code><span class="sig-paren">(</span><em>p</em>, <em>prec=20</em>, <em>type='capped-rel'</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>names=None</em>, <em>ram_name=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_alphabet=None</em>, <em>print_max_terms=None</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Zp_class.create_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a key from input parameters for <code class="docutils literal"><span class="pre">Zp</span></code>.</p>
<p>See the documentation for <code class="docutils literal"><span class="pre">Zp</span></code> for more information.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zp</span><span class="o">.</span><span class="n">create_key</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">40</span><span class="p">)</span>
<span class="go">(5, 40, &#39;capped-rel&#39;, &#39;series&#39;, &#39;5&#39;, True, &#39;|&#39;, (), -1)</span>
<span class="gp">sage: </span><span class="n">Zp</span><span class="o">.</span><span class="n">create_key</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;digits&#39;</span><span class="p">)</span>
<span class="go">(5, 40, &#39;capped-rel&#39;, &#39;digits&#39;, &#39;5&#39;, True, &#39;|&#39;, (&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;), -1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.padics.factory.Zp_class.create_object">
<code class="descname">create_object</code><span class="sig-paren">(</span><em>version</em>, <em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Zp_class.create_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an object using a given key.</p>
<p>See the documentation for <code class="docutils literal"><span class="pre">Zp</span></code> for more information.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zp</span><span class="o">.</span><span class="n">create_object</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;|&#39;</span><span class="p">,</span> <span class="p">(),</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="go">5-adic Ring with capped relative precision 41</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.Zq">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">Zq</code><span class="sig-paren">(</span><em>q</em>, <em>prec=20</em>, <em>type='capped-abs'</em>, <em>modulus=None</em>, <em>names=None</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>ram_name=None</em>, <em>res_name=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_max_ram_terms=None</em>, <em>print_max_unram_terms=None</em>, <em>print_max_terse_terms=None</em>, <em>check=True</em>, <em>implementation='FLINT'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.Zq" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a prime power <span class="math">\(q = p^n\)</span>, return the unique unramified
extension of <span class="math">\(\mathbb{Z}_p\)</span> of degree <span class="math">\(n\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">q</span></code> &#8211; integer, list or tuple: the prime power in <span class="math">\(\mathbb{Q}_q\)</span>.  Or a
factorization object, single element list <code class="docutils literal"><span class="pre">[(p,</span> <span class="pre">n)]</span></code> where <code class="docutils literal"><span class="pre">p</span></code> is
a prime and <code class="docutils literal"><span class="pre">n</span></code> a positive integer, or the pair <code class="docutils literal"><span class="pre">(p,</span> <span class="pre">n)</span></code>.</li>
<li><code class="docutils literal"><span class="pre">prec</span></code> &#8211; integer (default: <code class="docutils literal"><span class="pre">20</span></code>) the precision cap of the
field.  Individual elements keep track of their own precision.
See TYPES and PRECISION below.</li>
<li><code class="docutils literal"><span class="pre">type</span></code> &#8211; string (default: <code class="docutils literal"><span class="pre">'capped-rel'</span></code>) Valid types are
<code class="docutils literal"><span class="pre">'capped-rel'</span></code> and <code class="docutils literal"><span class="pre">'lazy'</span></code> (though <code class="docutils literal"><span class="pre">'lazy'</span></code> doesn&#8217;t
currently work).  See TYPES and PRECISION below</li>
<li>modulus &#8211; polynomial (default None) A polynomial defining an
unramified extension of <span class="math">\(\mathbb{Z}_p\)</span>.  See MODULUS below.</li>
<li><code class="docutils literal"><span class="pre">names</span></code> &#8211; string or tuple (<code class="docutils literal"><span class="pre">None</span></code> is only allowed when
<span class="math">\(q=p\)</span>).  The name of the generator, reducing to a generator of
the residue field.</li>
<li><code class="docutils literal"><span class="pre">print_mode</span></code> &#8211; string (default: <code class="docutils literal"><span class="pre">None</span></code>).  Valid modes are <code class="docutils literal"><span class="pre">'series'</span></code>,
<code class="docutils literal"><span class="pre">'val-unit'</span></code>, <code class="docutils literal"><span class="pre">'terse'</span></code>, and <code class="docutils literal"><span class="pre">'bars'</span></code>. See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">halt</span></code> &#8211; currently irrelevant (to be used for lazy fields)</li>
<li><code class="docutils literal"><span class="pre">ram_name</span></code> &#8211; string (defaults to string representation of <span class="math">\(p\)</span> if
None).  <code class="docutils literal"><span class="pre">ram_name</span></code> controls how the prime is printed. See PRINTING
below.</li>
<li><code class="docutils literal"><span class="pre">res_name</span></code> &#8211; string (defaults to <code class="docutils literal"><span class="pre">None</span></code>, which corresponds
to adding a <code class="docutils literal"><span class="pre">'0'</span></code> to the end of the name).  Controls how
elements of the reside field print.</li>
<li><code class="docutils literal"><span class="pre">print_pos</span></code> &#8211; bool (default <code class="docutils literal"><span class="pre">None</span></code>) Whether to only use
positive integers in the representations of elements. See
PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_sep</span></code> &#8211; string (default <code class="docutils literal"><span class="pre">None</span></code>) The separator
character used in the <code class="docutils literal"><span class="pre">'bars'</span></code> mode. See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_max_ram_terms</span></code> &#8211; integer (default <code class="docutils literal"><span class="pre">None</span></code>) The maximum
number of powers of <span class="math">\(p\)</span> shown.  See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_max_unram_terms</span></code> &#8211; integer (default <code class="docutils literal"><span class="pre">None</span></code>) The
maximum number of entries shown in a coefficient of <span class="math">\(p\)</span>.  See
PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">print_max_terse_terms</span></code> &#8211; integer (default <code class="docutils literal"><span class="pre">None</span></code>) The maximum
number of terms in the polynomial representation of an element
(using <code class="docutils literal"><span class="pre">'terse'</span></code>).  See PRINTING below.</li>
<li><code class="docutils literal"><span class="pre">check</span></code> &#8211; bool (default <code class="docutils literal"><span class="pre">True</span></code>) whether to check inputs.</li>
<li><code class="docutils literal"><span class="pre">implementation</span></code> &#8211; string (default <code class="docutils literal"><span class="pre">FLINT</span></code>) which
implementation to use.  <code class="docutils literal"><span class="pre">NTL</span></code> is the other option.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>The corresponding unramified <span class="math">\(p\)</span>-adic ring.</li>
</ul>
<p>TYPES AND PRECISION:</p>
<p>There are two types of precision for a <span class="math">\(p\)</span>-adic element.  The first
is relative precision, which gives the number of known <span class="math">\(p\)</span>-adic
digits:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">25</span><span class="o">*</span><span class="n">a</span><span class="p">;</span> <span class="n">b</span>
<span class="go">a*5^2 + O(5^22)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_relative</span><span class="p">()</span>
<span class="go">20</span>
</pre></div>
</div>
<p>The second type of precision is absolute precision, which gives
the power of <span class="math">\(p\)</span> that this element is defined modulo:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">22</span>
</pre></div>
</div>
<p>There are four types of unramified <span class="math">\(p\)</span>-adic rings: capped relative
rings, capped absolute rings, fixed modulus rings, and lazy rings.</p>
<p>In the capped relative case, the relative precision of an element
is restricted to be at most a certain value, specified at the
creation of the field.  Individual elements also store their own
precision, so the effect of various arithmetic operations on
precision is tracked.  When you cast an exact element into a
capped relative field, it truncates it to the precision cap of the
field.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">;</span> <span class="n">b</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 1)*3^2 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">3249</span><span class="p">);</span> <span class="n">c</span>
<span class="go">3^2 + 3^4 + 3^5 + 3^6 + O(3^7)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">+</span> <span class="n">c</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 2)*3^2 + 3^4 + O(3^5)</span>
</pre></div>
</div>
<p>One can invert non-units: the result is in the fraction field.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="p">);</span> <span class="n">d</span>
<span class="go">2*3^-1 + (a + 1) + (a + 1)*3 + a*3^3 + O(3^4)</span>
<span class="gp">sage: </span><span class="n">d</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Unramified Extension of 3-adic Field with capped relative precision 5 in a defined by (1 + O(3^5))*x^2 + (2 + O(3^5))*x + (2 + O(3^5))</span>
</pre></div>
</div>
<p>The capped absolute case is the same as the capped relative case,
except that the cap is on the absolute precision rather than the
relative precision.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-abs&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">;</span> <span class="n">b</span>
<span class="go">2*3 + (2*a + 2)*3^2 + (2*a + 1)*3^3 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">3249</span><span class="p">);</span> <span class="n">c</span>
<span class="go">3^2 + 3^4 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">*</span><span class="n">c</span>
<span class="go">2*3^3 + (2*a + 2)*3^4 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">*</span><span class="n">c</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
<span class="go">2*3^2 + (2*a + 2)*3^3 + O(3^4)</span>
</pre></div>
</div>
<p>The fixed modulus case is like the capped absolute, except that
individual elements don&#8217;t track their precision.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;fixed-mod&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">;</span> <span class="n">b</span>
<span class="go">2*3 + (2*a + 2)*3^2 + (2*a + 1)*3^3 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="mi">3249</span><span class="p">);</span> <span class="n">c</span>
<span class="go">3^2 + 3^4 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">*</span><span class="n">c</span>
<span class="go">2*3^3 + (2*a + 2)*3^4 + O(3^5)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">*</span><span class="n">c</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span>
<span class="go">2*3^2 + (2*a + 2)*3^3 + O(3^5)</span>
</pre></div>
</div>
<p>The lazy case will eventually support elements that can increase
their precision upon request.  It is not currently implemented.</p>
<p>MODULUS:</p>
<p>The modulus needs to define an unramified extension of <span class="math">\(\mathbb{Z}_p\)</span>: when it
is reduced to a polynomial over <span class="math">\(\mathbb{F}_p\)</span> it should be irreducible.</p>
<p>The modulus can be given in a number of forms.</p>
<ol class="arabic simple">
<li>A <strong>polynomial</strong>.</li>
</ol>
<p>The base ring can be <span class="math">\(\mathbb{Z}\)</span>, <span class="math">\(\mathbb{Q}\)</span>, <span class="math">\(\mathbb{Z}_p\)</span>, <span class="math">\(\mathbb{F}_p\)</span>, or anything that can
be converted to <span class="math">\(\mathbb{Z}_p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">R</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(3^20))*x^3 + (O(3^20))*x^2 + (2 + O(3^20))*x + (1 + O(3^20))</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">7</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Which form the modulus is given in has no effect on the unramified
extension produced:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">U</span> <span class="o">==</span> <span class="n">V</span>
<span class="go">(False, True, True, False)</span>
</pre></div>
</div>
<p>unless the modulus is different, or the precision of the modulus
differs.  In the case of <code class="docutils literal"><span class="pre">V</span></code>, the modulus is only given to precision
<code class="docutils literal"><span class="pre">1</span></code>, so the resulting field has a precision cap of <code class="docutils literal"><span class="pre">1</span></code>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">20</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">3</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">7</span><span class="p">))</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">modulus</span>
<span class="go">(1 + O(3^20))*x^3 + (2 + O(3^7))*x + (1 + O(3^10))</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">modulus</span><span class="p">);</span> <span class="n">W</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">7</span>
</pre></div>
</div>
<ol class="arabic" start="2">
<li><p class="first">The modulus can also be given as a <strong>symbolic expression</strong>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">27</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">X</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(3^20))*x^3 + (O(3^20))*x^2 + (2 + O(3^20))*x + (1 + O(3^20))</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">==</span> <span class="n">R</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
</ol>
<p>By default, the polynomial chosen is the standard lift of the
generator chosen for <span class="math">\(\mathbb{F}_q\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">GF</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">x^3 + 3*x + 3</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">);</span> <span class="n">Y</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(5^20))*x^3 + (O(5^20))*x^2 + (3 + O(5^20))*x + (3 + O(5^20))</span>
</pre></div>
</div>
<p>However, you can choose another polynomial if desired (as long as
the reduction to <span class="math">\(\mathbb{F}_p[x]\)</span> is irreducible).:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Z</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">modulus</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="n">Z</span><span class="o">.</span><span class="n">modulus</span><span class="p">()</span>
<span class="go">(1 + O(5^20))*x^3 + (3 + O(5^20))*x^2 + (1 + O(5^20))*x + (1 + O(5^20))</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">==</span> <span class="n">Z</span>
<span class="go">False</span>
</pre></div>
</div>
<p>PRINTING:</p>
<p>There are many different ways to print <span class="math">\(p\)</span>-adic elements.  The way
elements of a given field print is controlled by options passed in
at the creation of the field.  There are four basic printing modes
(<code class="docutils literal"><span class="pre">'series'</span></code>, <code class="docutils literal"><span class="pre">'val-unit'</span></code>, <code class="docutils literal"><span class="pre">'terse'</span></code> and <code class="docutils literal"><span class="pre">'bars'</span></code>; <code class="docutils literal"><span class="pre">'digits'</span></code> is not available), as
well as various options that either hide some information in the
print representation or sometimes make print representations more
compact.  Note that the printing options affect whether different
<span class="math">\(p\)</span>-adic fields are considered equal.</p>
<ol class="arabic">
<li><p class="first"><strong>series</strong>: elements are displayed as series in <span class="math">\(p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">2 + (2*a + 2)*3 + (2*a + 1)*3^2 + O(3^20)</span>
<span class="gp">sage: </span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">3 + a*3^2 + 3^3 + (2*a + 2)*3^4 + (2*a + 2)*3^5 + (2*a + 2)*3^6 + (2*a + 2)*3^7 + (2*a + 2)*3^8 + (2*a + 2)*3^9 + (2*a + 2)*3^10 + (2*a + 2)*3^11 + (2*a + 2)*3^12 + (2*a + 2)*3^13 + (2*a + 2)*3^14 + (2*a + 2)*3^15 + (2*a + 2)*3^16 + (2*a + 2)*3^17 + (2*a + 2)*3^18 + (2*a + 2)*3^19 + (2*a + 2)*3^20 + O(3^21)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="o">+</span><span class="mi">18</span><span class="p">);</span> <span class="n">b</span>
<span class="go">(a + 2)*3^-1 + 1 + 2*3 + (a + 1)*3^2 + 3^3 + 2*3^4 + (a + 1)*3^5 + 3^6 + 2*3^7 + (a + 1)*3^8 + 3^9 + 2*3^10 + (a + 1)*3^11 + 3^12 + 2*3^13 + (a + 1)*3^14 + 3^15 + 2*3^16 + (a + 1)*3^17 + 3^18 + O(3^19)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">R</span><span class="o">.</span><span class="n">fraction_field</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
</ol>
<p><em>print_pos</em> controls whether negatives can be used in the
coefficients of powers of <span class="math">\(p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">-1 - b*3 - 3^2 + (b + 1)*3^3 + O(3^20)</span>
<span class="gp">sage: </span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">3 + b*3^2 + 3^3 + (-b - 1)*3^4 + O(3^20)</span>
</pre></div>
</div>
<p><em>ram_name</em> controls how the prime is printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">d</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">);</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">d</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span>
<span class="go">2*p + (2*d + 2)*p^2 + (2*d + 1)*p^3 + O(p^20)</span>
</pre></div>
</div>
<p><em>print_max_ram_terms</em> limits the number of powers of <span class="math">\(p\)</span> that
appear.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">e</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_ram_terms</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&#39;3 + e*3^2 + 3^3 + (2*e + 2)*3^4 + ... + O(3^20)&#39;</span>
</pre></div>
</div>
<p><em>print_max_unram_terms</em> limits the number of terms that appear in a
coefficient of a power of <span class="math">\(p\)</span>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + f^4 + f^3 + f^2)*2 + (f^6 + f^5 + f^4 + f + 1)*2^2 + (f^5 + f^4 + f^2 + f + 1)*2^3 + (f^6 + f^5 + f^4 + f^3 + f^2 + f + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + f^5 + f^4 + f^3 + f + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">3</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + f^4 + ... + f^2)*2 + (f^6 + f^5 + ... + 1)*2^2 + (f^5 + f^4 + ... + 1)*2^3 + (f^6 + f^5 + ... + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + f^5 + ... + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">2</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + 1) + (f^5 + ... + f^2)*2 + (f^6 + ... + 1)*2^2 + (f^5 + ... + 1)*2^3 + (f^6 + ... + 1)*2^4 + (f^5 + f^4)*2^5 + (f^6 + ... + 1)*2^6 + (f + 1)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span>
<span class="go">&#39;(f^3 + ...) + (f^5 + ...)*2 + (f^6 + ...)*2^2 + (f^5 + ...)*2^3 + (f^6 + ...)*2^4 + (f^5 + ...)*2^5 + (f^6 + ...)*2^6 + (f + ...)*2^7 + O(2^8)&#39;</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.&lt;</span><span class="n">f</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="n">prec</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="n">print_max_unram_terms</span> <span class="o">=</span> <span class="mi">0</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">f</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">f</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&#39;(...)*2 + (...)*2^2 + (...)*2^3 + (...)*2^4 + (...)*2^5 + (...)*2^6 + (...)*2^7 + O(2^8)&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em> and <em>print_max_terse_terms</em> have no effect.</p>
<p>Note that print options affect equality:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">V</span><span class="p">,</span> <span class="n">U</span> <span class="o">==</span> <span class="n">V</span>
<span class="go">(False, False, False, False, False, False, False, False, False, False)</span>
</pre></div>
</div>
<ol class="arabic" start="2">
<li><p class="first"><strong>val-unit</strong>: elements are displayed as <span class="math">\(p^k u\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">b</span>
<span class="go">3^3 * (15 + 64*a) + O(3^7)</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">b</span>
<span class="go">3^-3 * (41 + a) + O(3)</span>
</pre></div>
</div>
</li>
</ol>
<p><em>print_pos</em> controls whether to use a balanced representation or
not.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">b</span>
<span class="go">3^3 * (15 - 17*a) + O(3^7)</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">b</span>
<span class="go">3^-3 * (-40 + a) + O(3)</span>
</pre></div>
</div>
<p><em>ram_name</em> affects how the prime is printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">),</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="mi">385831</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">106556</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">321036</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">next_prime</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span>
<span class="go">p^2 * (90732455187 + 713749771767*a + 579958835561*a^2) + O(p^4)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">*</span> <span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span><span class="o">^-</span><span class="mi">4</span>
<span class="go">p^2 * 1 + O(p^4)</span>
</pre></div>
</div>
<p><em>print_max_terse_terms</em> controls how many terms of the polynomial
appear in the unit part.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">17</span><span class="o">^</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;val-unit&#39;</span><span class="p">,</span> <span class="n">print_max_terse_terms</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="n">a</span><span class="o">+</span><span class="mi">14</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">);</span> <span class="n">b</span>
<span class="go">17 * (772941 + 717522*a + 870707*a^2 + ...) + O(17^6)</span>
</pre></div>
</div>
<p><em>print_sep</em>, <em>print_max_ram_terms</em> and <em>print_max_unram_terms</em> have no effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
<ol class="arabic" start="3">
<li><p class="first"><strong>terse</strong>: elements are displayed as a polynomial of degree less
than the degree of the extension.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">177</span>
<span class="go">68210977979428 + 90313850704069*a + 73948093055069*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">/</span><span class="mi">5</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">177</span>
<span class="go">10990518995053/5^177 + 14019905391569/5^177*a + 16727634070694/5^177*a^2 + O(5^-158)</span>
</pre></div>
</div>
</li>
</ol>
<p>Note that in this last computation, you get one fewer <span class="math">\(p\)</span>-adic digit
than one might expect.  This is because <code class="docutils literal"><span class="pre">R</span></code> is capped absolute, and
thus 5 is cast in with relative precision 19.</p>
<p>As of version 3.3, if coefficients of the polynomial are
non-integral, they are always printed with an explicit power of <span class="math">\(p\)</span>
in the denominator.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">5</span><span class="o">*</span><span class="n">a</span> <span class="o">+</span> <span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="mi">25</span>
<span class="go">5*a + 1/5^2*a^2 + O(5^16)</span>
</pre></div>
</div>
<p><em>print_pos</em> controls whether to use a balanced representation or
not.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">22864 + 95367431627998*a + 8349*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">;</span> <span class="n">b</span>
<span class="go">22864 - 12627*a + 8349*a^2 + O(5^20)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">-20624/5^6 + 18369/5^5*a + 1353/5^3*a^2 + O(5^14)</span>
</pre></div>
</div>
<p><em>ram_name</em> affects how the prime is printed.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">95367431620001/p^6 + 18369/p^5*a + 1353/p^3*a^2 + O(p^14)</span>
</pre></div>
</div>
<p><em>print_max_terse_terms</em> controls how many terms of the polynomial
are shown.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">625</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;terse&#39;</span><span class="p">,</span> <span class="n">print_max_terse_terms</span><span class="o">=</span><span class="mi">2</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">106251/5^6 + 49994/5^5*a + ... + O(5^14)</span>
</pre></div>
</div>
<p><em>print_sep</em>, <em>print_max_ram_terms</em> and <em>print_max_unram_terms</em> have no
effect.</p>
<p>Equality again depends on the printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
<ol class="arabic" start="4">
<li><p class="first"><strong>digits</strong>: This print mode is not available when the residue
field is not prime.  It might make sense to have a dictionary
for small fields, but this isn&#8217;t implemented.</p>
</li>
<li><p class="first"><strong>bars</strong>: elements are displayed in a similar fashion to series,
but more compactly.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">);</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">(4*a^2 + 3*a + 4) + (3*a^2 + 2*a)*5 + (a^2 + a + 1)*5^2 + (3*a + 2)*5^3 + (3*a^2 + a + 3)*5^4 + (2*a^2 + 3*a + 2)*5^5 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">8</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[2, 3, 2]|[3, 1, 3]|[2, 3]|[1, 1, 1]|[0, 2, 3]|[4, 3, 4]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[0, 4]|[1, 4]|[2, 0, 2]|[1, 4, 3]|[2, 3, 1]|[4, 4, 3]|[2, 4, 4]|[4, 3, 4]&#39;</span>
</pre></div>
</div>
</li>
</ol>
<p>Note that it&#8217;s not possible to read of the precision from the
representation in this mode.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">3</span><span class="p">;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[3, 1]&#39;</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">R</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span> <span class="nb">repr</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">&#39;...[3, 1]&#39;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">precision_absolute</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
<p><em>print_pos</em> controls whether the digits can be negative.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[1, -1, 1]|[2, 1, -2]|[2, 0, -2]|[-2, -1, 2]|[0, 0, -1]|[-2]|[-1, -2, -1]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[0, 1, 2]|[-1, 1, 1]|.|[-2, -1, -1]|[2, 2, 1]|[0, 0, -2]|[0, -1]|[0, -1]|[1]&#39;</span>
</pre></div>
</div>
<p><em>print_max_ram_terms</em> controls the maximum number of &#8220;digits&#8221; shown.
Note that this puts a cap on the relative precision, not the
absolute precision.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_max_ram_terms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...[0, 0, -1]|[-2]|[-1, -2, -1]&#39;</span>
<span class="gp">sage: </span><span class="nb">repr</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="o">+</span><span class="mi">50</span><span class="p">)</span>
<span class="go">&#39;...[0, 0, -1]|[]|[-1, -2, -1]|[]&#39;</span>
</pre></div>
</div>
<p>However, if the element has negative valuation, digits are shown
up to the decimal point.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">repr</span><span class="p">((</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&#39;...|.|[-2, -1, -1]|[2, 2, 1]|[0, 0, -2]|[0, -1]|[0, -1]|[1]&#39;</span>
</pre></div>
</div>
<p><em>print_sep</em> controls the separating character (<code class="docutils literal"><span class="pre">'|'</span></code> by default).:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="mi">625</span><span class="p">,</span> <span class="n">print_mode</span><span class="o">=</span><span class="s1">&#39;bars&#39;</span><span class="p">,</span> <span class="n">print_sep</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4, 0, 2][3, 2, 2, 3][4, 2, 2, 4][0, 3][1, 1, 3][3, 1, 4, 1]&#39;</span>
</pre></div>
</div>
<p><em>print_max_unram_terms</em> controls how many terms are shown in each
<code class="docutils literal"><span class="pre">'digit'</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4,..., 0, 2][3,..., 2, 3][4,..., 2, 4][0, 3][1,..., 1, 3][3,..., 4, 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[0, 1][4,..., 2][3,..., 3][4,..., 4][0, 3][1,..., 3][3,..., 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&#39;...[..., 1][..., 2][..., 3][..., 4][..., 3][..., 3][..., 1]&#39;</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="n">local_print_mode</span><span class="p">(</span><span class="n">U</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;max_unram_terms&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">}):</span> <span class="nb">repr</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="mi">75</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;...[...][...][...][...][][...][...]&#39;</span>
</pre></div>
</div>
<p><em>ram_name</em> and <em>print_max_terse_terms</em> have no effect.</p>
<p>Equality depends on printing options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">==</span> <span class="n">S</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">R</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">T</span><span class="p">,</span> <span class="n">S</span> <span class="o">==</span> <span class="n">U</span><span class="p">,</span> <span class="n">T</span> <span class="o">==</span> <span class="n">U</span>
<span class="go">(False, False, False, False, False, False)</span>
</pre></div>
</div>
<p>EXAMPLES</p>
<p>Unlike for <code class="docutils literal"><span class="pre">Zp</span></code>, you can&#8217;t create <code class="docutils literal"><span class="pre">Zq(N)</span></code> when <code class="docutils literal"><span class="pre">N</span></code> is not a prime power.</p>
<p>However, you can use <code class="docutils literal"><span class="pre">check=False</span></code> to pass in a pair in order to not
have to factor.  If you do so, you need to use names explicitly
rather than the <code class="docutils literal"><span class="pre">R.&lt;a&gt;</span></code> syntax.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">next_prime</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">123</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">k</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">([(</span><span class="n">p</span><span class="p">,</span> <span class="mi">5</span><span class="p">)],</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.</span><span class="mi">0</span><span class="o">^</span><span class="mi">5</span>
<span class="go">(-a - 4) + O(p^20)</span>
</pre></div>
</div>
<p>In tests on sage.math, the creation of <code class="docutils literal"><span class="pre">K</span></code> as above took an average
of 1.58ms, while:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">(</span><span class="n">p</span><span class="o">^</span><span class="mi">5</span><span class="p">,</span> <span class="n">modulus</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">ram_name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">print_pos</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>took an average of 24.5ms.  Of course, with smaller primes these
savings disappear.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zq</span><span class="p">([(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)],</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;alpha&quot;</span><span class="p">);</span> <span class="n">R</span>
<span class="go">Unramified Extension of 5-adic Ring with capped absolute precision 20 in alpha defined by (1 + O(5^20))*x^3 + (O(5^20))*x^2 + (3 + O(5^20))*x + (3 + O(5^20))</span>
<span class="gp">sage: </span><span class="n">Zq</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;alpha&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">R</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Zq</span><span class="p">(</span><span class="mf">125.</span><span class="n">factor</span><span class="p">(),</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;alpha&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">R</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.ZqCA">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">ZqCA</code><span class="sig-paren">(</span><em>q</em>, <em>prec=20</em>, <em>modulus=None</em>, <em>names=None</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>ram_name=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_alphabet=None</em>, <em>print_max_ram_terms=None</em>, <em>print_max_unram_terms=None</em>, <em>print_max_terse_terms=None</em>, <em>check=True</em>, <em>implementation='FLINT'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZqCA" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped absolute unramified <span class="math">\(p\)</span>-adic rings.</p>
<p>See documentation for <code class="docutils literal"><span class="pre">Zq</span></code> for a description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZqCA</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span> <span class="n">R</span>
<span class="go">Unramified Extension of 5-adic Ring with capped absolute precision 40 in a defined by (1 + O(5^40))*x^2 + (4 + O(5^40))*x + (2 + O(5^40))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.ZqCR">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">ZqCR</code><span class="sig-paren">(</span><em>q</em>, <em>prec=20</em>, <em>modulus=None</em>, <em>names=None</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>ram_name=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_alphabet=None</em>, <em>print_max_ram_terms=None</em>, <em>print_max_unram_terms=None</em>, <em>print_max_terse_terms=None</em>, <em>check=True</em>, <em>implementation='FLINT'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZqCR" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create capped relative unramified <span class="math">\(p\)</span>-adic rings.</p>
<p>Same functionality as <code class="docutils literal"><span class="pre">Zq</span></code>.  See documentation for <code class="docutils literal"><span class="pre">Zq</span></code> for a
description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZqCR</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span> <span class="n">R</span>
<span class="go">Unramified Extension of 5-adic Ring with capped relative precision 40 in a defined by (1 + O(5^40))*x^2 + (4 + O(5^40))*x + (2 + O(5^40))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.ZqFM">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">ZqFM</code><span class="sig-paren">(</span><em>q</em>, <em>prec=20</em>, <em>modulus=None</em>, <em>names=None</em>, <em>print_mode=None</em>, <em>halt=40</em>, <em>ram_name=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_alphabet=None</em>, <em>print_max_ram_terms=None</em>, <em>print_max_unram_terms=None</em>, <em>print_max_terse_terms=None</em>, <em>check=True</em>, <em>implementation='FLINT'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.ZqFM" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut function to create fixed modulus unramified <span class="math">\(p\)</span>-adic rings.</p>
<p>See documentation for <code class="docutils literal"><span class="pre">Zq</span></code> for a description of the input parameters.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZqFM</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span> <span class="n">R</span>
<span class="go">Unramified Extension of 5-adic Ring of fixed modulus 5^40 in a defined by (1 + O(5^40))*x^2 + (4 + O(5^40))*x + (2 + O(5^40))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.get_key_base">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">get_key_base</code><span class="sig-paren">(</span><em>p</em>, <em>prec</em>, <em>type</em>, <em>print_mode</em>, <em>halt</em>, <em>names</em>, <em>ram_name</em>, <em>print_pos</em>, <em>print_sep</em>, <em>print_alphabet</em>, <em>print_max_terms</em>, <em>check</em>, <em>valid_non_lazy_types</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.get_key_base" title="Permalink to this definition">¶</a></dt>
<dd><p>This implements create_key for Zp and Qp: moving it here prevents code duplication.</p>
<p>It fills in unspececified values and checks for contradictions in the input.  It also standardizes irrelevant options so that duplicate parents aren&#8217;t created.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.padics.factory</span> <span class="kn">import</span> <span class="n">get_key_base</span>
<span class="gp">sage: </span><span class="n">get_key_base</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;capped-rel&#39;</span><span class="p">])</span>
<span class="go">(11, 5, &#39;capped-rel&#39;, &#39;series&#39;, &#39;11&#39;, True, &#39;|&#39;, (), -1)</span>
<span class="gp">sage: </span><span class="n">get_key_base</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;capped-rel&#39;</span><span class="p">,</span> <span class="s1">&#39;digits&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;capped-rel&#39;</span><span class="p">])</span>
<span class="go">(12, 5, &#39;capped-rel&#39;, &#39;digits&#39;, &#39;12&#39;, True, &#39;|&#39;, (&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;), -1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.is_eisenstein">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">is_eisenstein</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.is_eisenstein" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True iff this monic polynomial is Eisenstein.</p>
<p>A polynomial is Eisenstein if it is monic, the constant term has
valuation 1 and all other terms have positive valuation.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.padics.factory</span> <span class="kn">import</span> <span class="n">is_eisenstein</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">75</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">15</span>
<span class="gp">sage: </span><span class="n">is_eisenstein</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">75</span>
<span class="gp">sage: </span><span class="n">is_eisenstein</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">7</span> <span class="o">+</span> <span class="mi">27</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span><span class="mi">15</span>
<span class="gp">sage: </span><span class="n">is_eisenstein</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.is_unramified">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">is_unramified</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.is_unramified" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true iff this monic polynomial is unramified.</p>
<p>A polynomial is unramified if its reduction modulo the maximal
ideal is irreducible.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.padics.factory</span> <span class="kn">import</span> <span class="n">is_unramified</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">14</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">9</span>
<span class="gp">sage: </span><span class="n">is_unramified</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">6</span> <span class="o">+</span> <span class="mi">17</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">6</span>
<span class="gp">sage: </span><span class="n">is_unramified</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.krasner_check">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">krasner_check</code><span class="sig-paren">(</span><em>poly</em>, <em>prec</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.krasner_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True iff poly determines a unique isomorphism class of
extensions at precision prec.</p>
<p>Currently just returns True (thus allowing extensions that are not
defined to high enough precision in order to specify them up to
isomorphism).  This will change in the future.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.padics.factory</span> <span class="kn">import</span> <span class="n">krasner_check</span>
<span class="gp">sage: </span><span class="n">krasner_check</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#this is a stupid example.</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.rings.padics.factory.pAdicExtension_class">
<em class="property">class </em><code class="descclassname">sage.rings.padics.factory.</code><code class="descname">pAdicExtension_class</code><a class="headerlink" href="#sage.rings.padics.factory.pAdicExtension_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../structure/sage/structure/factory.html#sage.structure.factory.UniqueFactory" title="(in Sage Reference Manual: Basic Structures v7.3)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.factory.UniqueFactory</span></code></a></p>
<p>A class for creating extensions of <span class="math">\(p\)</span>-adic rings and fields.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.&lt;</span><span class="n">w</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pAdicExtension</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="o">-</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">Eisenstein Extension of 5-adic Ring with capped relative precision 3 in w defined by (1 + O(5^3))*x^4 + (O(5^4))*x^3 + (O(5^4))*x^2 + (O(5^4))*x + (2*5 + 4*5^2 + 4*5^3 + O(5^4))</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">precision_cap</span><span class="p">()</span>
<span class="go">12</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.rings.padics.factory.pAdicExtension_class.create_key_and_extra_args">
<code class="descname">create_key_and_extra_args</code><span class="sig-paren">(</span><em>base</em>, <em>premodulus</em>, <em>prec=None</em>, <em>print_mode=None</em>, <em>halt=None</em>, <em>names=None</em>, <em>var_name=None</em>, <em>res_name=None</em>, <em>unram_name=None</em>, <em>ram_name=None</em>, <em>print_pos=None</em>, <em>print_sep=None</em>, <em>print_alphabet=None</em>, <em>print_max_ram_terms=None</em>, <em>print_max_unram_terms=None</em>, <em>print_max_terse_terms=None</em>, <em>check=True</em>, <em>unram=False</em>, <em>implementation='FLINT'</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.pAdicExtension_class.create_key_and_extra_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a key from input parameters for pAdicExtension.</p>
<p>See the documentation for <code class="docutils literal"><span class="pre">Qq</span></code> for more information.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">pAdicExtension</span><span class="o">.</span><span class="n">create_key_and_extra_args</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="go">((&#39;e&#39;, 5-adic Ring with capped relative precision 3, x^4 - 15, (1 + O(5^3))*x^4 + (O(5^4))*x^3 + (O(5^4))*x^2 + (O(5^4))*x + (2*5 + 4*5^2 + 4*5^3 + O(5^4)), (&#39;w&#39;, None, None, &#39;w&#39;), 12, None, &#39;series&#39;, True, &#39;|&#39;, (), -1, -1, -1, &#39;NTL&#39;), {&#39;shift_seed&#39;: (3 + O(5^3))})</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.padics.factory.pAdicExtension_class.create_object">
<code class="descname">create_object</code><span class="sig-paren">(</span><em>version</em>, <em>key</em>, <em>shift_seed</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.pAdicExtension_class.create_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an object using a given key.</p>
<p>See the documentation for pAdicExtension for more information.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">pAdicExtension</span><span class="o">.</span><span class="n">create_object</span><span class="p">(</span><span class="n">version</span> <span class="o">=</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">key</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">15</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">15</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">),</span> <span class="mi">12</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s1">&#39;series&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;|&#39;</span><span class="p">,</span> <span class="p">(),</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;NTL&#39;</span><span class="p">),</span> <span class="n">shift_seed</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="mi">5</span><span class="o">^</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">Eisenstein Extension of 5-adic Ring with capped relative precision 3 in w defined by (1 + O(5^3))*x^4 + (2*5 + 4*5^2 + 4*5^3 + O(5^4))</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.split">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">split</code><span class="sig-paren">(</span><em>poly</em>, <em>prec</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a polynomial <code class="docutils literal"><span class="pre">poly</span></code> and a desired precision <code class="docutils literal"><span class="pre">prec</span></code>, computes
<code class="docutils literal"><span class="pre">upoly</span></code> and epoly so that the extension defined by <code class="docutils literal"><span class="pre">poly</span></code> is isomorphic
to the extension defined by first taking an extension by the unramified
polynomial <code class="docutils literal"><span class="pre">upoly</span></code>, and then an extension by the Eisenstein polynomial
<code class="docutils literal"><span class="pre">epoly</span></code>.</p>
<p>We need better <span class="math">\(p\)</span>-adic factoring in Sage before this function can be
implemented.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">rings</span><span class="o">.</span><span class="n">padics</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">Extensions by general polynomials not yet supported. Please use an unramified or Eisenstein polynomial.</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>This checks that <a class="reference external" href="https://trac.sagemath.org/6186">trac ticket #6186</a> is still fixed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">k</span><span class="o">.</span><span class="n">extension</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">Extensions by general polynomials not yet supported. Please use an unramified or Eisenstein polynomial.</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.padics.factory.truncate_to_prec">
<code class="descclassname">sage.rings.padics.factory.</code><code class="descname">truncate_to_prec</code><span class="sig-paren">(</span><em>poly</em>, <em>absprec</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.padics.factory.truncate_to_prec" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncates the unused precision off of a polynomial.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.padics.factory</span> <span class="kn">import</span> <span class="n">truncate_to_prec</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="p">(</span><span class="mi">3</span><span class="o">+</span><span class="n">O</span><span class="p">(</span><span class="mi">5</span><span class="o">^</span><span class="mi">6</span><span class="p">))</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">O</span><span class="p">(</span><span class="mi">5</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">truncate_to_prec</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">(1 + O(5^5))*x^4 + (3 + O(5^5))*x^3 + (O(5^5))*x^2 + (O(5^5))*x + (O(5^4))</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="tutorial.html"
                                  title="previous chapter">Introduction to the <span class="math">\(p\)</span>-adics</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="local_generic.html"
                                  title="next chapter">Local Generic</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../../_sources/sage/rings/padics/factory.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="local_generic.html" title="Local Generic"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Introduction to the \(p\)-adics"
             >previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">p-Adics</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>