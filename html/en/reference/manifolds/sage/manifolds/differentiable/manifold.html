<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Differentiable Manifolds &mdash; Sage Reference Manual v7.3: Manifolds</title>
    
    <link rel="stylesheet" href="../../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '7.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.3: Manifolds" href="../../../index.html" />
    <link rel="up" title="Differentiable Manifolds" href="../../../diff_manifold.html" />
    <link rel="next" title="Coordinate Charts on Differentiable Manifolds" href="chart.html" />
    <link rel="prev" title="Differentiable Manifolds" href="../../../diff_manifold.html" />
    <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="chart.html" title="Coordinate Charts on Differentiable Manifolds"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../../../diff_manifold.html" title="Differentiable Manifolds"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Manifolds</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../../diff_manifold.html" accesskey="U">Differentiable Manifolds</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="differentiable-manifolds">
<span id="sage-manifolds-differentiable-manifold"></span><h1>Differentiable Manifolds<a class="headerlink" href="#differentiable-manifolds" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.manifolds.differentiable.manifold"></span><p>Given a non-discrete topological field <span class="math">\(K\)</span> (in most applications, <span class="math">\(K = \RR\)</span> or
<span class="math">\(K = \CC\)</span>; see however <a class="footnote-reference" href="#id6" id="id1">[4]</a> for <span class="math">\(K = \QQ_p\)</span> and <a class="footnote-reference" href="#id7" id="id2">[5]</a> for other fields),
a <em>differentiable manifold over</em> <span class="math">\(K\)</span> is a topological manifold <span class="math">\(M\)</span> over <span class="math">\(K\)</span>
equipped with an atlas whose transitions maps are of class <span class="math">\(C^k\)</span> (i.e.
<span class="math">\(k\)</span>-times  continuously differentiable) for a fixed positive integer <span class="math">\(k\)</span>
(possibly <span class="math">\(k=\infty\)</span>). <span class="math">\(M\)</span> is then called a <span class="math">\(C^k\)</span>-<em>manifold over</em> <span class="math">\(K\)</span>.</p>
<p>Note that</p>
<ul class="simple">
<li>if the mention of <span class="math">\(K\)</span> is omitted, then <span class="math">\(K=\RR\)</span> is assumed;</li>
<li>if <span class="math">\(K=\CC\)</span>, any <span class="math">\(C^k\)</span>-manifold with <span class="math">\(k\geq 1\)</span> is actually a
<span class="math">\(C^\infty\)</span>-manifold (even an analytic manifold);</li>
<li>if <span class="math">\(K=\RR\)</span>, any <span class="math">\(C^k\)</span>-manifold with <span class="math">\(k\geq 1\)</span> admits a compatible
<span class="math">\(C^\infty\)</span>-structure (Whitney&#8217;s smoothing theorem).</li>
</ul>
<p>Differentiable manifolds are implemented via the class
<a class="reference internal" href="#sage.manifolds.differentiable.manifold.DifferentiableManifold" title="sage.manifolds.differentiable.manifold.DifferentiableManifold"><code class="xref py py-class docutils literal"><span class="pre">DifferentiableManifold</span></code></a>.
Open subsets of differentiable manifolds are also implemented via
<a class="reference internal" href="#sage.manifolds.differentiable.manifold.DifferentiableManifold" title="sage.manifolds.differentiable.manifold.DifferentiableManifold"><code class="xref py py-class docutils literal"><span class="pre">DifferentiableManifold</span></code></a>, since they are differentiable manifolds by
themselves.</p>
<p>The user interface is provided by the generic function
<a class="reference internal" href="../manifold.html#sage.manifolds.manifold.Manifold" title="sage.manifolds.manifold.Manifold"><code class="xref py py-func docutils literal"><span class="pre">Manifold()</span></code></a>, with
the argument <code class="docutils literal"><span class="pre">structure</span></code> set to <code class="docutils literal"><span class="pre">'differentiable'</span></code> and the argument
<code class="docutils literal"><span class="pre">diff_degree</span></code> set to <span class="math">\(k\)</span>,  or the argument <code class="docutils literal"><span class="pre">structure</span></code> set to <code class="docutils literal"><span class="pre">'smooth'</span></code>
(the default value).</p>
<p class="rubric">Example 1: the 2-sphere as a differentiable manifold of dimension
2 over <span class="math">\(\RR\)</span></p>
<p>One starts by declaring <span class="math">\(S^2\)</span> as a 2-dimensional differentiable manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;S^2&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span>
<span class="go">2-dimensional differentiable manifold S^2</span>
</pre></div>
</div>
<p>Since the base topological field has not been specified in the argument list
of <code class="docutils literal"><span class="pre">Manifold</span></code>, <span class="math">\(\RR\)</span> is assumed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">base_field</span><span class="p">()</span>
<span class="go">Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">dim</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>By default, the created object is a smooth manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">diff_degree</span><span class="p">()</span>
<span class="go"> +Infinity</span>
</pre></div>
</div>
<p>Let us consider the complement of a point, the &#8220;North pole&#8221; say; this is an
open subset of <span class="math">\(S^2\)</span>, which we call <span class="math">\(U\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">);</span> <span class="n">U</span>
<span class="go">Open subset U of the 2-dimensional differentiable manifold S^2</span>
</pre></div>
</div>
<p>A standard chart on <span class="math">\(U\)</span> is provided by the stereographic projection from the
North pole to the equatorial plane:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">stereoN</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">();</span> <span class="n">stereoN</span>
<span class="go">Chart (U, (x, y))</span>
</pre></div>
</div>
<p>Thanks to the operator <code class="docutils literal"><span class="pre">&lt;x,y&gt;</span></code> on the left-hand side, the coordinates
declared in a chart (here <span class="math">\(x\)</span> and <span class="math">\(y\)</span>), are accessible by their names; they are
Sage&#8217;s symbolic variables:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.symbolic.expression.Expression&#39;&gt;</span>
</pre></div>
</div>
<p>The South pole is the point of coordinates <span class="math">\((x,y)=(0,0)\)</span> in the above
chart:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">chart</span><span class="o">=</span><span class="n">stereoN</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;S&#39;</span><span class="p">);</span> <span class="n">S</span>
<span class="go">Point S on the 2-dimensional differentiable manifold S^2</span>
</pre></div>
</div>
<p>Let us call <span class="math">\(V\)</span> the open subset that is the complement of the South pole and
let us introduce on it the chart induced by the stereographic projection from
the South pole to the equatorial plane:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;V&#39;</span><span class="p">);</span> <span class="n">V</span>
<span class="go">Open subset V of the 2-dimensional differentiable manifold S^2</span>
<span class="gp">sage: </span><span class="n">stereoS</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">chart</span><span class="p">();</span> <span class="n">stereoS</span>
<span class="go">Chart (V, (u, v))</span>
</pre></div>
</div>
<p>The North pole is the point of coordinates <span class="math">\((u,v)=(0,0)\)</span> in this chart:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">chart</span><span class="o">=</span><span class="n">stereoS</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;N&#39;</span><span class="p">);</span> <span class="n">N</span>
<span class="go">Point N on the 2-dimensional differentiable manifold S^2</span>
</pre></div>
</div>
<p>To fully construct the manifold, we declare that it is the union of <span class="math">\(U\)</span>
and <span class="math">\(V\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">declare_union</span><span class="p">(</span><span class="n">U</span><span class="p">,</span><span class="n">V</span><span class="p">)</span>
</pre></div>
</div>
<p>and we provide the transition map between the charts <code class="docutils literal"><span class="pre">stereoN</span></code> = <span class="math">\((U, (x, y))\)</span>
and <code class="docutils literal"><span class="pre">stereoS</span></code> = <span class="math">\((V, (u, v))\)</span>, denoting by <span class="math">\(W\)</span> the intersection of <span class="math">\(U\)</span> and
<span class="math">\(V\)</span> (<span class="math">\(W\)</span> is the subset of <span class="math">\(U\)</span> defined by <span class="math">\(x^2+y^2\not=0\)</span>, as well as the subset
of <span class="math">\(V\)</span> defined by <span class="math">\(u^2+v^2\not=0\)</span>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">stereoN_to_S</span> <span class="o">=</span> <span class="n">stereoN</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">stereoS</span><span class="p">,</span>
<span class="go">....:                [x/(x^2+y^2), y/(x^2+y^2)], intersection_name=&#39;W&#39;,</span>
<span class="go">....:                restrictions1= x^2+y^2!=0, restrictions2= u^2+v^2!=0)</span>
<span class="gp">sage: </span><span class="n">stereoN_to_S</span>
<span class="go">Change of coordinates from Chart (W, (x, y)) to Chart (W, (u, v))</span>
<span class="gp">sage: </span><span class="n">stereoN_to_S</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">u = x/(x^2 + y^2)</span>
<span class="go">v = y/(x^2 + y^2)</span>
</pre></div>
</div>
<p>We give the name <code class="docutils literal"><span class="pre">W</span></code> to the Python variable representing <span class="math">\(W=U\cap V\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
</pre></div>
</div>
<p>The inverse of the transition map is computed by the method <code class="docutils literal"><span class="pre">inverse()</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">stereoN_to_S</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
<span class="go">Change of coordinates from Chart (W, (u, v)) to Chart (W, (x, y))</span>
<span class="gp">sage: </span><span class="n">stereoN_to_S</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">x = u/(u^2 + v^2)</span>
<span class="go">y = v/(u^2 + v^2)</span>
</pre></div>
</div>
<p>At this stage, we have four open subsets on <span class="math">\(S^2\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">list_of_subsets</span><span class="p">()</span>
<span class="go">[2-dimensional differentiable manifold S^2,</span>
<span class="go"> Open subset U of the 2-dimensional differentiable manifold S^2,</span>
<span class="go"> Open subset V of the 2-dimensional differentiable manifold S^2,</span>
<span class="go"> Open subset W of the 2-dimensional differentiable manifold S^2]</span>
</pre></div>
</div>
<p><span class="math">\(W\)</span> is the open subset that is the complement of the two poles:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">N</span> <span class="ow">in</span> <span class="n">W</span> <span class="ow">or</span> <span class="n">S</span> <span class="ow">in</span> <span class="n">W</span>
<span class="go">False</span>
</pre></div>
</div>
<p>The North pole lies in <span class="math">\(V\)</span> and the South pole in <span class="math">\(U\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">N</span> <span class="ow">in</span> <span class="n">V</span><span class="p">,</span> <span class="n">N</span> <span class="ow">in</span> <span class="n">U</span>
<span class="go">(True, False)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="ow">in</span> <span class="n">U</span><span class="p">,</span> <span class="n">S</span> <span class="ow">in</span> <span class="n">V</span>
<span class="go">(True, False)</span>
</pre></div>
</div>
<p>The manifold&#8217;s (user) atlas contains four charts, two of them
being restrictions of charts to a smaller domain:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">atlas</span><span class="p">()</span>
<span class="go">[Chart (U, (x, y)), Chart (V, (u, v)), Chart (W, (x, y)), Chart (W, (u, v))]</span>
</pre></div>
</div>
<p>Let us consider the point of coordinates (1,2) in the chart <code class="docutils literal"><span class="pre">stereoN</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">chart</span><span class="o">=</span><span class="n">stereoN</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">);</span> <span class="n">p</span>
<span class="go">Point p on the 2-dimensional differentiable manifold S^2</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">2-dimensional differentiable manifold S^2</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="ow">in</span> <span class="n">W</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The coordinates of <span class="math">\(p\)</span> in the chart <code class="docutils literal"><span class="pre">stereoS</span></code> are computed by letting
the chart act on the point:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">stereoS</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">(1/5, 2/5)</span>
</pre></div>
</div>
<p>Given the definition of <span class="math">\(p\)</span>, we have of course:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">stereoN</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">(1, 2)</span>
</pre></div>
</div>
<p>Similarly:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">stereoS</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="go">(0, 0)</span>
<span class="gp">sage: </span><span class="n">stereoN</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
<span class="go">(0, 0)</span>
</pre></div>
</div>
<p>A differentiable scalar field on the sphere:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">scalar_field</span><span class="p">({</span><span class="n">stereoN</span><span class="p">:</span> <span class="n">atan</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">stereoS</span><span class="p">:</span> <span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="n">atan</span><span class="p">(</span><span class="n">u</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="p">)},</span>
<span class="go">....:                    name=&#39;f&#39;)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">Scalar field f on the 2-dimensional differentiable manifold S^2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">f: S^2 --&gt; R</span>
<span class="go">on U: (x, y) |--&gt; arctan(x^2 + y^2)</span>
<span class="go">on V: (u, v) |--&gt; 1/2*pi - arctan(u^2 + v^2)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">arctan(5)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="go">1/2*pi</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Algebra of differentiable scalar fields on the 2-dimensional differentiable</span>
<span class="go"> manifold S^2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">category</span><span class="p">()</span>
<span class="go">Category of commutative algebras over Symbolic Ring</span>
</pre></div>
</div>
<p class="rubric">Example 2: the Riemann sphere as a differentiable manifold of
dimension 1 over <span class="math">\(\CC\)</span></p>
<p>We declare the Riemann sphere <span class="math">\(\CC^*\)</span> as a 1-dimensional differentiable
manifold over <span class="math">\(\CC\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;C*&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;complex&#39;</span><span class="p">);</span> <span class="n">M</span>
<span class="go">1-dimensional complex manifold C*</span>
</pre></div>
</div>
<p>We introduce a first open subset, which is actually
<span class="math">\(\CC = \CC^*\setminus\{\infty\}\)</span> if we interpret <span class="math">\(\CC^*\)</span> as the Alexandroff
one-point compactification of <span class="math">\(\CC\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>A natural chart on <span class="math">\(U\)</span> is then nothing but the identity map of <span class="math">\(\CC\)</span>, hence
we denote the associated coordinate by <span class="math">\(z\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Z</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
</pre></div>
</div>
<p>The origin of the complex plane is the point of coordinate <span class="math">\(z=0\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">O</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">0</span><span class="p">,),</span> <span class="n">chart</span><span class="o">=</span><span class="n">Z</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;O&#39;</span><span class="p">);</span> <span class="n">O</span>
<span class="go">Point O on the 1-dimensional complex manifold C*</span>
</pre></div>
</div>
<p>Another open subset of <span class="math">\(\CC^*\)</span> is <span class="math">\(V = \CC^*\setminus\{O\}\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;V&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We define a chart on <span class="math">\(V\)</span> such that the point at infinity is the point of
coordinate 0 in this chart:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span><span class="o">.&lt;</span><span class="n">w</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">chart</span><span class="p">();</span> <span class="n">W</span>
<span class="go">Chart (V, (w,))</span>
<span class="gp">sage: </span><span class="n">inf</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">0</span><span class="p">,),</span> <span class="n">chart</span><span class="o">=</span><span class="n">W</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;inf&#39;</span><span class="p">,</span> <span class="n">latex_name</span><span class="o">=</span><span class="s1">r&#39;\infty&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">inf</span>
<span class="go">Point inf on the 1-dimensional complex manifold C*</span>
</pre></div>
</div>
<p>To fully construct the Riemann sphere, we declare that it is the union of <span class="math">\(U\)</span>
and <span class="math">\(V\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">declare_union</span><span class="p">(</span><span class="n">U</span><span class="p">,</span><span class="n">V</span><span class="p">)</span>
</pre></div>
</div>
<p>and we provide the transition map between the two charts as <span class="math">\(w=1/z\)</span> on
on <span class="math">\(A = U\cap V\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Z_to_W</span> <span class="o">=</span> <span class="n">Z</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="n">z</span><span class="p">,</span> <span class="n">intersection_name</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span>
<span class="go">....:                           restrictions1= z!=0, restrictions2= w!=0)</span>
<span class="gp">sage: </span><span class="n">Z_to_W</span>
<span class="go">Change of coordinates from Chart (A, (z,)) to Chart (A, (w,))</span>
<span class="gp">sage: </span><span class="n">Z_to_W</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">w = 1/z</span>
<span class="gp">sage: </span><span class="n">Z_to_W</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
<span class="go">Change of coordinates from Chart (A, (w,)) to Chart (A, (z,))</span>
<span class="gp">sage: </span><span class="n">Z_to_W</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">z = 1/w</span>
</pre></div>
</div>
<p>Let consider the complex number <span class="math">\(i\)</span> as a point of the Riemann sphere:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">i</span> <span class="o">=</span> <span class="n">M</span><span class="p">((</span><span class="n">I</span><span class="p">,),</span> <span class="n">chart</span><span class="o">=</span><span class="n">Z</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;i&#39;</span><span class="p">);</span> <span class="n">i</span>
<span class="go">Point i on the 1-dimensional complex manifold C*</span>
</pre></div>
</div>
<p>Its coordinates w.r.t. the charts <code class="docutils literal"><span class="pre">Z</span></code> and <code class="docutils literal"><span class="pre">W</span></code> are:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Z</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">(I,)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">(-I,)</span>
</pre></div>
</div>
<p>and we have:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">i</span> <span class="ow">in</span> <span class="n">U</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">i</span> <span class="ow">in</span> <span class="n">V</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The following subsets and charts have been defined:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">list_of_subsets</span><span class="p">()</span>
<span class="go">[Open subset A of the 1-dimensional complex manifold C*,</span>
<span class="go"> 1-dimensional complex manifold C*,</span>
<span class="go"> Open subset U of the 1-dimensional complex manifold C*,</span>
<span class="go"> Open subset V of the 1-dimensional complex manifold C*]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">atlas</span><span class="p">()</span>
<span class="go">[Chart (U, (z,)), Chart (V, (w,)), Chart (A, (z,)), Chart (A, (w,))]</span>
</pre></div>
</div>
<p>A constant map <span class="math">\(\CC^* \rightarrow \CC\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">constant_scalar_field</span><span class="p">(</span><span class="mi">3</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">I</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;f&#39;</span><span class="p">);</span> <span class="n">f</span>
<span class="go">Scalar field f on the 1-dimensional complex manifold C*</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">f: C* --&gt; C</span>
<span class="go">on U: z |--&gt; 2*I + 3</span>
<span class="go">on V: w |--&gt; 2*I + 3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">O</span><span class="p">)</span>
<span class="go">2*I + 3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">2*I + 3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">inf</span><span class="p">)</span>
<span class="go">2*I + 3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Algebra of differentiable scalar fields on the 1-dimensional complex</span>
<span class="go"> manifold C*</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">category</span><span class="p">()</span>
<span class="go">Category of commutative algebras over Symbolic Ring</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>Eric Gourgoulhon (2015): initial version</li>
</ul>
<p>REFERENCES:</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>J.M. Lee : <em>Introduction to Smooth Manifolds</em>, 2nd ed., Springer
(New York) (2012); <a class="reference external" href="https://dx.doi.org/10.1007/978-1-4419-9982-5">doi:10.1007/978-1-4419-9982-5</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td>S. Kobayashi &amp; K. Nomizu : <em>Foundations of Differential Geometry</em>,
vol. 1, Interscience Publishers (New York) (1963)</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[3]</td><td>D. Huybrechts : <em>Complex Geometry</em>, Springer (Berlin) (2005);
<a class="reference external" href="https://dx.doi.org/10.1007/b137952">doi:10.1007/b137952</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[4]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id9">2</a>)</em> J.-P. Serre : <em>Lie Algebras and Lie Groups</em>, 2nd ed., Springer
(Berlin) (1992); <a class="reference external" href="https://dx.doi.org/10.1007/978-3-540-70634-2">doi:10.1007/978-3-540-70634-2</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[5]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id10">2</a>)</em> W. Bertram : <em>Differential Geometry, Lie Groups and Symmetric Spaces
over General Base Fields and Rings</em>, Memoirs of the American Mathematical
Society, vol. 192 (2008); <a class="reference external" href="https://dx.doi.org/10.1090/memo/0900">doi:10.1090/memo/0900</a>; <a class="reference external" href="http://arxiv.org/abs/math/0502168">Arxiv math/0502168</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[6]</td><td>M. Berger &amp; B. Gostiaux : <em>Differential Geometry: Manifolds, Curves and
Surfaces</em>, Springer (New York) (1988); <a class="reference external" href="https://dx.doi.org/10.1007/978-1-4612-1033-7">doi:10.1007/978-1-4612-1033-7</a></td></tr>
</tbody>
</table>
<dl class="class">
<dt id="sage.manifolds.differentiable.manifold.DifferentiableManifold">
<em class="property">class </em><code class="descclassname">sage.manifolds.differentiable.manifold.</code><code class="descname">DifferentiableManifold</code><span class="sig-paren">(</span><em>n</em>, <em>name</em>, <em>field</em>, <em>structure</em>, <em>ambient=None</em>, <em>diff_degree=+Infinity</em>, <em>latex_name=None</em>, <em>start_index=0</em>, <em>category=None</em>, <em>unique_tag=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.manifold.DifferentiableManifold" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../manifold.html#sage.manifolds.manifold.TopologicalManifold" title="sage.manifolds.manifold.TopologicalManifold"><code class="xref py py-class docutils literal"><span class="pre">sage.manifolds.manifold.TopologicalManifold</span></code></a></p>
<p>Differentiable manifold over a topological field <span class="math">\(K\)</span>.</p>
<p>Given a non-discrete topological field <span class="math">\(K\)</span> (in most applications,
<span class="math">\(K = \RR\)</span> or <span class="math">\(K = \CC\)</span>; see however <a class="footnote-reference" href="#id6" id="id9">[4]</a> for <span class="math">\(K = \QQ_p\)</span> and <a class="footnote-reference" href="#id7" id="id10">[5]</a> for
other fields), a <em>differentiable manifold over</em> <span class="math">\(K\)</span> is a topological
manifold <span class="math">\(M\)</span> over <span class="math">\(K\)</span> equipped with an atlas whose transitions maps are of
class <span class="math">\(C^k\)</span> (i.e. <span class="math">\(k\)</span>-times  continuously differentiable) for a fixed
positive integer <span class="math">\(k\)</span> (possibly <span class="math">\(k=\infty\)</span>). <span class="math">\(M\)</span> is then called a
<span class="math">\(C^k\)</span>-<em>manifold over</em> <span class="math">\(K\)</span>.</p>
<p>Note that</p>
<ul class="simple">
<li>if the mention of <span class="math">\(K\)</span> is omitted, then <span class="math">\(K=\RR\)</span> is assumed;</li>
<li>if <span class="math">\(K=\CC\)</span>, any <span class="math">\(C^k\)</span>-manifold with <span class="math">\(k\geq 1\)</span> is actually a
<span class="math">\(C^\infty\)</span>-manifold (even an analytic manifold);</li>
<li>if <span class="math">\(K=\RR\)</span>, any <span class="math">\(C^k\)</span>-manifold with <span class="math">\(k\geq 1\)</span> admits a compatible
<span class="math">\(C^\infty\)</span>-structure (Whitney&#8217;s smoothing theorem).</li>
</ul>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">n</span></code> &#8211; positive integer; dimension of the manifold</li>
<li><code class="docutils literal"><span class="pre">name</span></code> &#8211; string; name (symbol) given to the manifold</li>
<li><code class="docutils literal"><span class="pre">field</span></code> &#8211; field <span class="math">\(K\)</span> on which the manifold is
defined; allowed values are<ul>
<li><code class="docutils literal"><span class="pre">'real'</span></code> or an object of type <code class="docutils literal"><span class="pre">RealField</span></code> (e.g., <code class="docutils literal"><span class="pre">RR</span></code>) for
a manifold over <span class="math">\(\RR\)</span></li>
<li><code class="docutils literal"><span class="pre">'complex'</span></code> or an object of type <code class="docutils literal"><span class="pre">ComplexField</span></code> (e.g., <code class="docutils literal"><span class="pre">CC</span></code>)
for a manifold over <span class="math">\(\CC\)</span></li>
<li>an object in the category of topological fields (see
<a class="reference external" href="../../../../categories/sage/categories/fields.html#sage.categories.fields.Fields" title="(in Sage Reference Manual: Category Framework v7.3)"><code class="xref py py-class docutils literal"><span class="pre">Fields</span></code></a> and
<a class="reference external" href="../../../../categories/sage/categories/topological_spaces.html#sage.categories.topological_spaces.TopologicalSpaces" title="(in Sage Reference Manual: Category Framework v7.3)"><code class="xref py py-class docutils literal"><span class="pre">TopologicalSpaces</span></code></a>)
for other types of manifolds</li>
</ul>
</li>
<li><code class="docutils literal"><span class="pre">structure</span></code> &#8211; manifold structure (see
<a class="reference internal" href="../structure.html#sage.manifolds.structure.DifferentialStructure" title="sage.manifolds.structure.DifferentialStructure"><code class="xref py py-class docutils literal"><span class="pre">DifferentialStructure</span></code></a> or
<a class="reference internal" href="../structure.html#sage.manifolds.structure.RealDifferentialStructure" title="sage.manifolds.structure.RealDifferentialStructure"><code class="xref py py-class docutils literal"><span class="pre">RealDifferentialStructure</span></code></a>)</li>
<li><code class="docutils literal"><span class="pre">ambient</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) if not <code class="docutils literal"><span class="pre">None</span></code>, must be a
differentiable manifold; the created object is then an open subset of
<code class="docutils literal"><span class="pre">ambient</span></code></li>
<li><code class="docutils literal"><span class="pre">diff_degree</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">infinity</span></code>) degree <span class="math">\(k\)</span> of
differentiability</li>
<li><code class="docutils literal"><span class="pre">latex_name</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) string; LaTeX symbol to
denote the manifold; if none is provided, it is set to <code class="docutils literal"><span class="pre">name</span></code></li>
<li><code class="docutils literal"><span class="pre">start_index</span></code> &#8211; (default: 0) integer; lower value of the range of
indices used for &#8220;indexed objects&#8221; on the manifold, e.g. coordinates
in a chart</li>
<li><code class="docutils literal"><span class="pre">category</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) to specify the category; if <code class="docutils literal"><span class="pre">None</span></code>,
<code class="docutils literal"><span class="pre">Manifolds(field).Differentiable()</span></code> (or <code class="docutils literal"><span class="pre">Manifolds(field).Smooth()</span></code>
if <code class="docutils literal"><span class="pre">diff_degree</span></code> = <code class="docutils literal"><span class="pre">infinity</span></code>) is assumed (see the category
<a class="reference external" href="../../../../categories/sage/categories/manifolds.html#sage.categories.manifolds.Manifolds" title="(in Sage Reference Manual: Category Framework v7.3)"><code class="xref py py-class docutils literal"><span class="pre">Manifolds</span></code></a>)</li>
<li><code class="docutils literal"><span class="pre">unique_tag</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) tag used to force the construction
of a new object when all the other arguments have been used previously
(without <code class="docutils literal"><span class="pre">unique_tag</span></code>, the
<a class="reference external" href="../../../../structure/sage/structure/unique_representation.html#sage.structure.unique_representation.UniqueRepresentation" title="(in Sage Reference Manual: Basic Structures v7.3)"><code class="xref py py-class docutils literal"><span class="pre">UniqueRepresentation</span></code></a>
behavior inherited from
<a class="reference internal" href="../subset.html#sage.manifolds.subset.ManifoldSubset" title="sage.manifolds.subset.ManifoldSubset"><code class="xref py py-class docutils literal"><span class="pre">ManifoldSubset</span></code></a>,
via <a class="reference internal" href="../manifold.html#sage.manifolds.manifold.TopologicalManifold" title="sage.manifolds.manifold.TopologicalManifold"><code class="xref py py-class docutils literal"><span class="pre">TopologicalManifold</span></code></a>,
would return the previously constructed object corresponding to these
arguments).</li>
</ul>
<p>EXAMPLES:</p>
<p>A 4-dimensional differentiable manifold (over <span class="math">\(\RR\)</span>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">latex_name</span><span class="o">=</span><span class="s1">r&#39;\mathcal{M}&#39;</span><span class="p">);</span> <span class="n">M</span>
<span class="go">4-dimensional differentiable manifold M</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.manifolds.differentiable.manifold.DifferentiableManifold_with_category&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">\mathcal{M}</span>
<span class="gp">sage: </span><span class="n">dim</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p>Since the base field has not been specified, <span class="math">\(\RR\)</span> has been assumed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">base_field</span><span class="p">()</span>
<span class="go">Real Field with 53 bits of precision</span>
</pre></div>
</div>
<p>Since the degree of differentiability has not been specified, the default
value, <span class="math">\(C^\infty\)</span>, has been assumed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">diff_degree</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
<p>The input parameter <code class="docutils literal"><span class="pre">start_index</span></code> defines the range of indices on the
manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">irange</span><span class="p">())</span>
<span class="go">[0, 1, 2, 3]</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">start_index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">irange</span><span class="p">())</span>
<span class="go">[1, 2, 3, 4]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">Manifold</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">start_index</span><span class="o">=-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">irange</span><span class="p">())</span>
<span class="go">[-2, -1, 0, 1]</span>
</pre></div>
</div>
<p>A complex manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;complex&#39;</span><span class="p">);</span> <span class="n">N</span>
<span class="go">3-dimensional complex manifold N</span>
</pre></div>
</div>
<p>A differentiable manifold over <span class="math">\(\QQ_5\)</span>, the field of 5-adic numbers:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span> <span class="n">N</span>
<span class="go">2-dimensional differentiable manifold N over the 5-adic Field with</span>
<span class="go"> capped relative precision 20</span>
</pre></div>
</div>
<p>A differentiable manifold is of course a topological manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">sage</span><span class="o">.</span><span class="n">manifolds</span><span class="o">.</span><span class="n">manifold</span><span class="o">.</span><span class="n">TopologicalManifold</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">sage</span><span class="o">.</span><span class="n">manifolds</span><span class="o">.</span><span class="n">manifold</span><span class="o">.</span><span class="n">TopologicalManifold</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A differentiable manifold is a Sage <em>parent</em> object, in the category of
differentiable (here smooth) manifolds over a given topological field (see
<a class="reference external" href="../../../../categories/sage/categories/manifolds.html#sage.categories.manifolds.Manifolds" title="(in Sage Reference Manual: Category Framework v7.3)"><code class="xref py py-class docutils literal"><span class="pre">Manifolds</span></code></a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">Parent</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">category</span><span class="p">()</span>
<span class="go">Category of smooth manifolds over Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.manifolds</span> <span class="kn">import</span> <span class="n">Manifolds</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">category</span><span class="p">()</span> <span class="ow">is</span> <span class="n">Manifolds</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span><span class="o">.</span><span class="n">Smooth</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">category</span><span class="p">()</span> <span class="ow">is</span> <span class="n">Manifolds</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">base_field</span><span class="p">())</span><span class="o">.</span><span class="n">Smooth</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="ow">in</span> <span class="n">Manifolds</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span><span class="o">.</span><span class="n">Smooth</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="ow">in</span> <span class="n">Manifolds</span><span class="p">(</span><span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">Smooth</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The corresponding Sage <em>elements</em> are points:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">t</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">an_element</span><span class="p">();</span> <span class="n">p</span>
<span class="go">Point on the 4-dimensional differentiable manifold M</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">4-dimensional differentiable manifold M</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_parent_of</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="ow">in</span> <span class="n">M</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The manifold&#8217;s points are instances of class
<a class="reference internal" href="../point.html#sage.manifolds.point.ManifoldPoint" title="sage.manifolds.point.ManifoldPoint"><code class="xref py py-class docutils literal"><span class="pre">ManifoldPoint</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">sage</span><span class="o">.</span><span class="n">manifolds</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">ManifoldPoint</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Since an open subset of a differentiable manifold <span class="math">\(M\)</span> is itself a
differentiable manifold, open subsets of <span class="math">\(M\)</span> have all attributes of
manifolds:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="n">coord_def</span><span class="o">=</span><span class="p">{</span><span class="n">X</span><span class="p">:</span> <span class="n">t</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">});</span> <span class="n">U</span>
<span class="go">Open subset U of the 4-dimensional differentiable manifold M</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">category</span><span class="p">()</span>
<span class="go">Join of Category of subobjects of sets and Category of smooth manifolds</span>
<span class="go"> over Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">base_field</span><span class="p">()</span> <span class="o">==</span> <span class="n">M</span><span class="o">.</span><span class="n">base_field</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">dim</span><span class="p">(</span><span class="n">U</span><span class="p">)</span> <span class="o">==</span> <span class="n">dim</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The manifold passes all the tests of the test suite relative to its
category:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">M</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.manifolds.differentiable.manifold.DifferentiableManifold.diff_degree">
<code class="descname">diff_degree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.manifold.DifferentiableManifold.diff_degree" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the manifold&#8217;s degree of differentiability.</p>
<p>The degree of differentiability is the integer <span class="math">\(k\)</span> (possibly
<span class="math">\(k=\infty\)</span>) such that the manifold is a <span class="math">\(C^k\)</span>-manifold over its base
field.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">diff_degree</span><span class="p">()</span>
<span class="go">+Infinity</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;differentiable&#39;</span><span class="p">,</span> <span class="n">diff_degree</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">diff_degree</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.differentiable.manifold.DifferentiableManifold.diff_map">
<code class="descname">diff_map</code><span class="sig-paren">(</span><em>codomain</em>, <em>coord_functions=None</em>, <em>chart1=None</em>, <em>chart2=None</em>, <em>name=None</em>, <em>latex_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.manifold.DifferentiableManifold.diff_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a differentiable map between the current differentiable manifold
and a differentiable manifold over the same topological field.</p>
<p>See <a class="reference internal" href="diff_map.html#sage.manifolds.differentiable.diff_map.DiffMap" title="sage.manifolds.differentiable.diff_map.DiffMap"><code class="xref py py-class docutils literal"><span class="pre">DiffMap</span></code></a> for a
complete documentation.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">codomain</span></code> &#8211; the map codomain (a differentiable manifold over the
same topological field as the current differentiable manifold)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">coord_functions</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) if not <code class="docutils literal"><span class="pre">None</span></code>, must be
either</p>
<ul class="simple">
<li>(i) a dictionary of
the coordinate expressions (as lists (or tuples) of the
coordinates of the image expressed in terms of the coordinates of
the considered point) with the pairs of charts (chart1, chart2)
as keys (chart1 being a chart on the current manifold and chart2 a
chart on <code class="docutils literal"><span class="pre">codomain</span></code>)</li>
<li>(ii) a single coordinate expression in a given pair of charts, the
latter being provided by the arguments <code class="docutils literal"><span class="pre">chart1</span></code> and <code class="docutils literal"><span class="pre">chart2</span></code></li>
</ul>
<p>In both cases, if the dimension of the arrival manifold is 1,
a single coordinate expression can be passed instead of a tuple with
a single element</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">chart1</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>; used only in case (ii) above) chart
on the current manifold defining the start coordinates involved in
<code class="docutils literal"><span class="pre">coord_functions</span></code> for case (ii); if none is provided, the
coordinates are assumed to refer to the manifold&#8217;s default chart</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">chart2</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>; used only in case (ii) above) chart
on <code class="docutils literal"><span class="pre">codomain</span></code> defining the arrival coordinates involved in
<code class="docutils literal"><span class="pre">coord_functions</span></code> for case (ii); if none is provided, the
coordinates are assumed to refer to the default chart of <code class="docutils literal"><span class="pre">codomain</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">name</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) name given to the differentiable
map</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">latex_name</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) LaTeX symbol to denote the
differentiable map; if none is provided, the LaTeX symbol is set to
<code class="docutils literal"><span class="pre">name</span></code></p>
</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>the differentiable map, as an instance of
<a class="reference internal" href="diff_map.html#sage.manifolds.differentiable.diff_map.DiffMap" title="sage.manifolds.differentiable.diff_map.DiffMap"><code class="xref py py-class docutils literal"><span class="pre">DiffMap</span></code></a></li>
</ul>
<p>EXAMPLES:</p>
<p>A differentiable map between an open subset of <span class="math">\(S^2\)</span> covered by regular
spherical coordinates and <span class="math">\(\RR^3\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;S^2&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="o">.&lt;</span><span class="n">th</span><span class="p">,</span><span class="n">ph</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">r&#39;th:(0,pi):\theta ph:(0,2*pi):\phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;R^3&#39;</span><span class="p">,</span> <span class="s1">r&#39;\RR^3&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>  <span class="c1"># Cartesian coord. on R^3</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">th</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">ph</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">th</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">ph</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">th</span><span class="p">)),</span>
<span class="go">....:                  name=&#39;Phi&#39;, latex_name=r&#39;\Phi&#39;)</span>
<span class="gp">sage: </span><span class="n">Phi</span>
<span class="go">Differentiable map Phi from the Open subset U of the 2-dimensional</span>
<span class="go"> differentiable manifold S^2 to the 3-dimensional differentiable</span>
<span class="go"> manifold R^3</span>
</pre></div>
</div>
<p>The same definition, but with a dictionary with pairs of charts as
keys (case (i) above):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi1</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">diff_map</span><span class="p">(</span><span class="n">N</span><span class="p">,</span>
<span class="go">....:        {(c_spher, c_cart): (sin(th)*cos(ph), sin(th)*sin(ph),</span>
<span class="go">....:         cos(th))}, name=&#39;Phi&#39;, latex_name=r&#39;\Phi&#39;)</span>
<span class="gp">sage: </span><span class="n">Phi1</span> <span class="o">==</span> <span class="n">Phi</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The differentiable map acting on a point:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">pi</span><span class="p">))</span> <span class="p">;</span> <span class="n">p</span>
<span class="go">Point on the 2-dimensional differentiable manifold S^2</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">Point on the 3-dimensional differentiable manifold R^3</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="o">.</span><span class="n">coord</span><span class="p">(</span><span class="n">c_cart</span><span class="p">)</span>
<span class="go">(-1, 0, 0)</span>
<span class="gp">sage: </span><span class="n">Phi1</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">==</span> <span class="n">Phi</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>See the documentation of class
<a class="reference internal" href="diff_map.html#sage.manifolds.differentiable.diff_map.DiffMap" title="sage.manifolds.differentiable.diff_map.DiffMap"><code class="xref py py-class docutils literal"><span class="pre">DiffMap</span></code></a> for more
examples.</p>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.differentiable.manifold.DifferentiableManifold.diff_mapping">
<code class="descname">diff_mapping</code><span class="sig-paren">(</span><em>codomain</em>, <em>coord_functions=None</em>, <em>chart1=None</em>, <em>chart2=None</em>, <em>name=None</em>, <em>latex_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.manifold.DifferentiableManifold.diff_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated.</p>
<p>Use <a class="reference internal" href="#sage.manifolds.differentiable.manifold.DifferentiableManifold.diff_map" title="sage.manifolds.differentiable.manifold.DifferentiableManifold.diff_map"><code class="xref py py-meth docutils literal"><span class="pre">diff_map()</span></code></a> instead.</p>
<p>EXAMPLE:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">);</span> <span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">);</span> <span class="n">Y</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">diff_mapping</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">{(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">):</span> <span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">]},</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Phi&#39;</span><span class="p">)</span>
<span class="go">doctest:...: DeprecationWarning: Use diff_map() instead.</span>
<span class="go">See http://trac.sagemath.org/18783 for details.</span>
<span class="gp">sage: </span><span class="n">Phi</span>
<span class="go">Differentiable map Phi from the 2-dimensional differentiable</span>
<span class="go"> manifold M to the 2-dimensional differentiable manifold N</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.differentiable.manifold.DifferentiableManifold.diffeomorphism">
<code class="descname">diffeomorphism</code><span class="sig-paren">(</span><em>codomain</em>, <em>coord_functions=None</em>, <em>chart1=None</em>, <em>chart2=None</em>, <em>name=None</em>, <em>latex_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.manifold.DifferentiableManifold.diffeomorphism" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a diffeomorphism between the current manifold and another one.</p>
<p>See <a class="reference internal" href="diff_map.html#sage.manifolds.differentiable.diff_map.DiffMap" title="sage.manifolds.differentiable.diff_map.DiffMap"><code class="xref py py-class docutils literal"><span class="pre">DiffMap</span></code></a> for a
complete documentation.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">codomain</span></code> &#8211; codomain of the diffeomorphism (the arrival manifold
or some subset of it)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">coord_functions</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) if not <code class="docutils literal"><span class="pre">None</span></code>, must be
either</p>
<ul class="simple">
<li>(i) a dictionary of
the coordinate expressions (as lists (or tuples) of the
coordinates of the image expressed in terms of the coordinates of
the considered point) with the pairs of charts (chart1, chart2)
as keys (chart1 being a chart on the current manifold and chart2
a chart on <code class="docutils literal"><span class="pre">codomain</span></code>)</li>
<li>(ii) a single coordinate expression in a given pair of charts, the
latter being provided by the arguments <code class="docutils literal"><span class="pre">chart1</span></code> and <code class="docutils literal"><span class="pre">chart2</span></code></li>
</ul>
<p>In both cases, if the dimension of the arrival manifold is 1,
a single coordinate expression can be passed instead of a tuple with
a single element</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">chart1</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>; used only in case (ii) above) chart
on the current manifold defining the start coordinates involved in
<code class="docutils literal"><span class="pre">coord_functions</span></code> for case (ii); if none is provided, the
coordinates are assumed to refer to the manifold&#8217;s default chart</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">chart2</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>; used only in case (ii) above) chart
on <code class="docutils literal"><span class="pre">codomain</span></code> defining the arrival coordinates involved in
<code class="docutils literal"><span class="pre">coord_functions</span></code> for case (ii); if none is provided, the
coordinates are assumed to refer to the default chart of <code class="docutils literal"><span class="pre">codomain</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">name</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) name given to the diffeomorphism</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">latex_name</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) LaTeX symbol to denote the
diffeomorphism; if none is provided, the LaTeX symbol is set to
<code class="docutils literal"><span class="pre">name</span></code></p>
</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>the diffeomorphism, as an instance of
<a class="reference internal" href="diff_map.html#sage.manifolds.differentiable.diff_map.DiffMap" title="sage.manifolds.differentiable.diff_map.DiffMap"><code class="xref py py-class docutils literal"><span class="pre">DiffMap</span></code></a></li>
</ul>
<p>EXAMPLE:</p>
<p>Diffeomorphism between the open unit disk in <span class="math">\(\RR^2\)</span> and <span class="math">\(\RR^2\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>  <span class="c1"># the open unit disk</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>  <span class="c1"># for doctests only</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">&#39;x:(-1,1) y:(-1,1)&#39;</span><span class="p">)</span>  <span class="c1"># Cartesian coord on M</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.</span><span class="n">add_restrictions</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">)</span>  <span class="c1"># R^2</span>
<span class="gp">sage: </span><span class="n">c_XY</span><span class="o">.&lt;</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>  <span class="c1"># canonical coordinates on R^2</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">diffeomorphism</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">y</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)],</span>
<span class="go">....:                        name=&#39;Phi&#39;, latex_name=r&#39;\Phi&#39;)</span>
<span class="gp">sage: </span><span class="n">Phi</span>
<span class="go">Diffeomorphism Phi from the 2-dimensional differentiable manifold M</span>
<span class="go"> to the 2-dimensional differentiable manifold N</span>
<span class="gp">sage: </span><span class="n">Phi</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi: M --&gt; N</span>
<span class="go">   (x, y) |--&gt; (X, Y) = (x/sqrt(-x^2 - y^2 + 1), y/sqrt(-x^2 - y^2 + 1))</span>
</pre></div>
</div>
<p>The inverse diffeomorphism:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Phi</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Diffeomorphism Phi^(-1) from the 2-dimensional differentiable</span>
<span class="go"> manifold N to the 2-dimensional differentiable manifold M</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">Phi</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">Phi^(-1): N --&gt; M</span>
<span class="go">   (X, Y) |--&gt; (x, y) = (X/sqrt(X^2 + Y^2 + 1), Y/sqrt(X^2 + Y^2 + 1))</span>
</pre></div>
</div>
<p>See the documentation of class
<a class="reference internal" href="diff_map.html#sage.manifolds.differentiable.diff_map.DiffMap" title="sage.manifolds.differentiable.diff_map.DiffMap"><code class="xref py py-class docutils literal"><span class="pre">DiffMap</span></code></a> for more
examples.</p>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.differentiable.manifold.DifferentiableManifold.open_subset">
<code class="descname">open_subset</code><span class="sig-paren">(</span><em>name</em>, <em>latex_name=None</em>, <em>coord_def={}</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.differentiable.manifold.DifferentiableManifold.open_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an open subset of the manifold.</p>
<p>An open subset is a set that is (i) included in the manifold and (ii)
open with respect to the manifold&#8217;s topology. It is a differentiable
manifold by itself. Hence the returned object is an instance of
<a class="reference internal" href="#sage.manifolds.differentiable.manifold.DifferentiableManifold" title="sage.manifolds.differentiable.manifold.DifferentiableManifold"><code class="xref py py-class docutils literal"><span class="pre">DifferentiableManifold</span></code></a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">name</span></code> &#8211; name given to the open subset</li>
<li><code class="docutils literal"><span class="pre">latex_name</span></code> &#8211;  (default: <code class="docutils literal"><span class="pre">None</span></code>) LaTeX symbol to denote the
subset; if none is provided, it is set to <code class="docutils literal"><span class="pre">name</span></code></li>
<li><code class="docutils literal"><span class="pre">coord_def</span></code> &#8211; (default: {}) definition of the subset in
terms of coordinates; <code class="docutils literal"><span class="pre">coord_def</span></code> must a be dictionary with keys
charts in the manifold&#8217;s atlas and values the symbolic expressions
formed by the coordinates to define the subset.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>the open subset, as an instance of <a class="reference internal" href="#sage.manifolds.differentiable.manifold.DifferentiableManifold" title="sage.manifolds.differentiable.manifold.DifferentiableManifold"><code class="xref py py-class docutils literal"><span class="pre">DifferentiableManifold</span></code></a></li>
</ul>
<p>EXAMPLES:</p>
<p>Creating an open subset of a differentiable manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">);</span> <span class="n">A</span>
<span class="go">Open subset A of the 2-dimensional differentiable manifold M</span>
</pre></div>
</div>
<p>As an open subset of a differentiable manifold, <code class="docutils literal"><span class="pre">A</span></code> is itself a
differentiable manifold, on the same topological field and of the same
dimension as <code class="docutils literal"><span class="pre">M</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">category</span><span class="p">()</span>
<span class="go">Join of Category of subobjects of sets and Category of smooth</span>
<span class="go"> manifolds over Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">base_field</span><span class="p">()</span> <span class="o">==</span> <span class="n">M</span><span class="o">.</span><span class="n">base_field</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">dim</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="o">==</span> <span class="n">dim</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Creating an open subset of <code class="docutils literal"><span class="pre">A</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">);</span> <span class="n">B</span>
<span class="go">Open subset B of the 2-dimensional differentiable manifold M</span>
</pre></div>
</div>
<p>We have then:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">list_of_subsets</span><span class="p">()</span>
<span class="go">[Open subset A of the 2-dimensional differentiable manifold M,</span>
<span class="go"> Open subset B of the 2-dimensional differentiable manifold M]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">is_subset</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">is_subset</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Defining an open subset by some coordinate restrictions: the open
unit disk in of the Euclidean plane:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span> <span class="c1"># Cartesian coordinates on M</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="n">coord_def</span><span class="o">=</span><span class="p">{</span><span class="n">X</span><span class="p">:</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">});</span> <span class="n">U</span>
<span class="go">Open subset U of the 2-dimensional differentiable manifold M</span>
</pre></div>
</div>
<p>Since the argument <code class="docutils literal"><span class="pre">coord_def</span></code> has been set, <code class="docutils literal"><span class="pre">U</span></code> is automatically
endowed with a chart, which is the restriction of <code class="docutils literal"><span class="pre">X</span></code>
to <code class="docutils literal"><span class="pre">U</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">atlas</span><span class="p">()</span>
<span class="go">[Chart (U, (x, y))]</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">default_chart</span><span class="p">()</span>
<span class="go">Chart (U, (x, y))</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">default_chart</span><span class="p">()</span> <span class="ow">is</span> <span class="n">X</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">U</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>An point in <code class="docutils literal"><span class="pre">U</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">an_element</span><span class="p">();</span> <span class="n">p</span>
<span class="go">Point on the 2-dimensional differentiable manifold M</span>
<span class="gp">sage: </span><span class="n">X</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>  <span class="c1"># the coordinates (x,y) of p</span>
<span class="go">(0, 0)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="ow">in</span> <span class="n">U</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Checking whether various points, defined by their coordinates w.r.t.
chart <code class="docutils literal"><span class="pre">X</span></code>,  are in <code class="docutils literal"><span class="pre">U</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span> <span class="ow">in</span> <span class="n">U</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="ow">in</span> <span class="n">U</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">M</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="ow">in</span> <span class="n">U</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">M</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span> <span class="ow">in</span> <span class="n">U</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="../../../diff_manifold.html"
                                  title="previous chapter">Differentiable Manifolds</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="chart.html"
                                  title="next chapter">Coordinate Charts on Differentiable Manifolds</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../../_sources/sage/manifolds/differentiable/manifold.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="chart.html" title="Coordinate Charts on Differentiable Manifolds"
             >next</a> |</li>
        <li class="right" >
          <a href="../../../diff_manifold.html" title="Differentiable Manifolds"
             >previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Manifolds</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../../diff_manifold.html" >Differentiable Manifolds</a> &raquo;</li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>