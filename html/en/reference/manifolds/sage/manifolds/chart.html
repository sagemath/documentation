<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Coordinate Charts &mdash; Sage Reference Manual v7.6: Manifolds</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.6: Manifolds" href="../../index.html" />
    <link rel="up" title="Coordinate Charts" href="../../chart.html" />
    <link rel="next" title="Coordinate Functions" href="coord_func.html" />
    <link rel="prev" title="Coordinate Charts" href="../../chart.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="coord_func.html" title="Coordinate Functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../../chart.html" title="Coordinate Charts"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Manifolds</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../manifold.html" >Topological Manifolds</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../../chart.html" accesskey="U">Coordinate Charts</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="coordinate-charts">
<span id="sage-manifolds-chart"></span><h1>Coordinate Charts<a class="headerlink" href="#coordinate-charts" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.manifolds.chart"></span><p>The class <a class="reference internal" href="#sage.manifolds.chart.Chart" title="sage.manifolds.chart.Chart"><code class="xref py py-class docutils literal"><span class="pre">Chart</span></code></a> implements coordinate charts on a topological
manifold over a topological field <span class="math">\(K\)</span>. The subclass <a class="reference internal" href="#sage.manifolds.chart.RealChart" title="sage.manifolds.chart.RealChart"><code class="xref py py-class docutils literal"><span class="pre">RealChart</span></code></a>
is devoted to the case <span class="math">\(K=\RR\)</span>, for which the concept of coordinate
range is meaningful.
Moreover, <a class="reference internal" href="#sage.manifolds.chart.RealChart" title="sage.manifolds.chart.RealChart"><code class="xref py py-class docutils literal"><span class="pre">RealChart</span></code></a> is endowed with some plotting
capabilities (cf. method <a class="reference internal" href="#sage.manifolds.chart.RealChart.plot" title="sage.manifolds.chart.RealChart.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a>).</p>
<p>Transition maps between charts are implemented via the class
<a class="reference internal" href="#sage.manifolds.chart.CoordChange" title="sage.manifolds.chart.CoordChange"><code class="xref py py-class docutils literal"><span class="pre">CoordChange</span></code></a>.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>Eric Gourgoulhon, Michal Bejger (2013-2015) : initial version</li>
<li>Travis Scrimshaw (2015): review tweaks</li>
</ul>
<p>REFERENCES:</p>
<ul class="simple">
<li>Chap. 2 of <a class="reference internal" href="../../../references/index.html#lee2011" id="id1">[Lee2011]</a></li>
<li>Chap. 1 of <a class="reference internal" href="../../../references/index.html#lee2013" id="id2">[Lee2013]</a></li>
</ul>
<dl class="class">
<dt id="sage.manifolds.chart.Chart">
<em class="property">class </em><code class="descclassname">sage.manifolds.chart.</code><code class="descname">Chart</code><span class="sig-paren">(</span><em>domain</em>, <em>coordinates=''</em>, <em>names=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/unique_representation.html#sage.structure.unique_representation.UniqueRepresentation" title="(in Sage Reference Manual: Basic Structures v7.6)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.unique_representation.UniqueRepresentation</span></code></a>, <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage Reference Manual: Basic Structures v7.6)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.sage_object.SageObject</span></code></a></p>
<p>Chart on a topological manifold.</p>
<p>Given a topological manifold <span class="math">\(M\)</span> of dimension <span class="math">\(n\)</span> over a topological
field <span class="math">\(K\)</span>, a <em>chart</em> on <span class="math">\(M\)</span> is a pair <span class="math">\((U, \varphi)\)</span>, where <span class="math">\(U\)</span> is an
open subset of <span class="math">\(M\)</span> and <span class="math">\(\varphi : U \rightarrow V \subset K^n\)</span> is a
homeomorphism from <span class="math">\(U\)</span> to an open subset <span class="math">\(V\)</span> of <span class="math">\(K^n\)</span>.</p>
<p>The components <span class="math">\((x^1, \ldots, x^n)\)</span> of <span class="math">\(\varphi\)</span>, defined by
<span class="math">\(\varphi(p) = (x^1(p), \ldots, x^n(p)) \in K^n\)</span> for any point
<span class="math">\(p \in U\)</span>, are called the <em>coordinates</em> of the chart <span class="math">\((U, \varphi)\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">domain</span></code> &#8211; open subset <span class="math">\(U\)</span> on which the chart is defined (must be
an instance of <a class="reference internal" href="manifold.html#sage.manifolds.manifold.TopologicalManifold" title="sage.manifolds.manifold.TopologicalManifold"><code class="xref py py-class docutils literal"><span class="pre">TopologicalManifold</span></code></a>)</li>
<li><code class="docutils literal"><span class="pre">coordinates</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">''</span></code> (empty string)) the string
defining the coordinate symbols, see below</li>
<li><code class="docutils literal"><span class="pre">names</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) unused argument, except if
<code class="docutils literal"><span class="pre">coordinates</span></code> is not provided; it must then be a tuple containing
the coordinate symbols (this is guaranteed if the shortcut operator
<code class="docutils literal"><span class="pre">&lt;,&gt;</span></code> is used)</li>
</ul>
<p>The string <code class="docutils literal"><span class="pre">coordinates</span></code> has the space <code class="docutils literal"><span class="pre">'</span> <span class="pre">'</span></code> as a separator and each
item has at most two fields, separated by a colon (<code class="docutils literal"><span class="pre">:</span></code>):</p>
<ol class="arabic simple">
<li>the coordinate symbol (a letter or a few letters);</li>
<li>(optional) the LaTeX spelling of the coordinate, if not provided the
coordinate symbol given in the first field will be used.</li>
</ol>
<p>If it contains any LaTeX expression, the string <code class="docutils literal"><span class="pre">coordinates</span></code> must be
declared with the prefix &#8216;r&#8217; (for &#8220;raw&#8221;) to allow for a proper treatment
of LaTeX&#8217;s backslash character (see examples below).
If no LaTeX spelling is to be set for any coordinate, the argument
<code class="docutils literal"><span class="pre">coordinates</span></code> can be omitted when the shortcut operator <code class="docutils literal"><span class="pre">&lt;,&gt;</span></code> is
used via Sage preparser (see examples below).</p>
<p>EXAMPLES:</p>
<p>A chart on a complex 2-dimensional topological manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;complex&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">&#39;x y&#39;</span><span class="p">);</span> <span class="n">X</span>
<span class="go">Chart (M, (x, y))</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="go">\left(M,(x, y)\right)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.manifolds.chart.Chart&#39;&gt;</span>
</pre></div>
</div>
<p>To manipulate the coordinates <span class="math">\((x,y)\)</span> as global variables,
one has to set:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:]</span>
</pre></div>
</div>
<p>However, a shortcut is to use the declarator <code class="docutils literal"><span class="pre">&lt;x,y&gt;</span></code> in the left-hand
side of the chart declaration (there is then no need to pass the string
<code class="docutils literal"><span class="pre">'x</span> <span class="pre">y'</span></code> to <code class="docutils literal"><span class="pre">chart()</span></code>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;complex&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">();</span> <span class="n">X</span>
<span class="go">Chart (M, (x, y))</span>
</pre></div>
</div>
<p>The coordinates are then immediately accessible:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="ow">is</span> <span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">y</span> <span class="ow">is</span> <span class="n">X</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal"><span class="pre">x</span></code> and <code class="docutils literal"><span class="pre">y</span></code> declared in <code class="docutils literal"><span class="pre">&lt;x,y&gt;</span></code> are mere Python variable
names and do not have to coincide with the coordinate symbols;
for instance, one may write:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;complex&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">&#39;x y&#39;</span><span class="p">);</span> <span class="n">X</span>
<span class="go">Chart (M, (x, y))</span>
</pre></div>
</div>
<p>Then <code class="docutils literal"><span class="pre">y</span></code> is not known as a global Python variable and the
coordinate <span class="math">\(y\)</span> is accessible only through the global variable <code class="docutils literal"><span class="pre">y1</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y1</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">y1</span><span class="p">)</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="n">y1</span> <span class="ow">is</span> <span class="n">X</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>However, having the name of the Python variable coincide with the
coordinate symbol is quite convenient; so it is recommended to declare:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;complex&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
</pre></div>
</div>
<p>In the above example, the chart X covers entirely the manifold <code class="docutils literal"><span class="pre">M</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">domain</span><span class="p">()</span>
<span class="go">Complex 2-dimensional topological manifold M</span>
</pre></div>
</div>
<p>Of course, one may declare a chart only on an open subset of <code class="docutils literal"><span class="pre">M</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">z1</span><span class="p">,</span> <span class="n">z2</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">r&#39;z1:\zeta_1 z2:\zeta_2&#39;</span><span class="p">);</span> <span class="n">Y</span>
<span class="go">Chart (U, (z1, z2))</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.</span><span class="n">domain</span><span class="p">()</span>
<span class="go">Open subset U of the Complex 2-dimensional topological manifold M</span>
</pre></div>
</div>
<p>In the above declaration, we have also specified some LaTeX writing
of the coordinates different from the text one:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">z1</span><span class="p">)</span>
<span class="go">{\zeta_1}</span>
</pre></div>
</div>
<p>Note the prefix <code class="docutils literal"><span class="pre">r</span></code> in front of the string <code class="docutils literal"><span class="pre">r'z1:\zeta_1</span> <span class="pre">z2:\zeta_2'</span></code>;
it makes sure that the backslash character is treated as an ordinary
character, to be passed to the LaTeX interpreter.</p>
<p>Coordinates are Sage symbolic variables (see
<a class="reference external" href="../../../calculus/sage/symbolic/expression.html#module-sage.symbolic.expression" title="(in Sage Reference Manual: Symbolic Calculus v7.6)"><code class="xref py py-mod docutils literal"><span class="pre">sage.symbolic.expression</span></code></a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">z1</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.symbolic.expression.Expression&#39;&gt;</span>
</pre></div>
</div>
<p>In addition to the Python variable name provided in the operator <code class="docutils literal"><span class="pre">&lt;.,.&gt;</span></code>,
the coordinates are accessible by their indices:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Y</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Y</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">(z1, z2)</span>
</pre></div>
</div>
<p>The index range is that declared during the creation of the manifold. By
default, it starts at 0, but this can be changed via the parameter
<code class="docutils literal"><span class="pre">start_index</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M_1&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;complex&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">,</span>
<span class="go">....:               start_index=1)</span>
<span class="gp">sage: </span><span class="n">Z</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M1</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Z</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Z</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">(u, v)</span>
</pre></div>
</div>
<p>The full set of coordinates is obtained by means of the slice
operator <code class="docutils literal"><span class="pre">[:]</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Y</span><span class="p">[:]</span>
<span class="go">(z1, z2)</span>
</pre></div>
</div>
<p>Some partial sets of coordinates:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Y</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span>
<span class="go">(z1,)</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="go">(z2,)</span>
</pre></div>
</div>
<p>Each constructed chart is automatically added to the manifold&#8217;s user
atlas:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">atlas</span><span class="p">()</span>
<span class="go">[Chart (M, (x, y)), Chart (U, (z1, z2))]</span>
</pre></div>
</div>
<p>and to the atlas of the chart&#8217;s domain:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">atlas</span><span class="p">()</span>
<span class="go">[Chart (U, (z1, z2))]</span>
</pre></div>
</div>
<p>Manifold subsets have a <em>default chart</em>, which, unless changed via the
method
<a class="reference internal" href="manifold.html#sage.manifolds.manifold.TopologicalManifold.set_default_chart" title="sage.manifolds.manifold.TopologicalManifold.set_default_chart"><code class="xref py py-meth docutils literal"><span class="pre">set_default_chart()</span></code></a>,
is the first defined chart on the subset (or on a open subset of it):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">default_chart</span><span class="p">()</span>
<span class="go">Chart (M, (x, y))</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">default_chart</span><span class="p">()</span>
<span class="go">Chart (U, (z1, z2))</span>
</pre></div>
</div>
<p>The default charts are not privileged charts on the manifold, but rather
charts whose name can be skipped in the argument list of functions having
an optional <code class="docutils literal"><span class="pre">chart=</span></code> argument.</p>
<p>The chart map <span class="math">\(\varphi\)</span> acting on a point is obtained by passing
it as an input to the map:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">chart</span><span class="o">=</span><span class="n">X</span><span class="p">);</span> <span class="n">p</span>
<span class="go">Point on the Complex 2-dimensional topological manifold M</span>
<span class="gp">sage: </span><span class="n">X</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">(I + 1, 2)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">==</span> <span class="n">p</span><span class="o">.</span><span class="n">coord</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.manifolds.chart.RealChart" title="sage.manifolds.chart.RealChart"><code class="xref py py-class docutils literal"><span class="pre">sage.manifolds.chart.RealChart</span></code></a> for charts on topological
manifolds over <span class="math">\(\RR\)</span>.</p>
</div>
<dl class="method">
<dt id="sage.manifolds.chart.Chart.add_restrictions">
<code class="descname">add_restrictions</code><span class="sig-paren">(</span><em>restrictions</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart.add_restrictions" title="Permalink to this definition">¶</a></dt>
<dd><p>Add some restrictions on the coordinates.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">restrictions</span></code> &#8211; list of restrictions on the
coordinates, in addition to the ranges declared by the intervals
specified in the chart constructor</li>
</ul>
<p>A restriction can be any symbolic equality or inequality involving
the coordinates, such as <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code> or <code class="docutils literal"><span class="pre">x^2</span> <span class="pre">+</span> <span class="pre">y^2</span> <span class="pre">!=</span> <span class="pre">0</span></code>. The items
of the list <code class="docutils literal"><span class="pre">restrictions</span></code> are combined with the <code class="docutils literal"><span class="pre">and</span></code> operator;
if some restrictions are to be combined with the <code class="docutils literal"><span class="pre">or</span></code> operator
instead, they have to be passed as a tuple in some single item
of the list <code class="docutils literal"><span class="pre">restrictions</span></code>. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">restrictions</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">),</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<p>means <code class="docutils literal"><span class="pre">(x</span> <span class="pre">&gt;</span> <span class="pre">y)</span> <span class="pre">and</span> <span class="pre">((x</span> <span class="pre">!=</span> <span class="pre">0)</span> <span class="pre">or</span> <span class="pre">(y</span> <span class="pre">!=</span> <span class="pre">0))</span> <span class="pre">and</span> <span class="pre">(z^2</span> <span class="pre">&lt;</span> <span class="pre">x)</span></code>.
If the list <code class="docutils literal"><span class="pre">restrictions</span></code> contains only one item, this
item can be passed as such, i.e. writing <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code> instead
of the single element list <code class="docutils literal"><span class="pre">[x</span> <span class="pre">&gt;</span> <span class="pre">y]</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;complex&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">add_restrictions</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.Chart.domain">
<code class="descname">domain</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart.domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the open subset on which the chart is defined.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">domain</span><span class="p">()</span>
<span class="go">2-dimensional topological manifold M</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.</span><span class="n">domain</span><span class="p">()</span>
<span class="go">Open subset U of the 2-dimensional topological manifold M</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.Chart.function">
<code class="descname">function</code><span class="sig-paren">(</span><em>expression</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart.function" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a coordinate function to the base field.</p>
<p>If the current chart belongs to the atlas of a <span class="math">\(n\)</span>-dimensional manifold
over a topological field <span class="math">\(K\)</span>, a <em>coordinate function</em> is a map</p>
<div class="math">
\[\begin{split}\begin{array}{cccc}
    f:&amp;  V\subset K^n &amp; \longrightarrow &amp; K \\
      &amp;  (x^1,\ldots, x^n) &amp; \longmapsto &amp; f(x^1,\ldots, x^n),
\end{array}\end{split}\]</div>
<p>where <span class="math">\(V\)</span> is the chart codomain and <span class="math">\((x^1, \ldots, x^n)\)</span> are the
chart coordinates.</p>
<p>The coordinate function can be either a symbolic one or a numerical
one, depending on the parameter <code class="docutils literal"><span class="pre">expression</span></code> (see below).</p>
<p>See <a class="reference internal" href="coord_func.html#sage.manifolds.coord_func.CoordFunction" title="sage.manifolds.coord_func.CoordFunction"><code class="xref py py-class docutils literal"><span class="pre">CoordFunction</span></code></a>
and <a class="reference internal" href="coord_func_symb.html#sage.manifolds.coord_func_symb.CoordFunctionSymb" title="sage.manifolds.coord_func_symb.CoordFunctionSymb"><code class="xref py py-class docutils literal"><span class="pre">CoordFunctionSymb</span></code></a>
for a complete documentation.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expression</span></code> &#8211; material defining the coordinate function; it can
be either:<ul>
<li>a symbolic expression involving the chart coordinates, to represent
<span class="math">\(f(x^1,\ldots, x^n)\)</span></li>
<li>a string representing the name of a file where the data
to construct a numerical coordinate function is stored</li>
</ul>
</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>instance of a subclass of the base class
<a class="reference internal" href="coord_func.html#sage.manifolds.coord_func.CoordFunction" title="sage.manifolds.coord_func.CoordFunction"><code class="xref py py-class docutils literal"><span class="pre">CoordFunction</span></code></a>
representing the coordinate function <span class="math">\(f\)</span>; this is
<a class="reference internal" href="coord_func_symb.html#sage.manifolds.coord_func_symb.CoordFunctionSymb" title="sage.manifolds.coord_func_symb.CoordFunctionSymb"><code class="xref py py-class docutils literal"><span class="pre">CoordFunctionSymb</span></code></a> if
if  <code class="docutils literal"><span class="pre">expression</span></code> is a symbolic expression.</li>
</ul>
<p>EXAMPLES:</p>
<p>A symbolic coordinate function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">sin(x*y)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.manifolds.coord_func_symb.CoordFunctionSymbRing_with_category.element_class&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">(x, y) |--&gt; sin(x*y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">sin(6)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.Chart.function_ring">
<code class="descname">function_ring</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart.function_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ring of coordinate functions on <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">function_ring</span><span class="p">()</span>
<span class="go">Ring of coordinate functions on Chart (M, (x, y))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.Chart.manifold">
<code class="descname">manifold</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart.manifold" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the manifold on which the chart is defined.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">manifold</span><span class="p">()</span>
<span class="go">2-dimensional topological manifold M</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">domain</span><span class="p">()</span>
<span class="go">Open subset U of the 2-dimensional topological manifold M</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.Chart.multifunction">
<code class="descname">multifunction</code><span class="sig-paren">(</span><em>*expressions</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart.multifunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a coordinate function to some Cartesian power of the base field.</p>
<p>If <span class="math">\(n\)</span> and <span class="math">\(m\)</span> are two positive integers and <span class="math">\((U, \varphi)\)</span> is a
chart on a topological manifold <span class="math">\(M\)</span> of dimension <span class="math">\(n\)</span> over a
topological field <span class="math">\(K\)</span>, a <em>multi-coordinate function</em> associated
to <span class="math">\((U,\varphi)\)</span> is a map</p>
<div class="math">
\[\begin{split}\begin{array}{llcl}
f:&amp; V \subset K^n &amp; \longrightarrow &amp; K^m \\
  &amp; (x^1, \ldots, x^n) &amp; \longmapsto &amp; (f_1(x^1, \ldots, x^n),
    \ldots, f_m(x^1, \ldots, x^n)),
\end{array}\end{split}\]</div>
<p>where <span class="math">\(V\)</span> is the codomain of <span class="math">\(\varphi\)</span>. In other words, <span class="math">\(f\)</span> is a
<span class="math">\(K^m\)</span>-valued function of the coordinates associated to the chart
<span class="math">\((U, \varphi)\)</span>.</p>
<p>See <a class="reference internal" href="coord_func.html#sage.manifolds.coord_func.MultiCoordFunction" title="sage.manifolds.coord_func.MultiCoordFunction"><code class="xref py py-class docutils literal"><span class="pre">MultiCoordFunction</span></code></a> for a
complete documentation.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expressions</span></code> &#8211; list (or tuple) of <span class="math">\(m\)</span> elements to construct the
coordinate functions <span class="math">\(f_i\)</span> (<span class="math">\(1\leq i \leq m\)</span>); for
symbolic coordinate functions, this must be symbolic expressions
involving the chart coordinates, while for numerical coordinate
functions, this must be data file names</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a <a class="reference internal" href="coord_func.html#sage.manifolds.coord_func.MultiCoordFunction" title="sage.manifolds.coord_func.MultiCoordFunction"><code class="xref py py-class docutils literal"><span class="pre">MultiCoordFunction</span></code></a>
representing <span class="math">\(f\)</span></li>
</ul>
<p>EXAMPLES:</p>
<p>Function of two coordinates with values in <span class="math">\(\RR^3\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">multifunction</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">),</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">y</span><span class="p">);</span> <span class="n">f</span>
<span class="go">Coordinate functions (x + y, sin(x*y), x^2 + 3*y) on the Chart (M, (x, y))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">(5, sin(6), 13)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.Chart.one_function">
<code class="descname">one_function</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart.one_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the constant function of the coordinates equal to one.</p>
<p>If the current chart belongs to the atlas of a <span class="math">\(n\)</span>-dimensional manifold
over a topological field <span class="math">\(K\)</span>, the &#8220;one&#8221; coordinate function is the map</p>
<div class="math">
\[\begin{split}\begin{array}{cccc}
    f:&amp;  V\subset K^n &amp; \longrightarrow &amp; K \\
      &amp;  (x^1,\ldots, x^n) &amp; \longmapsto &amp; 1,
\end{array}\end{split}\]</div>
<p>where <span class="math">\(V\)</span> is the chart codomain.</p>
<p>See class <a class="reference internal" href="coord_func_symb.html#sage.manifolds.coord_func_symb.CoordFunctionSymb" title="sage.manifolds.coord_func_symb.CoordFunctionSymb"><code class="xref py py-class docutils literal"><span class="pre">CoordFunctionSymb</span></code></a>
for a complete documentation.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>a <a class="reference internal" href="coord_func_symb.html#sage.manifolds.coord_func_symb.CoordFunctionSymb" title="sage.manifolds.coord_func_symb.CoordFunctionSymb"><code class="xref py py-class docutils literal"><span class="pre">CoordFunctionSymb</span></code></a>
representing the one coordinate function <span class="math">\(f\)</span></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">one_function</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">one_function</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">(x, y) |--&gt; 1</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">one_function</span><span class="p">())</span>
<span class="go">&lt;class &#39;sage.manifolds.coord_func_symb.CoordFunctionSymbRing_with_category.element_class&#39;&gt;</span>
</pre></div>
</div>
<p>The result is cached:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">one_function</span><span class="p">()</span> <span class="ow">is</span> <span class="n">X</span><span class="o">.</span><span class="n">one_function</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>One function on a p-adic manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span> <span class="n">M</span>
<span class="go">2-dimensional topological manifold M over the 5-adic Field with</span>
<span class="go"> capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">one_function</span><span class="p">()</span>
<span class="go">1 + O(5^20)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">one_function</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">(x, y) |--&gt; 1 + O(5^20)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.Chart.restrict">
<code class="descname">restrict</code><span class="sig-paren">(</span><em>subset</em>, <em>restrictions=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart.restrict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the restriction of <code class="docutils literal"><span class="pre">self</span></code> to some open subset of its domain.</p>
<p>If the current chart is <span class="math">\((U,\varphi)\)</span>, a <em>restriction</em> (or <em>subchart</em>)
is a chart <span class="math">\((V,\psi)\)</span> such that <span class="math">\(V\subset U\)</span> and <span class="math">\(\psi = \varphi |_V\)</span>.</p>
<p>If such subchart has not been defined yet, it is constructed here.</p>
<p>The coordinates of the subchart bare the same names as the coordinates
of the current chart.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">subset</span></code> &#8211; open subset <span class="math">\(V\)</span> of the chart domain <span class="math">\(U\)</span> (must be an
instance of <a class="reference internal" href="manifold.html#sage.manifolds.manifold.TopologicalManifold" title="sage.manifolds.manifold.TopologicalManifold"><code class="xref py py-class docutils literal"><span class="pre">TopologicalManifold</span></code></a>)</li>
<li><code class="docutils literal"><span class="pre">restrictions</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) list of coordinate
restrictions defining the subset <span class="math">\(V\)</span></li>
</ul>
<p>A restriction can be any symbolic equality or inequality involving
the coordinates, such as <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code> or <code class="docutils literal"><span class="pre">x^2</span> <span class="pre">+</span> <span class="pre">y^2</span> <span class="pre">!=</span> <span class="pre">0</span></code>. The items
of the list <code class="docutils literal"><span class="pre">restrictions</span></code> are combined with the <code class="docutils literal"><span class="pre">and</span></code> operator;
if some restrictions are to be combined with the <code class="docutils literal"><span class="pre">or</span></code> operator
instead, they have to be passed as a tuple in some single item
of the list <code class="docutils literal"><span class="pre">restrictions</span></code>. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">restrictions</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">),</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<p>means <code class="docutils literal"><span class="pre">(x</span> <span class="pre">&gt;</span> <span class="pre">y)</span> <span class="pre">and</span> <span class="pre">((x</span> <span class="pre">!=</span> <span class="pre">0)</span> <span class="pre">or</span> <span class="pre">(y</span> <span class="pre">!=</span> <span class="pre">0))</span> <span class="pre">and</span> <span class="pre">(z^2</span> <span class="pre">&lt;</span> <span class="pre">x)</span></code>.
If the list <code class="docutils literal"><span class="pre">restrictions</span></code> contains only one item, this
item can be passed as such, i.e. writing <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code> instead
of the single element list <code class="docutils literal"><span class="pre">[x</span> <span class="pre">&gt;</span> <span class="pre">y]</span></code>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>chart <span class="math">\((V, \psi)\)</span> as a <a class="reference internal" href="#sage.manifolds.chart.Chart" title="sage.manifolds.chart.Chart"><code class="xref py py-class docutils literal"><span class="pre">Chart</span></code></a></li>
</ul>
<p>EXAMPLES:</p>
<p>Coordinates on the unit open ball of  <span class="math">\(\CC^2\)</span> as a subchart
of the global coordinates of <span class="math">\(\CC^2\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;C^2&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;complex&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">z1</span><span class="p">,</span> <span class="n">z2</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X_B</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="nb">abs</span><span class="p">(</span><span class="n">z1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">z2</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">);</span> <span class="n">X_B</span>
<span class="go">Chart (B, (z1, z2))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.Chart.transition_map">
<code class="descname">transition_map</code><span class="sig-paren">(</span><em>other</em>, <em>transformations</em>, <em>intersection_name=None</em>, <em>restrictions1=None</em>, <em>restrictions2=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart.transition_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the transition map between the current chart,
<span class="math">\((U, \varphi)\)</span> say, and another one, <span class="math">\((V, \psi)\)</span> say.</p>
<p>If <span class="math">\(n\)</span> is the manifold&#8217;s dimension, the <em>transition map</em>
is the map</p>
<div class="math">
\[\psi\circ\varphi^{-1}: \varphi(U\cap V) \subset K^n
\rightarrow \psi(U\cap V) \subset K^n,\]</div>
<p>where <span class="math">\(K\)</span> is the manifold&#8217;s base field. In other words, the
transition map expresses the coordinates <span class="math">\((y^1, \ldots, y^n)\)</span> of
<span class="math">\((V, \psi)\)</span> in terms of the coordinates <span class="math">\((x^1, \ldots, x^n)\)</span> of
<span class="math">\((U, \varphi)\)</span> on the open subset where the two charts intersect,
i.e. on <span class="math">\(U \cap V\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">other</span></code> &#8211; the chart <span class="math">\((V, \psi)\)</span></li>
<li><code class="docutils literal"><span class="pre">transformations</span></code> &#8211; tuple (or list) <span class="math">\((Y_1, \ldots, Y_n)\)</span>, where
<span class="math">\(Y_i\)</span> is the symbolic expression of the coordinate <span class="math">\(y^i\)</span> in terms
of the coordinates <span class="math">\((x^1, \ldots, x^n)\)</span></li>
<li><code class="docutils literal"><span class="pre">intersection_name</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) name to be given to the
subset <span class="math">\(U \cap V\)</span> if the latter differs from <span class="math">\(U\)</span> or <span class="math">\(V\)</span></li>
<li><code class="docutils literal"><span class="pre">restrictions1</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) list of conditions on the
coordinates of the current chart that define <span class="math">\(U \cap V\)</span> if the
latter differs from <span class="math">\(U\)</span></li>
<li><code class="docutils literal"><span class="pre">restrictions2</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) list of conditions on the
coordinates of the chart <span class="math">\((V,\psi)\)</span> that define <span class="math">\(U \cap V\)</span> if the
latter differs from <span class="math">\(V\)</span></li>
</ul>
<p>A restriction can be any symbolic equality or inequality involving
the coordinates, such as <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code> or <code class="docutils literal"><span class="pre">x^2</span> <span class="pre">+</span> <span class="pre">y^2</span> <span class="pre">!=</span> <span class="pre">0</span></code>. The items
of the list <code class="docutils literal"><span class="pre">restrictions</span></code> are combined with the <code class="docutils literal"><span class="pre">and</span></code> operator;
if some restrictions are to be combined with the <code class="docutils literal"><span class="pre">or</span></code> operator
instead, they have to be passed as a tuple in some single item
of the list <code class="docutils literal"><span class="pre">restrictions</span></code>. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">restrictions</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">),</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<p>means <code class="docutils literal"><span class="pre">(x</span> <span class="pre">&gt;</span> <span class="pre">y)</span> <span class="pre">and</span> <span class="pre">((x</span> <span class="pre">!=</span> <span class="pre">0)</span> <span class="pre">or</span> <span class="pre">(y</span> <span class="pre">!=</span> <span class="pre">0))</span> <span class="pre">and</span> <span class="pre">(z^2</span> <span class="pre">&lt;</span> <span class="pre">x)</span></code>.
If the list <code class="docutils literal"><span class="pre">restrictions</span></code> contains only one item, this
item can be passed as such, i.e. writing <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code> instead
of the single element list <code class="docutils literal"><span class="pre">[x</span> <span class="pre">&gt;</span> <span class="pre">y]</span></code>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>the transition map <span class="math">\(\psi \circ \varphi^{-1}\)</span> defined on
<span class="math">\(U \cap V\)</span> as a <a class="reference internal" href="#sage.manifolds.chart.CoordChange" title="sage.manifolds.chart.CoordChange"><code class="xref py py-class docutils literal"><span class="pre">CoordChange</span></code></a></li>
</ul>
<p>EXAMPLES:</p>
<p>Transition map between two stereographic charts on the circle <span class="math">\(S^1\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;S^1&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span> <span class="c1"># Complement of the North pole</span>
<span class="gp">sage: </span><span class="n">cU</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span> <span class="c1"># Stereographic chart from the North pole</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;V&#39;</span><span class="p">)</span> <span class="c1"># Complement of the South pole</span>
<span class="gp">sage: </span><span class="n">cV</span><span class="o">.&lt;</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span> <span class="c1"># Stereographic chart from the South pole</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">declare_union</span><span class="p">(</span><span class="n">U</span><span class="p">,</span><span class="n">V</span><span class="p">)</span>   <span class="c1"># S^1 is the union of U and V</span>
<span class="gp">sage: </span><span class="n">trans</span> <span class="o">=</span> <span class="n">cU</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">cV</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="n">intersection_name</span><span class="o">=</span><span class="s1">&#39;W&#39;</span><span class="p">,</span>
<span class="go">....:                           restrictions1= x!=0, restrictions2 = y!=0)</span>
<span class="gp">sage: </span><span class="n">trans</span>
<span class="go">Change of coordinates from Chart (W, (x,)) to Chart (W, (y,))</span>
<span class="gp">sage: </span><span class="n">trans</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">y = 1/x</span>
</pre></div>
</div>
<p>The subset <span class="math">\(W\)</span>, intersection of <span class="math">\(U\)</span> and <span class="math">\(V\)</span>, has been created by
<code class="docutils literal"><span class="pre">transition_map()</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">list_of_subsets</span><span class="p">()</span>
<span class="go">[1-dimensional topological manifold S^1,</span>
<span class="go"> Open subset U of the 1-dimensional topological manifold S^1,</span>
<span class="go"> Open subset V of the 1-dimensional topological manifold S^1,</span>
<span class="go"> Open subset W of the 1-dimensional topological manifold S^1]</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">list_of_subsets</span><span class="p">()[</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="ow">is</span> <span class="n">U</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">atlas</span><span class="p">()</span>
<span class="go">[Chart (U, (x,)), Chart (V, (y,)), Chart (W, (x,)), Chart (W, (y,))]</span>
</pre></div>
</div>
<p>Transition map between the spherical chart and the Cartesian
one on <span class="math">\(\RR^2\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;R^2&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span> <span class="c1"># the complement of the half line {y=0, x &gt;= 0}</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="o">.&lt;</span><span class="n">r</span><span class="p">,</span><span class="n">phi</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">r&#39;r:(0,+oo) phi:(0,2*pi):\phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">trans</span> <span class="o">=</span> <span class="n">c_spher</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">c_cart</span><span class="p">,</span> <span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">phi</span><span class="p">),</span> <span class="n">r</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">phi</span><span class="p">)),</span>
<span class="go">....:                                restrictions2=(y!=0, x&lt;0))</span>
<span class="gp">sage: </span><span class="n">trans</span>
<span class="go">Change of coordinates from Chart (U, (r, phi)) to Chart (U, (x, y))</span>
<span class="gp">sage: </span><span class="n">trans</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">x = r*cos(phi)</span>
<span class="go">y = r*sin(phi)</span>
</pre></div>
</div>
<p>In this case, no new subset has been created since <span class="math">\(U \cap M = U\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">list_of_subsets</span><span class="p">()</span>
<span class="go">[2-dimensional topological manifold R^2,</span>
<span class="go"> Open subset U of the 2-dimensional topological manifold R^2]</span>
</pre></div>
</div>
<p>but a new chart has been created: <span class="math">\((U, (x, y))\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">atlas</span><span class="p">()</span>
<span class="go">[Chart (R^2, (x, y)), Chart (U, (r, phi)), Chart (U, (x, y))]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.Chart.valid_coordinates">
<code class="descname">valid_coordinates</code><span class="sig-paren">(</span><em>*coordinates</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart.valid_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a tuple of coordinates can be the coordinates of a
point in the chart domain.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">*coordinates</span></code> &#8211; coordinate values</li>
<li><code class="docutils literal"><span class="pre">**kwds</span></code> &#8211; options:<ul>
<li><code class="docutils literal"><span class="pre">parameters=None</span></code>, dictionary to set numerical values to
some parameters (see example below)</li>
</ul>
</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">True</span></code> if the coordinate values are admissible in the chart
image, <code class="docutils literal"><span class="pre">False</span></code> otherwise</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;complex&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">add_restrictions</span><span class="p">([</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">!=</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Example of use with the keyword <code class="docutils literal"><span class="pre">parameters</span></code> to set a specific value
to a parameter appearing in the coordinate restrictions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>  <span class="c1"># the parameter is a symbolic variable</span>
<span class="go">a</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.</span><span class="n">add_restrictions</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">&lt;</span><span class="n">a</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>  <span class="c1"># setting a=2</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="n">a</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.Chart.zero_function">
<code class="descname">zero_function</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.Chart.zero_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the zero function of the coordinates.</p>
<p>If the current chart belongs to the atlas of a <span class="math">\(n\)</span>-dimensional manifold
over a topological field <span class="math">\(K\)</span>, the zero coordinate function is the map</p>
<div class="math">
\[\begin{split}\begin{array}{cccc}
    f:&amp;  V\subset K^n &amp; \longrightarrow &amp; K \\
      &amp;  (x^1,\ldots, x^n) &amp; \longmapsto &amp; 0,
\end{array}\end{split}\]</div>
<p>where <span class="math">\(V\)</span> is the chart codomain.</p>
<p>See class <a class="reference internal" href="coord_func_symb.html#sage.manifolds.coord_func_symb.CoordFunctionSymb" title="sage.manifolds.coord_func_symb.CoordFunctionSymb"><code class="xref py py-class docutils literal"><span class="pre">CoordFunctionSymb</span></code></a>
for a complete documentation.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>a <a class="reference internal" href="coord_func_symb.html#sage.manifolds.coord_func_symb.CoordFunctionSymb" title="sage.manifolds.coord_func_symb.CoordFunctionSymb"><code class="xref py py-class docutils literal"><span class="pre">CoordFunctionSymb</span></code></a>
representing the zero coordinate function <span class="math">\(f\)</span></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">zero_function</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">zero_function</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">(x, y) |--&gt; 0</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">zero_function</span><span class="p">())</span>
<span class="go">&lt;class &#39;sage.manifolds.coord_func_symb.CoordFunctionSymbRing_with_category.element_class&#39;&gt;</span>
</pre></div>
</div>
<p>The result is cached:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">zero_function</span><span class="p">()</span> <span class="ow">is</span> <span class="n">X</span><span class="o">.</span><span class="n">zero_function</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Zero function on a p-adic manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">=</span><span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span> <span class="n">M</span>
<span class="go">2-dimensional topological manifold M over the 5-adic Field with</span>
<span class="go"> capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">zero_function</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">zero_function</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">(x, y) |--&gt; 0</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.manifolds.chart.CoordChange">
<em class="property">class </em><code class="descclassname">sage.manifolds.chart.</code><code class="descname">CoordChange</code><span class="sig-paren">(</span><em>chart1</em>, <em>chart2</em>, <em>*transformations</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.CoordChange" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage Reference Manual: Basic Structures v7.6)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.sage_object.SageObject</span></code></a></p>
<p>Transition map between two charts of a topological manifold.</p>
<p>Giving two coordinate charts <span class="math">\((U, \varphi)\)</span> and <span class="math">\((V, \psi)\)</span> on a
topological manifold <span class="math">\(M\)</span> of dimension <span class="math">\(n\)</span> over a topological field <span class="math">\(K\)</span>,
the <em>transition map from</em> <span class="math">\((U, \varphi)\)</span> <em>to</em> <span class="math">\((V, \psi)\)</span> is the map</p>
<div class="math">
\[\psi\circ\varphi^{-1}: \varphi(U\cap V) \subset K^n
\rightarrow \psi(U\cap V) \subset K^n.\]</div>
<p>In other words, the transition map <span class="math">\(\psi \circ \varphi^{-1}\)</span> expresses
the coordinates <span class="math">\((y^1, \ldots, y^n)\)</span> of <span class="math">\((V, \psi)\)</span> in terms of the
coordinates <span class="math">\((x^1, \ldots, x^n)\)</span> of <span class="math">\((U, \varphi)\)</span> on the open subset
where the two charts intersect, i.e. on <span class="math">\(U \cap V\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">chart1</span></code> &#8211; chart <span class="math">\((U, \varphi)\)</span></li>
<li><code class="docutils literal"><span class="pre">chart2</span></code> &#8211; chart <span class="math">\((V, \psi)\)</span></li>
<li><code class="docutils literal"><span class="pre">transformations</span></code> &#8211; tuple (or list) <span class="math">\((Y_1, \ldots, Y_2)\)</span>, where
<span class="math">\(Y_i\)</span> is the symbolic expression of the coordinate <span class="math">\(y^i\)</span> in terms
of the coordinates <span class="math">\((x^1, \ldots, x^n)\)</span></li>
</ul>
<p>EXAMPLES:</p>
<p>Transition map on a 2-dimensional topological manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X_to_Y</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">X_to_Y</span>
<span class="go">Change of coordinates from Chart (M, (x, y)) to Chart (M, (u, v))</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">X_to_Y</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.manifolds.chart.CoordChange&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">X_to_Y</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">u = x + y</span>
<span class="go">v = x - y</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.manifolds.chart.CoordChange.disp">
<code class="descname">disp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.CoordChange.disp" title="Permalink to this definition">¶</a></dt>
<dd><p>Display of the coordinate transformation.</p>
<p>The output is either text-formatted (console mode) or LaTeX-formatted
(notebook mode).</p>
<p>EXAMPLES:</p>
<p>From spherical coordinates to Cartesian ones in the plane:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;R^2&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span> <span class="c1"># the complement of the half line {y=0, x&gt;= 0}</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="o">.&lt;</span><span class="n">r</span><span class="p">,</span><span class="n">ph</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">r&#39;r:(0,+oo) ph:(0,2*pi):\phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">spher_to_cart</span> <span class="o">=</span> <span class="n">c_spher</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">c_cart</span><span class="p">,</span> <span class="p">[</span><span class="n">r</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">ph</span><span class="p">),</span> <span class="n">r</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">ph</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">spher_to_cart</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">x = r*cos(ph)</span>
<span class="go">y = r*sin(ph)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">spher_to_cart</span><span class="o">.</span><span class="n">display</span><span class="p">())</span>
<span class="go">\left\{\begin{array}{lcl} x &amp; = &amp; r \cos\left({\phi}\right) \\</span>
<span class="go"> y &amp; = &amp; r \sin\left({\phi}\right) \end{array}\right.</span>
</pre></div>
</div>
<p>A shortcut is <code class="docutils literal"><span class="pre">disp()</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">spher_to_cart</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
<span class="go">x = r*cos(ph)</span>
<span class="go">y = r*sin(ph)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.CoordChange.display">
<code class="descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.CoordChange.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Display of the coordinate transformation.</p>
<p>The output is either text-formatted (console mode) or LaTeX-formatted
(notebook mode).</p>
<p>EXAMPLES:</p>
<p>From spherical coordinates to Cartesian ones in the plane:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;R^2&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span> <span class="c1"># the complement of the half line {y=0, x&gt;= 0}</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="o">.&lt;</span><span class="n">r</span><span class="p">,</span><span class="n">ph</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">r&#39;r:(0,+oo) ph:(0,2*pi):\phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">spher_to_cart</span> <span class="o">=</span> <span class="n">c_spher</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">c_cart</span><span class="p">,</span> <span class="p">[</span><span class="n">r</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">ph</span><span class="p">),</span> <span class="n">r</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">ph</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">spher_to_cart</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">x = r*cos(ph)</span>
<span class="go">y = r*sin(ph)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">spher_to_cart</span><span class="o">.</span><span class="n">display</span><span class="p">())</span>
<span class="go">\left\{\begin{array}{lcl} x &amp; = &amp; r \cos\left({\phi}\right) \\</span>
<span class="go"> y &amp; = &amp; r \sin\left({\phi}\right) \end{array}\right.</span>
</pre></div>
</div>
<p>A shortcut is <code class="docutils literal"><span class="pre">disp()</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">spher_to_cart</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
<span class="go">x = r*cos(ph)</span>
<span class="go">y = r*sin(ph)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.CoordChange.inverse">
<code class="descname">inverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.CoordChange.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the inverse coordinate transformation.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>an instance of <a class="reference internal" href="#sage.manifolds.chart.CoordChange" title="sage.manifolds.chart.CoordChange"><code class="xref py py-class docutils literal"><span class="pre">CoordChange</span></code></a> representing the inverse of
the current coordinate transformation</li>
</ul>
<p>EXAMPLES:</p>
<p>Inverse of a coordinate transformation corresponding to a
<span class="math">\(\pi/3\)</span>-rotation in the plane:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c_uv</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">xy_to_uv</span> <span class="o">=</span> <span class="n">c_xy</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">c_uv</span><span class="p">,</span> <span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">coord_changes</span><span class="p">()</span>
<span class="go">{(Chart (M, (x, y)),</span>
<span class="go">  Chart (M, (u, v))): Change of coordinates from Chart (M, (x, y)) to Chart (M, (u, v))}</span>
<span class="gp">sage: </span><span class="n">uv_to_xy</span> <span class="o">=</span> <span class="n">xy_to_uv</span><span class="o">.</span><span class="n">inverse</span><span class="p">();</span> <span class="n">uv_to_xy</span>
<span class="go">Change of coordinates from Chart (M, (u, v)) to Chart (M, (x, y))</span>
<span class="gp">sage: </span><span class="n">uv_to_xy</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">x = 1/2*sqrt(3)*v + 1/2*u</span>
<span class="go">y = -1/2*sqrt(3)*u + 1/2*v</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">coord_changes</span><span class="p">()</span>  <span class="c1"># random (dictionary output)</span>
<span class="go">{(Chart (M, (u, v)),</span>
<span class="go">  Chart (M, (x, y))): Change of coordinates from Chart (M, (u, v)) to Chart (M, (x, y)),</span>
<span class="go"> (Chart (M, (x, y)),</span>
<span class="go">  Chart (M, (u, v))): Change of coordinates from Chart (M, (x, y)) to Chart (M, (u, v))}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.CoordChange.restrict">
<code class="descname">restrict</code><span class="sig-paren">(</span><em>dom1</em>, <em>dom2=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.CoordChange.restrict" title="Permalink to this definition">¶</a></dt>
<dd><p>Restriction to subsets.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">dom1</span></code> &#8211; open subset of the domain of <code class="docutils literal"><span class="pre">chart1</span></code></li>
<li><code class="docutils literal"><span class="pre">dom2</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) open subset of the domain of
<code class="docutils literal"><span class="pre">chart2</span></code>; if <code class="docutils literal"><span class="pre">None</span></code>, <code class="docutils literal"><span class="pre">dom1</span></code> is assumed</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>the transition map between the charts restricted to the
specified subsets</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X_to_Y</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="n">coord_def</span><span class="o">=</span><span class="p">{</span><span class="n">X</span><span class="p">:</span> <span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">Y</span><span class="p">:</span> <span class="n">u</span><span class="o">+</span><span class="n">v</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">})</span>
<span class="gp">sage: </span><span class="n">X_to_Y_U</span> <span class="o">=</span> <span class="n">X_to_Y</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">U</span><span class="p">);</span> <span class="n">X_to_Y_U</span>
<span class="go">Change of coordinates from Chart (U, (x, y)) to Chart (U, (u, v))</span>
<span class="gp">sage: </span><span class="n">X_to_Y_U</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">u = x + y</span>
<span class="go">v = x - y</span>
</pre></div>
</div>
<p>The result is cached:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X_to_Y</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">U</span><span class="p">)</span> <span class="ow">is</span> <span class="n">X_to_Y_U</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.CoordChange.set_inverse">
<code class="descname">set_inverse</code><span class="sig-paren">(</span><em>*transformations</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.CoordChange.set_inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the inverse of the coordinate transformation.</p>
<p>This is useful when the automatic computation via <a class="reference internal" href="#sage.manifolds.chart.CoordChange.inverse" title="sage.manifolds.chart.CoordChange.inverse"><code class="xref py py-meth docutils literal"><span class="pre">inverse()</span></code></a>
fails.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">transformations</span></code> &#8211; the inverse transformations expressed as a
list of the expressions of the &#8220;old&#8221; coordinates in terms of the
&#8220;new&#8221; ones</li>
<li><code class="docutils literal"><span class="pre">kwds</span></code> &#8211; keyword arguments: only <code class="docutils literal"><span class="pre">verbose=True</span></code> or
<code class="docutils literal"><span class="pre">verbose=False</span></code> (default) are meaningful; it determines whether
the provided transformations are checked to be indeed the inverse
coordinate transformations</li>
</ul>
<p>EXAMPLES:</p>
<p>From spherical coordinates to Cartesian ones in the plane:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;R^2&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span> <span class="c1"># the complement of the half line {y=0, x&gt;= 0}</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="o">.&lt;</span><span class="n">r</span><span class="p">,</span><span class="n">ph</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">r&#39;r:(0,+oo) ph:(0,2*pi):\phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">spher_to_cart</span> <span class="o">=</span> <span class="n">c_spher</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">c_cart</span><span class="p">,</span> <span class="p">[</span><span class="n">r</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">ph</span><span class="p">),</span> <span class="n">r</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">ph</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">spher_to_cart</span><span class="o">.</span><span class="n">set_inverse</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">atan2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">spher_to_cart</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
<span class="go">Change of coordinates from Chart (U, (x, y)) to Chart (U, (r, ph))</span>
<span class="gp">sage: </span><span class="n">spher_to_cart</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="go">r = sqrt(x^2 + y^2)</span>
<span class="go">ph = arctan2(y, x)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">coord_changes</span><span class="p">()</span>  <span class="c1"># random (dictionary output)</span>
<span class="go">{(Chart (U, (r, ph)),</span>
<span class="go">  Chart (U, (x, y))): Change of coordinates from Chart (U, (r, ph)) to Chart (U, (x, y)),</span>
<span class="go"> (Chart (U, (x, y)),</span>
<span class="go">  Chart (U, (r, ph))): Change of coordinates from Chart (U, (x, y)) to Chart (U, (r, ph))}</span>
</pre></div>
</div>
<p>Introducing a wrong inverse transformation (note the <code class="docutils literal"><span class="pre">x^3</span></code> typo) is
revealed by setting <code class="docutils literal"><span class="pre">verbose</span></code> to <code class="docutils literal"><span class="pre">True</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">spher_to_cart</span><span class="o">.</span><span class="n">set_inverse</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">atan2</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">),</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Check of the inverse coordinate transformation:</span>
<span class="go">   r == sqrt(r*cos(ph)^3 + sin(ph)^2)*r</span>
<span class="go">   ph == arctan2(r*sin(ph), r*cos(ph))</span>
<span class="go">   x == sqrt(x^3 + y^2)*x/sqrt(x^2 + y^2)</span>
<span class="go">   y == sqrt(x^3 + y^2)*y/sqrt(x^2 + y^2)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.manifolds.chart.RealChart">
<em class="property">class </em><code class="descclassname">sage.manifolds.chart.</code><code class="descname">RealChart</code><span class="sig-paren">(</span><em>domain</em>, <em>coordinates=''</em>, <em>names=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.RealChart" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.manifolds.chart.Chart" title="sage.manifolds.chart.Chart"><code class="xref py py-class docutils literal"><span class="pre">sage.manifolds.chart.Chart</span></code></a></p>
<p>Chart on a topological manifold over <span class="math">\(\RR\)</span>.</p>
<p>Given a topological manifold <span class="math">\(M\)</span> of dimension <span class="math">\(n\)</span> over <span class="math">\(\RR\)</span>, a <em>chart</em>
on <span class="math">\(M\)</span> is a pair <span class="math">\((U,\varphi)\)</span>, where <span class="math">\(U\)</span> is an open subset of <span class="math">\(M\)</span> and
<span class="math">\(\varphi : U \to V \subset \RR^n\)</span> is a homeomorphism from <span class="math">\(U\)</span> to
an open subset <span class="math">\(V\)</span> of <span class="math">\(\RR^n\)</span>.</p>
<p>The components <span class="math">\((x^1, \ldots, x^n)\)</span> of <span class="math">\(\varphi\)</span>, defined by
<span class="math">\(\varphi(p) = (x^1(p), \ldots, x^n(p))\in \RR^n\)</span> for any point
<span class="math">\(p \in U\)</span>, are called the <em>coordinates</em> of the chart <span class="math">\((U, \varphi)\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">domain</span></code> &#8211; open subset <span class="math">\(U\)</span> on which the chart is defined</li>
<li><code class="docutils literal"><span class="pre">coordinates</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">''</span></code> (empty string)) string defining
the coordinate symbols and ranges, see below</li>
<li><code class="docutils literal"><span class="pre">names</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) unused argument, except if
<code class="docutils literal"><span class="pre">coordinates</span></code> is not provided; it must then be a tuple containing
the coordinate symbols (this is guaranteed if the shortcut operator
<code class="docutils literal"><span class="pre">&lt;,&gt;</span></code> is used)</li>
</ul>
<p>The string <code class="docutils literal"><span class="pre">coordinates</span></code> has the space <code class="docutils literal"><span class="pre">'</span> <span class="pre">'</span></code> as a separator and each
item has at most three fields, separated by a colon (<code class="docutils literal"><span class="pre">:</span></code>):</p>
<ol class="arabic simple">
<li>The coordinate symbol (a letter or a few letters).</li>
<li>(optional) The interval <span class="math">\(I\)</span> defining the coordinate range: if not
provided, the coordinate is assumed to span all <span class="math">\(\RR\)</span>; otherwise
<span class="math">\(I\)</span> must be provided in the form <code class="docutils literal"><span class="pre">(a,b)</span></code> (or equivalently
<code class="docutils literal"><span class="pre">]a,b[</span></code>). The bounds <code class="docutils literal"><span class="pre">a</span></code> and <code class="docutils literal"><span class="pre">b</span></code> can be <code class="docutils literal"><span class="pre">+/-Infinity</span></code>,
<code class="docutils literal"><span class="pre">Inf</span></code>, <code class="docutils literal"><span class="pre">infinity</span></code>, <code class="docutils literal"><span class="pre">inf</span></code> or <code class="docutils literal"><span class="pre">oo</span></code>.
For <em>singular</em> coordinates, non-open intervals such as <code class="docutils literal"><span class="pre">[a,b]</span></code> and
<code class="docutils literal"><span class="pre">(a,b]</span></code> (or equivalently <code class="docutils literal"><span class="pre">]a,b]</span></code>) are allowed.
Note that the interval declaration must not contain any whitespace.</li>
<li>(optional) The LaTeX spelling of the coordinate; if not provided the
coordinate symbol given in the first field will be used.</li>
</ol>
<p>The order of the fields 2 and 3 does not matter and each of them can be
omitted. If it contains any LaTeX expression, the string <code class="docutils literal"><span class="pre">coordinates</span></code>
must be declared with the prefix &#8216;r&#8217; (for &#8220;raw&#8221;) to allow for a proper
treatment of LaTeX backslash characters (see examples below). If no
interval range and no LaTeX spelling is to be set for any coordinate,
the argument <code class="docutils literal"><span class="pre">coordinates</span></code> can be omitted when the shortcut
operator <code class="docutils literal"><span class="pre">&lt;,&gt;</span></code> is used via Sage preparser (see examples below).</p>
<p>EXAMPLES:</p>
<p>Cartesian coordinates on <span class="math">\(\RR^3\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;R^3&#39;</span><span class="p">,</span> <span class="s1">r&#39;\RR^3&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">,</span>
<span class="go">....:              start_index=1)</span>
<span class="gp">sage: </span><span class="n">c_cart</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">&#39;x y z&#39;</span><span class="p">);</span> <span class="n">c_cart</span>
<span class="go">Chart (R^3, (x, y, z))</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">c_cart</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.manifolds.chart.RealChart&#39;&gt;</span>
</pre></div>
</div>
<p>To have the coordinates accessible as global variables, one has to set:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span> <span class="o">=</span> <span class="n">c_cart</span><span class="p">[:]</span>
</pre></div>
</div>
<p>However, a shortcut is to use the declarator <code class="docutils literal"><span class="pre">&lt;x,y,z&gt;</span></code> in the left-hand
side of the chart declaration (there is then no need to pass the string
<code class="docutils literal"><span class="pre">'x</span> <span class="pre">y</span> <span class="pre">z'</span></code> to  <code class="docutils literal"><span class="pre">chart()</span></code>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;R^3&#39;</span><span class="p">,</span> <span class="s1">r&#39;\RR^3&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">,</span>
<span class="go">....:              start_index=1)</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">();</span> <span class="n">c_cart</span>
<span class="go">Chart (R^3, (x, y, z))</span>
</pre></div>
</div>
<p>The coordinates are then immediately accessible:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="ow">is</span> <span class="n">c_cart</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal"><span class="pre">x,</span> <span class="pre">y,</span> <span class="pre">z</span></code> declared in <code class="docutils literal"><span class="pre">&lt;x,y,z&gt;</span></code> are mere Python variable
names and do not have to coincide with the coordinate symbols; for
instance, one may write:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;R^3&#39;</span><span class="p">,</span> <span class="s1">r&#39;\RR^3&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">,</span> <span class="n">start_index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">x1</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">z1</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">&#39;x y z&#39;</span><span class="p">);</span> <span class="n">c_cart</span>
<span class="go">Chart (R^3, (x, y, z))</span>
</pre></div>
</div>
<p>Then <code class="docutils literal"><span class="pre">y</span></code> is not known as a global variable and the coordinate <span class="math">\(y\)</span>
is accessible only through the global variable <code class="docutils literal"><span class="pre">y1</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y1</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="n">y1</span> <span class="ow">is</span> <span class="n">c_cart</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>However, having the name of the Python variable coincide with the
coordinate symbol is quite convenient; so it is recommended to declare:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>   <span class="c1"># for doctests only</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;R^3&#39;</span><span class="p">,</span> <span class="s1">r&#39;\RR^3&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">,</span> <span class="n">start_index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
</pre></div>
</div>
<p>Spherical coordinates on the subset <span class="math">\(U\)</span> of <span class="math">\(\RR^3\)</span> that is the
complement of the half-plane <span class="math">\(\{y=0, x \geq 0\}\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="o">.&lt;</span><span class="n">r</span><span class="p">,</span><span class="n">th</span><span class="p">,</span><span class="n">ph</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">r&#39;r:(0,+oo) th:(0,pi):\theta ph:(0,2*pi):\phi&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_spher</span>
<span class="go">Chart (U, (r, th, ph))</span>
</pre></div>
</div>
<p>Note the prefix &#8216;r&#8217; for the string defining the coordinates in the
arguments of <code class="docutils literal"><span class="pre">chart</span></code>.</p>
<p>Coordinates are Sage symbolic variables (see
<a class="reference external" href="../../../calculus/sage/symbolic/expression.html#module-sage.symbolic.expression" title="(in Sage Reference Manual: Symbolic Calculus v7.6)"><code class="xref py py-mod docutils literal"><span class="pre">sage.symbolic.expression</span></code></a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">th</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.symbolic.expression.Expression&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">th</span><span class="p">)</span>
<span class="go">{\theta}</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">(</span><span class="n">th</span><span class="p">)</span>
<span class="go">[th is real, th &gt; 0, th &lt; pi]</span>
</pre></div>
</div>
<p>Coordinate are also accessible by their indices:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x1</span> <span class="o">=</span> <span class="n">c_spher</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span> <span class="n">x2</span> <span class="o">=</span> <span class="n">c_spher</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span> <span class="n">x3</span> <span class="o">=</span> <span class="n">c_spher</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">]</span>
<span class="go">[r, th, ph]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">th</span><span class="p">,</span> <span class="n">ph</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The full set of coordinates is obtained by means of the slice <code class="docutils literal"><span class="pre">[:]</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">c_cart</span><span class="p">[:]</span>
<span class="go">(x, y, z)</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="p">[:]</span>
<span class="go">(r, th, ph)</span>
</pre></div>
</div>
<p>Let us check that the declared coordinate ranges have been taken into
account:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.</span><span class="n">coord_range</span><span class="p">()</span>
<span class="go">x: (-oo, +oo); y: (-oo, +oo); z: (-oo, +oo)</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="o">.</span><span class="n">coord_range</span><span class="p">()</span>
<span class="go">r: (0, +oo); th: (0, pi); ph: (0, 2*pi)</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">th</span><span class="o">&gt;</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">th</span><span class="o">&lt;</span><span class="n">pi</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">()</span>  <span class="c1"># list all current symbolic assumptions</span>
<span class="go">[x is real, y is real, z is real, r is real, r &gt; 0, th is real,</span>
<span class="go"> th &gt; 0, th &lt; pi, ph is real, ph &gt; 0, ph &lt; 2*pi]</span>
</pre></div>
</div>
<p>The coordinate ranges are used for simplifications:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">simplify</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">r</span><span class="p">))</span> <span class="c1"># r has been declared to lie in the interval (0,+oo)</span>
<span class="go">r</span>
<span class="gp">sage: </span><span class="n">simplify</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="c1"># no positive range has been declared for x</span>
<span class="go">abs(x)</span>
</pre></div>
</div>
<p>Each constructed chart is automatically added to the manifold&#8217;s
user atlas:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">atlas</span><span class="p">()</span>
<span class="go">[Chart (R^3, (x, y, z)), Chart (U, (r, th, ph))]</span>
</pre></div>
</div>
<p>and to the atlas of its domain:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">atlas</span><span class="p">()</span>
<span class="go">[Chart (U, (r, th, ph))]</span>
</pre></div>
</div>
<p>Manifold subsets have a <em>default chart</em>, which, unless changed
via the method
<a class="reference internal" href="manifold.html#sage.manifolds.manifold.TopologicalManifold.set_default_chart" title="sage.manifolds.manifold.TopologicalManifold.set_default_chart"><code class="xref py py-meth docutils literal"><span class="pre">set_default_chart()</span></code></a>,
is the first defined chart on the subset (or on a open subset of it):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">default_chart</span><span class="p">()</span>
<span class="go">Chart (R^3, (x, y, z))</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">default_chart</span><span class="p">()</span>
<span class="go">Chart (U, (r, th, ph))</span>
</pre></div>
</div>
<p>The default charts are not privileged charts on the manifold, but rather
charts whose name can be skipped in the argument list of functions having
an optional <code class="docutils literal"><span class="pre">chart=</span></code> argument.</p>
<p>The chart map <span class="math">\(\varphi\)</span> acting on a point is obtained by means of the
call operator, i.e. the operator <code class="docutils literal"><span class="pre">()</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">));</span> <span class="n">p</span>
<span class="go">Point on the 3-dimensional topological manifold R^3</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">(1, 0, -2)</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">==</span> <span class="n">p</span><span class="o">.</span><span class="n">coord</span><span class="p">(</span><span class="n">c_cart</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">),</span> <span class="n">chart</span><span class="o">=</span><span class="n">c_spher</span><span class="p">)</span> <span class="c1"># point defined by its spherical coordinates</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">(2, 1/2*pi, 1/3*pi)</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">==</span> <span class="n">q</span><span class="o">.</span><span class="n">coord</span><span class="p">(</span><span class="n">c_spher</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">pi</span><span class="p">))</span> <span class="c1"># the default coordinates on U are the spherical ones</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">(1, 1/2*pi, pi)</span>
<span class="gp">sage: </span><span class="n">c_spher</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="n">a</span><span class="o">.</span><span class="n">coord</span><span class="p">(</span><span class="n">c_spher</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Cartesian coordinates on <span class="math">\(U\)</span> as an example of chart construction with
coordinate restrictions: since <span class="math">\(U\)</span> is the complement of the half-plane
<span class="math">\(\{y = 0, x \geq 0\}\)</span>, we must have <span class="math">\(y \neq 0\)</span> or <span class="math">\(x &lt; 0\)</span> on U.
Accordingly, we set:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">c_cartU</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c_cartU</span><span class="o">.</span><span class="n">add_restrictions</span><span class="p">((</span><span class="n">y</span><span class="o">!=</span><span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">atlas</span><span class="p">()</span>
<span class="go">[Chart (U, (r, th, ph)), Chart (U, (x, y, z))]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">atlas</span><span class="p">()</span>
<span class="go">[Chart (R^3, (x, y, z)), Chart (U, (r, th, ph)), Chart (U, (x, y, z))]</span>
<span class="gp">sage: </span><span class="n">c_cartU</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">c_cartU</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note that, as an example, the following would have meant <span class="math">\(y \neq 0\)</span>
<em>and</em> <span class="math">\(x &lt; 0\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">c_cartU</span><span class="o">.</span><span class="n">add_restrictions</span><span class="p">([</span><span class="n">y</span><span class="o">!=</span><span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>Chart grids can be drawn in 2D or 3D graphics thanks to the method
<a class="reference internal" href="#sage.manifolds.chart.RealChart.plot" title="sage.manifolds.chart.RealChart.plot"><code class="xref py py-meth docutils literal"><span class="pre">plot()</span></code></a>.</p>
<dl class="method">
<dt id="sage.manifolds.chart.RealChart.add_restrictions">
<code class="descname">add_restrictions</code><span class="sig-paren">(</span><em>restrictions</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.RealChart.add_restrictions" title="Permalink to this definition">¶</a></dt>
<dd><p>Add some restrictions on the coordinates.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">restrictions</span></code> &#8211; list of restrictions on the
coordinates, in addition to the ranges declared by the intervals
specified in the chart constructor</li>
</ul>
<p>A restriction can be any symbolic equality or inequality involving
the coordinates, such as <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code> or <code class="docutils literal"><span class="pre">x^2</span> <span class="pre">+</span> <span class="pre">y^2</span> <span class="pre">!=</span> <span class="pre">0</span></code>. The items
of the list <code class="docutils literal"><span class="pre">restrictions</span></code> are combined with the <code class="docutils literal"><span class="pre">and</span></code> operator;
if some restrictions are to be combined with the <code class="docutils literal"><span class="pre">or</span></code> operator
instead, they have to be passed as a tuple in some single item
of the list <code class="docutils literal"><span class="pre">restrictions</span></code>. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">restrictions</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">),</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<p>means <code class="docutils literal"><span class="pre">(x</span> <span class="pre">&gt;</span> <span class="pre">y)</span> <span class="pre">and</span> <span class="pre">((x</span> <span class="pre">!=</span> <span class="pre">0)</span> <span class="pre">or</span> <span class="pre">(y</span> <span class="pre">!=</span> <span class="pre">0))</span> <span class="pre">and</span> <span class="pre">(z^2</span> <span class="pre">&lt;</span> <span class="pre">x)</span></code>.
If the list <code class="docutils literal"><span class="pre">restrictions</span></code> contains only one item, this
item can be passed as such, i.e. writing <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code> instead
of the single element list <code class="docutils literal"><span class="pre">[x</span> <span class="pre">&gt;</span> <span class="pre">y]</span></code>.</p>
<p>EXAMPLES:</p>
<p>Cartesian coordinates on the open unit disc in <span class="math">\(\RR^2\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span> <span class="c1"># the open unit disc</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">add_restrictions</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The restrictions are transmitted to subcharts:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span> <span class="c1"># annulus 1/2 &lt; r &lt; 1</span>
<span class="gp">sage: </span><span class="n">X_A</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X_A</span><span class="o">.</span><span class="n">_restrictions</span>
<span class="go">[x^2 + y^2 &lt; 1, x^2 + y^2 &gt; (1/4)]</span>
<span class="gp">sage: </span><span class="n">X_A</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">X_A</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If appropriate, the restrictions are transformed into bounds on
the coordinate ranges:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X_U</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">U</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X_U</span><span class="o">.</span><span class="n">coord_range</span><span class="p">()</span>
<span class="go">x: (-oo, +oo); y: (-oo, +oo)</span>
<span class="gp">sage: </span><span class="n">X_U</span><span class="o">.</span><span class="n">add_restrictions</span><span class="p">([</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">X_U</span><span class="o">.</span><span class="n">coord_range</span><span class="p">()</span>
<span class="go">x: (-oo, 0); y: (1/2, +oo)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.RealChart.coord_bounds">
<code class="descname">coord_bounds</code><span class="sig-paren">(</span><em>i=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.RealChart.coord_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lower and upper bounds of the range of a coordinate.</p>
<p>For a nicely formatted output, use <a class="reference internal" href="#sage.manifolds.chart.RealChart.coord_range" title="sage.manifolds.chart.RealChart.coord_range"><code class="xref py py-meth docutils literal"><span class="pre">coord_range()</span></code></a> instead.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">i</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>)  index of the coordinate; if <code class="docutils literal"><span class="pre">None</span></code>,
the bounds of all the coordinates are returned</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>the coordinate bounds as the tuple
<code class="docutils literal"><span class="pre">((xmin,</span> <span class="pre">min_included),</span> <span class="pre">(xmax,</span> <span class="pre">max_included))</span></code> where<ul>
<li><code class="docutils literal"><span class="pre">xmin</span></code> is the coordinate lower bound</li>
<li><code class="docutils literal"><span class="pre">min_included</span></code> is a boolean, indicating whether the coordinate
can take the value <code class="docutils literal"><span class="pre">xmin</span></code>, i.e. <code class="docutils literal"><span class="pre">xmin</span></code> is a strict lower
bound iff <code class="docutils literal"><span class="pre">min_included</span></code> is <code class="docutils literal"><span class="pre">False</span></code></li>
<li><code class="docutils literal"><span class="pre">xmin</span></code> is the coordinate upper bound</li>
<li><code class="docutils literal"><span class="pre">max_included</span></code> is a boolean, indicating whether the coordinate
can take the value <code class="docutils literal"><span class="pre">xmax</span></code>, i.e. <code class="docutils literal"><span class="pre">xmax</span></code> is a strict upper
bound iff <code class="docutils literal"><span class="pre">max_included</span></code> is <code class="docutils literal"><span class="pre">False</span></code></li>
</ul>
</li>
</ul>
<p>EXAMPLES:</p>
<p>Some coordinate bounds on a 2-dimensional manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>  <span class="c1"># for doctests only</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">&#39;x y:[0,1)&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.</span><span class="n">coord_bounds</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># x in (-oo,+oo) (the default)</span>
<span class="go">((-Infinity, False), (+Infinity, False))</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.</span><span class="n">coord_bounds</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># y in [0,1)</span>
<span class="go">((0, True), (1, False))</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.</span><span class="n">coord_bounds</span><span class="p">()</span>
<span class="go">(((-Infinity, False), (+Infinity, False)), ((0, True), (1, False)))</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.</span><span class="n">coord_bounds</span><span class="p">()</span> <span class="o">==</span> <span class="p">(</span><span class="n">c_xy</span><span class="o">.</span><span class="n">coord_bounds</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">c_xy</span><span class="o">.</span><span class="n">coord_bounds</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The coordinate bounds can also be recovered via the method
<a class="reference internal" href="#sage.manifolds.chart.RealChart.coord_range" title="sage.manifolds.chart.RealChart.coord_range"><code class="xref py py-meth docutils literal"><span class="pre">coord_range()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.</span><span class="n">coord_range</span><span class="p">()</span>
<span class="go">x: (-oo, +oo); y: [0, 1)</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.</span><span class="n">coord_range</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">y: [0, 1)</span>
</pre></div>
</div>
<p>or via Sage&#8217;s function
<a class="reference external" href="../../../calculus/sage/symbolic/assumptions.html#sage.symbolic.assumptions.assumptions" title="(in Sage Reference Manual: Symbolic Calculus v7.6)"><code class="xref py py-func docutils literal"><span class="pre">sage.symbolic.assumptions.assumptions()</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">assumptions</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[x is real]</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">[y is real, y &gt;= 0, y &lt; 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.RealChart.coord_range">
<code class="descname">coord_range</code><span class="sig-paren">(</span><em>xx=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.RealChart.coord_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the range of a coordinate (or all coordinates), as an
interval.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">xx</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) symbolic expression corresponding
to a coordinate of the current chart; if <code class="docutils literal"><span class="pre">None</span></code>, the ranges of
all coordinates are displayed</li>
</ul>
<p>EXAMPLES:</p>
<p>Ranges of coordinates on a 2-dimensional manifold:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">coord_range</span><span class="p">()</span>
<span class="go">x: (-oo, +oo); y: (-oo, +oo)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">coord_range</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">x: (-oo, +oo)</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="n">coord_def</span><span class="o">=</span><span class="p">{</span><span class="n">X</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">&lt;</span><span class="n">pi</span><span class="p">]})</span>
<span class="gp">sage: </span><span class="n">XU</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">U</span><span class="p">)</span>  <span class="c1"># restriction of chart X to U</span>
<span class="gp">sage: </span><span class="n">XU</span><span class="o">.</span><span class="n">coord_range</span><span class="p">()</span>
<span class="go">x: (1, +oo); y: (-oo, pi)</span>
<span class="gp">sage: </span><span class="n">XU</span><span class="o">.</span><span class="n">coord_range</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">x: (1, +oo)</span>
<span class="gp">sage: </span><span class="n">XU</span><span class="o">.</span><span class="n">coord_range</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">y: (-oo, pi)</span>
</pre></div>
</div>
<p>The output is LaTeX-formatted for the notebook:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">XU</span><span class="o">.</span><span class="n">coord_range</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="go">y :\ \left( -\infty, \pi \right)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.RealChart.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>chart=None</em>, <em>ambient_coords=None</em>, <em>mapping=None</em>, <em>fixed_coords=None</em>, <em>ranges=None</em>, <em>number_values=None</em>, <em>steps=None</em>, <em>parameters=None</em>, <em>max_range=8</em>, <em>style='-'</em>, <em>label_axes=True</em>, <em>color='red'</em>, <em>plot_points=75</em>, <em>thickness=1</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.RealChart.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot <code class="docutils literal"><span class="pre">self</span></code> as a grid in a Cartesian graph based on
the coordinates of some ambient chart.</p>
<p>The grid is formed by curves along which a chart coordinate
varies, the other coordinates being kept fixed. It is drawn in
terms of two (2D graphics) or three (3D graphics) coordinates
of another chart, called hereafter the <em>ambient chart</em>.</p>
<p>The ambient chart is related to the current chart either by
a transition map if both charts are defined on the same manifold,
or by the coordinate expression of some continuous map (typically an
immersion). In the latter case, the two charts may be defined on two
different manifolds.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">chart</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) the ambient chart (see above); if
<code class="docutils literal"><span class="pre">None</span></code>, the ambient chart is set to the current chart</li>
<li><code class="docutils literal"><span class="pre">ambient_coords</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) tuple containing the 2
or 3 coordinates of the ambient chart in terms of which the plot
is performed; if <code class="docutils literal"><span class="pre">None</span></code>, all the coordinates of the ambient
chart are considered</li>
<li><code class="docutils literal"><span class="pre">mapping</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>)
<a class="reference internal" href="continuous_map.html#sage.manifolds.continuous_map.ContinuousMap" title="sage.manifolds.continuous_map.ContinuousMap"><code class="xref py py-class docutils literal"><span class="pre">ContinuousMap</span></code></a>; continuous
manifold map providing the link between the current chart and the
ambient chart (cf. above); if <code class="docutils literal"><span class="pre">None</span></code>, both charts are supposed
to be defined on the same manifold and related by some transition
map (see <a class="reference internal" href="#sage.manifolds.chart.Chart.transition_map" title="sage.manifolds.chart.Chart.transition_map"><code class="xref py py-meth docutils literal"><span class="pre">transition_map()</span></code></a>)</li>
<li><code class="docutils literal"><span class="pre">fixed_coords</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) dictionary with keys the
chart coordinates that are not drawn and with values the fixed
value of these coordinates; if <code class="docutils literal"><span class="pre">None</span></code>, all the coordinates of the
current chart are drawn</li>
<li><code class="docutils literal"><span class="pre">ranges</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) dictionary with keys the
coordinates to be drawn and values tuples <code class="docutils literal"><span class="pre">(x_min,</span> <span class="pre">x_max)</span></code>
specifying the coordinate range for the plot; if <code class="docutils literal"><span class="pre">None</span></code>, the
entire coordinate range declared during the chart construction
is considered (with <code class="docutils literal"><span class="pre">-Infinity</span></code> replaced by <code class="docutils literal"><span class="pre">-max_range</span></code>
and <code class="docutils literal"><span class="pre">+Infinity</span></code> by <code class="docutils literal"><span class="pre">max_range</span></code>)</li>
<li><code class="docutils literal"><span class="pre">number_values</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) either an integer or a
dictionary with keys the coordinates to be drawn and values the
number of constant values of the coordinate to be considered; if
<code class="docutils literal"><span class="pre">number_values</span></code> is a single integer, it represents the number of
constant values for all coordinates; if <code class="docutils literal"><span class="pre">number_values</span></code> is <code class="docutils literal"><span class="pre">None</span></code>,
it is set to 9 for a 2D plot and to 5 for a 3D plot</li>
<li><code class="docutils literal"><span class="pre">steps</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) dictionary with keys the coordinates
to be drawn and values the step between each constant value of
the coordinate; if <code class="docutils literal"><span class="pre">None</span></code>, the step is computed from the coordinate
range (specified in <code class="docutils literal"><span class="pre">ranges</span></code>) and <code class="docutils literal"><span class="pre">number_values</span></code>. On the contrary
if the step is provided for some coordinate, the corresponding
number of constant values is deduced from it and the coordinate range.</li>
<li><code class="docutils literal"><span class="pre">parameters</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) dictionary giving the numerical
values of the parameters that may appear in the relation between
the two coordinate systems</li>
<li><code class="docutils literal"><span class="pre">max_range</span></code> &#8211; (default: 8) numerical value substituted to
+Infinity if the latter is the upper bound of the range of a
coordinate for which the plot is performed over the entire coordinate
range (i.e. for which no specific plot range has been set in
<code class="docutils literal"><span class="pre">ranges</span></code>); similarly <code class="docutils literal"><span class="pre">-max_range</span></code> is the numerical valued
substituted for <code class="docutils literal"><span class="pre">-Infinity</span></code></li>
<li><code class="docutils literal"><span class="pre">color</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">'red'</span></code>) either a single color or a
dictionary of colors, with keys the coordinates to be drawn,
representing the colors of the lines along which the coordinate
varies, the other being kept constant; if <code class="docutils literal"><span class="pre">color</span></code> is a single
color, it is used for all coordinate lines</li>
<li><code class="docutils literal"><span class="pre">style</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">'-'</span></code>) either a single line style or
a dictionary of line styles, with keys the coordinates to be
drawn, representing the style of the lines along which the
coordinate varies, the other being kept constant; if <code class="docutils literal"><span class="pre">style</span></code>
is a single style, it is used for all coordinate lines;
NB: <code class="docutils literal"><span class="pre">style</span></code> is effective only for 2D plots</li>
<li><code class="docutils literal"><span class="pre">thickness</span></code> &#8211; (default: 1) either a single line thickness or a
dictionary of line thicknesses, with keys the coordinates to be drawn,
representing the thickness of the lines along which the coordinate
varies, the other being kept constant; if <code class="docutils literal"><span class="pre">thickness</span></code> is a single
value, it is used for all coordinate lines</li>
<li><code class="docutils literal"><span class="pre">plot_points</span></code> &#8211; (default: 75) either a single number of points or
a dictionary of integers, with keys the coordinates to be drawn,
representing the number of points to plot the lines along which the
coordinate varies, the other being kept constant; if <code class="docutils literal"><span class="pre">plot_points</span></code>
is a single integer, it is used for all coordinate lines</li>
<li><code class="docutils literal"><span class="pre">label_axes</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">True</span></code>) boolean determining whether the
labels of the ambient coordinate axes shall be added to the graph;
can be set to <code class="docutils literal"><span class="pre">False</span></code> if the graph is 3D and must be superposed
with another graph</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a graphic object, either a <a class="reference external" href="../../../plotting/sage/plot/graphics.html#sage.plot.graphics.Graphics" title="(in Sage Reference Manual: 2D Graphics v7.6)"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a>
for a 2D plot (i.e. based on 2 coordinates of the ambient chart)
or a <a class="reference external" href="../../../plot3d/sage/plot/plot3d/base.html#sage.plot.plot3d.base.Graphics3d" title="(in Sage Reference Manual: 3D Graphics v7.6)"><code class="xref py py-class docutils literal"><span class="pre">Graphics3d</span></code></a> for a 3D plot
(i.e. based on 3 coordinates of the ambient chart)</li>
</ul>
<p>EXAMPLES:</p>
<p>A 2-dimensional chart plotted in terms of itself results in a
rectangular grid:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R2</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;R^2&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span> <span class="c1"># the Euclidean plane</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R2</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span> <span class="c1"># Cartesian coordinates</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">c_cart</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>  <span class="c1"># equivalent to c_cart.plot(c_cart)</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">Graphics object consisting of 18 graphics primitives</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-1.png" src="../../_images/chart-1.png" />
</div>
<p>Grid of polar coordinates in terms of Cartesian coordinates in the
Euclidean plane:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">R2</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="n">coord_def</span><span class="o">=</span><span class="p">{</span><span class="n">c_cart</span><span class="p">:</span> <span class="p">(</span><span class="n">y</span><span class="o">!=</span><span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)})</span> <span class="c1"># the complement of the segment y=0 and x&gt;0</span>
<span class="gp">sage: </span><span class="n">c_pol</span><span class="o">.&lt;</span><span class="n">r</span><span class="p">,</span><span class="n">ph</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">r&#39;r:(0,+oo) ph:(0,2*pi):\phi&#39;</span><span class="p">)</span> <span class="c1"># polar coordinates on U</span>
<span class="gp">sage: </span><span class="n">pol_to_cart</span> <span class="o">=</span> <span class="n">c_pol</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">c_cart</span><span class="p">,</span> <span class="p">[</span><span class="n">r</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">ph</span><span class="p">),</span> <span class="n">r</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">ph</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">c_pol</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_cart</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">Graphics object consisting of 18 graphics primitives</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-2.png" src="../../_images/chart-2.png" />
</div>
<p>Call with non-default values:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">c_pol</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_cart</span><span class="p">,</span> <span class="n">ranges</span><span class="o">=</span><span class="p">{</span><span class="n">ph</span><span class="p">:(</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="n">pi</span><span class="p">)},</span>
<span class="go">....:                number_values={r:7, ph:17},</span>
<span class="go">....:                color={r:&#39;red&#39;, ph:&#39;green&#39;},</span>
<span class="go">....:                style={r:&#39;-&#39;, ph:&#39;--&#39;})</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-3.png" src="../../_images/chart-3.png" />
</div>
<p>A single coordinate line can be drawn:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">c_pol</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_cart</span><span class="p">,</span> <span class="n">fixed_coords</span><span class="o">=</span><span class="p">{</span><span class="n">r</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span> <span class="c1"># draw a circle of radius r=2</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-4.png" src="../../_images/chart-4.png" />
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">c_pol</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_cart</span><span class="p">,</span> <span class="n">fixed_coords</span><span class="o">=</span><span class="p">{</span><span class="n">ph</span><span class="p">:</span> <span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">})</span> <span class="c1"># draw a segment at phi=pi/4</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-5.png" src="../../_images/chart-5.png" />
</div>
<p>An example with the ambient chart lying in an another manifold (the
plot is then performed via some manifold map passed as the
argument <code class="docutils literal"><span class="pre">mapping</span></code>): 3D plot of the stereographic charts on the
2-sphere:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S2</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;S^2&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span> <span class="c1"># the 2-sphere</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">S2</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;U&#39;</span><span class="p">)</span> <span class="p">;</span> <span class="n">V</span> <span class="o">=</span> <span class="n">S2</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;V&#39;</span><span class="p">)</span> <span class="c1"># complement of the North and South pole, respectively</span>
<span class="gp">sage: </span><span class="n">S2</span><span class="o">.</span><span class="n">declare_union</span><span class="p">(</span><span class="n">U</span><span class="p">,</span><span class="n">V</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_xy</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span> <span class="c1"># stereographic coordinates from the North pole</span>
<span class="gp">sage: </span><span class="n">c_uv</span><span class="o">.&lt;</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span> <span class="c1"># stereographic coordinates from the South pole</span>
<span class="gp">sage: </span><span class="n">xy_to_uv</span> <span class="o">=</span> <span class="n">c_xy</span><span class="o">.</span><span class="n">transition_map</span><span class="p">(</span><span class="n">c_uv</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">y</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)),</span>
<span class="go">....:                 intersection_name=&#39;W&#39;, restrictions1= x^2+y^2!=0,</span>
<span class="go">....:                 restrictions2= u^2+v^2!=0)</span>
<span class="gp">sage: </span><span class="n">uv_to_xy</span> <span class="o">=</span> <span class="n">xy_to_uv</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">R3</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;R^3&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span> <span class="c1"># the Euclidean space R^3</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">Z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R3</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>  <span class="c1"># Cartesian coordinates on R^3</span>
<span class="gp">sage: </span><span class="n">Phi</span> <span class="o">=</span> <span class="n">S2</span><span class="o">.</span><span class="n">continuous_map</span><span class="p">(</span><span class="n">R3</span><span class="p">,</span> <span class="p">{(</span><span class="n">c_xy</span><span class="p">,</span> <span class="n">c_cart</span><span class="p">):</span> <span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span>
<span class="go">....:                          2*y/(1+x^2+y^2), (x^2+y^2-1)/(1+x^2+y^2)],</span>
<span class="go">....:                          (c_uv, c_cart): [2*u/(1+u^2+v^2),</span>
<span class="go">....:                          2*v/(1+u^2+v^2), (1-u^2-v^2)/(1+u^2+v^2)]},</span>
<span class="go">....:                         name=&#39;Phi&#39;, latex_name=r&#39;\Phi&#39;) # Embedding of S^2 in R^3</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">c_xy</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_cart</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">Phi</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-6.png" src="../../_images/chart-6.png" />
</div>
<p>NB: to get a better coverage of the whole sphere, one should increase
the coordinate sampling via the argument <code class="docutils literal"><span class="pre">number_values</span></code> or the
argument <code class="docutils literal"><span class="pre">steps</span></code> (only the default value, <code class="docutils literal"><span class="pre">number_values</span> <span class="pre">=</span> <span class="pre">5</span></code>, is
used here, which is pretty low).</p>
<p>The same plot without the <code class="docutils literal"><span class="pre">(X,Y,Z)</span></code> axes labels:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">c_xy</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_cart</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">Phi</span><span class="p">,</span> <span class="n">label_axes</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>The North and South stereographic charts on the same plot:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g2</span> <span class="o">=</span> <span class="n">c_uv</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_cart</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">Phi</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">+</span> <span class="n">g2</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-7.png" src="../../_images/chart-7.png" />
</div>
<p>South stereographic chart drawned in terms of the North one (we split
the plot in four parts to avoid the singularity at <span class="math">\((u,v)=(0,0)\)</span>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">V</span><span class="p">)</span> <span class="c1"># the subset common to both charts</span>
<span class="gp">sage: </span><span class="n">c_uvW</span> <span class="o">=</span> <span class="n">c_uv</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">W</span><span class="p">)</span> <span class="c1"># chart (W,(u,v))</span>
<span class="gp">sage: </span><span class="n">gSN1</span> <span class="o">=</span> <span class="n">c_uvW</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_xy</span><span class="p">,</span> <span class="n">ranges</span><span class="o">=</span><span class="p">{</span><span class="n">u</span><span class="p">:[</span><span class="o">-</span><span class="mf">6.</span><span class="p">,</span><span class="o">-</span><span class="mf">0.02</span><span class="p">],</span> <span class="n">v</span><span class="p">:[</span><span class="o">-</span><span class="mf">6.</span><span class="p">,</span><span class="o">-</span><span class="mf">0.02</span><span class="p">]})</span>  <span class="c1"># long time</span>
<span class="gp">sage: </span><span class="n">gSN2</span> <span class="o">=</span> <span class="n">c_uvW</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_xy</span><span class="p">,</span> <span class="n">ranges</span><span class="o">=</span><span class="p">{</span><span class="n">u</span><span class="p">:[</span><span class="o">-</span><span class="mf">6.</span><span class="p">,</span><span class="o">-</span><span class="mf">0.02</span><span class="p">],</span> <span class="n">v</span><span class="p">:[</span><span class="mf">0.02</span><span class="p">,</span><span class="mf">6.</span><span class="p">]})</span>  <span class="c1"># long time</span>
<span class="gp">sage: </span><span class="n">gSN3</span> <span class="o">=</span> <span class="n">c_uvW</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_xy</span><span class="p">,</span> <span class="n">ranges</span><span class="o">=</span><span class="p">{</span><span class="n">u</span><span class="p">:[</span><span class="mf">0.02</span><span class="p">,</span><span class="mf">6.</span><span class="p">],</span> <span class="n">v</span><span class="p">:[</span><span class="o">-</span><span class="mf">6.</span><span class="p">,</span><span class="o">-</span><span class="mf">0.02</span><span class="p">]})</span>  <span class="c1"># long time</span>
<span class="gp">sage: </span><span class="n">gSN4</span> <span class="o">=</span> <span class="n">c_uvW</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_xy</span><span class="p">,</span> <span class="n">ranges</span><span class="o">=</span><span class="p">{</span><span class="n">u</span><span class="p">:[</span><span class="mf">0.02</span><span class="p">,</span><span class="mf">6.</span><span class="p">],</span> <span class="n">v</span><span class="p">:[</span><span class="mf">0.02</span><span class="p">,</span><span class="mf">6.</span><span class="p">]})</span>  <span class="c1"># long time</span>
<span class="gp">sage: </span><span class="n">show</span><span class="p">(</span><span class="n">gSN1</span><span class="o">+</span><span class="n">gSN2</span><span class="o">+</span><span class="n">gSN3</span><span class="o">+</span><span class="n">gSN4</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=-</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=-</span><span class="mf">1.5</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>  <span class="c1"># long time</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-8.png" src="../../_images/chart-8.png" />
</div>
<p>The coordinate line <span class="math">\(u = 1\)</span> (red) and the coordinate line <span class="math">\(v = 1\)</span>
(green) on the same plot:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">gu1</span> <span class="o">=</span> <span class="n">c_uvW</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_xy</span><span class="p">,</span> <span class="n">fixed_coords</span><span class="o">=</span><span class="p">{</span><span class="n">u</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="n">max_range</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">plot_points</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>  <span class="c1"># long time</span>
<span class="gp">sage: </span><span class="n">gv1</span> <span class="o">=</span> <span class="n">c_uvW</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">c_xy</span><span class="p">,</span> <span class="n">fixed_coords</span><span class="o">=</span><span class="p">{</span><span class="n">v</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="n">max_range</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">plot_points</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>  <span class="c1"># long time</span>
<span class="gp">sage: </span><span class="n">gu1</span> <span class="o">+</span> <span class="n">gv1</span>  <span class="c1"># long time</span>
<span class="go">Graphics object consisting of 2 graphics primitives</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-9.png" src="../../_images/chart-9.png" />
</div>
<p>Note that we have set <code class="docutils literal"><span class="pre">max_range=20</span></code> to have a wider range for
the coordinates <span class="math">\(u\)</span> and <span class="math">\(v\)</span>, i.e. to have <span class="math">\([-20, 20]\)</span> instead of
the default <span class="math">\([-8, 8]\)</span>.</p>
<p>A 3-dimensional chart plotted in terms of itself results in a 3D
rectangular grid:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">c_cart</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span> <span class="c1"># equivalent to c_cart.plot(c_cart)  # long time</span>
<span class="gp">sage: </span><span class="n">g</span>  <span class="c1"># long time</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-10.png" src="../../_images/chart-10.png" />
</div>
<p>A 4-dimensional chart plotted in terms of itself (the plot is
performed for at most 3 coordinates, which must be specified via
the argument <code class="docutils literal"><span class="pre">ambient_coords</span></code>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">t</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ambient_coords</span><span class="o">=</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">))</span> <span class="c1"># the coordinate z is not depicted  # long time</span>
<span class="gp">sage: </span><span class="n">g</span>  <span class="c1"># long time</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-11.png" src="../../_images/chart-11.png" />
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ambient_coords</span><span class="o">=</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">y</span><span class="p">))</span> <span class="c1"># the coordinates x and z are not depicted</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">Graphics object consisting of 18 graphics primitives</span>
</pre></div>
</div>
<div class="figure">
<img alt="../../_images/chart-12.png" src="../../_images/chart-12.png" />
</div>
<p>Note that the default values of some arguments of the method <code class="docutils literal"><span class="pre">plot</span></code>
are stored in the dictionary <code class="docutils literal"><span class="pre">plot.options</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">options</span>  <span class="c1"># random (dictionary output)</span>
<span class="go">{&#39;color&#39;: &#39;red&#39;, &#39;label_axes&#39;: True, &#39;max_range&#39;: 8,</span>
<span class="go"> &#39;plot_points&#39;: 75, &#39;style&#39;: &#39;-&#39;, &#39;thickness&#39;: 1}</span>
</pre></div>
</div>
<p>so that they can be adjusted by the user:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;blue&#39;</span>
</pre></div>
</div>
<p>From now on, all chart plots will use blue as the default color.
To restore the original default options, it suffices to type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.RealChart.restrict">
<code class="descname">restrict</code><span class="sig-paren">(</span><em>subset</em>, <em>restrictions=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.RealChart.restrict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the restriction of the chart to some open subset of its domain.</p>
<p>If the current chart is <span class="math">\((U, \varphi)\)</span>, a <em>restriction</em> (or <em>subchart</em>)
is a chart <span class="math">\((V, \psi)\)</span> such that <span class="math">\(V \subset U\)</span> and <span class="math">\(\psi = \varphi|_V\)</span>.</p>
<p>If such subchart has not been defined yet, it is constructed here.</p>
<p>The coordinates of the subchart bare the same names as the coordinates
of the current chart.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">subset</span></code> &#8211; open subset <span class="math">\(V\)</span> of the chart domain <span class="math">\(U\)</span> (must be an
instance of <a class="reference internal" href="manifold.html#sage.manifolds.manifold.TopologicalManifold" title="sage.manifolds.manifold.TopologicalManifold"><code class="xref py py-class docutils literal"><span class="pre">TopologicalManifold</span></code></a>)</li>
<li><code class="docutils literal"><span class="pre">restrictions</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) list of coordinate
restrictions defining the subset <span class="math">\(V\)</span></li>
</ul>
<p>A restriction can be any symbolic equality or inequality involving
the coordinates, such as <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code> or <code class="docutils literal"><span class="pre">x^2</span> <span class="pre">+</span> <span class="pre">y^2</span> <span class="pre">!=</span> <span class="pre">0</span></code>. The items
of the list <code class="docutils literal"><span class="pre">restrictions</span></code> are combined with the <code class="docutils literal"><span class="pre">and</span></code> operator;
if some restrictions are to be combined with the <code class="docutils literal"><span class="pre">or</span></code> operator
instead, they have to be passed as a tuple in some single item
of the list <code class="docutils literal"><span class="pre">restrictions</span></code>. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">restrictions</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">),</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<p>means <code class="docutils literal"><span class="pre">(x</span> <span class="pre">&gt;</span> <span class="pre">y)</span> <span class="pre">and</span> <span class="pre">((x</span> <span class="pre">!=</span> <span class="pre">0)</span> <span class="pre">or</span> <span class="pre">(y</span> <span class="pre">!=</span> <span class="pre">0))</span> <span class="pre">and</span> <span class="pre">(z^2</span> <span class="pre">&lt;</span> <span class="pre">x)</span></code>.
If the list <code class="docutils literal"><span class="pre">restrictions</span></code> contains only one item, this
item can be passed as such, i.e. writing <code class="docutils literal"><span class="pre">x</span> <span class="pre">&gt;</span> <span class="pre">y</span></code> instead
of the single element list <code class="docutils literal"><span class="pre">[x</span> <span class="pre">&gt;</span> <span class="pre">y]</span></code>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>the chart <span class="math">\((V, \psi)\)</span> as a <a class="reference internal" href="#sage.manifolds.chart.RealChart" title="sage.manifolds.chart.RealChart"><code class="xref py py-class docutils literal"><span class="pre">RealChart</span></code></a></li>
</ul>
<p>EXAMPLES:</p>
<p>Cartesian coordinates on the unit open disc in <span class="math">\(\RR^2\)</span> as a subchart
of the global Cartesian coordinates:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;R^2&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_cart</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">()</span> <span class="c1"># Cartesian coordinates on R^2</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)</span> <span class="c1"># the unit open disc</span>
<span class="gp">sage: </span><span class="n">c_cart_D</span> <span class="o">=</span> <span class="n">c_cart</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="ow">in</span> <span class="n">D</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="ow">in</span> <span class="n">D</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Cartesian coordinates on the annulus <span class="math">\(1 &lt; \sqrt{x^2 + y^2} &lt; 2\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_cart_A</span> <span class="o">=</span> <span class="n">c_cart</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="ow">in</span> <span class="n">A</span><span class="p">,</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">A</span>
<span class="go">(False, False)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="ow">in</span> <span class="n">A</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.manifolds.chart.RealChart.valid_coordinates">
<code class="descname">valid_coordinates</code><span class="sig-paren">(</span><em>*coordinates</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.manifolds.chart.RealChart.valid_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a tuple of coordinates can be the coordinates of a
point in the chart domain.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">*coordinates</span></code> &#8211; coordinate values</li>
<li><code class="docutils literal"><span class="pre">**kwds</span></code> &#8211; options:<ul>
<li><code class="docutils literal"><span class="pre">tolerance=0</span></code>, to set the absolute tolerance in the test of
coordinate ranges</li>
<li><code class="docutils literal"><span class="pre">parameters=None</span></code>, to set some numerical values to parameters</li>
</ul>
</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">True</span></code> if the coordinate values are admissible in the chart range
and <code class="docutils literal"><span class="pre">False</span></code> otherwise</li>
</ul>
<p>EXAMPLES:</p>
<p>Cartesian coordinates on a square interior:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>  <span class="c1"># for doctest only</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Manifold</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">structure</span><span class="o">=</span><span class="s1">&#39;topological&#39;</span><span class="p">)</span>  <span class="c1"># the square interior</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="s1">&#39;x:(-2,2) y:(-2,2)&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>The unit open disk inside the square:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">coord_def</span><span class="o">=</span><span class="p">{</span><span class="n">X</span><span class="p">:</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">})</span>
<span class="gp">sage: </span><span class="n">XD</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">XD</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">XD</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">XD</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">XD</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Another open subset of the square, defined by <span class="math">\(x^2+y^2&lt;1\)</span> or
(<span class="math">\(x&gt;0\)</span> and <span class="math">\(|y|&lt;1\)</span>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">open_subset</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span>
<span class="go">....:                   coord_def={X: (x^2+y^2&lt;1,</span>
<span class="go">....:                                  [x&gt;0, abs(y)&lt;1])})</span>
<span class="gp">sage: </span><span class="n">XB</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">restrict</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">XB</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">XB</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">XB</span><span class="o">.</span><span class="n">valid_coordinates</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="../../chart.html"
                                  title="previous chapter">Coordinate Charts</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="coord_func.html"
                                  title="next chapter">Coordinate Functions</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/manifolds/chart.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="coord_func.html" title="Coordinate Functions"
             >next</a> |</li>
        <li class="right" >
          <a href="../../chart.html" title="Coordinate Charts"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Manifolds</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../manifold.html" >Topological Manifolds</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../../chart.html" >Coordinate Charts</a> &raquo;</li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005--2017, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>