<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Free modules &#8212; Sage Reference Manual v8.0: Modules</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '8.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Discrete Subgroups of \(\ZZ^n\)." href="free_module_integer.html" />
    <link rel="prev" title="Abstract base class for modules" href="module.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="free_module_integer.html" title="Discrete Subgroups of \(\ZZ^n\)."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="module.html" title="Abstract base class for modules"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Modules</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="free-modules">
<span id="sage-modules-free-module"></span><h1>Free modules<a class="headerlink" href="#free-modules" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.modules.free_module"></span><p>Sage supports computation with free modules over an arbitrary commutative ring.
Nontrivial functionality is available over <span class="math">\(\ZZ\)</span>, fields, and some principal
ideal domains (e.g. <span class="math">\(\QQ[x]\)</span> and rings of integers of number fields). All free
modules over an integral domain are equipped with an embedding in an ambient
vector space and an inner product, which you can specify and change.</p>
<p>Create the free module of rank <span class="math">\(n\)</span> over an arbitrary commutative ring <span class="math">\(R\)</span> using
the command <code class="docutils literal"><span class="pre">FreeModule(R,n)</span></code>. Equivalently, <code class="docutils literal"><span class="pre">R^n</span></code> also creates that free
module.</p>
<p>The following example illustrates the creation of both a vector space and a
free module over the integers and a submodule of it.  Use the functions
<code class="docutils literal"><span class="pre">FreeModule</span></code>, <code class="docutils literal"><span class="pre">span</span></code> and member functions of free modules to create free
modules.  <em>Do not use the FreeModule_xxx constructors directly.</em></p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -7]</span>
<span class="go">[ 0  1  7]</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">VectorSpaces</span><span class="p">(</span><span class="n">FiniteField</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">C</span>
<span class="go">Category of vector spaces over Finite Field of size 7</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 2 over Finite Field of size 7</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">VectorSpaces</span><span class="p">(</span><span class="n">FiniteField</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">Vector space of dimension 3 over Finite Field of size 7</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 2 over Finite Field of size 7</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
</pre></div>
</div>
<p>We illustrate the exponent notation for creation of free modules.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ZZ</span><span class="o">^</span><span class="mi">4</span>
<span class="go">Ambient free module of rank 4 over the principal ideal domain Integer Ring</span>
<span class="gp">sage: </span><span class="n">QQ</span><span class="o">^</span><span class="mi">2</span>
<span class="go">Vector space of dimension 2 over Rational Field</span>
<span class="gp">sage: </span><span class="n">RR</span><span class="o">^</span><span class="mi">3</span>
<span class="go">Vector space of dimension 3 over Real Field with 53 bits of precision</span>
</pre></div>
</div>
<p>Base ring:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">R</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Multivariate Polynomial Ring in x, y over Rational Field</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="p">(</span><span class="n">QQ</span><span class="o">^</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([])</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">Free module of degree 1 and rank 0 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>We construct subspaces of real and complex double vector spaces and
verify that the element types are correct:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="n">V</span>
<span class="go">Vector space of dimension 3 over Real Double Field</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="mi">0</span>
<span class="go">(1.0, 0.0, 0.0)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.vector_real_double_dense.Vector_real_double_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="p">]);</span> <span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 1 over Real Double Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1.0 0.0 0.0]</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.vector_real_double_dense.Vector_real_double_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">CDF</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="n">V</span>
<span class="go">Vector space of dimension 3 over Complex Double Field</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.vector_complex_double_dense.Vector_complex_double_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([</span><span class="n">CDF</span><span class="o">.</span><span class="mi">0</span> <span class="o">*</span> <span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">]);</span> <span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 1 over Complex Double Field</span>
<span class="go">User basis matrix:</span>
<span class="go">[  0.0 1.0*I   0.0]</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.vector_complex_double_dense.Vector_complex_double_dense&#39;&gt;</span>
</pre></div>
</div>
<p>Basis vectors are immutable:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="mi">0</span>
<span class="go">(1, 2, 3)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="mi">0</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">vector is immutable; please change a copy instead (use copy())</span>
</pre></div>
</div>
<p>Among other things, this tests that we can save and load submodules
and elements:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">M</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">19</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">W</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="n">W</span><span class="o">.</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>William Stein (2005, 2007)</li>
<li>David Kohel (2007, 2008)</li>
<li>Niles Johnson (2010-08): (<a class="reference external" href="https://trac.sagemath.org/3893">trac ticket #3893</a>) <code class="docutils literal"><span class="pre">random_element()</span></code> should pass on <code class="docutils literal"><span class="pre">*args</span></code> and <code class="docutils literal"><span class="pre">**kwds</span></code>.</li>
<li>Simon King (2010-12):
<a class="reference external" href="https://trac.sagemath.org/8800">trac ticket #8800</a> : Fixing a bug in <code class="docutils literal"><span class="pre">denominator()</span></code>.</li>
<li>Simon King (2010-12), Peter Bruin (June 2014):
<a class="reference external" href="https://trac.sagemath.org/10513">trac ticket #10513</a> : New coercion model and category framework.</li>
</ul>
<dl class="class">
<dt id="sage.modules.free_module.ComplexDoubleVectorSpace_class">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">ComplexDoubleVectorSpace_class</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.ComplexDoubleVectorSpace_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_ambient_field" title="sage.modules.free_module.FreeModule_ambient_field"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_ambient_field</span></code></a></p>
<dl class="method">
<dt id="sage.modules.free_module.ComplexDoubleVectorSpace_class.coordinates">
<code class="descname">coordinates</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.ComplexDoubleVectorSpace_class.coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModuleFactory">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModuleFactory</code><a class="headerlink" href="#sage.modules.free_module.FreeModuleFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/factory.html#sage.structure.factory.UniqueFactory" title="(in Sage Reference Manual: Parents and Elements v8.0)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.factory.UniqueFactory</span></code></a></p>
<p>Create the free module over the given commutative ring of the given
rank.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">base_ring</span></code> - a commutative ring</li>
<li><code class="docutils literal"><span class="pre">rank</span></code> - a nonnegative integer</li>
<li><code class="docutils literal"><span class="pre">sparse</span></code> - bool; (default False)</li>
<li><code class="docutils literal"><span class="pre">inner_product_matrix</span></code> - the inner product
matrix (default None)</li>
</ul>
<p>OUTPUT: a free module</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In Sage it is the case that there is only one dense and one
sparse free ambient module of rank <span class="math">\(n\)</span> over <span class="math">\(R\)</span>.</p>
</div>
<p>EXAMPLES:</p>
<p>First we illustrate creating free modules over various base fields.
The base field affects the free module that is created. For
example, free modules over a field are vector spaces, and free
modules over a principal ideal domain are special in that more
functionality is available for them than for completely general
free modules.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="mi">10</span><span class="p">)</span>
<span class="go">Ambient free module of rank 10 over Ring of integers modulo 8</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="go">Vector space of dimension 10 over Rational Field</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="go">Ambient free module of rank 10 over the principal ideal domain Integer Ring</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">FiniteField</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="mi">10</span><span class="p">)</span>
<span class="go">Vector space of dimension 10 over Finite Field of size 5</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="mi">10</span><span class="p">)</span>
<span class="go">Vector space of dimension 10 over Ring of integers modulo 7</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Ambient free module of rank 5 over the principal ideal domain Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">),</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Ambient free module of rank 5 over the integral domain Univariate Polynomial Ring in x over Integer Ring</span>
</pre></div>
</div>
<p>Of course we can make rank 0 free modules:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Vector space of dimension 0 over Real Field with 100 bits of precision</span>
</pre></div>
</div>
<p>Next we create a free module with sparse representation of
elements. Functionality with sparse modules is <em>identical</em> to dense
modules, but they may use less memory and arithmetic may be faster
(or slower!).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.free_module_element.FreeModuleElement_generic_sparse&#39;&gt;</span>
</pre></div>
</div>
<p>The default is dense.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">200</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.vector_integer_dense.Vector_integer_dense&#39;&gt;</span>
</pre></div>
</div>
<p>Note that matrices associated in some way to sparse free modules
are sparse by default:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">Ms</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">==</span> <span class="n">Ms</span>  <span class="c1"># as mathematical objects they are equal</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Ms</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We can also specify an inner product matrix, which is used when
computing inner products of elements.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">)([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">inner_product_matrix</span><span class="o">=</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">w</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">v</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">w</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">-2</span>
</pre></div>
</div>
<p>You can also specify the inner product matrix by giving anything
that coerces to an appropriate matrix. This is only useful if the
inner product matrix takes values in the base ring.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">inner_product_matrix</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span>
<span class="go">[1 0]</span>
<span class="go">[0 1]</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">inner_product_matrix</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span>
<span class="go">[1 2]</span>
<span class="go">[3 4]</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">inner_product_matrix</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span>
<span class="go">[1 2]</span>
<span class="go">[3 4]</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Refactor modules such that it only counts what category the base
ring belongs to, but not what is its Python class.</p>
</div>
<dl class="method">
<dt id="sage.modules.free_module.FreeModuleFactory.create_key">
<code class="descname">create_key</code><span class="sig-paren">(</span><em>base_ring</em>, <em>rank</em>, <em>sparse=False</em>, <em>inner_product_matrix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModuleFactory.create_key" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: replace the above by <code class="docutils literal"><span class="pre">TestSuite(...).run()</span></code>, once
<code class="xref py py-meth docutils literal"><span class="pre">_test_pickling()</span></code> will test unique representation and not
only equality.</p>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModuleFactory.create_object">
<code class="descname">create_object</code><span class="sig-paren">(</span><em>version</em>, <em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModuleFactory.create_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModule_ambient">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModule_ambient</code><span class="sig-paren">(</span><em>base_ring</em>, <em>rank</em>, <em>sparse=False</em>, <em>coordinate_ring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_generic" title="sage.modules.free_module.FreeModule_generic"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_generic</span></code></a></p>
<p>Ambient free module over a commutative ring.</p>
<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.ambient_module">
<code class="descname">ambient_module</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.ambient_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self, since self is ambient.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">5</span><span class="p">;</span> <span class="n">A</span><span class="o">.</span><span class="n">ambient_module</span><span class="p">()</span>
<span class="go">Vector space of dimension 5 over Rational Field</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">5</span><span class="p">;</span> <span class="n">A</span><span class="o">.</span><span class="n">ambient_module</span><span class="p">()</span>
<span class="go">Ambient free module of rank 5 over the principal ideal domain Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.basis">
<code class="descname">basis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a basis for this ambient free module.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Sequence</span></code> - an immutable sequence with universe
this ambient free module</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">basis</span><span class="p">();</span> <span class="n">B</span>
<span class="go">[</span>
<span class="go">(1, 0, 0),</span>
<span class="go">(0, 1, 0),</span>
<span class="go">(0, 0, 1)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">universe</span><span class="p">()</span>
<span class="go">Ambient free module of rank 3 over the principal ideal domain Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.change_ring">
<code class="descname">change_ring</code><span class="sig-paren">(</span><em>R</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.change_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ambient free module over R of the same rank as self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">A</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">A</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">Vector space of dimension 3 over Finite Field of size 5</span>
</pre></div>
</div>
<p>For ambient modules any change of rings is defined.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span><span class="p">;</span> <span class="n">A</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.coordinate_vector">
<code class="descname">coordinate_vector</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.coordinate_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Write <span class="math">\(v\)</span> in terms of the standard basis for self and
return the resulting coefficients in a vector over the fraction
field of the base ring.</p>
<p>Returns a vector <span class="math">\(c\)</span> such that if <span class="math">\(B\)</span> is the basis for self, then</p>
<div class="math">
\[\sum c_i B_i = v.\]</div>
<p>If <span class="math">\(v\)</span> is not in self, raise an <code class="docutils literal"><span class="pre">ArithmeticError</span></code> exception.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">Integers</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">]);</span> <span class="n">v</span>
<span class="go">(1, 5, 9)</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Ambient free module of rank 3 over Ring of integers modulo 16</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.echelon_coordinate_vector">
<code class="descname">echelon_coordinate_vector</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.echelon_coordinate_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <code class="docutils literal"><span class="pre">self.coordinate_vector(v)</span></code>, since self is
an ambient free module.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> - vector</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - bool (default: True); if True, also
verify that v is really in self.</li>
</ul>
<p>OUTPUT: list</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">4</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">V</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span>
<span class="go">(-1/2, 1/2, -1/2, 1/2)</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">(-1/2, 1/2, -1/2, 1/2)</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">echelon_coordinate_vector</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">(-1/2, 1/2, -1/2, 1/2)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">submodule_with_basis</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">(1, -1)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">echelon_coordinate_vector</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">(-1/2, 1/2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.echelon_coordinates">
<code class="descname">echelon_coordinates</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.echelon_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the coordinate vector of v in terms of the echelon basis
for self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">U</span><span class="o">.</span><span class="n">coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">U</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[[1, 0, 0], [0, 1, 0], [0, 0, 1]]</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">U</span><span class="o">.</span><span class="n">echelon_coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">U</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[[1, 0, 0], [0, 1, 0], [0, 0, 1]]</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">submodule</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">V</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  1]</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">V</span><span class="o">.</span><span class="n">coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">V</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[[1, 0], [0, 1]]</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">V</span><span class="o">.</span><span class="n">echelon_coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">V</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[[1, 0], [0, 1]]</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">U</span><span class="o">.</span><span class="n">submodule_with_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">User basis matrix:</span>
<span class="go">[1 1 0]</span>
<span class="go">[0 1 1]</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">W</span><span class="o">.</span><span class="n">coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">W</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[[1, 0], [0, 1]]</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">W</span><span class="o">.</span><span class="n">echelon_coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">W</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[[1, 1], [0, 1]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.echelonized_basis">
<code class="descname">echelonized_basis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.echelonized_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a basis for this ambient free module in echelon form.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">A</span><span class="o">.</span><span class="n">echelonized_basis</span><span class="p">()</span>
<span class="go">[</span>
<span class="go">(1, 0, 0),</span>
<span class="go">(0, 1, 0),</span>
<span class="go">(0, 0, 1)</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.echelonized_basis_matrix">
<code class="descname">echelonized_basis_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.echelonized_basis_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>The echelonized basis matrix of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">4</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span> <span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">-</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">[ 1  0  0 -1]</span>
<span class="go">[ 0  1  0 -1]</span>
<span class="go">[ 0  0  1 -1]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">echelonized_basis_matrix</span><span class="p">()</span>
<span class="go">[ 1  0  0 -1]</span>
<span class="go">[ 0  1  0 -1]</span>
<span class="go">[ 0  0  1 -1]</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">submodule_with_basis</span><span class="p">([</span> <span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">-</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="p">])</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">[-1  1  0  0]</span>
<span class="go">[-1  0  1  0]</span>
<span class="go">[-1  0  0  1]</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">echelonized_basis_matrix</span><span class="p">()</span>
<span class="go">[ 1  0  0 -1]</span>
<span class="go">[ 0  1  0 -1]</span>
<span class="go">[ 0  0  1 -1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.gen">
<code class="descname">gen</code><span class="sig-paren">(</span><em>i=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <span class="math">\(i\)</span>-th generator for <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>Here <span class="math">\(i\)</span> is between 0 and rank - 1, inclusive.</p>
<p>INPUT:</p>
<ul class="simple">
<li><span class="math">\(i\)</span> &#8211; an integer (default 0)</li>
</ul>
<p>OUTPUT: <span class="math">\(i\)</span>-th basis vector for <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="n">n</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="p">[</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">[(1, 0, 0, 0, 0),</span>
<span class="go">(0, 1, 0, 0, 0),</span>
<span class="go">(0, 0, 1, 0, 0),</span>
<span class="go">(0, 0, 0, 1, 0),</span>
<span class="go">(0, 0, 0, 0, 1)]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.is_ambient">
<code class="descname">is_ambient</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.is_ambient" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> since this module is an ambient
module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">5</span><span class="p">;</span> <span class="n">A</span><span class="o">.</span><span class="n">is_ambient</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="p">(</span><span class="n">QQ</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]]);</span> <span class="n">A</span><span class="o">.</span><span class="n">is_ambient</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.linear_combination_of_basis">
<code class="descname">linear_combination_of_basis</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.linear_combination_of_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the linear combination of the basis for self obtained from
the elements of the list v.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> - list</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1 2 3]</span>
<span class="go">[0 3 6]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">linear_combination_of_basis</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">(1, 5, 9)</span>
</pre></div>
</div>
<p>This should raise an error if the resulting element is not in self:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">linear_combination_of_basis</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">element [1, 2] is not in free module</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient.random_element">
<code class="descname">random_element</code><span class="sig-paren">(</span><em>prob=1.0</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient.random_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random element of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">prob</span></code> - float. Each coefficient will be set to zero with</dt>
<dd>probability <span class="math">\(1-prob\)</span>. Otherwise coefficients will be chosen
randomly from base ring (and may be zero).</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">*args,</span> <span class="pre">**kwds</span></code> - passed on to random_element function of base</dt>
<dd>ring.</dd>
</dl>
</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="go">(-1, 2, 1)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="go">(-95, -1, -2)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="go">(-12, 0, 0)</span>
</pre></div>
</div>
<p>Passes extra positional or keyword arguments through:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="go">(5, 5, 5)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="go">(-6, 5, 0, 0, -2, 0, 1, -4, -6, 1, -1, 1, 1, -1, 1, -1)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="n">prob</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="go">(0, 0, 0, 0, -3, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, -3)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModule_ambient_domain">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModule_ambient_domain</code><span class="sig-paren">(</span><em>base_ring</em>, <em>rank</em>, <em>sparse=False</em>, <em>coordinate_ring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_ambient" title="sage.modules.free_module.FreeModule_ambient"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_ambient</span></code></a></p>
<p>Ambient free module over an integral domain.</p>
<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient_domain.ambient_vector_space">
<code class="descname">ambient_vector_space</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient_domain.ambient_vector_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ambient vector space, which is this free module
tensored with its fraction field.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">();</span> <span class="n">V</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
</pre></div>
</div>
<p>If an inner product on the module is specified, then this
is preserved on the ambient vector space.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">inner_product_matrix</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">U</span>
<span class="go">Ambient quadratic space of dimension 4 over Rational Field</span>
<span class="go">Inner product matrix:</span>
<span class="go">[1 0 0 0]</span>
<span class="go">[0 1 0 0]</span>
<span class="go">[0 0 1 0]</span>
<span class="go">[0 0 0 1]</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">submodule_with_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">gram_matrix</span><span class="p">()</span>
<span class="go">[ 2 -1  0]</span>
<span class="go">[-1  2 -1]</span>
<span class="go">[ 0 -1  2]</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">==</span> <span class="n">N</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">U</span> <span class="o">==</span> <span class="n">V</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient_domain.coordinate_vector">
<code class="descname">coordinate_vector</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient_domain.coordinate_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Write <span class="math">\(v\)</span> in terms of the standard basis for self and
return the resulting coefficients in a vector over the fraction
field of the base ring.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> &#8211; vector</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">check</span></code> &#8211; bool (default: True); if True, also verify that</dt>
<dd><span class="math">\(v\)</span> is really in self.</dd>
</dl>
</li>
</ul>
<p>OUTPUT: list</p>
<p>Returns a vector <span class="math">\(c\)</span> such that if <span class="math">\(B\)</span> is the basis for self, then</p>
<div class="math">
\[\sum c_i B_i = v.\]</div>
<p>If <span class="math">\(v\)</span> is not in self, raise an <code class="docutils literal"><span class="pre">ArithmeticError</span></code> exception.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">]);</span> <span class="n">v</span>
<span class="go">(1, 5, 9)</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient_domain.vector_space">
<code class="descname">vector_space</code><span class="sig-paren">(</span><em>base_field=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient_domain.vector_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the vector space obtained from self by tensoring with the
fraction field of the base ring and extending to the field.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span>  <span class="n">M</span><span class="o">.</span><span class="n">vector_space</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModule_ambient_field">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModule_ambient_field</code><span class="sig-paren">(</span><em>base_field</em>, <em>dimension</em>, <em>sparse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_generic_field" title="sage.modules.free_module.FreeModule_generic_field"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_generic_field</span></code></a>, <a class="reference internal" href="#sage.modules.free_module.FreeModule_ambient_pid" title="sage.modules.free_module.FreeModule_ambient_pid"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_ambient_pid</span></code></a></p>
<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient_field.ambient_vector_space">
<code class="descname">ambient_vector_space</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient_field.ambient_vector_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns self as the ambient vector space.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_ambient_field.base_field">
<code class="descname">base_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient_field.base_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the base field of this vector space.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">base_field</span><span class="p">()</span>
<span class="go">Rational Field</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModule_ambient_pid">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModule_ambient_pid</code><span class="sig-paren">(</span><em>base_ring</em>, <em>rank</em>, <em>sparse=False</em>, <em>coordinate_ring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_ambient_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_generic_pid" title="sage.modules.free_module.FreeModule_generic_pid"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_generic_pid</span></code></a>, <a class="reference internal" href="#sage.modules.free_module.FreeModule_ambient_domain" title="sage.modules.free_module.FreeModule_ambient_domain"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_ambient_domain</span></code></a></p>
<p>Ambient free module over a principal ideal domain.</p>
</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModule_generic">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModule_generic</code><span class="sig-paren">(</span><em>base_ring</em>, <em>rank</em>, <em>degree</em>, <em>sparse=False</em>, <em>coordinate_ring=None</em>, <em>category=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="module.html#sage.modules.module.Module" title="sage.modules.module.Module"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.module.Module</span></code></a></p>
<p>Base class for all free modules.</p>
<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.ambient_module">
<code class="descname">ambient_module</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.ambient_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ambient module associated to this module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">R</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">ambient_module</span><span class="p">()</span>
<span class="go">Ambient free module of rank 2 over the integral domain Multivariate Polynomial Ring in x, y over Rational Field</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span> <span class="n">V</span>
<span class="go">Vector space of degree 4 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[  1   0   0   0]</span>
<span class="go">[  0   1 3/2   2]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">ambient_module</span><span class="p">()</span>
<span class="go">Vector space of dimension 4 over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.are_linearly_dependent">
<code class="descname">are_linearly_dependent</code><span class="sig-paren">(</span><em>vecs</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.are_linearly_dependent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the vectors <code class="docutils literal"><span class="pre">vecs</span></code> are linearly dependent and
<code class="docutils literal"><span class="pre">False</span></code> otherwise.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">vecs</span> <span class="o">=</span> <span class="p">[</span><span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="n">M</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">are_linearly_dependent</span><span class="p">(</span><span class="n">vecs</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">vecs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">M</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">are_linearly_dependent</span><span class="p">(</span><span class="n">vecs</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">vecs</span> <span class="o">=</span> <span class="p">[</span><span class="n">M</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span> <span class="n">M</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">])]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">are_linearly_dependent</span><span class="p">(</span><span class="n">vecs</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">vecs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">M</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">are_linearly_dependent</span><span class="p">(</span><span class="n">vecs</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.base_field">
<code class="descname">base_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.base_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the base field, which is the fraction field of the base ring
of this module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">base_field</span><span class="p">()</span>
<span class="go">Finite Field of size 3</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">base_field</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">PolynomialRing</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">base_field</span><span class="p">()</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in x over Finite Field of size 7</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.basis">
<code class="descname">basis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the basis of this module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="go">[</span>
<span class="go">(1, 0, 0),</span>
<span class="go">(0, 1, 0),</span>
<span class="go">(0, 0, 1)</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.basis_matrix">
<code class="descname">basis_matrix</code><span class="sig-paren">(</span><em>ring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.basis_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the matrix whose rows are the basis for this free module.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ring</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">self.coordinate_ring()</span></code>) a ring over
which the matrix is defined</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 0 1]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]]);</span> <span class="n">M</span>
<span class="go">Vector space of degree 3 and dimension 2 over Finite Field of size 7</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 0 6]</span>
<span class="go">[0 1 2]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">[1 0 6]</span>
<span class="go">[0 1 2]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]]);</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">[2 3 4]</span>
<span class="go">[1 1 1]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span> <span class="n">M</span>
<span class="go">Vector space of degree 2 and dimension 2 over Rational Field</span>
<span class="go">User basis matrix:</span>
<span class="go">[ 1 -1]</span>
<span class="go">[ 1  0]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">[ 1 -1]</span>
<span class="go">[ 1  0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.cardinality">
<code class="descname">cardinality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.cardinality" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cardinality of the free module.</p>
<p>OUTPUT:</p>
<p>Either an integer or <code class="docutils literal"><span class="pre">+Infinity</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">FiniteField</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">729</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">81</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">R</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">144</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">QQ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.construction">
<code class="descname">construction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.construction" title="Permalink to this definition">¶</a></dt>
<dd><p>The construction functor and base ring for self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">R</span><span class="o">^</span><span class="mi">5</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="go">(VectorFunctor, Multivariate Polynomial Ring in x0, x1, x2 over Rational Field)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.coordinate_module">
<code class="descname">coordinate_module</code><span class="sig-paren">(</span><em>V</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.coordinate_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Suppose V is a submodule of self (or a module commensurable with
self), and that self is a free module over <span class="math">\(R\)</span> of rank
<span class="math">\(n\)</span>. Let <span class="math">\(\phi\)</span> be the map from self to
<span class="math">\(R^n\)</span> that sends the basis vectors of self in order to the
standard basis of <span class="math">\(R^n\)</span>. This function returns the image
<span class="math">\(\phi(V)\)</span>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If there is no integer <span class="math">\(d\)</span> such that <span class="math">\(dV\)</span> is a
submodule of self, then this function will give total
nonsense.</p>
</div>
<p>EXAMPLES:</p>
<p>We illustrate this function with some
<span class="math">\(\ZZ\)</span>-submodules of <span class="math">\(\QQ^3\)</span>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">coordinate_module</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">Free module of degree 2 and rank 1 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[1 4]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="mi">1</span>
<span class="go">(1/2, 4, 2)</span>
</pre></div>
</div>
<p>In this example, the coordinate module isn&#8217;t even in
<span class="math">\(\ZZ^3\)</span>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">coordinate_module</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">Free module of degree 2 and rank 1 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[1/2   2]</span>
</pre></div>
</div>
<p>The following more elaborate example illustrates using this
function to write a submodule in terms of integral cuspidal modular
symbols:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ModularSymbols</span><span class="p">(</span><span class="mi">54</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">cuspidal_subspace</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">integral_structure</span><span class="p">();</span> <span class="n">K</span>
<span class="go">Free module of degree 19 and rank 8 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[ 0  1  0  0 -1  0  0  0  0  0  0  0  0  0  0  0  0  0  0]</span>
<span class="gp">...</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">integral_structure</span><span class="p">();</span> <span class="n">L</span>
<span class="go">Free module of degree 19 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[ 0  1  1  0 -2  1 -1  1 -1 -2  2  0  0  0  0  0  0  0  0]</span>
<span class="go">[ 0  0  3  0 -3  2 -1  2 -1 -4  2 -1 -2  1  2  0  0 -1  1]</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.</span><span class="n">coordinate_module</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="go">Free module of degree 8 and rank 2 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[ 1  1  1 -1  1 -1  0  0]</span>
<span class="go">[ 0  3  2 -1  2 -1 -1 -2]</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.</span><span class="n">coordinate_module</span><span class="p">(</span><span class="n">L</span><span class="p">)</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span> <span class="o">*</span> <span class="n">K</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">[ 0  1  1  0 -2  1 -1  1 -1 -2  2  0  0  0  0  0  0  0  0]</span>
<span class="go">[ 0  0  3  0 -3  2 -1  2 -1 -4  2 -1 -2  1  2  0  0 -1  1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.coordinate_ring">
<code class="descname">coordinate_ring</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.coordinate_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ring over which the entries of the vectors are
defined.</p>
<p>This is the same as <code class="xref py py-meth docutils literal"><span class="pre">base_ring()</span></code> unless an explicit basis
was given over the fraction field.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Integer Ring</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Integer Ring</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">R</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">span</span><span class="p">([(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">x</span><span class="p">)])</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">span</span><span class="p">([(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)])</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">span</span><span class="p">([])</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.coordinate_vector">
<code class="descname">coordinate_vector</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.coordinate_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the vector whose coefficients give <span class="math">\(v\)</span> as a linear
combination of the basis for self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> &#8211; vector</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">check</span></code> &#8211; bool (default: True); if True, also verify that</dt>
<dd><span class="math">\(v\)</span> is really in self.</dd>
</dl>
</li>
</ul>
<p>OUTPUT: list</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="n">M0</span><span class="p">,</span><span class="n">M1</span><span class="o">=</span><span class="n">M</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">M0</span> <span class="o">+</span> <span class="n">M1</span><span class="p">,</span> <span class="n">M0</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">M1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">M0</span> <span class="o">-</span> <span class="n">M1</span><span class="p">)</span>
<span class="go">(2, -1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.coordinates">
<code class="descname">coordinates</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Write <span class="math">\(v\)</span> in terms of the basis for self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> &#8211; vector</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">check</span></code> &#8211; bool (default: True); if True, also verify that</dt>
<dd><span class="math">\(v\)</span> is really in self.</dd>
</dl>
</li>
</ul>
<p>OUTPUT: list</p>
<p>Returns a list <span class="math">\(c\)</span> such that if <span class="math">\(B\)</span> is the basis
for self, then</p>
<div class="math">
\[\begin{split}\\sum c_i B_i = v.\end{split}\]</div>
<p>If <span class="math">\(v\)</span> is not in self, raise an <code class="docutils literal"><span class="pre">ArithmeticError</span></code> exception.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="n">M0</span><span class="p">,</span><span class="n">M1</span><span class="o">=</span><span class="n">M</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">M0</span> <span class="o">+</span> <span class="n">M1</span><span class="p">,</span> <span class="n">M0</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">M1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">coordinates</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">M0</span><span class="o">-</span><span class="n">M1</span><span class="p">)</span>
<span class="go">[2, -1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.degree">
<code class="descname">degree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.degree" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the degree of this free module. This is the dimension of the
ambient vector space in which it is embedded.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">M</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="mi">2</span><span class="o">*</span><span class="n">M</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="n">M</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">M</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">M</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">3</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.dense_module">
<code class="descname">dense_module</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.dense_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Return corresponding dense module.</p>
<p>EXAMPLES:</p>
<p>We first illustrate conversion with ambient spaces:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">sparse_module</span><span class="p">()</span>
<span class="go">Sparse vector space of dimension 3 over Rational Field</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">dense_module</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">sparse_module</span><span class="p">()</span> <span class="o">==</span> <span class="n">S</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">dense_module</span><span class="p">()</span> <span class="o">==</span> <span class="n">M</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">dense_module</span><span class="p">()</span> <span class="o">==</span> <span class="n">M</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">sparse_module</span><span class="p">()</span> <span class="o">==</span> <span class="n">S</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Next we create a subspace:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="p">]</span> <span class="p">);</span> <span class="n">V</span>
<span class="go">Sparse vector space of degree 3 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 2 3]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">sparse_module</span><span class="p">()</span>
<span class="go">Sparse vector space of degree 3 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 2 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.dimension">
<code class="descname">dimension</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.dimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dimension of this free module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">FiniteField</span><span class="p">(</span><span class="mi">19</span><span class="p">),</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">M</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">50</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">dimension</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.direct_sum">
<code class="descname">direct_sum</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.direct_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the direct sum of self and other as a free module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">]]);</span> <span class="n">V</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   0  14]</span>
<span class="go">[  0   1  -3]</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   4   2]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">direct_sum</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">Free module of degree 6 and rank 3 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   0  14   0   0   0]</span>
<span class="go">[  0   1  -3   0   0   0]</span>
<span class="go">[  0   0   0 1/2   4   2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.discriminant">
<code class="descname">discriminant</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.discriminant" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the discriminant of this free module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">discriminant</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">discriminant</span><span class="p">()</span>
<span class="go">14</span>
<span class="gp">sage: </span><span class="n">W2</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W2</span><span class="o">.</span><span class="n">discriminant</span><span class="p">()</span>
<span class="go">6</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.echelonized_basis_matrix">
<code class="descname">echelonized_basis_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.echelonized_basis_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>The echelonized basis matrix (not implemented for this module).</p>
<p>This example works because M is an ambient module. Submodule
creation should exist for generic modules.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">S</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">echelonized_basis_matrix</span><span class="p">()</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 0 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.free_module">
<code class="descname">free_module</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.free_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Return this free module. (This is used by the
<code class="docutils literal"><span class="pre">FreeModule</span></code> functor, and simply returns self.)</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">free_module</span><span class="p">()</span>
<span class="go">Ambient free module of rank 3 over the principal ideal domain Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.gen">
<code class="descname">gen</code><span class="sig-paren">(</span><em>i=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <span class="math">\(i\)</span>-th generator for <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>Here <span class="math">\(i\)</span> is between 0 and rank - 1, inclusive.</p>
<p>INPUT:</p>
<ul class="simple">
<li><span class="math">\(i\)</span> &#8211; an integer (default 0)</li>
</ul>
<p>OUTPUT: <span class="math">\(i\)</span>-th basis vector for <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="n">n</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="p">[</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">[(1, 0, 0, 0, 0),</span>
<span class="go">(0, 1, 0, 0, 0),</span>
<span class="go">(0, 0, 1, 0, 0),</span>
<span class="go">(0, 0, 0, 1, 0),</span>
<span class="go">(0, 0, 0, 0, 1)]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.gens">
<code class="descname">gens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple of basis elements of <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">((1, 0, 0), (0, 1, 0), (0, 0, 1))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.gram_matrix">
<code class="descname">gram_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.gram_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the gram matrix associated to this free module, defined to
be <span class="math">\(G = B*A*B.transpose()\)</span>, where A is the inner product matrix
(induced from the ambient space), and B the basis matrix.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">V</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">V</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">w</span> <span class="o">=</span> <span class="n">V</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">span</span><span class="p">([</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span><span class="p">],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span> <span class="o">==</span> <span class="n">V</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule_with_basis</span><span class="p">([</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span> <span class="o">==</span> <span class="n">M</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">gram_matrix</span><span class="p">()</span>
<span class="go">[1 1 1]</span>
<span class="go">[1 2 1]</span>
<span class="go">[1 1 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.has_user_basis">
<code class="descname">has_user_basis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.has_user_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the basis of this free module is
specified by the user, as opposed to being the default echelon
form.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;1/2&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">has_user_basis</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace_with_basis</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;1/2&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">has_user_basis</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.inner_product_matrix">
<code class="descname">inner_product_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.inner_product_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default identity inner product matrix associated to this
module.</p>
<p>By definition this is the inner product matrix of the ambient
space, hence may be of degree greater than the rank of the module.</p>
<p>TODO: Differentiate the image ring of the inner product from the
base ring of the module and/or ambient space. E.g. On an integral
module over ZZ the inner product pairing could naturally take
values in ZZ, QQ, RR, or CC.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 0 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.is_ambient">
<code class="descname">is_ambient</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.is_ambient" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns False since this is not an ambient free module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]);</span> <span class="n">M</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1 2 3]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_ambient</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span>
<span class="go">Free module of degree 2 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1 0]</span>
<span class="go">[0 1]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_ambient</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">==</span> <span class="n">M</span><span class="o">.</span><span class="n">ambient_module</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.is_dense">
<code class="descname">is_dense</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.is_dense" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the underlying representation of
this module uses dense vectors, and False otherwise.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_dense</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">is_dense</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.is_finite">
<code class="descname">is_finite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.is_finite" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the underlying set of this free module is finite.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_finite</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_finite</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_finite</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.is_full">
<code class="descname">is_full</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.is_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the rank of this module equals its
degree.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_full</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_full</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.is_sparse">
<code class="descname">is_sparse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.is_sparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the underlying representation of
this module uses sparse vectors, and False otherwise.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.is_submodule">
<code class="descname">is_submodule</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.is_submodule" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if <code class="docutils literal"><span class="pre">self</span></code> is a submodule of <code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">X</span> <span class="o">+</span> <span class="n">Y</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">Y</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Since <a class="reference internal" href="#sage.modules.free_module.FreeModule_generic.basis" title="sage.modules.free_module.FreeModule_generic.basis"><code class="xref py py-meth docutils literal"><span class="pre">basis()</span></code></a> is not implemented in general, submodule
testing does not work for all PID&#8217;s. However, trivial cases are
already used (and useful) for coercion, e.g.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQ</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">vector</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">][</span><span class="s1">&#39;y&#39;</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">(1/2, 1, 3/2, 2)</span>
<span class="gp">sage: </span><span class="n">vector</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">][</span><span class="s1">&#39;y&#39;</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span> <span class="o">*</span> <span class="n">QQ</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(1/2, 1, 3/2, 2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.matrix">
<code class="descname">matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the basis matrix of this module, which is the matrix whose
rows are a basis for this module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>
<span class="go">[1 0]</span>
<span class="go">[0 1]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">M</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">M</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">M</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">M</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">)])</span><span class="o">.</span><span class="n">matrix</span><span class="p">()</span>
<span class="go">[1 1]</span>
<span class="go">[0 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.ngens">
<code class="descname">ngens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.ngens" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of basis elements of this free module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">ngens</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">ngens</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">ngens</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.nonembedded_free_module">
<code class="descname">nonembedded_free_module</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.nonembedded_free_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an ambient free module that is isomorphic to this free
module.</p>
<p>Thus if this free module is of rank <span class="math">\(n\)</span> over a ring
<span class="math">\(R\)</span>, then this function returns <span class="math">\(R^n\)</span>, as an
ambient free module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">nonembedded_free_module</span><span class="p">()</span>
<span class="go">Ambient free module of rank 1 over the principal ideal domain Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.random_element">
<code class="descname">random_element</code><span class="sig-paren">(</span><em>prob=1.0</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.random_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random element of self.</p>
<p>INPUT:</p>
<dl class="docutils">
<dt>&#8211; <code class="docutils literal"><span class="pre">prob</span></code> - float. Each coefficient will be set to zero with</dt>
<dd>probability <span class="math">\(1-prob\)</span>. Otherwise coefficients will be chosen
randomly from base ring (and may be zero).</dd>
<dt>&#8211; <code class="docutils literal"><span class="pre">*args,</span> <span class="pre">**kwds</span></code> - passed on to <code class="docutils literal"><span class="pre">random_element()</span></code> function</dt>
<dd>of base ring.</dd>
</dl>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="go">(-1, -1)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="go">(2, 2)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="go">(1, 1)</span>
</pre></div>
</div>
<p>Passes extra positional or keyword arguments through:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="go">(9, 9)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.rank">
<code class="descname">rank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.rank" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the rank of this free module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="mi">10000000</span><span class="p">)</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">10000000</span>
<span class="gp">sage: </span><span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.some_elements">
<code class="descname">some_elements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.some_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Return some elements of this free module.</p>
<p>See <a class="reference external" href="../../../misc/sage/misc/sage_unittest.html#sage.misc.sage_unittest.TestSuite" title="(in Sage Reference Manual: Utilities v8.0)"><code class="xref py py-class docutils literal"><span class="pre">TestSuite</span></code></a> for a typical use case.</p>
<p>OUTPUT:</p>
<p>An iterator.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">tuple</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">((1, 0),</span>
<span class="go"> (1, 1),</span>
<span class="go"> (0, 1),</span>
<span class="go"> (-1, 2),</span>
<span class="go"> (-2, 3),</span>
<span class="go"> ...</span>
<span class="go"> (-49, 50))</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">tuple</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">((1, 0, 0),</span>
<span class="go"> (1/2, 1/2, 1/2),</span>
<span class="go"> (1/2, -1/2, 2),</span>
<span class="go"> (-2, 0, 1),</span>
<span class="go"> (-1, 42, 2/3),</span>
<span class="go"> (-2/3, 3/2, -3/2),</span>
<span class="go"> (4/5, -4/5, 5/4),</span>
<span class="go"> ...</span>
<span class="go"> (46/103823, -46/103823, 103823/46))</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">SR</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">tuple</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">((1, 0), (some_variable, some_variable))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.sparse_module">
<code class="descname">sparse_module</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.sparse_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the corresponding sparse module with the same defining
data.</p>
<p>EXAMPLES:</p>
<p>We first illustrate conversion with ambient spaces:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">sparse_module</span><span class="p">()</span>
<span class="go">Ambient sparse free module of rank 3 over Ring of integers modulo 8</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">dense_module</span><span class="p">()</span>
<span class="go">Ambient free module of rank 3 over Ring of integers modulo 8</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">sparse_module</span><span class="p">()</span> <span class="ow">is</span> <span class="n">S</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">dense_module</span><span class="p">()</span> <span class="ow">is</span> <span class="n">M</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">dense_module</span><span class="p">()</span> <span class="ow">is</span> <span class="n">M</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">sparse_module</span><span class="p">()</span> <span class="ow">is</span> <span class="n">S</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Next we convert a subspace:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="p">]</span> <span class="p">);</span> <span class="n">V</span>
<span class="go">Vector space of degree 3 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 2 3]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">sparse_module</span><span class="p">()</span>
<span class="go">Sparse vector space of degree 3 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 2 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.uses_ambient_inner_product">
<code class="descname">uses_ambient_inner_product</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.uses_ambient_inner_product" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the inner product on this module is
the one induced by the ambient inner product.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">uses_ambient_inner_product</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span>
<span class="go">[1 0]</span>
<span class="go">[0 1]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">gram_matrix</span><span class="p">()</span>
<span class="go">[5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.zero">
<code class="descname">zero</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the zero vector in this free module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">zero</span><span class="p">()</span>
<span class="go">(0, 0)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">zero</span><span class="p">()</span>
<span class="go">(0, 0)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">zero_submodule</span><span class="p">()</span><span class="o">.</span><span class="n">zero</span><span class="p">()</span>
<span class="go">(0, 0)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">zero_submodule</span><span class="p">()</span><span class="o">.</span><span class="n">zero</span><span class="p">()</span><span class="o">.</span><span class="n">is_mutable</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic.zero_vector">
<code class="descname">zero_vector</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic.zero_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the zero vector in this free module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">zero_vector</span><span class="p">()</span>
<span class="go">(0, 0)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(0, 0)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">zero_vector</span><span class="p">()</span>
<span class="go">(0, 0)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">zero_submodule</span><span class="p">()</span><span class="o">.</span><span class="n">zero_vector</span><span class="p">()</span>
<span class="go">(0, 0)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModule_generic_field">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModule_generic_field</code><span class="sig-paren">(</span><em>base_field</em>, <em>dimension</em>, <em>degree</em>, <em>sparse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_generic_pid" title="sage.modules.free_module.FreeModule_generic_pid"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_generic_pid</span></code></a></p>
<p>Base class for all free modules over fields.</p>
<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.complement">
<code class="descname">complement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.complement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the complement of <code class="docutils literal"><span class="pre">self</span></code> in the
<a class="reference internal" href="#sage.modules.free_module.FreeModule_ambient_field.ambient_vector_space" title="sage.modules.free_module.FreeModule_ambient_field.ambient_vector_space"><code class="xref py py-meth docutils literal"><span class="pre">ambient_vector_space()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">complement</span><span class="p">()</span>
<span class="go">Vector space of degree 3 and dimension 0 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">==</span> <span class="n">V</span><span class="o">.</span><span class="n">complement</span><span class="p">()</span><span class="o">.</span><span class="n">complement</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">complement</span><span class="p">();</span> <span class="n">X</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  0]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">complement</span><span class="p">()</span> <span class="o">==</span> <span class="n">W</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">+</span> <span class="n">W</span> <span class="o">==</span> <span class="n">V</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Even though we construct a subspace of a subspace, the
orthogonal complement is still done in the ambient vector
space <span class="math">\(\QQ^3\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace_with_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">subspace_with_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">complement</span><span class="p">()</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  0]</span>
</pre></div>
</div>
<p>All these complements are only done with respect to the inner
product in the usual basis.  Over finite fields, this means
we can get complements which are only isomorphic to a vector
space decomposition complement.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F2</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">F2</span><span class="o">^</span><span class="mi">6</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">Vector space of degree 6 and dimension 1 over Finite Field of size 2</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1 0 0 0 0]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">complement</span><span class="p">()</span>
<span class="go">Vector space of degree 6 and dimension 5 over Finite Field of size 2</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1 0 0 0 0]</span>
<span class="go">[0 0 1 0 0 0]</span>
<span class="go">[0 0 0 1 0 0]</span>
<span class="go">[0 0 0 0 1 0]</span>
<span class="go">[0 0 0 0 0 1]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">complement</span><span class="p">())</span>
<span class="go">Vector space of degree 6 and dimension 1 over Finite Field of size 2</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1 0 0 0 0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.echelonized_basis_matrix">
<code class="descname">echelonized_basis_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.echelonized_basis_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return basis matrix for self in row echelon form.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">[1 2 3]</span>
<span class="go">[4 5 6]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">echelonized_basis_matrix</span><span class="p">()</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.intersection">
<code class="descname">intersection</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the intersection of self and other, which must be
R-submodules of a common ambient vector space.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span>  <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W1</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">W2</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">2</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">W1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">W2</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[0 1 0]</span>
<span class="gp">sage: </span><span class="n">W2</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">W1</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[0 1 0]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">W1</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="gp">sage: </span><span class="n">W1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="gp">sage: </span><span class="n">Z</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">submodule</span><span class="p">([])</span>
<span class="gp">sage: </span><span class="n">W1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 0 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.is_subspace">
<code class="descname">is_subspace</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.is_subspace" title="Permalink to this definition">¶</a></dt>
<dd><p>True if this vector space is a subspace of other.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">W2</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_subspace</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W2</span><span class="o">.</span><span class="n">is_subspace</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_subspace</span><span class="p">(</span><span class="n">W2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W2</span><span class="o">.</span><span class="n">is_subspace</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.linear_dependence">
<code class="descname">linear_dependence</code><span class="sig-paren">(</span><em>vectors</em>, <em>zeros='left'</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.linear_dependence" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of vectors giving relations of linear dependence for the input list of vectors.
Can be used to check linear independence of a set of vectors.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">vectors</span></code> &#8211; A list of vectors, all from the same vector
space.</li>
<li><code class="docutils literal"><span class="pre">zeros</span></code> &#8211; default: <code class="docutils literal"><span class="pre">'left'</span></code> - <code class="docutils literal"><span class="pre">'left'</span></code> or <code class="docutils literal"><span class="pre">'right'</span></code>
as a general preference for where zeros are located in the
returned coefficients</li>
<li><code class="docutils literal"><span class="pre">check</span></code> &#8211; default: <code class="docutils literal"><span class="pre">True</span></code> - if <code class="docutils literal"><span class="pre">True</span></code> each item in
the list <code class="docutils literal"><span class="pre">vectors</span></code> is checked for membership in <code class="docutils literal"><span class="pre">self</span></code>.
Set to <code class="docutils literal"><span class="pre">False</span></code> if you can be certain the vectors come from
the vector space.</li>
</ul>
<p>OUTPUT:</p>
<p>Returns a list of vectors.  The scalar entries of each vector provide
the coefficients for a linear combination of the input vectors that
will equal the zero vector in <code class="docutils literal"><span class="pre">self</span></code>.  Furthermore, the returned list
is linearly independent in the vector space over the same base field
with degree equal to the length of the list <code class="docutils literal"><span class="pre">vectors</span></code>.</p>
<p>The linear independence of <code class="docutils literal"><span class="pre">vectors</span></code> is equivalent to the returned
list being empty, so this provides a test - see the examples below.</p>
<p>The returned vectors are always independent, and with <code class="docutils literal"><span class="pre">zeros</span></code> set to
<code class="docutils literal"><span class="pre">'left'</span></code> they have 1&#8217;s in their first non-zero entries and a qualitative
disposition to having zeros in the low-index entries.  With <code class="docutils literal"><span class="pre">zeros</span></code> set
to <code class="docutils literal"><span class="pre">'right'</span></code> the situation is reversed with a qualitative disposition
for zeros in the high-index entries.</p>
<p>If the vectors in <code class="docutils literal"><span class="pre">vectors</span></code> are made the rows of a matrix <span class="math">\(V\)</span> and
the returned vectors are made the rows of a matrix <span class="math">\(R\)</span>, then the
matrix product <span class="math">\(RV\)</span> is a zero matrix of the proper size.  And
<span class="math">\(R\)</span> is a matrix of full rank.  This routine uses kernels of
matrices to compute these relations of linear dependence,
but handles all the conversions between sets of vectors
and matrices. If speed is important, consider working with
the appropriate matrices and kernels instead.</p>
<p>EXAMPLES:</p>
<p>We begin with two linearly independent vectors, and add three
non-trivial linear combinations to the set.  We illustrate
both types of output and check a selected relation of linear
dependence.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v1</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v2</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">4</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">linear_dependence</span><span class="p">([</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">])</span>
<span class="go">[</span>

<span class="go">]</span>

<span class="gp">sage: </span><span class="n">v3</span> <span class="o">=</span> <span class="n">v1</span> <span class="o">+</span> <span class="n">v2</span>
<span class="gp">sage: </span><span class="n">v4</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="n">v1</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">v2</span>
<span class="gp">sage: </span><span class="n">v5</span> <span class="o">=</span> <span class="o">-</span><span class="n">v1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">v2</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">,</span> <span class="n">v4</span><span class="p">,</span> <span class="n">v5</span><span class="p">]</span>

<span class="gp">sage: </span><span class="n">relations</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">linear_dependence</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">zeros</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">relations</span>
<span class="go">[</span>
<span class="go">(1, 0, 0, -1, -2),</span>
<span class="go">(0, 1, 0, -1/2, -3/2),</span>
<span class="go">(0, 0, 1, -3/2, -7/2)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">v2</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">v4</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">v5</span>
<span class="go">(0, 0, 0, 0)</span>

<span class="gp">sage: </span><span class="n">relations</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">linear_dependence</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">zeros</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">relations</span>
<span class="go">[</span>
<span class="go">(-1, -1, 1, 0, 0),</span>
<span class="go">(-3, 4, 0, 1, 0),</span>
<span class="go">(1, -2, 0, 0, 1)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">relations</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">))])</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">==</span> <span class="n">zero_vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A linearly independent set returns an empty list,
a result that can be tested.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v1</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v2</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">relations</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">linear_dependence</span><span class="p">([</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">]);</span> <span class="n">relations</span>
<span class="go">[</span>

<span class="go">]</span>
<span class="gp">sage: </span><span class="n">relations</span> <span class="o">==</span> <span class="p">[]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Exact results result from exact fields. We start with three
linearly independent vectors and add in two linear combinations
to make a linearly dependent set of five vectors.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FiniteField</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v1</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v2</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">15</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v3</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">F</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">linear_dependence</span><span class="p">([</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">])</span> <span class="o">==</span> <span class="p">[]</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">v1</span><span class="o">+</span><span class="n">v2</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">v2</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="n">v3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">F</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">linear_dependence</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">(1, 0, 16, 8, 3),</span>
<span class="go">(0, 1, 2, 0, 11)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">v1</span> <span class="o">+</span> <span class="mi">16</span><span class="o">*</span><span class="n">v3</span> <span class="o">+</span> <span class="mi">8</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">v1</span><span class="o">+</span><span class="n">v2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">v2</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="n">v3</span><span class="p">)</span>
<span class="go">(0, 0, 0, 0, 0)</span>
<span class="gp">sage: </span><span class="n">v2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">v3</span> <span class="o">+</span> <span class="mi">11</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">v2</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="n">v3</span><span class="p">)</span>
<span class="go">(0, 0, 0, 0, 0)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">F</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">linear_dependence</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">zeros</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">(15, 16, 0, 1, 0),</span>
<span class="go">(0, 14, 11, 0, 1)</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.quotient">
<code class="descname">quotient</code><span class="sig-paren">(</span><em>sub</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.quotient" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the quotient of self by the given subspace sub.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sub</span></code> - a submodule of self, or something that can
be turned into one via self.submodule(sub).</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - (default: True) whether or not to check
that sub is a submodule.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">V</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">quotient</span><span class="p">(</span> <span class="p">[</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">]</span> <span class="p">);</span> <span class="n">Q</span>
<span class="go">Vector space quotient V/W of dimension 1 over Rational Field where</span>
<span class="go">V: Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  2]</span>
<span class="go">W: Vector space of degree 3 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1 1]</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(0)</span>
</pre></div>
</div>
<p>We illustrate that the base rings must be the same:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">QQ</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">base rings must be the same</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.quotient_abstract">
<code class="descname">quotient_abstract</code><span class="sig-paren">(</span><em>sub</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.quotient_abstract" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an ambient free module isomorphic to the quotient space of
self modulo sub, together with maps from self to the quotient, and
a lifting map in the other direction.</p>
<p>Use <code class="docutils literal"><span class="pre">self.quotient(sub)</span></code> to obtain the quotient
module as an object equipped with natural maps in both directions,
and a canonical coercion.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sub</span></code> - a submodule of self, or something that can
be turned into one via self.submodule(sub).</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - (default: True) whether or not to check
that sub is a submodule.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">U</span></code> - the quotient as an abstract <em>ambient</em> free
module</li>
<li><code class="docutils literal"><span class="pre">pi</span></code> - projection map to the quotient</li>
<li><code class="docutils literal"><span class="pre">lift</span></code> - lifting map back from quotient</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">19</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="p">])</span>
<span class="gp">sage: </span><span class="n">U</span><span class="p">,</span><span class="n">pi</span><span class="p">,</span><span class="n">lift</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">quotient_abstract</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(18)</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(1)</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="n">V</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(0)</span>
</pre></div>
</div>
<p>Another example involving a quotient of one subspace by another.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="p">(</span><span class="n">A</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">kernel</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">kernel</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">U</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">lift</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">quotient_abstract</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">pi</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">W</span><span class="o">.</span><span class="n">gens</span><span class="p">()]</span>
<span class="go">[True]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">pi</span><span class="p">(</span><span class="n">lift</span><span class="p">(</span><span class="n">b</span><span class="p">))</span> <span class="o">==</span> <span class="n">b</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">U</span><span class="o">.</span><span class="n">basis</span><span class="p">()]</span>
<span class="go">[True, True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.scale">
<code class="descname">scale</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the product of self by the number other, which is the module
spanned by other times each basis vector. Since self is a vector
space this product equals self if other is nonzero, and is the zero
vector space if other is 0.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">4</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Vector space of dimension 4 over Rational Field</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Vector space of degree 4 and dimension 0 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Vector space of degree 4 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1 1 1]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Vector space of degree 4 and dimension 0 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">4</span><span class="p">;</span> <span class="n">V</span>
<span class="go">Vector space of dimension 4 over Rational Field</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">Vector space of dimension 4 over Rational Field</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Vector space of degree 4 and dimension 0 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.span">
<code class="descname">span</code><span class="sig-paren">(</span><em>gens</em>, <em>base_ring=None</em>, <em>check=True</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.span" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the K-span of the given list of gens, where K is the
base field of self or the user-specified base_ring.  Note that
this span is a subspace of the ambient vector space, but need
not be a subspace of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">gens</span></code> - list of vectors</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - bool (default: True): whether or not to
coerce entries of gens into base field</li>
<li><code class="docutils literal"><span class="pre">already_echelonized</span></code> - bool (default: False):
set this if you know the gens are already in echelon form</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 1 over Finite Field of size 7</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 5 2]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="go">Vector space of degree 3 and dimension 1 over Finite Field of size 7</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.span_of_basis">
<code class="descname">span_of_basis</code><span class="sig-paren">(</span><em>basis</em>, <em>base_ring=None</em>, <em>check=True</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.span_of_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the free K-module with the given basis, where K is the base
field of self or user specified base_ring.</p>
<p>Note that this span is a subspace of the ambient vector space, but
need not be a subspace of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">basis</span></code> - list of vectors</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - bool (default: True): whether or not to
coerce entries of gens into base field</li>
<li><code class="docutils literal"><span class="pre">already_echelonized</span></code> - bool (default: False):
set this if you know the gens are already in echelon form</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 1 over Finite Field of size 7</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 5 2]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="go">Vector space of degree 3 and dimension 2 over Finite Field of size 7</span>
<span class="go">User basis matrix:</span>
<span class="go">[2 2 2]</span>
<span class="go">[3 3 0]</span>
</pre></div>
</div>
<p>The basis vectors must be linearly independent or a
<code class="docutils literal"><span class="pre">ValueError</span></code> exception is raised:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The given basis vectors must be linearly independent.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.subspace">
<code class="descname">subspace</code><span class="sig-paren">(</span><em>gens</em>, <em>check=True</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.subspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the subspace of self spanned by the elements of gens.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">gens</span></code> - list of vectors</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - bool (default: True) verify that gens
are all in self.</li>
<li><code class="docutils literal"><span class="pre">already_echelonized</span></code> - bool (default: False) set
to True if you know the gens are in Echelon form.</li>
</ul>
<p>EXAMPLES:</p>
<p>First we create a 1-dimensional vector subspace of an
ambient <span class="math">\(3\)</span>-dimensional space over the finite field of
order <span class="math">\(7\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 1 over Finite Field of size 7</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 5 2]</span>
</pre></div>
</div>
<p>Next we create an invalid subspace, but it&#8217;s allowed since
<code class="docutils literal"><span class="pre">check=False</span></code>. This is just equivalent to computing
the span of the element:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]],</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 1 over Finite Field of size 7</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1 0]</span>
</pre></div>
</div>
<p>With <code class="docutils literal"><span class="pre">check=True</span></code> (the default) the mistake is correctly
detected and reported with an <code class="docutils literal"><span class="pre">ArithmeticError</span></code> exception:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]],</span> <span class="n">check</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ArithmeticError</span>: <span class="n">Argument gens (= [[1, 1, 0]]) does not generate a submodule of self.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.subspace_with_basis">
<code class="descname">subspace_with_basis</code><span class="sig-paren">(</span><em>gens</em>, <em>check=True</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.subspace_with_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <code class="docutils literal"><span class="pre">self.submodule_with_basis(...)</span></code>.</p>
<p>EXAMPLES:</p>
<p>We create a subspace with a user-defined basis.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace_with_basis</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 2 over Finite Field of size 7</span>
<span class="go">User basis matrix:</span>
<span class="go">[2 2 2]</span>
<span class="go">[1 2 3]</span>
</pre></div>
</div>
<p>We then create a subspace of the subspace with user-defined basis.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W1</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">subspace_with_basis</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]]);</span> <span class="n">W1</span>
<span class="go">Vector space of degree 3 and dimension 1 over Finite Field of size 7</span>
<span class="go">User basis matrix:</span>
<span class="go">[3 4 5]</span>
</pre></div>
</div>
<p>Notice how the basis for the same subspace is different if we
merely use the <code class="docutils literal"><span class="pre">subspace</span></code> command.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W2</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]]);</span> <span class="n">W2</span>
<span class="go">Vector space of degree 3 and dimension 1 over Finite Field of size 7</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 6 4]</span>
</pre></div>
</div>
<p>Nonetheless the two subspaces are equal (as mathematical objects):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W1</span> <span class="o">==</span> <span class="n">W2</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.subspaces">
<code class="descname">subspaces</code><span class="sig-paren">(</span><em>dim</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.subspaces" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over all subspaces of dimension dim.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">dim</span></code> - int, dimension of subspaces to be generated</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="n">subspaces</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="n">subspaces</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
<span class="go">121</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="n">subspaces</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="go">1210</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="n">subspaces</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">1210</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="n">subspaces</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span>
<span class="go">121</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="n">subspaces</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([</span><span class="n">V</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]),</span><span class="n">V</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])])</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">V</span><span class="o">.</span><span class="n">subspaces</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[Vector space of degree 5 and dimension 1 over Finite Field of size 3</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1 0 0 0],</span>
<span class="go"> Vector space of degree 5 and dimension 1 over Finite Field of size 3</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1 1 1 0],</span>
<span class="go"> Vector space of degree 5 and dimension 1 over Finite Field of size 3</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1 2 2 0],</span>
<span class="go"> Vector space of degree 5 and dimension 1 over Finite Field of size 3</span>
<span class="go">Basis matrix:</span>
<span class="go">[0 0 1 1 0]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.vector_space">
<code class="descname">vector_space</code><span class="sig-paren">(</span><em>base_field=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.vector_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the vector space associated to self. Since self is a vector
space this function simply returns self, unless the base field is
different.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]],</span><span class="n">QQ</span><span class="p">);</span> <span class="n">V</span>
<span class="go">Vector space of degree 3 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 2 3]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">vector_space</span><span class="p">()</span>
<span class="go">Vector space of degree 3 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 2 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.zero_submodule">
<code class="descname">zero_submodule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.zero_submodule" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the zero submodule of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">QQ</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">zero_submodule</span><span class="p">()</span>
<span class="go">Vector space of degree 4 and dimension 0 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_field.zero_subspace">
<code class="descname">zero_subspace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_field.zero_subspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the zero subspace of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">QQ</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">zero_subspace</span><span class="p">()</span>
<span class="go">Vector space of degree 4 and dimension 0 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModule_generic_pid">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModule_generic_pid</code><span class="sig-paren">(</span><em>base_ring</em>, <em>rank</em>, <em>degree</em>, <em>sparse=False</em>, <em>coordinate_ring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_generic" title="sage.modules.free_module.FreeModule_generic"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_generic</span></code></a></p>
<p>Base class for all free modules over a PID.</p>
<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.denominator">
<code class="descname">denominator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.denominator" title="Permalink to this definition">¶</a></dt>
<dd><p>The denominator of the basis matrix of self (i.e. the LCM of the
coordinate entries with respect to the basis of the ambient
space).</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]],</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[ 1/5 19/6 37/3]</span>
<span class="go">[   0 23/6 46/3]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">denominator</span><span class="p">()</span>
<span class="go">30</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.index_in">
<code class="descname">index_in</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.index_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lattice index [other:self] of self in other, as an
element of the base field. When self is contained in other, the
lattice index is the usual index. If the index is infinite, then
this function returns infinity.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L1</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L2</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L2</span><span class="o">.</span><span class="n">index_in</span><span class="p">(</span><span class="n">L1</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Note that the free modules being compared need not be integral.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L1</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="s1">&#39;1/2&#39;</span><span class="p">,</span><span class="s1">&#39;1/3&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L2</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L2</span><span class="o">.</span><span class="n">index_in</span><span class="p">(</span><span class="n">L1</span><span class="p">)</span>
<span class="go">12/7</span>
<span class="gp">sage: </span><span class="n">L1</span><span class="o">.</span><span class="n">index_in</span><span class="p">(</span><span class="n">L2</span><span class="p">)</span>
<span class="go">7/12</span>
<span class="gp">sage: </span><span class="n">L1</span><span class="o">.</span><span class="n">discriminant</span><span class="p">()</span> <span class="o">/</span> <span class="n">L2</span><span class="o">.</span><span class="n">discriminant</span><span class="p">()</span>
<span class="go">49/144</span>
</pre></div>
</div>
<p>The index of a lattice of infinite index is infinite.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L1</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L2</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L2</span><span class="o">.</span><span class="n">index_in</span><span class="p">(</span><span class="n">L1</span><span class="p">)</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.index_in_saturation">
<code class="descname">index_in_saturation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.index_in_saturation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index of this module in its saturation, i.e., its
intersection with <span class="math">\(R^n\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">index_in_saturation</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">index_in_saturation</span><span class="p">()</span>
<span class="go">1/6</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.intersection">
<code class="descname">intersection</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the intersection of self and other.</p>
<p>EXAMPLES:</p>
<p>We intersect two submodules one of which is clearly
contained in the other.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M2</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="go">Free module of degree 2 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[3 3]</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span> <span class="ow">is</span> <span class="n">M2</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We intersection two submodules of <span class="math">\(\ZZ^3\)</span> of rank
<span class="math">\(2\)</span>, whose intersection has rank <span class="math">\(1\)</span>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M2</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[2 2 2]</span>
</pre></div>
</div>
<p>We compute an intersection of two <span class="math">\(\ZZ\)</span>-modules that
are not submodules of <span class="math">\(\ZZ^2\)</span>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M2</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="go">Free module of degree 2 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/3 2/3]</span>
</pre></div>
</div>
<p>We intersect a <span class="math">\(\ZZ\)</span>-module with a
<span class="math">\(\QQ\)</span>-vector space.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">K</span><span class="p">)</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   0 1/2]</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   0 1/2]</span>
</pre></div>
</div>
<p>We intersect two modules over the ring of integers of a number field:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">w</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">OL</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">ring_of_integers</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">L</span><span class="o">**</span><span class="mi">3</span><span class="p">;</span> <span class="n">W1</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="n">w</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">17</span><span class="p">]],</span> <span class="n">OL</span><span class="p">);</span> <span class="n">W2</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">0</span><span class="p">,(</span><span class="mi">1</span><span class="o">-</span><span class="n">w</span><span class="p">)</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">]],</span> <span class="n">OL</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">W2</span><span class="p">)</span>
<span class="go">Free module of degree 3 and rank 1 over Maximal Order in Number Field in w with defining polynomial x^2 - x + 2</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[  0 2/5   0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.quotient">
<code class="descname">quotient</code><span class="sig-paren">(</span><em>sub</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.quotient" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the quotient of self by the given submodule sub.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sub</span></code> - a submodule of self, or something that can
be turned into one via self.submodule(sub).</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - (default: True) whether or not to check
that sub is a submodule.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">V</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">quotient</span><span class="p">(</span> <span class="p">[</span><span class="n">V</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="n">V</span><span class="o">.</span><span class="mi">1</span><span class="p">]</span> <span class="p">);</span> <span class="n">Q</span>
<span class="go">Finitely generated module V/W over Integer Ring with invariants (0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.saturation">
<code class="descname">saturation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.saturation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the saturated submodule of <span class="math">\(R^n\)</span> that spans the same
vector space as self.</p>
<p>EXAMPLES:</p>
<p>We create a 1-dimensional lattice that is obviously not
saturated and saturate it.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">6</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">);</span> <span class="n">L</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[9 9 6]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">saturation</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[3 3 2]</span>
</pre></div>
</div>
<p>We create a lattice spanned by two vectors, and saturate.
Computation of discriminants shows that the index of lattice in its
saturation is <span class="math">\(3\)</span>, which is a prime of congruence between
the two generating vectors.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">saturation</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  2]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">discriminant</span><span class="p">()</span>
<span class="go">54</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">saturation</span><span class="p">()</span><span class="o">.</span><span class="n">discriminant</span><span class="p">()</span>
<span class="go">6</span>
</pre></div>
</div>
<p>Notice that the saturation of a non-integral lattice <span class="math">\(L\)</span> is
defined, but the result is integral hence does not contain
<span class="math">\(L\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="s1">&#39;1/2&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">saturation</span><span class="p">()</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1 2 6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.scale">
<code class="descname">scale</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the product of this module by the number other, which is the
module spanned by other times each basis vector.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Free module of degree 3 and rank 3 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[2 0 0]</span>
<span class="go">[0 2 0]</span>
<span class="go">[0 0 2]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">(</span><span class="s1">&#39;1/3&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">Free module of degree 3 and rank 3 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/3   0   0]</span>
<span class="go">[  0 1/3   0]</span>
<span class="go">[  0   0 1/3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.span">
<code class="descname">span</code><span class="sig-paren">(</span><em>gens</em>, <em>base_ring=None</em>, <em>check=True</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.span" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the R-span of the given list of gens, where R = base_ring.
The default R is the base ring of self. Note that this span need
not be a submodule of self, nor even of the ambient space. It must,
however, be contained in the ambient vector space, i.e., the
ambient space tensored with the fraction field of R.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">span</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">)])</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[0 1 0]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">)])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ArithmeticError</span>: <span class="n">Argument gens (= [(0, 1, 0)]) does not generate a submodule of self.</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/5   0   0]</span>
<span class="go">[  0 1/4   0]</span>
</pre></div>
</div>
<p>It also works with other things than integers:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;=</span><span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">=</span><span class="n">R</span><span class="o">^</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">=</span><span class="n">L</span><span class="o">.</span><span class="n">span</span><span class="p">([(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">,)])</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">Free module of degree 1 and rank 1 over Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/x]</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">=</span><span class="n">L</span><span class="o">.</span><span class="n">span</span><span class="p">([(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">,)])</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">gens</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">(1/x)</span>
<span class="gp">sage: </span><span class="n">L2</span> <span class="o">=</span> <span class="n">R</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">L2</span><span class="o">.</span><span class="n">span</span><span class="p">([[(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">),</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">],[(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">3</span><span class="p">),</span><span class="n">x</span><span class="p">]])</span>
<span class="go">Free module of degree 2 and rank 2 over Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[x/(x^3 - 6*x^2 + 11*x - 6)  2/15*x^2 - 17/75*x - 1/75]</span>
<span class="go">[                         0 x^3 - 11/5*x^2 - 3*x + 4/5]</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal"><span class="pre">base_ring</span></code> can make a huge difference. We
repeat the previous example over the fraction field of R and
get a simpler vector space.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L2</span><span class="o">.</span><span class="n">span</span><span class="p">([[(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="p">),</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">],[(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">3</span><span class="p">),</span><span class="n">x</span><span class="p">]],</span><span class="n">base_ring</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">fraction_field</span><span class="p">())</span>
<span class="go">Vector space of degree 2 and dimension 2 over Fraction Field of Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 0]</span>
<span class="go">[0 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.span_of_basis">
<code class="descname">span_of_basis</code><span class="sig-paren">(</span><em>basis</em>, <em>base_ring=None</em>, <em>check=True</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.span_of_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the free R-module with the given basis, where R is the base
ring of self or user specified base_ring.</p>
<p>Note that this R-module need not be a submodule of self, nor even
of the ambient space. It must, however, be contained in the ambient
vector space, i.e., the ambient space tensored with the fraction
field of R.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([</span><span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])])</span>
</pre></div>
</div>
<p>Next we create two free <span class="math">\(\ZZ\)</span>-modules, neither of
which is a submodule of <span class="math">\(W\)</span>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([</span><span class="n">M</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">])])</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[2 4 0]</span>
</pre></div>
</div>
<p>The following module isn&#8217;t in the ambient module <span class="math">\(\ZZ^3\)</span>
but is contained in the ambient vector space <span class="math">\(\QQ^3\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([</span> <span class="n">V</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">]),</span> <span class="n">V</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span> <span class="p">])</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[1/5 2/5   0]</span>
<span class="go">[1/7 1/7   0]</span>
</pre></div>
</div>
<p>Of course the input basis vectors must be linearly independent:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The given basis vectors must be linearly independent.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.submodule">
<code class="descname">submodule</code><span class="sig-paren">(</span><em>gens</em>, <em>check=True</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.submodule" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the R-submodule of the ambient vector space with given
generators, where R is the base ring of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">gens</span></code> - a list of free module elements or a free
module</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - (default: True) whether or not to verify
that the gens are in self.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">FreeModule</span></code> - the submodule spanned by the
vectors in the list gens. The basis for the subspace is always put
in reduced row echelon form.</li>
</ul>
<p>EXAMPLES:</p>
<p>We create a submodule of <span class="math">\(\ZZ^3\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[ 1  1  0]</span>
<span class="go">[ 0  2 -1]</span>
</pre></div>
</div>
<p>We create a submodule of a submodule.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="mi">3</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[3 3 0]</span>
</pre></div>
</div>
<p>We try to create a submodule that isn&#8217;t really a submodule,
which results in an <code class="docutils literal"><span class="pre">ArithmeticError</span></code> exception:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ArithmeticError</span>: <span class="n">Argument gens (= [(1, -1, 0)]) does not generate a submodule of self.</span>
</pre></div>
</div>
<p>Next we create a submodule of a free module over the principal ideal
domain <span class="math">\(\QQ[x]\)</span>, which uses the general Hermite normal form functionality:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">);</span> <span class="n">x</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">x</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">2</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span> <span class="n">x</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Free module of degree 3 and rank 2 over Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[ x  0  0]</span>
<span class="go">[ 0  2 -x]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">ambient_module</span><span class="p">()</span>
<span class="go">Ambient free module of rank 3 over the principal ideal domain Univariate Polynomial Ring in x over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.submodule_with_basis">
<code class="descname">submodule_with_basis</code><span class="sig-paren">(</span><em>basis</em>, <em>check=True</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.submodule_with_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the R-submodule of the ambient vector space with given
basis, where R is the base ring of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">basis</span></code> &#8211; a list of linearly independent vectors</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">check</span></code> &#8211; whether or not to verify that each gen is in</dt>
<dd>the ambient vector space</dd>
</dl>
</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">FreeModule</span></code> &#8211; the <span class="math">\(R\)</span>-submodule with given basis</li>
</ul>
<p>EXAMPLES:</p>
<p>First we create a submodule of <span class="math">\(\ZZ^3\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule_with_basis</span><span class="p">([</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">N</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[ 1  1  0]</span>
<span class="go">[ 0  2 -1]</span>
</pre></div>
</div>
<p>A list of vectors in the ambient vector space may fail to generate
a submodule.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule_with_basis</span><span class="p">([</span> <span class="n">V</span><span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">V</span><span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ArithmeticError</span>: <span class="n">The given basis does not generate a submodule of self.</span>
</pre></div>
</div>
<p>However, we can still determine the R-span of vectors in the
ambient space, or over-ride the submodule check by setting check to
False.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span> <span class="n">V</span><span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">V</span><span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span> <span class="p">],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[ 1/2    0   1/2]</span>
<span class="go">[   0  1/2  -1/2]</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span> <span class="n">V</span><span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">V</span><span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span> <span class="p">],</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">==</span> <span class="n">Y</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Next we try to create a submodule of a free module over the
principal ideal domain <span class="math">\(\QQ[x]\)</span>, using our general Hermite normal form implementation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">);</span> <span class="n">x</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule_with_basis</span><span class="p">([</span><span class="n">x</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">2</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span> <span class="n">x</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Free module of degree 3 and rank 2 over Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">User basis matrix:</span>
<span class="go">[ x  0  0]</span>
<span class="go">[ 2  0 -x]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.vector_space_span">
<code class="descname">vector_space_span</code><span class="sig-paren">(</span><em>gens</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.vector_space_span" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the vector subspace of the ambient vector space with given
generators.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">gens</span></code> - a list of vector in self</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - whether or not to verify that each gen
is in the ambient vector space</li>
</ul>
<p>OUTPUT: a vector subspace</p>
<p>EXAMPLES:</p>
<p>We create a <span class="math">\(2\)</span>-dimensional subspace of <span class="math">\(\QQ^3\)</span>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">vector_space_span</span><span class="p">([</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[   1    0  1/2]</span>
<span class="go">[   0    1 -1/2]</span>
</pre></div>
</div>
<p>We create a subspace of a vector space over
<span class="math">\(\QQ(i)\)</span>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">vector_space_span</span><span class="p">([</span><span class="mi">2</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">2</span><span class="p">)])</span>
<span class="go">Vector space of degree 3 and dimension 1 over Number Field in a with defining polynomial x^2 + 1</span>
<span class="go">Basis matrix:</span>
<span class="go">[  1   0 3/2]</span>
</pre></div>
</div>
<p>We use the <code class="docutils literal"><span class="pre">vector_space_span</span></code> command to create a
vector subspace of the ambient vector space of a submodule of
<span class="math">\(\ZZ^3\)</span>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">vector_space_span</span><span class="p">([</span><span class="n">M</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])])</span>
<span class="go">Vector space of degree 3 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[  1 3/2   2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.vector_space_span_of_basis">
<code class="descname">vector_space_span_of_basis</code><span class="sig-paren">(</span><em>basis</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.vector_space_span_of_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the vector subspace of the ambient vector space with given
basis.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">basis</span></code> &#8211; a list of linearly independent vectors</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">check</span></code> &#8211; whether or not to verify that each gen is in</dt>
<dd>the ambient vector space</dd>
</dl>
</li>
</ul>
<p>OUTPUT: a vector subspace with user-specified basis</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">vector_space_span_of_basis</span><span class="p">([</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">User basis matrix:</span>
<span class="go">[ 1  1  0]</span>
<span class="go">[ 0  2 -1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_generic_pid.zero_submodule">
<code class="descname">zero_submodule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_generic_pid.zero_submodule" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the zero submodule of this module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">zero_submodule</span><span class="p">()</span>
<span class="go">Free module of degree 2 and rank 0 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModule_submodule_field">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModule_submodule_field</code><span class="sig-paren">(</span><em>ambient</em>, <em>gens</em>, <em>check=True</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_submodule_with_basis_field" title="sage.modules.free_module.FreeModule_submodule_with_basis_field"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_submodule_with_basis_field</span></code></a></p>
<p>An embedded vector subspace with echelonized basis.</p>
<p>EXAMPLES:</p>
<p>Since this is an embedded vector subspace with echelonized basis,
the echelon_coordinates() and user coordinates() agree:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  2]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">V</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">echelon_coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">[1, 5]</span>
<span class="gp">sage: </span><span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">W</span><span class="o">.</span><span class="n">echelon_coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">*</span> <span class="n">W</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">(1, 5, 9)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">V</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">[1, 5]</span>
<span class="gp">sage: </span><span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">W</span><span class="o">.</span><span class="n">coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">*</span> <span class="n">W</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">(1, 5, 9)</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_field.coordinate_vector">
<code class="descname">coordinate_vector</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_field.coordinate_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Write <span class="math">\(v\)</span> in terms of the user basis for self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> &#8211; vector</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">check</span></code> &#8211; bool (default: True); if True, also verify that</dt>
<dd><span class="math">\(v\)</span> is really in self.</dd>
</dl>
</li>
</ul>
<p>OUTPUT: list</p>
<p>Returns a list <span class="math">\(c\)</span> such that if <span class="math">\(B\)</span> is the basis for self, then</p>
<div class="math">
\[\sum c_i B_i = v.\]</div>
<p>If <span class="math">\(v\)</span> is not in self, raise an <code class="docutils literal"><span class="pre">ArithmeticError</span></code> exception.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  2]</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">V</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">(1, 5)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">[1, 5]</span>
<span class="gp">sage: </span><span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">W</span><span class="o">.</span><span class="n">coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">*</span> <span class="n">W</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">(1, 5, 9)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
<span class="go">(0, 2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_field.echelon_coordinates">
<code class="descname">echelon_coordinates</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_field.echelon_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Write <span class="math">\(v\)</span> in terms of the echelonized basis of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> - vector</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - bool (default: True); if True, also
verify that v is really in self.</li>
</ul>
<p>OUTPUT: list</p>
<p>Returns a list <span class="math">\(c\)</span> such that if <span class="math">\(B\)</span> is the basis for self, then</p>
<div class="math">
\[\sum c_i B_i = v.\]</div>
<p>If <span class="math">\(v\)</span> is not in self, raise an <code class="docutils literal"><span class="pre">ArithmeticError</span></code> exception.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  2]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">V</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">echelon_coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">[1, 5]</span>
<span class="gp">sage: </span><span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">W</span><span class="o">.</span><span class="n">echelon_coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">*</span> <span class="n">W</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">(1, 5, 9)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_field.has_user_basis">
<code class="descname">has_user_basis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_field.has_user_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the basis of this free module is
specified by the user, as opposed to being the default echelon
form.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;1/2&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">has_user_basis</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace_with_basis</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;1/2&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">has_user_basis</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModule_submodule_pid">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModule_submodule_pid</code><span class="sig-paren">(</span><em>ambient</em>, <em>gens</em>, <em>check=True</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid" title="sage.modules.free_module.FreeModule_submodule_with_basis_pid"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_submodule_with_basis_pid</span></code></a></p>
<p>An <span class="math">\(R\)</span>-submodule of <span class="math">\(K^n\)</span> where <span class="math">\(K\)</span> is the
fraction field of a principal ideal domain <span class="math">\(R\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">19</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[ 1  2  3]</span>
<span class="go">[ 4  5 19]</span>
</pre></div>
</div>
<p>Generic tests, including saving and loading submodules and elements:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">W</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="mi">0</span> <span class="o">+</span> <span class="n">W</span><span class="o">.</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_pid.coordinate_vector">
<code class="descname">coordinate_vector</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_pid.coordinate_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Write <span class="math">\(v\)</span> in terms of the user basis for self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> &#8211; vector</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">check</span></code> &#8211; bool (default: True); if True, also verify that</dt>
<dd><span class="math">\(v\)</span> is really in self.</dd>
</dl>
</li>
</ul>
<p>OUTPUT: list</p>
<p>Returns a list <span class="math">\(c\)</span> such that if <span class="math">\(B\)</span> is the basis for self, then</p>
<div class="math">
\[\sum c_i B_i = v.\]</div>
<p>If <span class="math">\(v\)</span> is not in self, raise an <code class="docutils literal"><span class="pre">ArithmeticError</span></code> exception.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="go">(5, -1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_pid.has_user_basis">
<code class="descname">has_user_basis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_pid.has_user_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the basis of this free module is
specified by the user, as opposed to being the default echelon
form.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">A</span>
<span class="go">Ambient free module of rank 3 over the principal ideal domain Integer Ring</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">has_user_basis</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;1/2&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">has_user_basis</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;1/2&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">has_user_basis</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_field">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModule_submodule_with_basis_field</code><span class="sig-paren">(</span><em>ambient</em>, <em>basis</em>, <em>check=True</em>, <em>echelonize=False</em>, <em>echelonized_basis=None</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_generic_field" title="sage.modules.free_module.FreeModule_generic_field"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_generic_field</span></code></a>, <a class="reference internal" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid" title="sage.modules.free_module.FreeModule_submodule_with_basis_pid"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_submodule_with_basis_pid</span></code></a></p>
<p>An embedded vector subspace with a distinguished user basis.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule_with_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">19</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">User basis matrix:</span>
<span class="go">[ 1  2  3]</span>
<span class="go">[ 4  5 19]</span>
</pre></div>
</div>
<p>Since this is an embedded vector subspace with a distinguished user
basis possibly different than the echelonized basis, the
echelon_coordinates() and user coordinates() do not agree:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">submodule_with_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">User basis matrix:</span>
<span class="go">[1 2 3]</span>
<span class="go">[4 5 6]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">V</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">echelon_coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">[1, 5]</span>
<span class="gp">sage: </span><span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">W</span><span class="o">.</span><span class="n">echelon_coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">*</span> <span class="n">W</span><span class="o">.</span><span class="n">echelonized_basis_matrix</span><span class="p">()</span>
<span class="go">(1, 5, 9)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">V</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">[5, -1]</span>
<span class="gp">sage: </span><span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">W</span><span class="o">.</span><span class="n">coordinates</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">*</span> <span class="n">W</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">(1, 5, 9)</span>
</pre></div>
</div>
<p>Generic tests, including saving and loading submodules and elements:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">W</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">FractionField</span><span class="p">(</span><span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">K</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">x</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">W</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_field.is_ambient">
<code class="descname">is_ambient</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_field.is_ambient" title="Permalink to this definition">¶</a></dt>
<dd><p>Return False since this is not an ambient module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">is_ambient</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_ambient</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">FreeModule_submodule_with_basis_pid</code><span class="sig-paren">(</span><em>ambient</em>, <em>basis</em>, <em>check=True</em>, <em>echelonize=False</em>, <em>echelonized_basis=None</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_generic_pid" title="sage.modules.free_module.FreeModule_generic_pid"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_generic_pid</span></code></a></p>
<p>Construct a submodule of a free module over PID with a distinguished basis.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ambient</span></code> &#8211; ambient free module over a principal ideal domain <span class="math">\(R\)</span>,
i.e. <span class="math">\(R^n\)</span>;</li>
<li><code class="docutils literal"><span class="pre">basis</span></code> &#8211; list of elements of <span class="math">\(K^n\)</span>, where <span class="math">\(K\)</span> is the fraction field
of <span class="math">\(R\)</span>. These elements must be linearly independent and will be used as
the default basis of the constructed submodule;</li>
<li><code class="docutils literal"><span class="pre">check</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">True</span></code>) if <code class="docutils literal"><span class="pre">False</span></code>, correctness of the input
will not be checked and type conversion may be omitted, use with care;</li>
<li><code class="docutils literal"><span class="pre">echelonize</span></code> &#8211; (default:<code class="docutils literal"><span class="pre">False</span></code>) if <code class="docutils literal"><span class="pre">True</span></code>, <code class="docutils literal"><span class="pre">basis</span></code> will be
echelonized and the result will be used as the default basis of the
constructed submodule;</li>
<li>`` echelonized_basis`` &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) if not <code class="docutils literal"><span class="pre">None</span></code>, must be
the echelonized basis spanning the same submodule as <code class="docutils literal"><span class="pre">basis</span></code>;</li>
<li><code class="docutils literal"><span class="pre">already_echelonized</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">False</span></code>) if <code class="docutils literal"><span class="pre">True</span></code>, <code class="docutils literal"><span class="pre">basis</span></code>
must be already given in the echelonized form.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><span class="math">\(R\)</span>-submodule of <span class="math">\(K^n\)</span> with the user-specified <code class="docutils literal"><span class="pre">basis</span></code>.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[1 2 3]</span>
<span class="go">[4 5 6]</span>
</pre></div>
</div>
<p>Now we create a submodule of the ambient vector space, rather than
<code class="docutils literal"><span class="pre">M</span></code> itself:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[  1   2 3/2]</span>
<span class="go">[  4   5   6]</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.ambient_module">
<code class="descname">ambient_module</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.ambient_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ambient module related to the <span class="math">\(R\)</span>-module self,
which was used when creating this module, and is of the form
<span class="math">\(R^n\)</span>. Note that self need not be contained in the ambient
module, though self will be contained in the ambient vector space.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;3/7&#39;</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[  1   2 3/7]</span>
<span class="go">[  4   5   6]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">ambient_module</span><span class="p">()</span>
<span class="go">Ambient free module of rank 3 over the principal ideal domain Integer Ring</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_submodule</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">ambient_module</span><span class="p">())</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.ambient_vector_space">
<code class="descname">ambient_vector_space</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.ambient_vector_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ambient vector space in which this free module is
embedded.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span>  <span class="n">M</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;1/5&#39;</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">N</span>
<span class="go">Free module of degree 3 and rank 1 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[  1   2 1/5]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span> <span class="ow">is</span> <span class="n">N</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If an inner product on the module is specified, then this
is preserved on the ambient vector space.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">inner_product_matrix</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">V</span>
<span class="go">Ambient quadratic space of dimension 4 over Rational Field</span>
<span class="go">Inner product matrix:</span>
<span class="go">[1 0 0 0]</span>
<span class="go">[0 1 0 0]</span>
<span class="go">[0 0 1 0]</span>
<span class="go">[0 0 0 1]</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">gram_matrix</span><span class="p">()</span>
<span class="go">[2 1 1]</span>
<span class="go">[1 2 1]</span>
<span class="go">[1 1 2]</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">==</span> <span class="n">N</span><span class="o">.</span><span class="n">ambient_vector_space</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.basis">
<code class="descname">basis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the user basis for this free module.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="go">[</span>
<span class="go">(1, 0, 0),</span>
<span class="go">(0, 1, 0),</span>
<span class="go">(0, 0, 1)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="s1">&#39;1/8&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="go">[</span>
<span class="go">(1/8, 2, 1)</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.change_ring">
<code class="descname">change_ring</code><span class="sig-paren">(</span><em>R</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.change_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the free module over <span class="math">\(R\)</span> obtained by coercing each
element of the basis of <code class="docutils literal"><span class="pre">self</span></code> into a vector over the
fraction field of <span class="math">\(R\)</span>, then taking the resulting <span class="math">\(R\)</span>-module.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">R</span></code> - a principal ideal domain</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="go">Vector space of degree 3 and dimension 1 over Finite Field of size 7</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 2 4]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span>
<span class="go">Vector space of degree 2 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 0]</span>
<span class="go">[0 1]</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">N</span>
<span class="go">Free module of degree 2 and rank 2 over Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1/2   0]</span>
<span class="go">[  0 1/2]</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
</pre></div>
</div>
<p>The ring must be a principal ideal domain:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">the new ring Univariate Polynomial Ring in x over Integer Ring should be a principal ideal domain</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.construction">
<code class="descname">construction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.construction" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the functorial construction of self, namely, the subspace
of the ambient module spanned by the given basis.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]);</span> <span class="n">W</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[1 2 3]</span>
<span class="go">[4 5 6]</span>
<span class="gp">sage: </span><span class="n">c</span><span class="p">,</span> <span class="n">V</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c</span><span class="p">(</span><span class="n">V</span><span class="p">)</span> <span class="o">==</span> <span class="n">W</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.coordinate_vector">
<code class="descname">coordinate_vector</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.coordinate_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Write <span class="math">\(v\)</span> in terms of the user basis for self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> &#8211; vector</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">check</span></code> &#8211; bool (default: True); if True, also verify that</dt>
<dd><span class="math">\(v\)</span> is really in self.</dd>
</dl>
</li>
</ul>
<p>OUTPUT: list</p>
<p>Returns a vector <span class="math">\(c\)</span> such that if <span class="math">\(B\)</span> is the basis for self, then</p>
<div class="math">
\[\sum c_i B_i = v.\]</div>
<p>If <span class="math">\(v\)</span> is not in self, raise an <code class="docutils literal"><span class="pre">ArithmeticError</span></code> exception.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="s1">&#39;1/8&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">coordinate_vector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="go">(8)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.echelon_coordinate_vector">
<code class="descname">echelon_coordinate_vector</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.echelon_coordinate_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Write <span class="math">\(v\)</span> in terms of the echelonized basis for self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> - vector</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - bool (default: True); if True, also
verify that v is really in self.</li>
</ul>
<p>Returns a list <span class="math">\(c\)</span> such that if <span class="math">\(B\)</span> is the echelonized basis
for self, then</p>
<div class="math">
\[\sum c_i B_i = v.\]</div>
<p>If <span class="math">\(v\)</span> is not in self, raise an <code class="docutils literal"><span class="pre">ArithmeticError</span></code> exception.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="s1">&#39;1/2&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;1/6&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">echelonized_basis</span><span class="p">();</span> <span class="n">B</span>
<span class="go">[</span>
<span class="go">(1/2, 0, 1),</span>
<span class="go">(0, 1/6, 0)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">echelon_coordinate_vector</span><span class="p">([</span><span class="s1">&#39;1/2&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">(1, 18)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.echelon_coordinates">
<code class="descname">echelon_coordinates</code><span class="sig-paren">(</span><em>v</em>, <em>check=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.echelon_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Write <span class="math">\(v\)</span> in terms of the echelonized basis for self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> - vector</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - bool (default: True); if True, also
verify that v is really in self.</li>
</ul>
<p>OUTPUT: list</p>
<p>Returns a list <span class="math">\(c\)</span> such that if <span class="math">\(B\)</span> is the basis
for self, then</p>
<div class="math">
\[\begin{split}\\sum c_i B_i = v.\end{split}\]</div>
<p>If <span class="math">\(v\)</span> is not in self, raise an <code class="docutils literal"><span class="pre">ArithmeticError</span></code> exception.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;3/7&#39;</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">coordinates</span><span class="p">([</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">])</span>
<span class="go">[0, 2]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">echelon_coordinates</span><span class="p">([</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">])</span>
<span class="go">[8, -2]</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">echelonized_basis</span><span class="p">();</span> <span class="n">B</span>
<span class="go">[</span>
<span class="go">(1, 2, 3/7),</span>
<span class="go">(0, 3, -30/7)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="mi">8</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">(8, 10, 12)</span>
</pre></div>
</div>
<p>We do an example with a sparse vector space:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace_with_basis</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">echelonized_basis</span><span class="p">()</span>
<span class="go">[</span>
<span class="go">(0, 1, 0, 0, 1/2),</span>
<span class="go">(0, 0, 1, 0, -1/4)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">echelon_coordinates</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
<span class="go">[0, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.echelon_to_user_matrix">
<code class="descname">echelon_to_user_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.echelon_to_user_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return matrix that transforms the echelon basis to the user basis
of self. This is a matrix <span class="math">\(A\)</span> such that if <span class="math">\(v\)</span> is a
vector written with respect to the echelon basis for self then
<span class="math">\(vA\)</span> is that vector written with respect to the user basis
of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">echelonized_basis</span><span class="p">()</span>
<span class="go">[</span>
<span class="go">(1, 0, -1),</span>
<span class="go">(0, 1, 2)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">echelon_to_user_matrix</span><span class="p">();</span> <span class="n">A</span>
<span class="go">[-5/3  2/3]</span>
<span class="go">[ 4/3 -1/3]</span>
</pre></div>
</div>
<p>The vector <span class="math">\((1,1,1)\)</span> has coordinates <span class="math">\(v=(1,1)\)</span> with
respect to the echelonized basis for self. Multiplying <span class="math">\(vA\)</span>
we find the coordinates of this vector with respect to the user
basis.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]);</span> <span class="n">v</span>
<span class="go">(1, 1)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">*</span> <span class="n">A</span>
<span class="go">(-1/3, 1/3)</span>
<span class="gp">sage: </span><span class="n">u0</span><span class="p">,</span> <span class="n">u1</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">u0</span> <span class="o">+</span> <span class="n">u1</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span>
<span class="go">(1, 1, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.echelonized_basis">
<code class="descname">echelonized_basis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.echelonized_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the basis for self in echelon form.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="s1">&#39;1/2&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;1/6&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="go">[</span>
<span class="go">(1/2, 3, 1),</span>
<span class="go">(0, 1/6, 0)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">echelonized_basis</span><span class="p">();</span> <span class="n">B</span>
<span class="go">[</span>
<span class="go">(1/2, 0, 1),</span>
<span class="go">(0, 1/6, 0)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="o">==</span> <span class="n">M</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.echelonized_basis_matrix">
<code class="descname">echelonized_basis_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.echelonized_basis_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return basis matrix for self in row echelon form.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">basis_matrix</span><span class="p">()</span>
<span class="go">[1 2 3]</span>
<span class="go">[4 5 6]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">echelonized_basis_matrix</span><span class="p">()</span>
<span class="go">[1 2 3]</span>
<span class="go">[0 3 6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.has_user_basis">
<code class="descname">has_user_basis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.has_user_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal"><span class="pre">True</span></code> if the basis of this free module is
specified by the user, as opposed to being the default echelon
form.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">V</span><span class="o">.</span><span class="n">has_user_basis</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]]);</span> <span class="n">M</span><span class="o">.</span><span class="n">has_user_basis</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]]);</span> <span class="n">M</span><span class="o">.</span><span class="n">has_user_basis</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.linear_combination_of_basis">
<code class="descname">linear_combination_of_basis</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.linear_combination_of_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the linear combination of the basis for self obtained from
the coordinates of v.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">v</span></code> - list</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">);</span> <span class="n">V</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1 2 3]</span>
<span class="go">[0 3 6]</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">linear_combination_of_basis</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">(1, 5, 9)</span>
</pre></div>
</div>
<p>This should raise an error if the resulting element is not in self:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="p">(</span><span class="n">QQ</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">linear_combination_of_basis</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">element [2, -4] is not in free module</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.user_to_echelon_matrix">
<code class="descname">user_to_echelon_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.user_to_echelon_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return matrix that transforms a vector written with respect to the
user basis of self to one written with respect to the echelon
basis. The matrix acts from the right, as is usual in Sage.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">echelonized_basis</span><span class="p">()</span>
<span class="go">[</span>
<span class="go">(1, 2, 3),</span>
<span class="go">(0, 3, 6)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">user_to_echelon_matrix</span><span class="p">()</span>
<span class="go">[ 1  0]</span>
<span class="go">[ 4 -1]</span>
</pre></div>
</div>
<p>The vector <span class="math">\(v=(5,7,9)\)</span> in <span class="math">\(M\)</span> is <span class="math">\((1,1)\)</span>
with respect to the user basis. Multiplying the above matrix on the
right by this vector yields <span class="math">\((5,-1)\)</span>, which has components
the coordinates of <span class="math">\(v\)</span> with respect to the echelon basis.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v0</span><span class="p">,</span><span class="n">v1</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">basis</span><span class="p">();</span> <span class="n">v</span> <span class="o">=</span> <span class="n">v0</span><span class="o">+</span><span class="n">v1</span>
<span class="gp">sage: </span><span class="n">e0</span><span class="p">,</span><span class="n">e1</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">echelonized_basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span>
<span class="go">(5, 7, 9)</span>
<span class="gp">sage: </span><span class="mi">5</span><span class="o">*</span><span class="n">e0</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">e1</span>
<span class="go">(5, 7, 9)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.free_module.FreeModule_submodule_with_basis_pid.vector_space">
<code class="descname">vector_space</code><span class="sig-paren">(</span><em>base_field=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.FreeModule_submodule_with_basis_pid.vector_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the vector space associated to this free module via tensor
product with the fraction field of the base ring.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">A</span>
<span class="go">Ambient free module of rank 3 over the principal ideal domain Integer Ring</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">vector_space</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span_of_basis</span><span class="p">([[</span><span class="s1">&#39;1/3&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;3/7&#39;</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]]);</span> <span class="n">M</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">User basis matrix:</span>
<span class="go">[1/3   2 3/7]</span>
<span class="go">[  4   5   6]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">vector_space</span><span class="p">()</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">User basis matrix:</span>
<span class="go">[1/3   2 3/7]</span>
<span class="go">[  4   5   6]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.free_module.RealDoubleVectorSpace_class">
<em class="property">class </em><code class="descclassname">sage.modules.free_module.</code><code class="descname">RealDoubleVectorSpace_class</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.RealDoubleVectorSpace_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.free_module.FreeModule_ambient_field" title="sage.modules.free_module.FreeModule_ambient_field"><code class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_ambient_field</span></code></a></p>
<dl class="method">
<dt id="sage.modules.free_module.RealDoubleVectorSpace_class.coordinates">
<code class="descname">coordinates</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.RealDoubleVectorSpace_class.coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.modules.free_module.VectorSpace">
<code class="descclassname">sage.modules.free_module.</code><code class="descname">VectorSpace</code><span class="sig-paren">(</span><em>K</em>, <em>dimension</em>, <em>sparse=False</em>, <em>inner_product_matrix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.VectorSpace" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<p>The base can be complicated, as long as it is a field.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">FractionField</span><span class="p">(</span><span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span>
<span class="go">Vector space of dimension 3 over Fraction Field of Univariate Polynomial Ring in x over Integer Ring</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="go">[</span>
<span class="go">(1, 0, 0),</span>
<span class="go">(0, 1, 0),</span>
<span class="go">(0, 0, 1)</span>
<span class="go">]</span>
</pre></div>
</div>
<p>The base must be a field or a <code class="docutils literal"><span class="pre">TypeError</span></code> is raised.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">VectorSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">Argument K (= Integer Ring) must be a field.</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.modules.free_module.basis_seq">
<code class="descclassname">sage.modules.free_module.</code><code class="descname">basis_seq</code><span class="sig-paren">(</span><em>V</em>, <em>vecs</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.basis_seq" title="Permalink to this definition">¶</a></dt>
<dd><p>This converts a list vecs of vectors in V to an Sequence of
immutable vectors.</p>
<p>Should it? I.e. in most other parts of the system the return type
of basis or generators is a tuple.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">((1, 0), (0, 1))</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># immutable</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">vector is immutable; please change a copy instead (use copy())</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">free_module</span><span class="o">.</span><span class="n">basis_seq</span><span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">V</span><span class="o">.</span><span class="n">gens</span><span class="p">())</span>
<span class="go">[</span>
<span class="go">(1, 0),</span>
<span class="go">(0, 1)</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.modules.free_module.element_class">
<code class="descclassname">sage.modules.free_module.</code><code class="descname">element_class</code><span class="sig-paren">(</span><em>R</em>, <em>is_sparse</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.element_class" title="Permalink to this definition">¶</a></dt>
<dd><p>The class of the vectors (elements of a free module) with base ring
R and boolean is_sparse.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FF</span> <span class="o">=</span> <span class="n">FiniteField</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">FF</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">free_module</span><span class="o">.</span><span class="n">element_class</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">is_sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.free_module_element.FreeModuleElement_generic_sparse&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">free_module</span><span class="o">.</span><span class="n">element_class</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">is_sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.vector_rational_dense.Vector_rational_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">free_module</span><span class="o">.</span><span class="n">element_class</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">is_sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.free_module_element.FreeModuleElement_generic_sparse&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">free_module</span><span class="o">.</span><span class="n">element_class</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">is_sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.vector_integer_dense.Vector_integer_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">free_module</span><span class="o">.</span><span class="n">element_class</span><span class="p">(</span><span class="n">FF</span><span class="p">,</span> <span class="n">is_sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.free_module_element.FreeModuleElement_generic_sparse&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">free_module</span><span class="o">.</span><span class="n">element_class</span><span class="p">(</span><span class="n">FF</span><span class="p">,</span> <span class="n">is_sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.vector_mod2_dense.Vector_mod2_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">free_module</span><span class="o">.</span><span class="n">element_class</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">is_sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.vector_modn_dense.Vector_modn_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">free_module</span><span class="o">.</span><span class="n">element_class</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">is_sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.free_module_element.FreeModuleElement_generic_sparse&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">free_module</span><span class="o">.</span><span class="n">element_class</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">is_sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.free_module_element.FreeModuleElement_generic_dense&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.modules.free_module.is_FreeModule">
<code class="descclassname">sage.modules.free_module.</code><code class="descname">is_FreeModule</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.is_FreeModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if M inherits from FreeModule_generic.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.free_module</span> <span class="kn">import</span> <span class="n">is_FreeModule</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">is_FreeModule</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">span</span><span class="p">([</span> <span class="n">V</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">])</span>
<span class="gp">sage: </span><span class="n">is_FreeModule</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.modules.free_module.span">
<code class="descclassname">sage.modules.free_module.</code><code class="descname">span</code><span class="sig-paren">(</span><em>gens</em>, <em>base_ring=None</em>, <em>check=True</em>, <em>already_echelonized=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.modules.free_module.span" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the span of the vectors in <code class="docutils literal"><span class="pre">gens</span></code> using scalars from <code class="docutils literal"><span class="pre">base_ring</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">gens</span></code> - a list of either vectors or lists of ring elements
used to generate the span</li>
<li><code class="docutils literal"><span class="pre">base_ring</span></code> - default: <code class="docutils literal"><span class="pre">None</span></code> - a principal ideal domain
for the ring of scalars</li>
<li><code class="docutils literal"><span class="pre">check</span></code> - default: <code class="docutils literal"><span class="pre">True</span></code> - passed to the <code class="docutils literal"><span class="pre">span()</span></code> method
of the ambient module</li>
<li><code class="docutils literal"><span class="pre">already_echelonized</span></code> - default: <code class="docutils literal"><span class="pre">False</span></code> - set to <code class="docutils literal"><span class="pre">True</span></code>
if the vectors form the rows of a matrix in echelon form, in
order to skip the computation of an echelonized basis for the
span.</li>
</ul>
<p>OUTPUT:</p>
<p>A module (or vector space) that is all the linear combinations of the
free module elements (or vectors) with scalars from the
ring (or field) given by <code class="docutils literal"><span class="pre">base_ring</span></code>.  See the examples below
describing behavior when the base ring is not specified and/or
the module elements are given as lists that do not carry
explicit base ring information.</p>
<p>EXAMPLES:</p>
<p>The vectors in the list of generators can be given as
lists, provided a base ring is specified and the elements of the list
are in the ring (or the fraction field of the ring).  If the
base ring is a field, the span is a vector space.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span> <span class="n">QQ</span><span class="p">);</span> <span class="n">V</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -3]</span>
<span class="go">[ 0  1  4]</span>

<span class="gp">sage: </span><span class="n">span</span><span class="p">([</span><span class="n">V</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)],</span> <span class="n">QuadraticField</span><span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">))</span>
<span class="go">Vector space of degree 3 and dimension 1 over Number Field in a with defining polynomial x^2 + 7</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -3]</span>

<span class="gp">sage: </span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">]],</span> <span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">Vector space of degree 3 and dimension 1 over Finite Field of size 2</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 0 1]</span>
</pre></div>
</div>
<p>If the base ring is not a field, then a module is created.
The entries of the vectors can lie outside the ring, if they
are in the fraction field of the ring.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[ 1  0 -3]</span>
<span class="go">[ 0  2  8]</span>

<span class="gp">sage: </span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]],</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[  1   0   1]</span>
<span class="go">[  0 1/2   0]</span>

<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">=</span> <span class="n">span</span><span class="p">(</span> <span class="p">[[</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">]],</span> <span class="n">R</span><span class="p">);</span> <span class="n">M</span>
<span class="go">Free module of degree 2 and rank 2 over</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[          1/x           x^3]</span>
<span class="go">[            0 x^5 - x^2 - 1]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">basis</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in x over Rational Field</span>
</pre></div>
</div>
<p>A base ring can be inferred if the generators are given as a
list of vectors.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">span</span><span class="p">([</span><span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])])</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  2]</span>
<span class="gp">sage: </span><span class="n">span</span><span class="p">([</span><span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="n">vector</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])])</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  2]</span>
<span class="gp">sage: </span><span class="n">span</span><span class="p">([</span><span class="n">vector</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="n">vector</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])])</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1 2 3]</span>
<span class="go">[0 3 6]</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="module.html"
                                  title="previous chapter">Abstract base class for modules</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="free_module_integer.html"
                                  title="next chapter">Discrete Subgroups of <span class="math">\(\ZZ^n\)</span>.</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/modules/free_module.rst.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="free_module_integer.html" title="Discrete Subgroups of \(\ZZ^n\)."
             >next</a> |</li>
        <li class="right" >
          <a href="module.html" title="Abstract base class for modules"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Modules</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2017, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.3.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>