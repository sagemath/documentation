<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="A catalog of normal form games" href="catalog_normal_form_games.html" /><link rel="prev" title="Matching games" href="matching_game.html" />

    <meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>Normal form games with N players. - Game Theory</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-furo.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Game Theory</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 10.1 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../index.html">Home - Game Theory</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cooperative_game.html">Co-operative Games With Finite Players</a></li>
<li class="toctree-l1"><a class="reference internal" href="matching_game.html">Matching games</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Normal form games with N players.</a></li>
<li class="toctree-l1"><a class="reference internal" href="catalog_normal_form_games.html">A catalog of normal form games</a></li>
<li class="toctree-l1"><a class="reference internal" href="gambit_docs.html">Using Gambit as a standalone package</a></li>
<li class="toctree-l1"><a class="reference internal" href="parser.html">Parser For gambit And lrs Nash Equilibria</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="normal-form-games-with-n-players">
<span id="sage-game-theory-normal-form-game"></span><h1>Normal form games with N players.<a class="headerlink" href="#normal-form-games-with-n-players" title="Permalink to this heading">#</a></h1>
<span class="target" id="module-sage.game_theory.normal_form_game"></span><p>This module implements a class for normal form games (strategic form games)
<a class="reference internal" href="../../../references/index.html#nn2007" id="id1"><span>[NN2007]</span></a>. At present the following algorithms are implemented to
compute equilibria of these games:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'enumeration'</span></code> - An implementation of the support enumeration
algorithm built in Sage.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'LCP'</span></code> - An interface with the ‘gambit’ solver’s implementation
of the Lemke-Howson algorithm.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'lp'</span></code> - A built-in Sage implementation (with a gambit alternative)
of a zero-sum game solver using linear programming. See
<a class="reference external" href="../../../numerical/sage/numerical/mip.html#sage.numerical.mip.MixedIntegerLinearProgram" title="(in Numerical Optimization v10.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MixedIntegerLinearProgram</span></code></a> for more on MILP solvers in Sage.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'lrs'</span></code> - A solver interfacing with the ‘lrslib’ library.</p></li>
</ul>
</div></blockquote>
<p>The architecture for the class is based on the gambit architecture to
ensure an easy transition between gambit and Sage.  At present the
algorithms for the computation of equilibria only solve 2 player games.</p>
<p>A very simple and well known example of normal form game is referred
to as the ‘Battle of the Sexes’ in which two players Amy and Bob
are modeled.  Amy prefers to play video games and Bob prefers to
watch a movie.  They both however want to spend their evening together.
This can be modeled using the following two matrices:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{split}A = \begin{pmatrix}
    3&amp;1\\
    0&amp;2\\
    \end{pmatrix}\end{split}\\\begin{split}
B = \begin{pmatrix}
    2&amp;1\\
    0&amp;3\\
    \end{pmatrix}\end{split}\end{aligned}\end{align} \]</div>
</div>
<p>Matrix <span class="math notranslate nohighlight">\(A\)</span> represents the utilities of Amy and matrix <span class="math notranslate nohighlight">\(B\)</span> represents the
utility of Bob. The choices of Amy correspond to the rows of the matrices:</p>
<ul class="simple">
<li><p>The first row corresponds to video games.</p></li>
<li><p>The second row corresponds to movies.</p></li>
</ul>
<p>Similarly Bob’s choices are represented by the columns:</p>
<ul class="simple">
<li><p>The first column corresponds to video games.</p></li>
<li><p>The second column corresponds to movies.</p></li>
</ul>
<p>Thus, if both Amy and Bob choose to play video games: Amy receives a
utility of 3 and Bob a utility of 2. If Amy is indeed going to stick
with video games Bob has no incentive to deviate (and vice versa).</p>
<p>This situation repeats itself if both Amy and Bob choose to watch a movie:
neither has an incentive to deviate.</p>
<p>This loosely described situation is referred to as a Nash Equilibrium.
We can use Sage to find them, and more importantly, see if there is any
other situation where Amy and Bob have no reason to change their choice
of action:</p>
<p>Here is how we create the game in Sage:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">battle_of_the_sexes</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">battle_of_the_sexes</span>
<span class="go">Normal Form Game with the following utilities: {(0, 0): [3, 2], (0, 1): [1, 1], (1, 0): [0, 0], (1, 1): [2, 3]}</span>
</pre></div>
</div>
<p>To obtain the Nash equilibria we run the <code class="docutils literal notranslate"><span class="pre">obtain_nash()</span></code> method. In the
first few examples, we will use the ‘support enumeration’ algorithm.
A discussion about the different algorithms will be given later:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">battle_of_the_sexes</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 1), (0, 1)], [(3/4, 1/4), (1/4, 3/4)], [(1, 0), (1, 0)]]</span>
</pre></div>
</div>
<p>If we look a bit closer at our output we see that a list of three
pairs of tuples have been returned. Each of these correspond to a
Nash Equilibrium, represented as a probability distribution over the
available strategies:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\([(1, 0), (1, 0)]\)</span> corresponds to the first player only
playing their first strategy and the second player also only playing
their first strategy. In other words Amy and Bob both play video games.</p></li>
<li><p><span class="math notranslate nohighlight">\([(0, 1), (0, 1)]\)</span> corresponds to the first player only
playing their second strategy and the second player also only playing
their second strategy. In other words Amy and Bob both watch movies.</p></li>
<li><p><span class="math notranslate nohighlight">\([(3/4, 1/4), (1/4, 3/4)]\)</span> corresponds to players <span class="math notranslate nohighlight">\(mixing\)</span> their
strategies. Amy plays video games 75% of the time and Bob watches
movies 75% of the time. At this equilibrium point Amy and Bob will
only ever do the same activity <span class="math notranslate nohighlight">\(3/8\)</span> of the time.</p></li>
</ul>
<p>We can use Sage to compute the expected utility for any mixed strategy
pair <span class="math notranslate nohighlight">\((\sigma_1, \sigma_2)\)</span>. The payoff to player 1 is given by the
vector/matrix multiplication:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sigma_1 A \sigma_2\]</div>
</div>
<p>The payoff to player 2 is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sigma_1 B \sigma_2\]</div>
</div>
<p>To compute this in Sage we have:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">ne</span> <span class="ow">in</span> <span class="n">battle_of_the_sexes</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Utility for </span><span class="si">{}</span><span class="s2">: &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ne</span><span class="p">))</span>
<span class="gp">....: </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">vector</span><span class="p">(</span><span class="n">ne</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">A</span> <span class="o">*</span> <span class="n">vector</span><span class="p">(</span><span class="n">ne</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">vector</span><span class="p">(</span><span class="n">ne</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="n">B</span> <span class="o">*</span> <span class="n">vector</span><span class="p">(</span><span class="n">ne</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
<span class="go">Utility for [(0, 1), (0, 1)]:</span>
<span class="go">2 3</span>
<span class="go">Utility for [(3/4, 1/4), (1/4, 3/4)]:</span>
<span class="go">3/2 3/2</span>
<span class="go">Utility for [(1, 0), (1, 0)]:</span>
<span class="go">3 2</span>
</pre></div>
</div>
<p>Allowing players to play mixed strategies ensures that there will always
be a Nash Equilibrium for a normal form game. This result is called Nash’s
Theorem (<a class="reference internal" href="../../../references/index.html#nas1950" id="id2"><span>[Nas1950]</span></a>).</p>
<p>Let us consider the game called ‘matching pennies’ where two players each
present a coin with either HEADS or TAILS showing. If the coins show the
same side then player 1 wins, otherwise player 2 wins:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{split}A = \begin{pmatrix}
    1&amp;-1\\
    -1&amp;1\\
    \end{pmatrix}\end{split}\\\begin{split}
B = \begin{pmatrix}
    -1&amp;1\\
    1&amp;-1\\
    \end{pmatrix}\end{split}\end{aligned}\end{align} \]</div>
</div>
<p>It should be relatively straightforward to observe, that there is no
situation, where both players always do the same thing, and have no
incentive to deviate.</p>
<p>We can plot the utility of player 1 when player 2 is playing a mixed
strategy <span class="math notranslate nohighlight">\(\sigma_2 = (y, 1-y)\)</span> (so that the utility to player 1 for
playing strategy number <span class="math notranslate nohighlight">\(i\)</span> is given by the matrix/vector multiplication
<span class="math notranslate nohighlight">\((Ay)_i\)</span>, ie element in position <span class="math notranslate nohighlight">\(i\)</span> of the matrix/vector multiplication
<span class="math notranslate nohighlight">\(Ay\)</span>)</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">plot</span><span class="p">((</span><span class="n">A</span> <span class="o">*</span> <span class="n">vector</span><span class="p">([</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">y</span><span class="p">]))[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;$u_1(r_1, (y, 1-y))$&#39;</span><span class="p">,</span> <span class="n">axes_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;$y$&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">+=</span> <span class="n">plot</span><span class="p">((</span><span class="n">A</span> <span class="o">*</span> <span class="n">vector</span><span class="p">([</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">y</span><span class="p">]))[</span><span class="mi">1</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;$u_1(r_2, (y, 1-y))$&#39;</span><span class="p">);</span> <span class="n">p</span>
<span class="go">Graphics object consisting of 2 graphics primitives</span>
</pre></div>
</div>
<p>We see that the only point at which player 1 is indifferent amongst
the available strategies is when <span class="math notranslate nohighlight">\(y = 1/2\)</span>.</p>
<p>If we compute the Nash equilibria we see that this corresponds to a point
at which both players are indifferent:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(1/2, 1/2), (1/2, 1/2)]]</span>
</pre></div>
</div>
<p>The utilities to both players at this Nash equilibrium
is easily computed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">vector</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span> <span class="o">*</span> <span class="n">M</span> <span class="o">*</span> <span class="n">vector</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">....: </span> <span class="k">for</span> <span class="n">M</span> <span class="ow">in</span> <span class="n">matching_pennies</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()]</span>
<span class="go">[0, 0]</span>
</pre></div>
</div>
<p>Note that the above uses the <code class="docutils literal notranslate"><span class="pre">payoff_matrices</span></code> method
which returns the payoff matrices for a 2 player game:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">(</span>
<span class="go">[ 1 -1]  [-1  1]</span>
<span class="go">[-1  1], [ 1 -1]</span>
<span class="go">)</span>
</pre></div>
</div>
<p>One can also input a single matrix and then a zero sum game is constructed.
Here is an instance of <a class="reference external" href="http://www.samkass.com/theories/RPSSL.html">Rock-Paper-Scissors-Lizard-Spock</a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(1/5, 1/5, 1/5, 1/5, 1/5), (1/5, 1/5, 1/5, 1/5, 1/5)]]</span>
</pre></div>
</div>
<p>We can also study games where players aim to minimize their utility.
Here is the Prisoner’s Dilemma (where players are aiming to reduce
time spent in prison):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">prisoners_dilemma</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">prisoners_dilemma</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">,</span> <span class="n">maximization</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[[(0, 1), (0, 1)]]</span>
</pre></div>
</div>
<p>When obtaining Nash equilibrium the following algorithms are
currently available:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'lp'</span></code>: A solver for constant sum 2 player games using linear
programming. This constructs a
<code class="xref py py-mod docutils literal notranslate"><span class="pre">MixedIntegerLinearProgram</span></code> using the
solver which was passed in with <code class="docutils literal notranslate"><span class="pre">solver</span></code> to solve the linear
programming representation of the game. See
<a class="reference external" href="../../../numerical/sage/numerical/mip.html#sage.numerical.mip.MixedIntegerLinearProgram" title="(in Numerical Optimization v10.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MixedIntegerLinearProgram</span></code></a> for more on MILP solvers in Sage.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'lrs'</span></code>: Reverse search vertex enumeration for 2 player games. This
algorithm uses the optional ‘lrslib’ package. To install it, type
<code class="docutils literal notranslate"><span class="pre">sage</span> <span class="pre">-i</span> <span class="pre">lrslib</span></code> in the shell. For more information, see <a class="reference internal" href="../../../references/index.html#av2000" id="id3"><span>[Av2000]</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'LCP'</span></code>: Linear complementarity program algorithm for 2 player games.
This algorithm uses the open source game theory package:
<a class="reference external" href="http://gambit.sourceforge.net/">Gambit</a> <a class="reference internal" href="../../../references/index.html#gambit" id="id4"><span>[Gambit]</span></a>. At present this is
the only gambit algorithm available in sage but further development will
hope to implement more algorithms
(in particular for games with more than 2 players). To install it,
type <code class="docutils literal notranslate"><span class="pre">sage</span> <span class="pre">-i</span> <span class="pre">gambit</span></code> in the shell.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'enumeration'</span></code>: Support enumeration for 2 player games. This
algorithm is hard coded in Sage and checks through all potential
supports of a strategy. Supports of a given size with a conditionally
dominated strategy are ignored. Note: this is not the preferred
algorithm. The algorithm implemented is a combination of a basic
algorithm described in <a class="reference internal" href="../../../references/index.html#nn2007" id="id5"><span>[NN2007]</span></a> and a pruning component described
in <a class="reference internal" href="../../../references/index.html#slb2008" id="id6"><span>[SLB2008]</span></a>.</p></li>
</ul>
<p>Below we show how the these algorithms are called:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span>  <span class="c1"># optional - lrslib</span>
<span class="go">[[(1/2, 1/2), (1/2, 1/2)]]</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="go">[[(0.5, 0.5), (0.5, 0.5)]]</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;PPL&#39;</span><span class="p">)</span>
<span class="go">[[(1/2, 1/2), (1/2, 1/2)]]</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;gambit&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(0.5, 0.5), (0.5, 0.5)]]</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(1/2, 1/2), (1/2, 1/2)]]</span>
</pre></div>
</div>
<p>Note that if no algorithm argument is passed then the default will be
selected according to the following order (if the corresponding package is
installed):</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'lp'</span></code> (if the game is constant-sum; uses the solver chosen by Sage)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'lrs'</span></code> (requires ‘lrslib’)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'enumeration'</span></code></p></li>
</ol>
<p>Here is a game being constructed using gambit syntax (note that a
<code class="docutils literal notranslate"><span class="pre">NormalFormGame</span></code> object acts like a dictionary with pure strategy tuples as
keys and payoffs as their values):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding second player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">Normal Form Game with the following utilities: {(0, 0): [1, 3], (0, 1): [2, 3], (1, 0): [3, 1], (1, 1): [4, 4]}</span>
</pre></div>
</div>
<p>Once this game is constructed we can view the payoff matrices and solve the
game:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">(</span>
<span class="go">[1 2]  [3 3]</span>
<span class="go">[3 4], [1 4]</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 1), (0, 1)]]</span>
</pre></div>
</div>
<p>We can add an extra strategy to the first player:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">Normal Form Game with the following utilities: {(0, 0): [1, 3],</span>
<span class="go"> (0, 1): [2, 3],</span>
<span class="go"> (1, 0): [3, 1],</span>
<span class="go"> (1, 1): [4, 4],</span>
<span class="go"> (2, 0): [False, False],</span>
<span class="go"> (2, 1): [False, False]}</span>
</pre></div>
</div>
<p>If we do this and try and obtain the Nash equilibrium or view the payoff
matrices(without specifying the utilities), an error is returned:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: utilities have not been populated</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: utilities have not been populated</span>
</pre></div>
</div>
<p>Here we populate the missing utilities:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">(</span>
<span class="go">[1 2]  [3 3]</span>
<span class="go">[3 4]  [1 4]</span>
<span class="go">[2 5], [1 3]</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">()</span>
<span class="go">[[(0, 0, 1), (0, 1)]]</span>
</pre></div>
</div>
<p>We can use the same syntax as above to create games with
more than 2 players:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">threegame</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding second player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding third player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">threegame</span>
<span class="go">Normal Form Game with the following utilities: {(0, 0, 0): [3, 1, 4],</span>
<span class="go"> (0, 0, 1): [1, 5, 9],</span>
<span class="go"> (0, 1, 0): [2, 6, 5],</span>
<span class="go"> (0, 1, 1): [3, 5, 8],</span>
<span class="go"> (1, 0, 0): [9, 7, 9],</span>
<span class="go"> (1, 0, 1): [3, 2, 3],</span>
<span class="go"> (1, 1, 0): [8, 4, 6],</span>
<span class="go"> (1, 1, 1): [2, 6, 4]}</span>
</pre></div>
</div>
<p>The above requires a lot of input that could be simplified if there is
another data structure with our utilities and/or a structure to the
utilities.  The following example creates a game with a relatively strange
utility function:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">utility</span><span class="p">(</span><span class="n">strategy_triplet</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">strategy_triplet</span><span class="p">)</span> <span class="o">*</span> <span class="n">player</span>
<span class="gp">sage: </span><span class="n">threegame</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding second player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding third player with 2 strategies</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]:</span>
<span class="gp">....: </span>    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">....: </span>         <span class="n">threegame</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">][</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">utility</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">],</span> <span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">threegame</span>
<span class="go">Normal Form Game with the following utilities: {(0, 0, 0): [0, 0, 0],</span>
<span class="go"> (0, 0, 1): [0, 1, 2],</span>
<span class="go"> (0, 1, 0): [0, 1, 2],</span>
<span class="go"> (0, 1, 1): [0, 2, 4],</span>
<span class="go"> (1, 0, 0): [0, 1, 2],</span>
<span class="go"> (1, 0, 1): [0, 2, 4],</span>
<span class="go"> (1, 1, 0): [0, 2, 4],</span>
<span class="go"> (1, 1, 1): [0, 3, 6]}</span>
</pre></div>
</div>
<p>At present no algorithm has been implemented in Sage for games with
more than 2 players:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">NotImplementedError: Nash equilibrium for games with more than 2 players have not been implemented yet. Please see the gambit website (http://gambit.sourceforge.net/) that has a variety of available algorithms</span>
</pre></div>
</div>
<p>There are however a variety of such algorithms available in gambit,
further compatibility between Sage and gambit is actively being developed:
<a class="reference external" href="https://github.com/tturocy/gambit/tree/sage_integration">https://github.com/tturocy/gambit/tree/sage_integration</a>.</p>
<p>It can be shown that linear scaling of the payoff matrices conserves the
equilibrium values:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(1/5, 4/5), (3/5, 2/5)]]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(1/5, 4/5), (3/5, 2/5)]]</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">A</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="go">[[(0.2, 0.8), (0.6, 0.4)]]</span>
</pre></div>
</div>
<p>It is also possible to generate a Normal form game from a gambit Game:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">gambit</span> <span class="kn">import</span> <span class="n">Game</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="o">=</span> <span class="n">Game</span><span class="o">.</span><span class="n">new_table</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">(</span><span class="n">gambitgame</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">g</span>  <span class="c1"># optional - gambit</span>
<span class="go">Normal Form Game with the following utilities: {(0, 0): [8.0, 8.0],</span>
<span class="go"> (0, 1): [2.0, 10.0],</span>
<span class="go"> (1, 0): [10.0, 2.0],</span>
<span class="go"> (1, 1): [5.0, 5.0]}</span>
</pre></div>
</div>
<p>For more information on using Gambit in Sage see: <a class="reference internal" href="gambit_docs.html#module-sage.game_theory.gambit_docs" title="sage.game_theory.gambit_docs"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Using</span> <span class="pre">Gambit</span> <span class="pre">in</span>
<span class="pre">Sage</span></code></a>. This includes how to access Gambit
directly using the version of iPython shipped with Sage and an explanation
as to why the <code class="docutils literal notranslate"><span class="pre">int</span></code> calls are needed to handle the Sage preparser.</p>
<p>Here is a slightly longer game that would take too long to solve with
<code class="docutils literal notranslate"><span class="pre">'enumeration'</span></code>. Consider the following:</p>
<p>An airline loses two suitcases belonging to two different travelers. Both
suitcases happen to be identical and contain identical antiques. An
airline manager tasked to settle the claims of both travelers explains
that the airline is liable for a maximum of 10 per suitcase, and in order
to determine an honest appraised value of the antiques the manager
separates both travelers so they can’t confer, and asks them to write down
the amount of their value at no less than 2 and no larger than 10. He
also tells them that if both write down the same number, he will treat
that number as the true dollar value of both suitcases and reimburse both
travelers that amount.</p>
<p>However, if one writes down a smaller number than the other, this smaller
number will be taken as the true dollar value, and both travelers will
receive that amount along with a bonus/malus: 2 extra will be paid to the
traveler who wrote down the lower value and a 2 deduction will be taken
from the person who wrote down the higher amount. The challenge is: what
strategy should both travelers follow to decide the value they should
write down?</p>
<p>In the following we create the game (with a max value of 10) and solve it:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># Modifying this value lets us play with games of any size</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="nb">min</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">sign</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="p">)</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="gp">....: </span>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="nb">min</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">sign</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="p">)</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="gp">....: </span>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(0, 0, 0, 0, 0, 0, 0, 0, 1), (0, 0, 0, 0, 0, 0, 0, 0, 1)]]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0),</span>
<span class="go">  (0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0)]]</span>
</pre></div>
</div>
<p>The output is a pair of vectors (as before) showing the Nash equilibrium.
In particular it here shows that out of the 10 possible strategies both
players should choose the last. Recall that the above considers a reduced
version of the game where individuals can claim integer values from 10
to 2.  The equilibrium strategy is thus for both players to state that
the value of their suitcase is 2.</p>
<p>Several standard Normal Form Games have also been implemented.
For more information on how to access these, see:
<code class="xref py py-mod docutils literal notranslate"><span class="pre">Game</span> <span class="pre">Theory</span> <span class="pre">Catalog</span></code>.
Included is information on the situation each Game models.
For example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">game_theory</span><span class="o">.</span><span class="n">normal_form_games</span><span class="o">.</span><span class="n">PrisonersDilemma</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">Prisoners dilemma - Normal Form Game with the following utilities: ...</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">],</span>
<span class="gp">....: </span>     <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">]}</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">==</span> <span class="n">d</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">()</span>
<span class="go">[[(0, 1), (0, 1)]]</span>
</pre></div>
</div>
<p>We can easily obtain the best response for a player to a given strategy.  In
this example we obtain the best responses for Player 1, when Player 2 uses two
different strategies:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0, 1, 2]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0]</span>
</pre></div>
</div>
<p>Here we do the same for player 2:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">4</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[0, 1]</span>
</pre></div>
</div>
<p>We see that for the game <a class="reference external" href="http://www.samkass.com/theories/RPSSL.html">Rock-Paper-Scissors-Lizard-Spock</a> any pure strategy has two best
responses:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">game_theory</span><span class="o">.</span><span class="n">normal_form_games</span><span class="o">.</span><span class="n">RPSLS</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span>
<span class="go">(</span>
<span class="go">[ 0 -1  1  1 -1]  [ 0  1 -1 -1  1]</span>
<span class="go">[ 1  0 -1 -1  1]  [-1  0  1  1 -1]</span>
<span class="go">[-1  1  0  1 -1]  [ 1 -1  0 -1  1]</span>
<span class="go">[-1  1 -1  0  1]  [ 1 -1  1  0 -1]</span>
<span class="go">[ 1 -1  1 -1  0], [-1  1 -1  1  0]</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[1, 4]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[2, 3]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0, 4]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0, 2]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[1, 3]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1, 4]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[2, 3]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[0, 4]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[0, 2]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1, 3]</span>
</pre></div>
</div>
<p>Note that degenerate games can cause problems for most algorithms.
The following example in fact has an infinite quantity of equilibria which
is evidenced by the various algorithms returning different solutions:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># random, optional - lrslib</span>
<span class="go">[[(0, 1/3, 2/3), (1/3, 2/3)], [(1, 0, 0), (1/2, 3)], [(1, 0, 0), (1, 3)]]</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(0.0, 0.3333333333, 0.6666666667), (0.3333333333, 0.6666666667)],</span>
<span class="go"> [(1.0, -0.0, 0.0), (0.6666666667, 0.3333333333)],</span>
<span class="go"> [(1.0, 0.0, 0.0), (1.0, 0.0)]]</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 1/3, 2/3), (1/3, 2/3)], [(1, 0, 0), (1, 0)]]</span>
</pre></div>
</div>
<p>We can check the cause of this by using <code class="docutils literal notranslate"><span class="pre">is_degenerate()</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">degenerate_game</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note the ‘negative’ <span class="math notranslate nohighlight">\(-0.0\)</span> output by gambit. This is due to the numerical
nature of the algorithm used.</p>
<p>Here is an example with the trivial game where all payoffs are 0:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Adding first player with 3 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Adding second player with 3 strategies</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">g</span><span class="p">:</span>
<span class="gp">....: </span>    <span class="n">g</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">(</span>
<span class="go">[0 0 0]  [0 0 0]</span>
<span class="go">[0 0 0]  [0 0 0]</span>
<span class="go">[0 0 0], [0 0 0]</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 0, 1), (0, 0, 1)], [(0, 0, 1), (0, 1, 0)], [(0, 0, 1), (1, 0, 0)],</span>
<span class="go"> [(0, 1, 0), (0, 0, 1)], [(0, 1, 0), (0, 1, 0)], [(0, 1, 0), (1, 0, 0)],</span>
<span class="go"> [(1, 0, 0), (0, 0, 1)], [(1, 0, 0), (0, 1, 0)], [(1, 0, 0), (1, 0, 0)]]</span>
</pre></div>
</div>
<p>A good description of degenerate games can be found in <a class="reference internal" href="../../../references/index.html#nn2007" id="id8"><span>[NN2007]</span></a>.</p>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../references/index.html#nas1950" id="id9"><span>[Nas1950]</span></a></p></li>
<li><p><a class="reference internal" href="../../../references/index.html#nn2007" id="id10"><span>[NN2007]</span></a></p></li>
<li><p><a class="reference internal" href="../../../references/index.html#av2000" id="id11"><span>[Av2000]</span></a></p></li>
<li><p><a class="reference internal" href="../../../references/index.html#gambit" id="id12"><span>[Gambit]</span></a></p></li>
<li><p><a class="reference internal" href="../../../references/index.html#slb2008" id="id13"><span>[SLB2008]</span></a></p></li>
</ul>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>James Campbell and Vince Knight (06-2014): Original version</p></li>
<li><p>Tobenna P. Igwe: Constant-sum game solvers</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="sage.game_theory.normal_form_game.NormalFormGame">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.game_theory.normal_form_game.</span></span><span class="sig-name descname"><span class="pre">NormalFormGame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">generator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Parents and Elements v10.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageObject</span></code></a>, <a class="reference external" href="https://docs.python.org/library/collections.abc.html#collections.abc.MutableMapping" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableMapping</span></code></a></p>
<p>An object representing a Normal Form Game. Primarily used to compute the
Nash Equilibria.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">generator</span></code> – can be a list of 2 matrices, a single matrix or left
blank</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="sage.game_theory.normal_form_game.NormalFormGame.add_player">
<span class="sig-name descname"><span class="pre">add_player</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_strategies</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.add_player" title="Permalink to this definition">#</a></dt>
<dd><p>Add a player to a NormalFormGame.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">num_strategies</span></code> – the number of strategies the player should have</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Adding second player with 1 strategy</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Adding third player with 1 strategy</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">Normal Form Game with the following utilities: {(0, 0, 0): [False, False, False], (1, 0, 0): [False, False, False]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.game_theory.normal_form_game.NormalFormGame.add_strategy">
<span class="sig-name descname"><span class="pre">add_strategy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">player</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.add_strategy" title="Permalink to this definition">#</a></dt>
<dd><p>Add a strategy to a player, will not affect already completed
strategy profiles.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">player</span></code> – the index of the player</p></li>
</ul>
<p>EXAMPLES:</p>
<p>A simple example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">example</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">example</span>
<span class="go">Normal Form Game with the following utilities: {(0, 0): [1, 3], (0, 1): [0, 2], (1, 0): [-2, -1], (1, 1): [3, 0]}</span>
<span class="gp">sage: </span><span class="n">example</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">example</span>
<span class="go">Normal Form Game with the following utilities: {(0, 0): [1, 3],</span>
<span class="go"> (0, 1): [0, 2],</span>
<span class="go"> (1, 0): [-2, -1],</span>
<span class="go"> (1, 1): [3, 0],</span>
<span class="go"> (2, 0): [False, False],</span>
<span class="go"> (2, 1): [False, False]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.game_theory.normal_form_game.NormalFormGame.best_responses">
<span class="sig-name descname"><span class="pre">best_responses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strategy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">player</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.best_responses" title="Permalink to this definition">#</a></dt>
<dd><p>For a given strategy for a player and the index of the opponent,
computes the payoff for the opponent and returns a list of the indices
of the best responses. Only implemented for two player games</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">strategy</span></code> – a probability distribution vector</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">player</span></code> – the index of the opponent, <code class="docutils literal notranslate"><span class="pre">0</span></code> for the row player,
<code class="docutils literal notranslate"><span class="pre">1</span></code> for the column player.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
</pre></div>
</div>
<p>Now we can obtain the best responses for Player 1, when Player 2 uses
different strategies:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0, 1, 2]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0]</span>
</pre></div>
</div>
<p>To get the best responses for Player 2 we pass the argument <code class="code docutils literal notranslate"><span class="pre">player=1</span></code></p>
<blockquote>
<div><p>sage: g.best_responses((4/5, 1/5, 0), player=1)
[0, 1]</p>
<p>sage: A = matrix([[1, 0], [0, 1], [0, 0]])
sage: B = matrix([[1, 0], [0, 1], [0.7, 0.8]])
sage: g = NormalFormGame([A, B])
sage: g.best_responses((0, 1, 0), player=1)
[1]</p>
<p>sage: A = matrix([[3,3],[2,5],[0,6]])
sage: B = matrix([[3,3],[2,6],[3,1]])
sage: degenerate_game = NormalFormGame([A,B])
sage: degenerate_game.best_responses((1, 0, 0), player=1)
[0, 1]</p>
<p>sage: A = matrix([[3, 0], [0, 3], [1.5, 1.5]])
sage: B = matrix([[4, 3], [2, 6], [3, 1]])
sage: g = NormalFormGame([A, B])
sage: g.best_responses((1/3, 1/3, 1/3), player=1)
[1]</p>
</div></blockquote>
<p>Note that this has only been implemented for 2 player games:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding second player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding third player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Only available for 2 player games</span>
</pre></div>
</div>
<p>If the strategy is not of the correct dimension for the given player
then an error is returned:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Strategy is not of correct dimension</span>

<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Strategy is not of correct dimension</span>
</pre></div>
</div>
<p>If the strategy is not a true probability vector then an error is
passed:</p>
<blockquote>
<div><p>sage: A = matrix([[3, 0], [0, 3], [1.5, 1.5]])
sage: B = matrix([[4, 3], [2, 6], [3, 1]])
sage: g = NormalFormGame([A, B])
sage: g.best_responses((1/3, 1/2, 0), player=1)
Traceback (most recent call last):
…
ValueError: Strategy is not a probability distribution vector</p>
<p>sage: A = matrix([[3, 0], [0, 3], [1.5, 1.5]])
sage: B = matrix([[4, 3], [2, 6], [3, 1]])
sage: g = NormalFormGame([A, B])
sage: g.best_responses((3/2, -1/2), player=0)
Traceback (most recent call last):
…
ValueError: Strategy is not a probability distribution vector</p>
</div></blockquote>
<p>If the player specified is not <span class="math notranslate nohighlight">\(0\)</span> or <span class="math notranslate nohighlight">\(1\)</span>, an error is raised:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="s1">&#39;Player1&#39;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Player1 is not an index of the opponent, must be 0 or 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.game_theory.normal_form_game.NormalFormGame.is_constant_sum">
<span class="sig-name descname"><span class="pre">is_constant_sum</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.is_constant_sum" title="Permalink to this definition">#</a></dt>
<dd><p>Checks if the game is constant sum.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_constant_sum</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_constant_sum</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_constant_sum</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_constant_sum</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_constant_sum</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.game_theory.normal_form_game.NormalFormGame.is_degenerate">
<span class="sig-name descname"><span class="pre">is_degenerate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">certificate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.is_degenerate" title="Permalink to this definition">#</a></dt>
<dd><p>A function to check whether the game is degenerate or not.
Will return a boolean.</p>
<p>A two-player game is called nondegenerate if no mixed strategy of
support size <span class="math notranslate nohighlight">\(k\)</span> has more than <span class="math notranslate nohighlight">\(k\)</span> pure best responses <a class="reference internal" href="../../../references/index.html#nn2007" id="id14"><span>[NN2007]</span></a>. In a
degenerate game, this definition is violated, for example if there
is a pure strategy that has two pure best responses.</p>
<p>The implementation here transforms the search over mixed strategies to a
search over supports which is a discrete search. A full explanation of
this is given in <a class="reference internal" href="../../../references/index.html#ck2015" id="id15"><span>[CK2015]</span></a>. This problem is known to be NP-Hard
<a class="reference internal" href="../../../references/index.html#du2009" id="id16"><span>[Du2009]</span></a>.  Another possible implementation is via best response
polytopes, see <a class="reference external" href="https://github.com/sagemath/sage/issues/18958">github issue #18958</a>.</p>
<p>The game Rock-Paper-Scissors is an example of a non-degenerate game,:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">game_theory</span><span class="o">.</span><span class="n">normal_form_games</span><span class="o">.</span><span class="n">RPS</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>whereas <a class="reference external" href="http://www.samkass.com/theories/RPSSL.html">Rock-Paper-Scissors-Lizard-Spock</a> is degenerate because
for every pure strategy there are two best responses.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">game_theory</span><span class="o">.</span><span class="n">normal_form_games</span><span class="o">.</span><span class="n">RPSLS</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>EXAMPLES:</p>
<p>Here is an example of a degenerate game given in <a class="reference internal" href="../../../references/index.html#dgrb2010" id="id18"><span>[DGRB2010]</span></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Here is an example of a degenerate game given in <a class="reference internal" href="../../../references/index.html#nn2007" id="id19"><span>[NN2007]</span></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">d_game</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">d_game</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Here are some other examples of degenerate games:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">game</span>  <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">M</span><span class="p">,</span> <span class="n">N</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">game</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If more information is required, it may be useful to use
<code class="docutils literal notranslate"><span class="pre">certificate=True</span></code>. This will return a boolean of whether the game is
degenerate or not, and if True; a tuple containing the strategy where
degeneracy was found and the player it belongs to. <code class="docutils literal notranslate"><span class="pre">0</span></code> is the row
player and <code class="docutils literal notranslate"><span class="pre">1</span></code> is the column player.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span>  <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">M</span><span class="p">,</span> <span class="n">N</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">test</span><span class="p">,</span> <span class="n">certificate</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">(</span><span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">test</span><span class="p">,</span> <span class="n">certificate</span>
<span class="go">(True, ((1, 0), 0))</span>
</pre></div>
</div>
<p>Using the output, we see that the opponent has more best responses than
the size of the support of the strategy in question <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">0)</span></code>. (We
specify the player as <code class="docutils literal notranslate"><span class="pre">(player</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">%</span> <span class="pre">2</span></code> to ensure that we have the
opponent’s index.):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">(</span><span class="n">certificate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="n">certificate</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[0, 1]</span>
</pre></div>
</div>
<p>Another example with a mixed strategy causing degeneracy.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">test</span><span class="p">,</span> <span class="n">certificate</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">(</span><span class="n">certificate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">test</span><span class="p">,</span> <span class="n">certificate</span>
<span class="go">(True, ((1/2, 1/2), 1))</span>
</pre></div>
</div>
<p>Again, we see that the opponent has more best responses than the size of
the support of the strategy in question <code class="docutils literal notranslate"><span class="pre">(1/2,</span> <span class="pre">1/2)</span></code>.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">(</span><span class="n">certificate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="n">certificate</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[0, 1, 2]</span>
</pre></div>
</div>
<p>Sometimes, the different algorithms for obtaining nash_equilibria don’t
agree with each other. This can happen when games are degenerate:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="o">-</span><span class="mi">75</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">33</span><span class="p">],</span>
<span class="gp">....: </span>           <span class="p">[</span><span class="mi">42</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">77</span><span class="p">,</span> <span class="o">-</span><span class="mi">18</span><span class="p">],</span>
<span class="gp">....: </span>           <span class="p">[</span><span class="mi">83</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span>
<span class="gp">....: </span>           <span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">38</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">51</span><span class="p">],</span>
<span class="gp">....: </span>           <span class="p">[</span><span class="o">-</span><span class="mi">41</span><span class="p">,</span> <span class="o">-</span><span class="mi">27</span><span class="p">,</span> <span class="o">-</span><span class="mi">69</span><span class="p">,</span> <span class="mi">52</span><span class="p">],</span>
<span class="gp">....: </span>           <span class="p">[</span><span class="o">-</span><span class="mi">17</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="o">-</span><span class="mi">97</span><span class="p">,</span> <span class="o">-</span><span class="mi">82</span><span class="p">],</span>
<span class="gp">....: </span>           <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">50</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">d_game</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">d_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(0, 0, 1, 0), (0, 1, 0, 0)],</span>
<span class="go"> [(17/29, 0, 0, 12/29), (0, 0, 42/73, 31/73)],</span>
<span class="go"> [(122/145, 0, 23/145, 0), (0, 1, 0, 0)]]</span>
<span class="gp">sage: </span><span class="n">d_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(0.5862068966, 0.0, 0.0, 0.4137931034),</span>
<span class="go">  (0.0, 0.0, 0.5753424658, 0.4246575342)]]</span>
<span class="gp">sage: </span><span class="n">d_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 0, 1, 0), (0, 1, 0, 0)], [(17/29, 0, 0, 12/29), (0, 0, 42/73, 31/73)]]</span>
<span class="gp">sage: </span><span class="n">d_game</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.game_theory.normal_form_game.NormalFormGame.obtain_nash">
<span class="sig-name descname"><span class="pre">obtain_nash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maximization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.obtain_nash" title="Permalink to this definition">#</a></dt>
<dd><p>A function to return the Nash equilibrium for the game.
Optional arguments can be used to specify the algorithm used.
If no algorithm is passed then an attempt is made to use the most
appropriate algorithm.</p>
<p>INPUT:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">algorithm</span></code> - the following algorithms should be available through
this function:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'lrs'</span></code> - This algorithm is only suited for 2 player games.
See the lrs web site (<a class="reference external" href="http://cgm.cs.mcgill.ca/~avis/C/lrs.html">http://cgm.cs.mcgill.ca/~avis/C/lrs.html</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'LCP'</span></code> - This algorithm is only suited for 2 player games.
See the gambit web site (<a class="reference external" href="http://gambit.sourceforge.net/">http://gambit.sourceforge.net/</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'lp'</span></code> - This algorithm is only suited for 2 player
constant sum games. Uses MILP solver determined by the
<code class="docutils literal notranslate"><span class="pre">solver</span></code> argument.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'enumeration'</span></code> - This is a very inefficient
algorithm (in essence a brute force approach).</p>
<ol class="arabic simple">
<li><p>For each k in 1…min(size of strategy sets)</p></li>
<li><p>For each I,J supports of size k</p></li>
<li><p>Prune: check if supports are dominated</p></li>
<li><p>Solve indifference conditions and check that have Nash Equilibrium.</p></li>
</ol>
<p>Solving the indifference conditions is done by building the
corresponding linear system.  If  <span class="math notranslate nohighlight">\(\rho_1, \rho_2\)</span> are the
supports player 1 and 2 respectively.  Then, indifference implies:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[u_1(s_1,\rho_2) = u_1(s_2, \rho_2)\]</div>
</div>
<p>for all <span class="math notranslate nohighlight">\(s_1, s_2\)</span> in the support of <span class="math notranslate nohighlight">\(\rho_1\)</span>. This corresponds to:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sum_{j\in S(\rho_2)}A_{s_1,j}{\rho_2}_j = \sum_{j\in S(\rho_2)}A_{s_2,j}{\rho_2}_j\]</div>
</div>
<p>for all <span class="math notranslate nohighlight">\(s_1, s_2\)</span> in the support of <span class="math notranslate nohighlight">\(\rho_1\)</span> where <span class="math notranslate nohighlight">\(A\)</span> is the payoff
matrix of player 1. Equivalently we can consider consecutive rows of
<span class="math notranslate nohighlight">\(A\)</span> (instead of all pairs of strategies). Thus the corresponding
linear system can be written as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\left(\sum_{j \in S(\rho_2)}A_{i,j} - A_{i+1,j}\right){\rho_2}_j\]</div>
</div>
<p>for all <span class="math notranslate nohighlight">\(1\leq i \leq |S(\rho_1)|\)</span> (where <span class="math notranslate nohighlight">\(A\)</span> has been modified to only
contain the rows corresponding to <span class="math notranslate nohighlight">\(S(\rho_1)\)</span>). We also require all
elements of <span class="math notranslate nohighlight">\(\rho_2\)</span> to sum to 1:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sum_{j\in S(\rho_1)}{\rho_2}_j = 1\]</div>
</div>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">maximization</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>) whether a player is
trying to maximize their utility or minimize it:</p>
<ul class="simple">
<li><p>When set to <code class="docutils literal notranslate"><span class="pre">True</span></code> it is assumed that players aim to
maximise their utility.</p></li>
<li><p>When set to <code class="docutils literal notranslate"><span class="pre">False</span></code> it is assumed that players aim to
minimise their utility.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">solver</span></code> – (optional) see <a class="reference external" href="../../../numerical/sage/numerical/mip.html#sage.numerical.mip.MixedIntegerLinearProgram" title="(in Numerical Optimization v10.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MixedIntegerLinearProgram</span></code></a>
for more information on the MILP solvers in Sage, may also
be <code class="docutils literal notranslate"><span class="pre">'gambit'</span></code> to use the MILP solver included with the gambit
library. Note that <code class="docutils literal notranslate"><span class="pre">None</span></code> means to use the default Sage LP solver,
normally GLPK.</p></li>
</ul>
<p>EXAMPLES:</p>
<p>A game with 1 equilibrium when <code class="docutils literal notranslate"><span class="pre">maximization</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> and 3 when
<code class="docutils literal notranslate"><span class="pre">maximization</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">44</span><span class="p">],</span>
<span class="gp">....: </span>      <span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">105</span><span class="p">],</span>
<span class="gp">....: </span>      <span class="p">[</span><span class="mi">19</span><span class="p">,</span> <span class="mi">204</span><span class="p">,</span> <span class="mi">55</span><span class="p">],</span>
<span class="gp">....: </span>      <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">590</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">=</span><span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(0, 0, 0, 1), (0, 0, 1)]]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">,</span> <span class="n">maximization</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(2/3, 1/12, 1/4, 0), (6333/8045, 247/8045, 293/1609)], [(3/4, 0, 1/4, 0), (0, 11/307, 296/307)], [(5/6, 1/6, 0, 0), (98/99, 1/99, 0)]]</span>
</pre></div>
</div>
<p>This particular game has 3 Nash equilibria:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 1/3, 2/3), (1/3, 2/3)], [(4/5, 1/5, 0), (2/3, 1/3)], [(1, 0, 0), (1, 0)]]</span>
</pre></div>
</div>
<p>Here is a slightly larger game:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">160</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">44</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">175</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">45</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">201</span><span class="p">,</span> <span class="mi">204</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">120</span><span class="p">,</span> <span class="mi">207</span><span class="p">,</span> <span class="mi">49</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">=</span><span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 0, 3/4, 1/4), (1/28, 27/28, 0)]]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span>  <span class="c1"># optional - lrslib</span>
<span class="go">[[(0, 0, 3/4, 1/4), (1/28, 27/28, 0)]]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="go">[[(0.0, 0.0, 0.75, 0.25), (0.0357142857, 0.9642857143, 0.0)]]</span>
</pre></div>
</div>
<p>2 random matrices:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">player1</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>                  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">80</span><span class="p">],</span>
<span class="gp">....: </span>                  <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">12</span><span class="p">],</span>
<span class="gp">....: </span>                  <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>                  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">player2</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>                  <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>                  <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">....: </span>                  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">....: </span>                  <span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">17</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">fivegame</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">player1</span><span class="p">,</span> <span class="n">player2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">fivegame</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(1, 0, 0, 0, 0), (0, 1, 0, 0, 0)]]</span>
<span class="gp">sage: </span><span class="n">fivegame</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(1, 0, 0, 0, 0), (0, 1, 0, 0, 0)]]</span>
<span class="gp">sage: </span><span class="n">fivegame</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(1.0, 0.0, 0.0, 0.0, 0.0), (0.0, 1.0, 0.0, 0.0, 0.0)]]</span>
</pre></div>
</div>
<p>Here are some examples of finding Nash equilibria for constant-sum games:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cg</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">)</span>
<span class="go">[[(0.5, 0.5), (0.5, 0.5)]]</span>
<span class="gp">sage: </span><span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;Coin&#39;</span><span class="p">)</span> <span class="c1"># optional - sage_numerical_backends_coin</span>
<span class="go">[[(0.5, 0.5), (0.5, 0.5)]]</span>
<span class="gp">sage: </span><span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;PPL&#39;</span><span class="p">)</span>
<span class="go">[[(1/2, 1/2), (1/2, 1/2)]]</span>
<span class="gp">sage: </span><span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;gambit&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(0.5, 0.5), (0.5, 0.5)]]</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">cg</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">ne</span> <span class="o">=</span> <span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;glpk&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[[[</span><span class="nb">round</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">ne</span><span class="p">]</span>
<span class="go">[[[0.666667, 0.333333], [0.666667, 0.333333]]]</span>
<span class="gp">sage: </span><span class="n">ne</span> <span class="o">=</span> <span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;Coin&#39;</span><span class="p">)</span> <span class="c1"># optional - sage_numerical_backends_coin</span>
<span class="gp">sage: </span><span class="p">[[[</span><span class="nb">round</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">ne</span><span class="p">]</span> <span class="c1"># optional - sage_numerical_backends_coin</span>
<span class="go">[[[0.666667, 0.333333], [0.666667, 0.333333]]]</span>
<span class="gp">sage: </span><span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;PPL&#39;</span><span class="p">)</span>
<span class="go">[[(2/3, 1/3), (2/3, 1/3)]]</span>
<span class="gp">sage: </span><span class="n">ne</span> <span class="o">=</span> <span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;gambit&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="p">[[[</span><span class="nb">round</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">ne</span><span class="p">]</span> <span class="c1"># optional - gambit</span>
<span class="go">[[[0.666667, 0.333333], [0.666667, 0.333333]]]</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">cg</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">ne</span> <span class="o">=</span> <span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;glpk&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[[[</span><span class="nb">round</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">ne</span><span class="p">]</span>
<span class="go">[[[0.333333, 0.333333, 0.333333], [0.333333, 0.333333, 0.333333]]]</span>
<span class="gp">sage: </span><span class="n">ne</span> <span class="o">=</span> <span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;Coin&#39;</span><span class="p">)</span> <span class="c1"># optional - sage_numerical_backends_coin</span>
<span class="gp">sage: </span><span class="p">[[[</span><span class="nb">round</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">ne</span><span class="p">]</span> <span class="c1"># optional - sage_numerical_backends_coin</span>
<span class="go">[[[0.333333, 0.333333, 0.333333], [0.333333, 0.333333, 0.333333]]]</span>
<span class="gp">sage: </span><span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;PPL&#39;</span><span class="p">)</span>
<span class="go">[[(1/3, 1/3, 1/3), (1/3, 1/3, 1/3)]]</span>
<span class="gp">sage: </span><span class="n">ne</span> <span class="o">=</span> <span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;gambit&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="p">[[[</span><span class="nb">round</span><span class="p">(</span><span class="n">el</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">ne</span><span class="p">]</span> <span class="c1"># optional - gambit</span>
<span class="go">[[[0.333333, 0.333333, 0.333333], [0.333333, 0.333333, 0.333333]]]</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">160</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">44</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">175</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">45</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">201</span><span class="p">,</span> <span class="mi">204</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">120</span><span class="p">,</span> <span class="mi">207</span><span class="p">,</span> <span class="mi">49</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">cg</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;PPL&#39;</span><span class="p">)</span>
<span class="go">[[(0, 0, 1, 0), (0, 0, 1)]]</span>
</pre></div>
</div>
<p>Running the constant-sum solver on a game which isn’t a constant sum game
generates a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cg</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">cg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;glpk&#39;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Input game needs to be a two player constant sum game</span>
</pre></div>
</div>
<p>Here is an example of a 3 by 2 game with 3 Nash equilibrium:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span>
<span class="gp">....: </span>            <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 1/3, 2/3), (1/3, 2/3)], [(4/5, 1/5, 0), (2/3, 1/3)], [(1, 0, 0), (1, 0)]]</span>
</pre></div>
</div>
<p>Of the algorithms implemented, only <code class="docutils literal notranslate"><span class="pre">'lrs'</span></code> and <code class="docutils literal notranslate"><span class="pre">'enumeration'</span></code>
are guaranteed to find all Nash equilibria in a game. The solver for
constant sum games only ever finds one Nash equilibrium. Although it
is possible for the <code class="docutils literal notranslate"><span class="pre">'LCP'</span></code> solver to find all Nash equilibria
in some instances, there are instances where it will not be able to
find all Nash equilibria.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">gg</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">gg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 1), (0, 1)], [(0, 1), (1, 0)], [(1, 0), (0, 1)], [(1, 0), (1, 0)]]</span>
<span class="gp">sage: </span><span class="n">gg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrs</span>
<span class="go">[[(0, 1), (0, 1)], [(0, 1), (1, 0)], [(1, 0), (0, 1)], [(1, 0), (1, 0)]]</span>
<span class="gp">sage: </span><span class="n">gg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;glpk&#39;</span><span class="p">)</span>
<span class="go">[[(1.0, 0.0), (1.0, 0.0)]]</span>
<span class="gp">sage: </span><span class="n">gg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(1.0, 0.0), (1.0, 0.0)]]</span>
<span class="gp">sage: </span><span class="n">gg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">,</span> <span class="n">maximization</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[[(0, 1), (0, 1)], [(0, 1), (1, 0)], [(1, 0), (0, 1)], [(1, 0), (1, 0)]]</span>
<span class="gp">sage: </span><span class="n">gg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">,</span> <span class="n">maximization</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># optional - lrs</span>
<span class="go">[[(0, 1), (0, 1)], [(0, 1), (1, 0)], [(1, 0), (0, 1)], [(1, 0), (1, 0)]]</span>
<span class="gp">sage: </span><span class="n">gg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lp&#39;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;glpk&#39;</span><span class="p">,</span> <span class="n">maximization</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[[(1.0, 0.0), (1.0, 0.0)]]</span>
<span class="gp">sage: </span><span class="n">gg</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">,</span> <span class="n">maximization</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(1.0, 0.0), (1.0, 0.0)]]</span>
</pre></div>
</div>
<p>Note that outputs for all algorithms are as lists of lists of
tuples and the equilibria have been sorted so that all algorithms give
a comparable output (although <code class="docutils literal notranslate"><span class="pre">'LCP'</span></code> returns floats):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">enumeration_eqs</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[[</span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">enumeration_eqs</span><span class="p">]</span>
<span class="go">[[&lt;... &#39;tuple&#39;&gt;, &lt;... &#39;tuple&#39;&gt;], [&lt;... &#39;tuple&#39;&gt;, &lt;... &#39;tuple&#39;&gt;], [&lt;... &#39;tuple&#39;&gt;, &lt;... &#39;tuple&#39;&gt;]]</span>
<span class="gp">sage: </span><span class="n">lrs_eqs</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span>  <span class="c1"># optional - lrslib</span>
<span class="gp">sage: </span><span class="p">[[</span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">lrs_eqs</span><span class="p">]</span>  <span class="c1"># optional - lrslib</span>
<span class="go">[[&lt;... &#39;tuple&#39;&gt;, &lt;... &#39;tuple&#39;&gt;], [&lt;... &#39;tuple&#39;&gt;, &lt;... &#39;tuple&#39;&gt;], [&lt;... &#39;tuple&#39;&gt;, &lt;... &#39;tuple&#39;&gt;]]</span>
<span class="gp">sage: </span><span class="n">LCP_eqs</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="p">[[</span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">LCP_eqs</span><span class="p">]</span>  <span class="c1"># optional - gambit</span>
<span class="go">[[&lt;... &#39;tuple&#39;&gt;, &lt;... &#39;tuple&#39;&gt;], [&lt;... &#39;tuple&#39;&gt;, &lt;... &#39;tuple&#39;&gt;], [&lt;... &#39;tuple&#39;&gt;, &lt;... &#39;tuple&#39;&gt;]]</span>
<span class="gp">sage: </span><span class="n">enumeration_eqs</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">enumeration_eqs</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">lrs_eqs</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">lrs_eqs</span><span class="p">)</span>  <span class="c1"># optional - lrslib</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">LCP_eqs</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">LCP_eqs</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">lrs_eqs</span> <span class="o">==</span> <span class="n">enumeration_eqs</span>  <span class="c1"># optional - lrslib</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">enumeration_eqs</span> <span class="o">==</span> <span class="n">LCP_eqs</span>  <span class="c1"># optional - gambit</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">[[[</span><span class="nb">round</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">]</span> <span class="k">for</span> <span class="nb">str</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">enumeration_eqs</span><span class="p">]</span> <span class="o">==</span> <span class="p">[[[</span><span class="nb">round</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">]</span> <span class="k">for</span> <span class="nb">str</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">LCP_eqs</span><span class="p">]</span>  <span class="c1"># optional - gambit</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Also, not specifying a valid solver would lead to an error:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s2">&quot;invalid&quot;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: &#39;algorithm&#39; should be set to &#39;enumeration&#39;, &#39;LCP&#39;, &#39;lp&#39; or &#39;lrs&#39;</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s2">&quot;lp&quot;</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s2">&quot;invalid&quot;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: &#39;solver&#39; should be set to &#39;GLPK&#39;, ..., None</span>
<span class="go"> (in which case the default one is used), or a callable.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.game_theory.normal_form_game.NormalFormGame.payoff_matrices">
<span class="sig-name descname"><span class="pre">payoff_matrices</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.payoff_matrices" title="Permalink to this definition">#</a></dt>
<dd><p>Return 2 matrices representing the payoffs for each player.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p1</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">p2</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">(</span>
<span class="go">[1 2]  [3 3]</span>
<span class="go">[3 4], [1 4]</span>
<span class="go">)</span>
</pre></div>
</div>
<p>If we create a game with 3 players we will not be able to
obtain payoff matrices:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding second player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding third player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Only available for 2 player games</span>
</pre></div>
</div>
<p>If we do create a two player game but it is not complete
then an error is also raised:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Adding first player with 1 strategy</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Adding second player with 1 strategy</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: utilities have not been populated</span>
</pre></div>
</div>
<p>The above creates a 2 player game where each player has
a single strategy. Here we populate the strategies and
can then view the payoff matrices:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">([1], [2])</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="catalog_normal_form_games.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">A catalog of normal form games</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="matching_game.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Matching games</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2023, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Normal form games with N players.</a><ul>
<li><a class="reference internal" href="#sage.game_theory.normal_form_game.NormalFormGame"><code class="docutils literal notranslate"><span class="pre">NormalFormGame</span></code></a><ul>
<li><a class="reference internal" href="#sage.game_theory.normal_form_game.NormalFormGame.add_player"><code class="docutils literal notranslate"><span class="pre">add_player()</span></code></a></li>
<li><a class="reference internal" href="#sage.game_theory.normal_form_game.NormalFormGame.add_strategy"><code class="docutils literal notranslate"><span class="pre">add_strategy()</span></code></a></li>
<li><a class="reference internal" href="#sage.game_theory.normal_form_game.NormalFormGame.best_responses"><code class="docutils literal notranslate"><span class="pre">best_responses()</span></code></a></li>
<li><a class="reference internal" href="#sage.game_theory.normal_form_game.NormalFormGame.is_constant_sum"><code class="docutils literal notranslate"><span class="pre">is_constant_sum()</span></code></a></li>
<li><a class="reference internal" href="#sage.game_theory.normal_form_game.NormalFormGame.is_degenerate"><code class="docutils literal notranslate"><span class="pre">is_degenerate()</span></code></a></li>
<li><a class="reference internal" href="#sage.game_theory.normal_form_game.NormalFormGame.obtain_nash"><code class="docutils literal notranslate"><span class="pre">obtain_nash()</span></code></a></li>
<li><a class="reference internal" href="#sage.game_theory.normal_form_game.NormalFormGame.payoff_matrices"><code class="docutils literal notranslate"><span class="pre">payoff_matrices()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"ZZ": "\\Bold{Z}", "NN": "\\Bold{N}", "RR": "\\Bold{R}", "CC": "\\Bold{C}", "QQ": "\\Bold{Q}", "QQbar": "\\overline{\\QQ}", "GF": ["\\Bold{F}_{#1}", 1], "Zp": ["\\Bold{Z}_{#1}", 1], "Qp": ["\\Bold{Q}_{#1}", 1], "Zmod": ["\\ZZ/#1\\ZZ", 1], "CDF": "\\Bold{C}", "CIF": "\\Bold{C}", "CLF": "\\Bold{C}", "RDF": "\\Bold{R}", "RIF": "\\Bold{I} \\Bold{R}", "RLF": "\\Bold{R}", "SL": "\\mathrm{SL}", "PSL": "\\mathrm{PSL}", "lcm": "\\mathop{\\operatorname{lcm}}", "Bold": ["\\mathbf{#1}", 1]}, "inlineMath": [["$", "$"], ["\\(", "\\)"]], "maxBuffer": 51200, "autoload": {"color": [], "colorv2": ["color"]}}}</script>
    <script defer="defer" src="../../../_static/mathjax/tex-chtml.js"></script>
    </body>
</html>