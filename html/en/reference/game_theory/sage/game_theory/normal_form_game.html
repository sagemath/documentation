<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Normal form games with N players. &mdash; Sage Reference Manual v7.4: Game Theory</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.4: Game Theory" href="../../index.html" />
    <link rel="next" title="A catalog of normal form games." href="catalog_normal_form_games.html" />
    <link rel="prev" title="Matching games." href="matching_game.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="catalog_normal_form_games.html" title="A catalog of normal form games."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="matching_game.html" title="Matching games."
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Game Theory</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="normal-form-games-with-n-players">
<span id="sage-game-theory-normal-form-game"></span><h1>Normal form games with N players.<a class="headerlink" href="#normal-form-games-with-n-players" title="Permalink to this headline">Â¶</a></h1>
<span class="target" id="module-sage.game_theory.normal_form_game"></span><p>This module implements a class for normal form games (strategic form games)
<a class="reference internal" href="#nn2007" id="id1">[NN2007]</a>. At present 3 algorithms are implemented to compute equilibria
of these games (<code class="docutils literal"><span class="pre">'lrs'</span></code> - interfaced with the &#8216;lrslib&#8217; library, <code class="docutils literal"><span class="pre">'LCP'</span></code> interfaced
with the &#8216;gambit&#8217; library and support enumeration built in Sage). The architecture
for the class is based on the gambit architecture to ensure an easy transition
between gambit and Sage.  At present the algorithms for the computation of equilibria
only solve 2 player games.</p>
<p>A very simple and well known example of normal form game is referred
to as the &#8216;Battle of the Sexes&#8217; in which two players Amy and Bob
are modeled.  Amy prefers to play video games and Bob prefers to
watch a movie.  They both however want to spend their evening together.
This can be modeled using the following two matrices:</p>
<div class="math">
\[ \begin{align}\begin{aligned}\begin{split}A = \begin{pmatrix}
    3&amp;1\\
    0&amp;2\\
    \end{pmatrix}\end{split}\\\begin{split}
B = \begin{pmatrix}
    2&amp;1\\
    0&amp;3\\
    \end{pmatrix}\end{split}\end{aligned}\end{align} \]</div>
<p>Matrix <span class="math">\(A\)</span> represents the utilities of Amy and matrix <span class="math">\(B\)</span> represents the
utility of Bob. The choices of Amy correspond to the rows of the matrices:</p>
<ul class="simple">
<li>The first row corresponds to video games.</li>
<li>The second row corresponds to movies.</li>
</ul>
<p>Similarly Bob&#8217;s choices are represented by the columns:</p>
<ul class="simple">
<li>The first column corresponds to video games.</li>
<li>The second column corresponds to movies.</li>
</ul>
<p>Thus, if both Amy and Bob choose to play video games: Amy receives a
utility of 3 and Bob a utility of 2. If Amy is indeed going to stick
with video games Bob has no incentive to deviate (and vice versa).</p>
<p>This situation repeats itself if both Amy and Bob choose to watch a movie:
neither has an incentive to deviate.</p>
<p>This loosely described situation is referred to as a Nash Equilibrium.
We can use Sage to find them, and more importantly, see if there is any
other situation where Amy and Bob have no reason to change their choice
of action:</p>
<p>Here is how we create the game in Sage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">battle_of_the_sexes</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">battle_of_the_sexes</span>
<span class="go">Normal Form Game with the following utilities: {(0, 1): [1, 1], (1, 0): [0, 0], (0, 0): [3, 2], (1, 1): [2, 3]}</span>
</pre></div>
</div>
<p>To obtain the Nash equilibria we run the <code class="docutils literal"><span class="pre">obtain_nash()</span></code> method. In the
first few examples, we will use the &#8216;support enumeration&#8217; algorithm.
A discussion about the different algorithms will be given later:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">battle_of_the_sexes</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 1), (0, 1)], [(3/4, 1/4), (1/4, 3/4)], [(1, 0), (1, 0)]]</span>
</pre></div>
</div>
<p>If we look a bit closer at our output we see that a list of three
pairs of tuples have been returned. Each of these correspond to a
Nash Equilibrium, represented as a probability distribution over the
available strategies:</p>
<ul class="simple">
<li><span class="math">\([(1, 0), (1, 0)]\)</span> corresponds to the first player only
playing their first strategy and the second player also only playing
their first strategy. In other words Amy and Bob both play video games.</li>
<li><span class="math">\([(0, 1), (0, 1)]\)</span> corresponds to the first player only
playing their second strategy and the second player also only playing
their second strategy. In other words Amy and Bob both watch movies.</li>
<li><span class="math">\([(3/4, 1/4), (1/4, 3/4)]\)</span> corresponds to players <span class="math">\(mixing\)</span> their
strategies. Amy plays video games 75% of the time and Bob watches
movies 75% of the time. At this equilibrium point Amy and Bob will
only ever do the same activity <span class="math">\(3/8\)</span> of the time.</li>
</ul>
<p>We can use Sage to compute the expected utility for any mixed strategy
pair <span class="math">\((\sigma_1, \sigma_2)\)</span>. The payoff to player 1 is given by the
vector/matrix multiplication:</p>
<div class="math">
\[\sigma_1 A \sigma_2\]</div>
<p>The payoff to player 2 is given by:</p>
<div class="math">
\[\sigma_1 B \sigma_2\]</div>
<p>To compute this in Sage we have:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">ne</span> <span class="ow">in</span> <span class="n">battle_of_the_sexes</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">):</span>
<span class="go">....:     print(&quot;Utility for {}: &quot;.format(ne))</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(vector(ne[0]) * A * vector(ne[1]), vector(ne[0]) * B * vector(ne[1])))</span>
<span class="go">Utility for [(0, 1), (0, 1)]:</span>
<span class="go">2 3</span>
<span class="go">Utility for [(3/4, 1/4), (1/4, 3/4)]:</span>
<span class="go">3/2 3/2</span>
<span class="go">Utility for [(1, 0), (1, 0)]:</span>
<span class="go">3 2</span>
</pre></div>
</div>
<p>Allowing players to play mixed strategies ensures that there will always
be a Nash Equilibrium for a normal form game. This result is called Nash&#8217;s
Theorem (<a class="reference internal" href="#n1950" id="id2">[N1950]</a>).</p>
<p>Let us consider the game called &#8216;matching pennies&#8217; where two players each
present a coin with either HEADS or TAILS showing. If the coins show the
same side then player 1 wins, otherwise player 2 wins:</p>
<div class="math">
\[ \begin{align}\begin{aligned}\begin{split}A = \begin{pmatrix}
    1&amp;-1\\
    -1&amp;1\\
    \end{pmatrix}\end{split}\\\begin{split}
B = \begin{pmatrix}
    -1&amp;1\\
    1&amp;-1\\
    \end{pmatrix}\end{split}\end{aligned}\end{align} \]</div>
<p>It should be relatively straightforward to observe, that there is no
situation, where both players always do the same thing, and have no
incentive to deviate.</p>
<p>We can plot the utility of player 1 when player 2 is playing a mixed
strategy <span class="math">\(\sigma_2 = (y, 1-y)\)</span> (so that the utility to player 1 for
playing strategy number <span class="math">\(i\)</span> is given by the matrix/vector multiplication
<span class="math">\((Ay)_i\)</span>, ie element in position <span class="math">\(i\)</span> of the matrix/vector multiplication
<span class="math">\(Ay\)</span>)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">plot</span><span class="p">((</span><span class="n">A</span> <span class="o">*</span> <span class="n">vector</span><span class="p">([</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">y</span><span class="p">]))[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;$u_1(r_1, (y, 1-y))$&#39;</span><span class="p">,</span> <span class="n">axes_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;$y$&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">+=</span> <span class="n">plot</span><span class="p">((</span><span class="n">A</span> <span class="o">*</span> <span class="n">vector</span><span class="p">([</span><span class="n">y</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">y</span><span class="p">]))[</span><span class="mi">1</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">legend_label</span><span class="o">=</span><span class="s1">&#39;$u_1(r_2, (y, 1-y))$&#39;</span><span class="p">);</span> <span class="n">p</span>
<span class="go">Graphics object consisting of 2 graphics primitives</span>
</pre></div>
</div>
<p>We see that the only point at which player 1 is indifferent amongst
the available strategies is when <span class="math">\(y = 1/2\)</span>.</p>
<p>If we compute the Nash equilibria we see that this corresponds to a point
at which both players are indifferent:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(1/2, 1/2), (1/2, 1/2)]]</span>
</pre></div>
</div>
<p>The utilities to both players at this Nash equilibrium
is easily computed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">vector</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span> <span class="o">*</span> <span class="n">M</span> <span class="o">*</span> <span class="n">vector</span><span class="p">([</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">])</span>
<span class="go">....:  for M in matching_pennies.payoff_matrices()]</span>
<span class="go">[0, 0]</span>
</pre></div>
</div>
<p>Note that the above uses the <code class="docutils literal"><span class="pre">payoff_matrices</span></code> method
which returns the payoff matrices for a 2 player game:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">(</span>
<span class="go">[ 1 -1]  [-1  1]</span>
<span class="go">[-1  1], [ 1 -1]</span>
<span class="go">)</span>
</pre></div>
</div>
<p>One can also input a single matrix and then a zero sum game is constructed.
Here is an instance of <a class="reference external" href="http://www.samkass.com/theories/RPSSL.html">Rock-Paper-Scissors-Lizard-Spock</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
<span class="go">....:             [1, 0, -1, -1, 1],</span>
<span class="go">....:             [-1, 1, 0, 1 , -1],</span>
<span class="go">....:             [-1, 1, -1, 0, 1],</span>
<span class="go">....:             [1, -1, 1, -1, 0]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(1/5, 1/5, 1/5, 1/5, 1/5), (1/5, 1/5, 1/5, 1/5, 1/5)]]</span>
</pre></div>
</div>
<p>We can also study games where players aim to minimize their utility.
Here is the Prisoner&#8217;s Dilemma (where players are aiming to reduce
time spent in prison):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">prisoners_dilemma</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">prisoners_dilemma</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">,</span> <span class="n">maximization</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[[(0, 1), (0, 1)]]</span>
</pre></div>
</div>
<p>When obtaining Nash equilibrium there are 3 algorithms currently available:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">'lrs'</span></code>: Reverse search vertex enumeration for 2 player games. This
algorithm uses the optional &#8216;lrslib&#8217; package. To install it, type
<code class="docutils literal"><span class="pre">sage</span> <span class="pre">-i</span> <span class="pre">lrslib</span></code> in the shell. For more information, see <a class="reference internal" href="#a2000" id="id3">[A2000]</a>.</li>
<li><code class="docutils literal"><span class="pre">'LCP'</span></code>: Linear complementarity program algorithm for 2 player games.
This algorithm uses the open source game theory package:
<a class="reference external" href="http://gambit.sourceforge.net/">Gambit</a> <a class="reference internal" href="#mmat2014" id="id4">[MMAT2014]</a>. At present this is
the only gambit algorithm available in sage but further development will
hope to implement more algorithms
(in particular for games with more than 2 players). To install it,
type <code class="docutils literal"><span class="pre">sage</span> <span class="pre">-i</span> <span class="pre">gambit</span></code> in the shell.</li>
<li><code class="docutils literal"><span class="pre">'enumeration'</span></code>: Support enumeration for 2 player games. This
algorithm is hard coded in Sage and checks through all potential
supports of a strategy. Supports of a given size with a conditionally
dominated strategy are ignored. Note: this is not the preferred
algorithm. The algorithm implemented is a combination of a basic
algorithm described in <a class="reference internal" href="#nn2007" id="id5">[NN2007]</a> and a pruning component described
in <a class="reference internal" href="#slb2008" id="id6">[SLB2008]</a>.</li>
</ul>
<p>Below we show how the three algorithms are called:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span>  <span class="c1"># optional - lrslib</span>
<span class="go">[[(1/2, 1/2), (1/2, 1/2)]]</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="go">[[(0.5, 0.5), (0.5, 0.5)]]</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(1/2, 1/2), (1/2, 1/2)]]</span>
</pre></div>
</div>
<p>Note that if no algorithm argument is passed then the default will be
selected according to the following order (if the corresponding package is
installed):</p>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">'lrs'</span></code> (requires &#8216;lrslib&#8217;)</li>
<li><code class="docutils literal"><span class="pre">'enumeration'</span></code></li>
</ol>
<p>Here is a game being constructed using gambit syntax (note that a
<code class="docutils literal"><span class="pre">NormalFormGame</span></code> object acts like a dictionary with pure strategy tuples as
keys and payoffs as their values):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding second player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">Normal Form Game with the following utilities: {(0, 1): [2, 3], (1, 0): [3, 1], (0, 0): [1, 3], (1, 1): [4, 4]}</span>
</pre></div>
</div>
<p>Once this game is constructed we can view the payoff matrices and solve the
game:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">(</span>
<span class="go">[1 2]  [3 3]</span>
<span class="go">[3 4], [1 4]</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 1), (0, 1)]]</span>
</pre></div>
</div>
<p>We can add an extra strategy to the first player:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">Normal Form Game with the following utilities: {(0, 1): [2, 3], (0, 0): [1, 3], (2, 1): [False, False], (2, 0): [False, False], (1, 0): [3, 1], (1, 1): [4, 4]}</span>
</pre></div>
</div>
<p>If we do this and try and obtain the Nash equilibrium or view the payoff
matrices(without specifying the utilities), an error is returned:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">utilities have not been populated</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">utilities have not been populated</span>
</pre></div>
</div>
<p>Here we populate the missing utilities:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">(</span>
<span class="go">[1 2]  [3 3]</span>
<span class="go">[3 4]  [1 4]</span>
<span class="go">[2 5], [1 3]</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">()</span>
<span class="go">[[(0, 0, 1), (0, 1)]]</span>
</pre></div>
</div>
<p>We can use the same syntax as above to create games with
more than 2 players:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">threegame</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding second player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding third player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">9</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">8</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">threegame</span>
<span class="go">Normal Form Game with the following utilities: {(0, 1, 1): [3, 5, 8], (1, 1, 0): [8, 4, 6], (1, 0, 0): [9, 7, 9], (0, 0, 1): [1, 5, 9], (1, 0, 1): [3, 2, 3], (0, 0, 0): [3, 1, 4], (0, 1, 0): [2, 6, 5], (1, 1, 1): [2, 6, 4]}</span>
</pre></div>
</div>
<p>The above requires a lot of input that could be simplified if there is
another data structure with our utilities and/or a structure to the
utilities.  The following example creates a game with a relatively strange
utility function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">utility</span><span class="p">(</span><span class="n">strategy_triplet</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
<span class="go">....:     return sum(strategy_triplet) * player</span>
<span class="gp">sage: </span><span class="n">threegame</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding second player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding third player with 2 strategies</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]:</span>
<span class="go">....:     for p in range(3):</span>
<span class="go">....:          threegame[i, j, k][p] = utility([i, j, k], p)</span>
<span class="gp">sage: </span><span class="n">threegame</span>
<span class="go">Normal Form Game with the following utilities: {(0, 1, 1): [0, 2, 4], (1, 1, 0): [0, 2, 4], (1, 0, 0): [0, 1, 2], (0, 0, 1): [0, 1, 2], (1, 0, 1): [0, 2, 4], (0, 0, 0): [0, 0, 0], (0, 1, 0): [0, 1, 2], (1, 1, 1): [0, 3, 6]}</span>
</pre></div>
</div>
<p>At present no algorithm has been implemented in Sage for games with
more than 2 players:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">threegame</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">Nash equilibrium for games with more than 2 players have not been implemented yet. Please see the gambit website (http://gambit.sourceforge.net/) that has a variety of available algorithms</span>
</pre></div>
</div>
<p>There are however a variety of such algorithms available in gambit,
further compatibility between Sage and gambit is actively being developed:
<a class="reference external" href="https://github.com/tturocy/gambit/tree/sage_integration">https://github.com/tturocy/gambit/tree/sage_integration</a>.</p>
<p>Note that the Gambit implementation of <code class="docutils literal"><span class="pre">LCP</span></code> can only handle integer
payoffs. If a non integer payoff is used an error will be raised:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">The Gambit implementation of LCP only allows for integer valued payoffs. Please scale your payoff matrices.</span>
</pre></div>
</div>
<p>Other algorithms can handle these payoffs:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(1/5, 4/5), (3/5, 2/5)]]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(1/5, 4/5), (3/5, 2/5)]]</span>
</pre></div>
</div>
<p>It can be shown that linear scaling of the payoff matrices conserves the
equilibrium values:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">A</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="go">[[(0.2, 0.8), (0.6, 0.4)]]</span>
</pre></div>
</div>
<p>It is also possible to generate a Normal form game from a gambit Game:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">gambit</span> <span class="kn">import</span> <span class="n">Game</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="o">=</span> <span class="n">Game</span><span class="o">.</span><span class="n">new_table</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">gambitgame</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">(</span><span class="n">gambitgame</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="n">g</span>  <span class="c1"># optional - gambit</span>
<span class="go">Normal Form Game with the following utilities: {(0, 1): [2.0, 10.0], (1, 0): [10.0, 2.0], (0, 0): [8.0, 8.0], (1, 1): [5.0, 5.0]}</span>
</pre></div>
</div>
<p>For more information on using Gambit in Sage see: <a class="reference internal" href="gambit_docs.html#module-sage.game_theory.gambit_docs" title="sage.game_theory.gambit_docs"><code class="xref py py-mod docutils literal"><span class="pre">Using</span> <span class="pre">Gambit</span> <span class="pre">in</span>
<span class="pre">Sage</span></code></a>. This includes how to access Gambit
directly using the version of iPython shipped with Sage and an explanation
as to why the <code class="docutils literal"><span class="pre">int</span></code> calls are needed to handle the Sage preparser.</p>
<p>Here is a slightly longer game that would take too long to solve with
<code class="docutils literal"><span class="pre">'enumeration'</span></code>. Consider the following:</p>
<p>An airline loses two suitcases belonging to two different travelers. Both
suitcases happen to be identical and contain identical antiques. An
airline manager tasked to settle the claims of both travelers explains
that the airline is liable for a maximum of 10 per suitcase, and in order
to determine an honest appraised value of the antiques the manager
separates both travelers so they can&#8217;t confer, and asks them to write down
the amount of their value at no less than 2 and no larger than 10. He
also tells them that if both write down the same number, he will treat
that number as the true dollar value of both suitcases and reimburse both
travelers that amount.</p>
<p>However, if one writes down a smaller number than the other, this smaller
number will be taken as the true dollar value, and both travelers will
receive that amount along with a bonus/malus: 2 extra will be paid to the
traveler who wrote down the lower value and a 2 deduction will be taken
from the person who wrote down the higher amount. The challenge is: what
strategy should both travelers follow to decide the value they should
write down?</p>
<p>In the following we create the game (with a max value of 10) and solve it:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># Modifying this value lets us play with games of any size</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="nb">min</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">sign</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="p">)</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="go">....:             for i in range(K, 1, -1)])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="nb">min</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">sign</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="p">)</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="go">....:             for i in range(K, 1, -1)])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(0, 0, 0, 0, 0, 0, 0, 0, 1), (0, 0, 0, 0, 0, 0, 0, 0, 1)]]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0),</span>
<span class="go">  (0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0)]]</span>
</pre></div>
</div>
<p>The output is a pair of vectors (as before) showing the Nash equilibrium.
In particular it here shows that out of the 10 possible strategies both
players should choose the last. Recall that the above considers a reduced
version of the game where individuals can claim integer values from 10
to 2.  The equilibrium strategy is thus for both players to state that
the value of their suitcase is 2.</p>
<p>Several standard Normal Form Games have also been implemented.
For more information on how to access these, see:
<code class="xref py py-mod docutils literal"><span class="pre">Game</span> <span class="pre">Theory</span> <span class="pre">Catalog</span></code>.
Included is information on the situation each Game models.
For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">game_theory</span><span class="o">.</span><span class="n">normal_form_games</span><span class="o">.</span><span class="n">PrisonersDilemma</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">Prisoners dilemma - Normal Form Game with the following utilities: ...</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">],</span>
<span class="go">....:      (0, 0): [-2, -2], (1, 1): [-4, -4]}</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">==</span> <span class="n">d</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">()</span>
<span class="go">[[(0, 1), (0, 1)]]</span>
</pre></div>
</div>
<p>We can easily obtain the best response for a player to a given strategy.  In
this example we obtain the best responses for Player 1, when Player 2 uses two
different strategies:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0, 1, 2]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0]</span>
</pre></div>
</div>
<p>Here we do the same for player 2:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">4</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[0, 1]</span>
</pre></div>
</div>
<p>We see that for the game <a class="reference external" href="http://www.samkass.com/theories/RPSSL.html">Rock-Paper-Scissors-Lizard-Spock</a> any pure strategy has two best
responses:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">game_theory</span><span class="o">.</span><span class="n">normal_form_games</span><span class="o">.</span><span class="n">RPSLS</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span>
<span class="go">(</span>
<span class="go">[ 0 -1  1  1 -1]  [ 0  1 -1 -1  1]</span>
<span class="go">[ 1  0 -1 -1  1]  [-1  0  1  1 -1]</span>
<span class="go">[-1  1  0  1 -1]  [ 1 -1  0 -1  1]</span>
<span class="go">[-1  1 -1  0  1]  [ 1 -1  1  0 -1]</span>
<span class="go">[ 1 -1  1 -1  0], [-1  1 -1  1  0]</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[1, 4]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[2, 3]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0, 4]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0, 2]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[1, 3]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1, 4]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[2, 3]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[0, 4]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[0, 2]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1, 3]</span>
</pre></div>
</div>
<p>Note that degenerate games can cause problems for most algorithms.
The following example in fact has an infinite quantity of equilibria which
is evidenced by the various algorithms returning different solutions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(0, 1/3, 2/3), (1/3, 2/3)], [(1, 0, 0), (1/2, 3)], [(1, 0, 0), (1, 3)]]</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(0.0, 0.3333333333, 0.6666666667), (0.3333333333, 0.6666666667)],</span>
<span class="go"> [(1.0, -0.0, 0.0), (0.6666666667, 0.3333333333)],</span>
<span class="go"> [(1.0, 0.0, 0.0), (1.0, 0.0)]]</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 1/3, 2/3), (1/3, 2/3)], [(1, 0, 0), (1, 0)]]</span>
</pre></div>
</div>
<p>We can check the cause of this by using <code class="docutils literal"><span class="pre">is_degenerate()</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">degenerate_game</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note the &#8216;negative&#8217; <span class="math">\(-0.0\)</span> output by gambit. This is due to the numerical
nature of the algorithm used.</p>
<p>Here is an example with the trivial game where all payoffs are 0:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Adding first player with 3 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Adding second player with 3 strategies</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">g</span><span class="p">:</span>
<span class="go">....:     g[key] = [0, 0]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">(</span>
<span class="go">[0 0 0]  [0 0 0]</span>
<span class="go">[0 0 0]  [0 0 0]</span>
<span class="go">[0 0 0], [0 0 0]</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 0, 1), (0, 0, 1)], [(0, 0, 1), (0, 1, 0)], [(0, 0, 1), (1, 0, 0)],</span>
<span class="go"> [(0, 1, 0), (0, 0, 1)], [(0, 1, 0), (0, 1, 0)], [(0, 1, 0), (1, 0, 0)],</span>
<span class="go"> [(1, 0, 0), (0, 0, 1)], [(1, 0, 0), (0, 1, 0)], [(1, 0, 0), (1, 0, 0)]]</span>
</pre></div>
</div>
<p>A good description of degenerate games can be found in <a class="reference internal" href="#nn2007" id="id8">[NN2007]</a>.</p>
<p>REFERENCES:</p>
<table class="docutils citation" frame="void" id="n1950" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[N1950]</a></td><td>John Nash.
<em>Equilibrium points in n-person games.</em>
Proceedings of the National Academy of Sciences 36.1 (1950): 48-49.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="nn2007" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[NN2007]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id5">2</a>, <a class="fn-backref" href="#id8">3</a>, <a class="fn-backref" href="#id9">4</a>, <a class="fn-backref" href="#id14">5</a>)</em> Nisan, Noam, et al., eds.
<em>Algorithmic game theory.</em>
Cambridge University Press, 2007.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="a2000" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[A2000]</a></td><td>Avis, David.
<em>A revised implementation of the reverse search vertex enumeration algorithm.</em>
Polytopes-combinatorics and computation
Birkhauser Basel, 2000.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mmat2014" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[MMAT2014]</a></td><td>McKelvey, Richard D., McLennan, Andrew M., and Turocy, Theodore L.
<em>Gambit: Software Tools for Game Theory, Version 13.1.2.</em>
<a class="reference external" href="http://www.gambit-project.org">http://www.gambit-project.org</a> (2014).</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="slb2008" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[SLB2008]</a></td><td>Shoham, Yoav, and Kevin Leyton-Brown.
<em>Multiagent systems: Algorithmic, game-theoretic, and logical foundations.</em>
Cambridge University Press, 2008.</td></tr>
</tbody>
</table>
<p>AUTHOR:</p>
<ul class="simple">
<li>James Campbell and Vince Knight (06-2014): Original version</li>
</ul>
<dl class="class">
<dt id="sage.game_theory.normal_form_game.NormalFormGame">
<em class="property">class </em><code class="descclassname">sage.game_theory.normal_form_game.</code><code class="descname">NormalFormGame</code><span class="sig-paren">(</span><em>generator=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage Reference Manual: Basic Structures v7.4)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.sage_object.SageObject</span></code></a>, <code class="xref py py-class docutils literal"><span class="pre">_abcoll.MutableMapping</span></code></p>
<p>An object representing a Normal Form Game. Primarily used to compute the
Nash Equilibria.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">generator</span></code> &#8211; can be a list of 2 matrices, a single matrix or left
blank</li>
</ul>
<dl class="method">
<dt id="sage.game_theory.normal_form_game.NormalFormGame.add_player">
<code class="descname">add_player</code><span class="sig-paren">(</span><em>num_strategies</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.add_player" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Add a player to a NormalFormGame.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">num_strategies</span></code> &#8211; the number of strategies the player should have</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Adding second player with 1 strategy</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Adding third player with 1 strategy</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">Normal Form Game with the following utilities: {(1, 0, 0): [False, False, False], (0, 0, 0): [False, False, False]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.game_theory.normal_form_game.NormalFormGame.add_strategy">
<code class="descname">add_strategy</code><span class="sig-paren">(</span><em>player</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.add_strategy" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Add a strategy to a player, will not affect already completed
strategy profiles.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">player</span></code> &#8211; the index of the player</li>
</ul>
<p>EXAMPLES:</p>
<p>A simple example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">example</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">example</span>
<span class="go">Normal Form Game with the following utilities: {(0, 1): [0, 2], (1, 0): [-2, -1], (0, 0): [1, 3], (1, 1): [3, 0]}</span>
<span class="gp">sage: </span><span class="n">example</span><span class="o">.</span><span class="n">add_strategy</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">example</span>
<span class="go">Normal Form Game with the following utilities: {(0, 1): [0, 2], (0, 0): [1, 3], (2, 1): [False, False], (2, 0): [False, False], (1, 0): [-2, -1], (1, 1): [3, 0]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.game_theory.normal_form_game.NormalFormGame.best_responses">
<code class="descname">best_responses</code><span class="sig-paren">(</span><em>strategy</em>, <em>player</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.best_responses" title="Permalink to this definition">Â¶</a></dt>
<dd><p>For a given strategy for a player and the index of the opponent,
computes the payoff for the opponent and returns a list of the indices
of the best responses. Only implemented for two player games</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">strategy</span></code> &#8211; a probability distribution vector</li>
<li><code class="docutils literal"><span class="pre">player</span></code> &#8211; the index of the opponent, <code class="docutils literal"><span class="pre">0</span></code> for the row player,
<code class="docutils literal"><span class="pre">1</span></code> for the column player.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
</pre></div>
</div>
<p>Now we can obtain the best responses for Player 1, when Player 2 uses
different strategies:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0, 1, 2]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0]</span>
</pre></div>
</div>
<p>To get the best responses for Player 2 we pass the argument <code class="code docutils literal"><span class="pre">player=1</span></code></p>
<blockquote>
<div><p>sage: g.best_responses((4/5, 1/5, 0), player=1)
[0, 1]</p>
<p>sage: A = matrix([[1, 0], [0, 1], [0, 0]])
sage: B = matrix([[1, 0], [0, 1], [0.7, 0.8]])
sage: g = NormalFormGame([A, B])
sage: g.best_responses((0, 1, 0), player=1)
[1]</p>
<p>sage: A = matrix([[3,3],[2,5],[0,6]])
sage: B = matrix([[3,3],[2,6],[3,1]])
sage: degenerate_game = NormalFormGame([A,B])
sage: degenerate_game.best_responses((1, 0, 0), player=1)
[0, 1]</p>
<p>sage: A = matrix([[3, 0], [0, 3], [1.5, 1.5]])
sage: B = matrix([[4, 3], [2, 6], [3, 1]])
sage: g = NormalFormGame([A, B])
sage: g.best_responses((1/3, 1/3, 1/3), player=1)
[1]</p>
</div></blockquote>
<p>Note that this has only been implemented for 2 player games:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding second player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding third player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Only available for 2 player games</span>
</pre></div>
</div>
<p>If the strategy is not of the correct dimension for the given player
then an error is returned:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Strategy is not of correct dimension</span>

<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Strategy is not of correct dimension</span>
</pre></div>
</div>
<p>If the strategy is not a true probability vector then an error is
passed:</p>
<blockquote>
<div><p>sage: A = matrix([[3, 0], [0, 3], [1.5, 1.5]])
sage: B = matrix([[4, 3], [2, 6], [3, 1]])
sage: g = NormalFormGame([A, B])
sage: g.best_responses((1/3, 1/2, 0), player=1)
Traceback (most recent call last):
...
ValueError: Strategy is not a probability distribution vector</p>
<p>sage: A = matrix([[3, 0], [0, 3], [1.5, 1.5]])
sage: B = matrix([[4, 3], [2, 6], [3, 1]])
sage: g = NormalFormGame([A, B])
sage: g.best_responses((3/2, -1/2), player=0)
Traceback (most recent call last):
...
ValueError: Strategy is not a probability distribution vector</p>
</div></blockquote>
<p>If the player specified is not <span class="math">\(0\)</span> or <span class="math">\(1\)</span>, an error is raised:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">((</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">player</span><span class="o">=</span><span class="s1">&#39;Player1&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Player1 is not an index of the oponent, must be 0 or 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.game_theory.normal_form_game.NormalFormGame.is_degenerate">
<code class="descname">is_degenerate</code><span class="sig-paren">(</span><em>certificate=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.is_degenerate" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A function to check whether the game is degenerate or not.
Will return a boolean.</p>
<p>A two-player game is called nondegenerate if no mixed strategy of
support size <span class="math">\(k\)</span> has more than <span class="math">\(k\)</span> pure best responses <a class="reference internal" href="#nn2007" id="id9">[NN2007]</a>. In a
degenerate game, this definition is violated, for example if there
is a pure strategy that has two pure best responses.</p>
<p>The implementation here transforms the search over mixed strategies to a
search over supports which is a discrete search. A full explanation of
this is given in <a class="reference internal" href="#ck2015" id="id10">[CK2015]</a>. This problem is known to be NP-Hard
<a class="reference internal" href="#d2009" id="id11">[D2009]</a>.  Another possible implementation is via best response
polytopes, see <a class="reference external" href="https://trac.sagemath.org/18958">trac ticket #18958</a>.</p>
<p>The game Rock-Paper-Scissors is an example of a non-degenerate game,:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">game_theory</span><span class="o">.</span><span class="n">normal_form_games</span><span class="o">.</span><span class="n">RPS</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>whereas <a class="reference external" href="http://www.samkass.com/theories/RPSSL.html">Rock-Paper-Scissors-Lizard-Spock</a> is degenerate because
for every pure strategy there are two best responses.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">game_theory</span><span class="o">.</span><span class="n">normal_form_games</span><span class="o">.</span><span class="n">RPSLS</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>EXAMPLES:</p>
<p>Here is an example of a degenerate game given in <a class="reference internal" href="#dgrb2010" id="id13">[DGRB2010]</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">degenerate_game</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Here is an example of a degenerate game given in <a class="reference internal" href="#nn2007" id="id14">[NN2007]</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">d_game</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">d_game</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Here are some other examples of degenerate games:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">game</span>  <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">M</span><span class="p">,</span> <span class="n">N</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">game</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If more information is required, it may be useful to use
<code class="docutils literal"><span class="pre">certificate=True</span></code>. This will return a boolean of whether the game is
degenerate or not, and if True; a tuple containing the strategy where
degeneracy was found and the player it belongs to. <code class="docutils literal"><span class="pre">0</span></code> is the row
player and <code class="docutils literal"><span class="pre">1</span></code> is the column player.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span>  <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">M</span><span class="p">,</span> <span class="n">N</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">test</span><span class="p">,</span> <span class="n">certificate</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">(</span><span class="n">certificate</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">test</span><span class="p">,</span> <span class="n">certificate</span>
<span class="go">(True, ((1, 0), 0))</span>
</pre></div>
</div>
<p>Using the output, we see that the opponent has more best responses than
the size of the support of the strategy in question <code class="docutils literal"><span class="pre">(1,</span> <span class="pre">0)</span></code>. (We
specify the player as <code class="docutils literal"><span class="pre">(player</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">%</span> <span class="pre">2</span></code> to ensure that we have the
opponent&#8217;s index.):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">(</span><span class="n">certificate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="n">certificate</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[0, 1]</span>
</pre></div>
</div>
<p>Another example with a mixed strategy causing degeneracy.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">test</span><span class="p">,</span> <span class="n">certificate</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">(</span><span class="n">certificate</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">test</span><span class="p">,</span> <span class="n">certificate</span>
<span class="go">(True, ((1/2, 1/2), 1))</span>
</pre></div>
</div>
<p>Again, we see that the opponent has more best responses than the size of
the support of the strategy in question <code class="docutils literal"><span class="pre">(1/2,</span> <span class="pre">1/2)</span></code>.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">best_responses</span><span class="p">(</span><span class="n">certificate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="n">certificate</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[0, 1, 2]</span>
</pre></div>
</div>
<p>Sometimes, the different algorithms for obtaining nash_equilibria don&#8217;t
agree with each other. This can happen when games are degenerate:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="o">-</span><span class="mi">75</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">33</span><span class="p">],</span>
<span class="go">....:            [42, -8, -77, -18],</span>
<span class="go">....:            [83, 18, 11, 40],</span>
<span class="go">....:            [-10, -38, 76, -9]])</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">62</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">51</span><span class="p">],</span>
<span class="go">....:            [-41, -27, -69, 52],</span>
<span class="go">....:            [-17, 25, -97, -82],</span>
<span class="go">....:            [30, 31, -1, 50]])</span>
<span class="gp">sage: </span><span class="n">d_game</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">d_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(0, 0, 1, 0), (0, 1, 0, 0)],</span>
<span class="go"> [(17/29, 0, 0, 12/29), (0, 0, 42/73, 31/73)],</span>
<span class="go"> [(122/145, 0, 23/145, 0), (0, 1, 0, 0)]]</span>
<span class="gp">sage: </span><span class="n">d_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(0.5862068966, 0.0, 0.0, 0.4137931034),</span>
<span class="go">  (0.0, 0.0, 0.5753424658, 0.4246575342)]]</span>
<span class="gp">sage: </span><span class="n">d_game</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 0, 1, 0), (0, 1, 0, 0)], [(17/29, 0, 0, 12/29), (0, 0, 42/73, 31/73)]]</span>
<span class="gp">sage: </span><span class="n">d_game</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Adding first player with 3 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Adding second player with 3 strategies</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">g</span><span class="p">:</span>
<span class="go">....:     g[key] = [0, 0]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">matching_pennies</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">prisoners_dilemma</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">prisoners_dilemma</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_degenerate</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">Tests for Degeneracy is not yet implemented for games with more than two players.</span>
</pre></div>
</div>
<p>REFERENCES:</p>
<table class="docutils citation" frame="void" id="d2009" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id11">[D2009]</a></td><td>Du Ye.
<em>On the Complexity of Deciding Degeneracy in Games</em>
<a class="reference external" href="http://arxiv.org/pdf/0905.3012v1.pdf">http://arxiv.org/pdf/0905.3012v1.pdf</a>
(2009)</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="dgrb2010" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id13">[DGRB2010]</a></td><td>David Avis, Gabriel D. Rosenberg, Rahul Savani, Bernhard von Stengel.
<em>Enumeration of Nash equilibria for two-player games.</em>
<a class="reference external" href="http://www.maths.lse.ac.uk/personal/stengel/ETissue/ARSvS.pdf">http://www.maths.lse.ac.uk/personal/stengel/ETissue/ARSvS.pdf</a> (2010)</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="ah2002" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[AH2002]</td><td>R. J. Aumann and S. Hart, Elsevier, eds.
<em>Computing equilibria for two-person games</em>
<a class="reference external" href="http://www.maths.lse.ac.uk/personal/stengel/TEXTE/nashsurvey.pdf">http://www.maths.lse.ac.uk/personal/stengel/TEXTE/nashsurvey.pdf</a>
(2002)</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="ck2015" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id10">[CK2015]</a></td><td>J. Campbell and V. Knight.
<em>On testing degeneracy of bi-matrix games</em>
<a class="reference external" href="http://vknight.org/unpeudemath/code/2015/06/25/on_testing_degeneracy_of_games/">http://vknight.org/unpeudemath/code/2015/06/25/on_testing_degeneracy_of_games/</a>
(2015)</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sage.game_theory.normal_form_game.NormalFormGame.obtain_nash">
<code class="descname">obtain_nash</code><span class="sig-paren">(</span><em>algorithm=False</em>, <em>maximization=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.obtain_nash" title="Permalink to this definition">Â¶</a></dt>
<dd><p>A function to return the Nash equilibrium for the game.
Optional arguments can be used to specify the algorithm used.
If no algorithm is passed then an attempt is made to use the most
appropriate algorithm.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">algorithm</span></code> - the following algorithms should be available through
this function:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">'lrs'</span></code> - This algorithm is only suited for 2 player games.
See the lrs web site (<a class="reference external" href="http://cgm.cs.mcgill.ca/~avis/C/lrs.html">http://cgm.cs.mcgill.ca/~avis/C/lrs.html</a>).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">'LCP'</span></code> - This algorithm is only suited for 2 player games.
See the gambit web site (<a class="reference external" href="http://gambit.sourceforge.net/">http://gambit.sourceforge.net/</a>). Note
that the output differs from the other algorithms: floats are
returned.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">'enumeration'</span></code> - This is a very inefficient
algorithm (in essence a brute force approach).</p>
<ol class="arabic simple">
<li>For each k in 1...min(size of strategy sets)</li>
<li>For each I,J supports of size k</li>
<li>Prune: check if supports are dominated</li>
<li>Solve indifference conditions and check that have Nash Equilibrium.</li>
</ol>
<p>Solving the indifference conditions is done by building the
corresponding linear system.  If  <span class="math">\(\rho_1, \rho_2\)</span> are the
supports player 1 and 2 respectively.  Then, indifference implies:</p>
<div class="math">
\[u_1(s_1,\rho_2) = u_1(s_2, \rho_2)\]</div>
<p>for all <span class="math">\(s_1, s_2\)</span> in the support of <span class="math">\(\rho_1\)</span>. This corresponds to:</p>
<div class="math">
\[\sum_{j\in S(\rho_2)}A_{s_1,j}{\rho_2}_j = \sum_{j\in S(\rho_2)}A_{s_2,j}{\rho_2}_j\]</div>
<p>for all <span class="math">\(s_1, s_2\)</span> in the support of <span class="math">\(\rho_1\)</span> where <span class="math">\(A\)</span> is the payoff
matrix of player 1. Equivalently we can consider consecutive rows of
<span class="math">\(A\)</span> (instead of all pairs of strategies). Thus the corresponding
linear system can be written as:</p>
<div class="math">
\[\left(\sum_{j \in S(\rho_2)}A_{i,j} - A_{i+1,j}\right){\rho_2}_j\]</div>
<p>for all <span class="math">\(1\leq i \leq |S(\rho_1)|\)</span> (where <span class="math">\(A\)</span> has been modified to only
contain the rows corresponding to <span class="math">\(S(\rho_1)\)</span>). We also require all
elements of <span class="math">\(\rho_2\)</span> to sum to 1:</p>
<div class="math">
\[\sum_{j\in S(\rho_1)}{\rho_2}_j = 1\]</div>
</li>
</ul>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">maximization</span></code> &#8211; Whether a player is trying to maximize their
utility or minimize it.</p>
<ul class="simple">
<li>When set to <code class="docutils literal"><span class="pre">True</span></code> (default) it is assumed that players
aim to maximise their utility.</li>
<li>When set to <code class="docutils literal"><span class="pre">False</span></code> it is assumed that players aim to
minimise their utility.</li>
</ul>
</li>
</ul>
<p>EXAMPLES:</p>
<p>A game with 1 equilibrium when <code class="docutils literal"><span class="pre">maximization</span></code> is <code class="docutils literal"><span class="pre">True</span></code> and 3 when
<code class="docutils literal"><span class="pre">maximization</span></code> is <code class="docutils literal"><span class="pre">False</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">44</span><span class="p">],</span>
<span class="go">....:       [15, 10, 105],</span>
<span class="go">....:       [19, 204, 55],</span>
<span class="go">....:       [20, 200, 590]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="go">....:             [0, 5, 6],</span>
<span class="go">....:             [3, 4, 1],</span>
<span class="go">....:             [4, 1, 20]])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">=</span><span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(0, 0, 0, 1), (0, 0, 1)]]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">,</span> <span class="n">maximization</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(2/3, 1/12, 1/4, 0), (6333/8045, 247/8045, 293/1609)], [(3/4, 0, 1/4, 0), (0, 11/307, 296/307)], [(5/6, 1/6, 0, 0), (98/99, 1/99, 0)]]</span>
</pre></div>
</div>
<p>This particular game has 3 Nash equilibria:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="go">....:             [2,5],</span>
<span class="go">....:             [0,6]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
<span class="go">....:             [2,6],</span>
<span class="go">....:             [3,1]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 1/3, 2/3), (1/3, 2/3)], [(4/5, 1/5, 0), (2/3, 1/3)], [(1, 0, 0), (1, 0)]]</span>
</pre></div>
</div>
<p>Here is a slightly larger game:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">160</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span> <span class="mi">44</span><span class="p">],</span>
<span class="go">....:             [175, 180, 45],</span>
<span class="go">....:             [201, 204, 50],</span>
<span class="go">....:             [120, 207, 49]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="go">....:             [1, 0, 0],</span>
<span class="go">....:             [3, 4, 1],</span>
<span class="go">....:             [4, 1, 2]])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">=</span><span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 0, 3/4, 1/4), (1/28, 27/28, 0)]]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span>  <span class="c1"># optional - lrslib</span>
<span class="go">[[(0, 0, 3/4, 1/4), (1/28, 27/28, 0)]]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="go">[[(0.0, 0.0, 0.75, 0.25), (0.0357142857, 0.9642857143, 0.0)]]</span>
</pre></div>
</div>
<p>2 random matrices:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">player1</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="go">....:                   [1, 1, 2, 1, 80],</span>
<span class="go">....:                   [0, 2, 15, 0, -12],</span>
<span class="go">....:                   [-2, -2, 1, -20, -1],</span>
<span class="go">....:                   [1, -2, -1, -2, 1]])</span>
<span class="gp">sage: </span><span class="n">player2</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
<span class="go">....:                   [6, 14, -5, 1, 0],</span>
<span class="go">....:                   [0, -2, -1, 8, -1],</span>
<span class="go">....:                   [1, -1, 3, -3, 2],</span>
<span class="go">....:                   [8, -4, 1, 1, -17]])</span>
<span class="gp">sage: </span><span class="n">fivegame</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">player1</span><span class="p">,</span> <span class="n">player2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">fivegame</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(1, 0, 0, 0, 0), (0, 1, 0, 0, 0)]]</span>
<span class="gp">sage: </span><span class="n">fivegame</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span> <span class="c1"># optional - lrslib</span>
<span class="go">[[(1, 0, 0, 0, 0), (0, 1, 0, 0, 0)]]</span>
<span class="gp">sage: </span><span class="n">fivegame</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span> <span class="c1"># optional - gambit</span>
<span class="go">[[(1.0, 0.0, 0.0, 0.0, 0.0), (0.0, 1.0, 0.0, 0.0, 0.0)]]</span>
</pre></div>
</div>
<p>Here is an example of a 3 by 2 game with 3 Nash equilibrium:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
<span class="go">....:             [2,5],</span>
<span class="go">....:             [0,6]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
<span class="go">....:             [2,6],</span>
<span class="go">....:             [3,1]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="go">[[(0, 1/3, 2/3), (1/3, 2/3)], [(4/5, 1/5, 0), (2/3, 1/3)], [(1, 0, 0), (1, 0)]]</span>
</pre></div>
</div>
<p>Note that outputs for all algorithms are as lists of lists of
tuples and the equilibria have been sorted so that all algorithms give
a comparable output (although <code class="docutils literal"><span class="pre">'LCP'</span></code> returns floats):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">enumeration_eqs</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;enumeration&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[[</span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">enumeration_eqs</span><span class="p">]</span>
<span class="go">[[&lt;type &#39;tuple&#39;&gt;, &lt;type &#39;tuple&#39;&gt;], [&lt;type &#39;tuple&#39;&gt;, &lt;type &#39;tuple&#39;&gt;], [&lt;type &#39;tuple&#39;&gt;, &lt;type &#39;tuple&#39;&gt;]]</span>
<span class="gp">sage: </span><span class="n">lrs_eqs</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lrs&#39;</span><span class="p">)</span>  <span class="c1"># optional - lrslib</span>
<span class="gp">sage: </span><span class="p">[[</span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">lrs_eqs</span><span class="p">]</span>  <span class="c1"># optional - lrslib</span>
<span class="go">[[&lt;type &#39;tuple&#39;&gt;, &lt;type &#39;tuple&#39;&gt;], [&lt;type &#39;tuple&#39;&gt;, &lt;type &#39;tuple&#39;&gt;], [&lt;type &#39;tuple&#39;&gt;, &lt;type &#39;tuple&#39;&gt;]]</span>
<span class="gp">sage: </span><span class="n">LCP_eqs</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">obtain_nash</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;LCP&#39;</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="gp">sage: </span><span class="p">[[</span><span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">LCP_eqs</span><span class="p">]</span>  <span class="c1"># optional - gambit</span>
<span class="go">[[&lt;type &#39;tuple&#39;&gt;, &lt;type &#39;tuple&#39;&gt;], [&lt;type &#39;tuple&#39;&gt;, &lt;type &#39;tuple&#39;&gt;], [&lt;type &#39;tuple&#39;&gt;, &lt;type &#39;tuple&#39;&gt;]]</span>
<span class="gp">sage: </span><span class="n">enumeration_eqs</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">enumeration_eqs</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">lrs_eqs</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">lrs_eqs</span><span class="p">)</span>  <span class="c1"># optional - lrslib</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">LCP_eqs</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">LCP_eqs</span><span class="p">)</span>  <span class="c1"># optional - gambit</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">lrs_eqs</span> <span class="o">==</span> <span class="n">enumeration_eqs</span>  <span class="c1"># optional - lrslib</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">enumeration_eqs</span> <span class="o">==</span> <span class="n">LCP_eqs</span>  <span class="c1"># optional - gambit</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">[[[</span><span class="nb">round</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">]</span> <span class="k">for</span> <span class="nb">str</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">enumeration_eqs</span><span class="p">]</span> <span class="o">==</span> <span class="p">[[[</span><span class="nb">round</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">]</span> <span class="k">for</span> <span class="nb">str</span> <span class="ow">in</span> <span class="n">eq</span><span class="p">]</span> <span class="k">for</span> <span class="n">eq</span> <span class="ow">in</span> <span class="n">LCP_eqs</span><span class="p">]</span>  <span class="c1"># optional - gambit</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.game_theory.normal_form_game.NormalFormGame.payoff_matrices">
<code class="descname">payoff_matrices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.game_theory.normal_form_game.NormalFormGame.payoff_matrices" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return 2 matrices representing the payoffs for each player.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p1</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">p2</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">([</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">(</span>
<span class="go">[1 2]  [3 3]</span>
<span class="go">[3 4], [1 4]</span>
<span class="go">)</span>
</pre></div>
</div>
<p>If we create a game with 3 players we will not be able to
obtain payoff matrices:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding first player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding second player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># adding third player with 2 strategies</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Only available for 2 player games</span>
</pre></div>
</div>
<p>If we do create a two player game but it is not complete
then an error is also raised:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">NormalFormGame</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Adding first player with 1 strategy</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">add_player</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Adding second player with 1 strategy</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">utilities have not been populated</span>
</pre></div>
</div>
<p>The above creates a 2 player game where each player has
a single strategy. Here we populate the strategies and
can then view the payoff matrices:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">payoff_matrices</span><span class="p">()</span>
<span class="go">([1], [2])</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="matching_game.html"
                                  title="previous chapter">Matching games.</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="catalog_normal_form_games.html"
                                  title="next chapter">A catalog of normal form games.</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/game_theory/normal_form_game.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="catalog_normal_form_games.html" title="A catalog of normal form games."
             >next</a> |</li>
        <li class="right" >
          <a href="matching_game.html" title="Matching games."
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Game Theory</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>