<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Interface to Macaulay2 &mdash; Sage Reference Manual v6.9: Interpreter Interfaces</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.9: Interpreter Interfaces" href="../../index.html" />
    <link rel="next" title="Interface to Magma" href="magma.html" />
    <link rel="prev" title="Lisp Interface" href="lisp.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="magma.html" title="Interface to Magma"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lisp.html" title="Lisp Interface"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Interpreter Interfaces</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="interface-to-macaulay2">
<span id="sage-interfaces-macaulay2"></span><h1>Interface to Macaulay2<a class="headerlink" href="#interface-to-macaulay2" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.interfaces.macaulay2"></span><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You must have <tt class="docutils literal"><span class="pre">Macaulay2</span></tt> installed on your computer
for this interface to work. Macaulay2 is not included with Sage,
but you can obtain it from &lt;<a class="reference external" href="http://www.math.uiuc.edu/Macaulay2/">http://www.math.uiuc.edu/Macaulay2/</a>&gt;.
Note additional optional Sage packages are required.</p>
</div>
<p>Sage provides an interface to the Macaulay2 computational algebra
system. This system provides extensive functionality for commutative
algebra. You do not have to install any optional packages.</p>
<p>The Macaulay2 interface offers three pieces of functionality:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Macaulay2_console()</span></tt> &#8211; A function that dumps you
into an interactive command-line Macaulay2 session.</li>
<li><tt class="docutils literal"><span class="pre">Macaulay2(expr)</span></tt> &#8211; Evaluation of arbitrary Macaulay2
expressions, with the result returned as a string.</li>
<li><tt class="docutils literal"><span class="pre">Macaulay2.new(expr)</span></tt> &#8211; Creation of a Sage object that wraps a
Macaulay2 object.  This provides a Pythonic interface to Macaulay2.  For
example, if <tt class="docutils literal"><span class="pre">f=Macaulay2.new(10)</span></tt>, then <tt class="docutils literal"><span class="pre">f.gcd(25)</span></tt> returns the
GCD of <span class="math">\(10\)</span> and <span class="math">\(25\)</span> computed using Macaulay2.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="k">print</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;3/5 + 7/11&#39;</span><span class="p">)</span> <span class="c"># optional - macaulay2</span>
<span class="go">68</span>
<span class="go">--</span>
<span class="go">55</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;f = i -&gt; i^3&#39;</span><span class="p">)</span> <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">f</span>                             <span class="c"># optional - macaulay2</span>
<span class="go">f</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>                          <span class="c"># optional - macaulay2</span>
<span class="go">125</span>

<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;ZZ/5[x,y,z]&#39;</span><span class="p">)</span>  <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="k">print</span> <span class="n">R</span>                       <span class="c"># optional - macaulay2</span>
<span class="go">ZZ</span>
<span class="go">--[x..z, Degrees =&gt; {3:1}, Heft =&gt; {1}, MonomialOrder =&gt; {MonomialSize =&gt; 32}, DegreeRank =&gt; 1]</span>
<span class="go"> 5                                                       {GRevLex =&gt; {3:1}  }</span>
<span class="go">                                                         {Position =&gt; Up    }</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>            <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>            <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="k">print</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span>                 <span class="c"># optional - macaulay2</span>
<span class="go"> 5    5</span>
<span class="go">x  + y</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span>               <span class="c"># optional - macaulay2</span>
<span class="go">Macaulay2</span>

<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;QQ[x,y,z,w]&#39;</span><span class="p">)</span>  <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;x^4 + 2*x*y^3 + x*y^2*w + x*y*z*w + x*y*w^2 + 2*x*z*w^2 + y^4 + y^3*w + 2*y^2*z*w + z^4 + w^4&#39;</span><span class="p">)</span> <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="k">print</span> <span class="n">f</span>                       <span class="c"># optional - macaulay2</span>
<span class="go"> 4       3    4    4      2     3                2           2         2    4</span>
<span class="go">x  + 2x*y  + y  + z  + x*y w + y w + x*y*z*w + 2y z*w + x*y*w  + 2x*z*w  + w</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span> <span class="o">*</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;x+y^5&#39;</span><span class="p">)</span>    <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="k">print</span> <span class="n">g</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>              <span class="c"># optional - macaulay2</span>
<span class="go">  4       3    4    4      2     3                2           2         2    4   5</span>
<span class="go">(x  + 2x*y  + y  + z  + x*y w + y w + x*y*z*w + 2y z*w + x*y*w  + 2x*z*w  + w )(y  + x)</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>Kiran Kedlaya and David Roe (2006-02-05, during Sage coding sprint)</li>
<li>William Stein (2006-02-09): inclusion in Sage; prompt uses regexp,
calling of Macaulay2 functions via __call__.</li>
<li>William Stein (2006-02-09): fixed bug in reading from file and
improved output cleaning.</li>
<li>Kiran Kedlaya (2006-02-12): added ring and ideal constructors,
list delimiters, is_Macaulay2Element, sage_polystring,
__floordiv__, __mod__, __iter__, __len__; stripped extra
leading space and trailing newline from output.</li>
</ul>
<p>TODO:</p>
<ul class="simple">
<li>get rid of all numbers in output, e.g., in ideal function below.</li>
</ul>
<dl class="class">
<dt id="sage.interfaces.macaulay2.Macaulay2">
<em class="property">class </em><tt class="descclassname">sage.interfaces.macaulay2.</tt><tt class="descname">Macaulay2</tt><big>(</big><em>maxread=10000</em>, <em>script_subdirectory=None</em>, <em>logfile=None</em>, <em>server=None</em>, <em>server_tmpdir=None</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="expect.html#sage.interfaces.expect.Expect" title="sage.interfaces.expect.Expect"><tt class="xref py py-class docutils literal"><span class="pre">sage.interfaces.expect.Expect</span></tt></a></p>
<p>Interface to the Macaulay2 interpreter.</p>
<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.console">
<tt class="descname">console</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.console" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn a new M2 command-line session.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">console</span><span class="p">()</span>                    <span class="c"># not tested</span>
<span class="go">Macaulay 2, version 1.1</span>
<span class="go">with packages: Classic, Core, Elimination, IntegralClosure, LLLBases, Parsing, PrimaryDecomposition, SchurRings, TangentCone</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.cputime">
<tt class="descname">cputime</tt><big>(</big><em>t=None</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.cputime" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;QQ[x,y]&quot;</span><span class="p">)</span>  <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>            <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">20</span>            <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">cputime</span><span class="p">()</span>       <span class="c"># optional - macaulay2; random</span>
<span class="go">0.48393700000000001</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.eval">
<tt class="descname">eval</tt><big>(</big><em>code</em>, <em>strip=True</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the code x to the Macaulay2 interpreter and return the output
as a string suitable for input back into Macaulay2, if possible.</p>
<p>INPUT:</p>
<ul class="simple">
<li>code &#8211; str</li>
<li>strip &#8211; ignored</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s">&quot;2+2&quot;</span><span class="p">)</span> <span class="c"># optional - macaulay2</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.get">
<tt class="descname">get</tt><big>(</big><em>var</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value of the variable var.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;2&quot;</span><span class="p">)</span> <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">)</span>      <span class="c"># optional - macaulay2</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.help">
<tt class="descname">help</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.help" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">help</span><span class="p">(</span><span class="s">&quot;load&quot;</span><span class="p">)</span>  <span class="c"># optional - macaulay2</span>
<span class="go">load -- read Macaulay2 commands</span>
<span class="go">*******************************</span>
<span class="gp">...</span>
<span class="go">  * &quot;input&quot; -- read Macaulay2 commands and echo</span>
<span class="go">  * &quot;notify&quot; -- whether to notify the user when a file is loaded</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.ideal">
<tt class="descname">ideal</tt><big>(</big><em>*gens</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.ideal" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ideal generated by gens.</p>
<p>INPUT:</p>
<ul class="simple">
<li>gens &#8211; list or tuple of Macaulay2 objects (or objects that can be
made into Macaulay2 objects via evaluation)</li>
</ul>
<p>OUTPUT:</p>
<p>the Macaulay2 ideal generated by the given list of gens</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R2</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="o">.</span><span class="n">ring</span><span class="p">(</span><span class="s">&#39;QQ&#39;</span><span class="p">,</span> <span class="s">&#39;[x, y]&#39;</span><span class="p">);</span> <span class="n">R2</span>            <span class="c"># optional - macaulay2</span>
<span class="go">QQ[x..y, Degrees =&gt; {2:1}, Heft =&gt; {1}, MonomialOrder =&gt; {MonomialSize =&gt; 16}, DegreeRank =&gt; 1]</span>
<span class="go">                                                         {Lex =&gt; 2          }</span>
<span class="go">                                                         {Position =&gt; Up    }</span>
<span class="gp">sage: </span><span class="n">I</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="o">.</span><span class="n">ideal</span><span class="p">(</span> <span class="p">(</span><span class="s">&#39;y^2 - x^3&#39;</span><span class="p">,</span> <span class="s">&#39;x - y&#39;</span><span class="p">)</span> <span class="p">);</span> <span class="n">I</span>   <span class="c"># optional - macaulay2</span>
<span class="go">          3    2</span>
<span class="go">ideal (- x  + y , x - y)</span>
<span class="gp">sage: </span><span class="n">J</span> <span class="o">=</span> <span class="n">I</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">J</span><span class="o">.</span><span class="n">gb</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>                 <span class="c"># optional - macaulay2</span>
<span class="go">{-9} | y9-3y8+3y7-y6             |</span>
<span class="go">{-7} | xy6-2xy5+xy4-y7+2y6-y5    |</span>
<span class="go">{-5} | x2y3-x2y2-2xy4+2xy3+y5-y4 |</span>
<span class="go">{-3} | x3-3x2y+3xy2-y3           |</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.new_from">
<tt class="descname">new_from</tt><big>(</big><em>type</em>, <em>value</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.new_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new Macaulay2Element of type type constructed from
value.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">l</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="o">.</span><span class="n">new_from</span><span class="p">(</span><span class="s">&quot;MutableList&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">l</span>                                              <span class="c"># optional - macaulay2</span>
<span class="go">MutableList{...3...}</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>                                        <span class="c"># optional - macaulay2</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.restart">
<tt class="descname">restart</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.restart" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart Macaulay2 interpreter.</p>
<p>TEST:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">restart</span><span class="p">()</span>  <span class="c"># optional - macaulay2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.ring">
<tt class="descname">ring</tt><big>(</big><em>base_ring='ZZ'</em>, <em>vars='[x]'</em>, <em>order='Lex'</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Macaulay2 ring.</p>
<p>INPUT:</p>
<ul class="simple">
<li>base_ring &#8211; base ring (see examples below)</li>
<li>vars &#8211; a tuple or string that defines the variable names</li>
<li>order &#8211; string &#8211; the monomial order (default: &#8216;Lex&#8217;)</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a Macaulay2 ring (with base ring ZZ)</li>
</ul>
<p>EXAMPLES:</p>
<p>This is a ring in variables named a through d over the finite field
of order 7, with graded reverse lex ordering:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R1</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="o">.</span><span class="n">ring</span><span class="p">(</span><span class="s">&#39;ZZ/7&#39;</span><span class="p">,</span> <span class="s">&#39;[a..d]&#39;</span><span class="p">,</span> <span class="s">&#39;GRevLex&#39;</span><span class="p">);</span>  <span class="n">R1</span>  <span class="c"># optional - macaulay2</span>
<span class="go">ZZ</span>
<span class="go">--[a..d, Degrees =&gt; {4:1}, Heft =&gt; {1}, MonomialOrder =&gt; {MonomialSize =&gt; 16}, DegreeRank =&gt; 1]</span>
<span class="go"> 7                                                       {GRevLex =&gt; {4:1}  }</span>
<span class="go">                                                         {Position =&gt; Up    }</span>
<span class="gp">sage: </span><span class="n">R1</span><span class="o">.</span><span class="n">char</span><span class="p">()</span>                                             <span class="c"># optional - macaulay2</span>
<span class="go">7</span>
</pre></div>
</div>
<p>This is a polynomial ring over the rational numbers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R2</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="o">.</span><span class="n">ring</span><span class="p">(</span><span class="s">&#39;QQ&#39;</span><span class="p">,</span> <span class="s">&#39;[x, y]&#39;</span><span class="p">);</span> <span class="n">R2</span>               <span class="c"># optional - macaulay2</span>
<span class="go">QQ[x..y, Degrees =&gt; {2:1}, Heft =&gt; {1}, MonomialOrder =&gt; {MonomialSize =&gt; 16}, DegreeRank =&gt; 1]</span>
<span class="go">                                                         {Lex =&gt; 2          }</span>
<span class="go">                                                         {Position =&gt; Up    }</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.set">
<tt class="descname">set</tt><big>(</big><em>var</em>, <em>value</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variable var to the given value.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;2&quot;</span><span class="p">)</span>  <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">)</span>       <span class="c"># optional - macaulay2</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.trait_names">
<tt class="descname">trait_names</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.trait_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of tab completions for Macaulay2.</p>
<p>Returns dynamically built sorted list of commands obtained using
Macaulay2 &#8220;apropos&#8221; command.
Return type: list of strings</p>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">names</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="o">.</span><span class="n">trait_names</span><span class="p">()</span> <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="s">&#39;ring&#39;</span> <span class="ow">in</span> <span class="n">names</span>                 <span class="c"># optional - macaulay2</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s">&quot;abcabc = 4&quot;</span><span class="p">)</span>    <span class="c"># optional - macaulay2</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">names</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="o">.</span><span class="n">trait_names</span><span class="p">()</span> <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="s">&quot;abcabc&quot;</span> <span class="ow">in</span> <span class="n">names</span>               <span class="c"># optional - macaulay2</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.use">
<tt class="descname">use</tt><big>(</big><em>R</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.use" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the Macaulay2 ring R.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;QQ[x,y]&quot;</span><span class="p">)</span>                  <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;ZZ/7[symbol x, symbol y]&quot;</span><span class="p">)</span> <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">cls</span><span class="p">()</span>                      <span class="c"># optional - macaulay2</span>
<span class="go">ZZ</span>
<span class="go">--[x..y, Degrees =&gt; {2:1}, Heft =&gt; {1}, MonomialOrder =&gt; {MonomialSize =&gt; 32}, DegreeRank =&gt; 1]</span>
<span class="go"> 7                                                       {GRevLex =&gt; {2:1}  }</span>
<span class="go">                                                         {Position =&gt; Up    }</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>                          <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">cls</span><span class="p">()</span>                      <span class="c"># optional - macaulay2</span>
<span class="go">QQ[x..y, Degrees =&gt; {2:1}, Heft =&gt; {1}, MonomialOrder =&gt; {MonomialSize =&gt; 32}, DegreeRank =&gt; 1]</span>
<span class="go">                                                         {GRevLex =&gt; {2:1}  }</span>
<span class="go">                                                         {Position =&gt; Up    }</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2.version">
<tt class="descname">version</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the version of Macaulay2.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">macaulay2</span><span class="o">.</span><span class="n">version</span><span class="p">()</span> <span class="c"># optional - macaulay2</span>
<span class="go">(1, 3, 1)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.interfaces.macaulay2.Macaulay2Element">
<em class="property">class </em><tt class="descclassname">sage.interfaces.macaulay2.</tt><tt class="descname">Macaulay2Element</tt><big>(</big><em>parent</em>, <em>value</em>, <em>is_name=False</em>, <em>name=None</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="expect.html#sage.interfaces.expect.ExpectElement" title="sage.interfaces.expect.ExpectElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.interfaces.expect.ExpectElement</span></tt></a></p>
<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.cls">
<tt class="descname">cls</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.cls" title="Permalink to this definition">¶</a></dt>
<dd><p>Since class is a keyword in Python, we have to use cls to call
Macaulay2&#8217;s class.  In Macaulay2, class corresponds to Sage&#8217;s
notion of parent.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span><span class="o">.</span><span class="n">cls</span><span class="p">()</span>  <span class="c"># optional - macaulay2</span>
<span class="go">Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.dot">
<tt class="descname">dot</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s">&quot;MutableHashTable&quot;</span><span class="p">)</span> <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="s">&quot;k&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>                            <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">d</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="s">&quot;k&quot;</span><span class="p">)</span>                            <span class="c"># optional - macaulay2</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.external_string">
<tt class="descname">external_string</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.external_string" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;QQ[symbol x, symbol y]&quot;</span><span class="p">)</span>  <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">external_string</span><span class="p">()</span>                      <span class="c"># optional - macaulay2</span>
<span class="go">&#39;QQ[x..y, Degrees =&gt; {2:1}, Heft =&gt; {1}, MonomialOrder =&gt; VerticalList{MonomialSize =&gt; 32, GRevLex =&gt; {2:1}, Position =&gt; Up}, DegreeRank =&gt; 1]&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.repr">
<tt class="descname">repr</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.repr" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;QQ[x,y,z]/(x^3-y^3-z^3)&quot;</span><span class="p">)</span> <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>                       <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>                       <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="k">print</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>                                <span class="c"># optional - macaulay2</span>
<span class="go">x + y</span>
<span class="gp">sage: </span><span class="k">print</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;QQ[x,y,z]&quot;</span><span class="p">)</span>             <span class="c"># optional - macaulay2</span>
<span class="go">QQ[x..z, Degrees =&gt; {3:1}, Heft =&gt; {1}, MonomialOrder =&gt; {MonomialSize =&gt; 32}, DegreeRank =&gt; 1]</span>
<span class="go">                                                         {GRevLex =&gt; {3:1}  }</span>
<span class="go">                                                         {Position =&gt; Up    }</span>
<span class="gp">sage: </span><span class="k">print</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;QQ[x,y,z]/(x+y+z)&quot;</span><span class="p">)</span>     <span class="c"># optional - macaulay2</span>
<span class="go">QQ[x, y, z]</span>
<span class="go">-----------</span>
<span class="go"> x + y + z</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.sage_polystring">
<tt class="descname">sage_polystring</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.sage_polystring" title="Permalink to this definition">¶</a></dt>
<dd><p>If this Macaulay2 element is a polynomial, return a string
representation of this polynomial that is suitable for
evaluation in Python.  Thus <tt class="docutils literal"><span class="pre">*</span></tt> is used for multiplication
and <tt class="docutils literal"><span class="pre">**</span></tt> for exponentiation.   This function is primarily
used internally.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="o">.</span><span class="n">ring</span><span class="p">(</span><span class="s">&#39;QQ&#39;</span><span class="p">,</span><span class="s">&#39;(x,y)&#39;</span><span class="p">)</span>               <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;x^3 + 3*y^11 + 5&#39;</span><span class="p">)</span>              <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="k">print</span> <span class="n">f</span>                                        <span class="c"># optional - macaulay2</span>
<span class="go"> 3     11</span>
<span class="go">x  + 3y   + 5</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">sage_polystring</span><span class="p">()</span>                            <span class="c"># optional - macaulay2</span>
<span class="go">&#39;x**3+3*y**11+5&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.sharp">
<tt class="descname">sharp</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.sharp" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">sharp</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>             <span class="c"># optional - macaulay2</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.starstar">
<tt class="descname">starstar</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.starstar" title="Permalink to this definition">¶</a></dt>
<dd><p>The binary operator <tt class="docutils literal"><span class="pre">**</span></tt> in Macaulay2 is usually used for tensor
or Cartesian power.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>  <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">starstar</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>               <span class="c"># optional - macaulay2</span>
<span class="go">set {(1, 1), (1, 2), (2, 1), (2, 2)}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.structure_sheaf">
<tt class="descname">structure_sheaf</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.structure_sheaf" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;QQ[a..d]&#39;</span><span class="p">)</span>                     <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">S</span><span class="o">/</span><span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;a^3+b^3+c^3+d^3&#39;</span><span class="p">)</span>            <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">Proj</span><span class="p">()</span>                                  <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="k">print</span> <span class="n">X</span><span class="o">.</span><span class="n">structure_sheaf</span><span class="p">()</span>                     <span class="c"># optional - macaulay2</span>
<span class="go">OO</span>
<span class="go">  sage...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.subs">
<tt class="descname">subs</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.subs" title="Permalink to this definition">¶</a></dt>
<dd><p>Note that we have to override the substitute method so that we get
the default one from Macaulay2 instead of the one provided by Element.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;QQ[x]&quot;</span><span class="p">)</span>            <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;ZZ/7[symbol x]&quot;</span><span class="p">)</span>   <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>                     <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>                       <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>               <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>              <span class="c"># optional - macaulay2</span>
<span class="go">Univariate Polynomial Ring in x over Finite Field of size 7</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.substitute">
<tt class="descname">substitute</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.substitute" title="Permalink to this definition">¶</a></dt>
<dd><p>Note that we have to override the substitute method so that we get
the default one from Macaulay2 instead of the one provided by Element.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;QQ[x]&quot;</span><span class="p">)</span>            <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;ZZ/7[symbol x]&quot;</span><span class="p">)</span>   <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>                     <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>                       <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>               <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>              <span class="c"># optional - macaulay2</span>
<span class="go">Univariate Polynomial Ring in x over Finite Field of size 7</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.to_sage">
<tt class="descname">to_sage</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>      <span class="c"># optional - macaulay2</span>
<span class="go">Integer Ring</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>      <span class="c"># optional - macaulay2</span>
<span class="go">Rational Field</span>

<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>       <span class="c"># optional - macaulay2</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>     <span class="c"># optional - macaulay2</span>
<span class="go">1/2</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>     <span class="c"># optional - macaulay2</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>                   <span class="c"># optional - macaulay2</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span> <span class="c"># optional - macaulay2</span>
<span class="go">[1, 2, 3]</span>

<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>       <span class="c"># optional - macaulay2</span>
<span class="go">[1 2]</span>
<span class="go">[3 4]</span>

<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s">&#39;x,y&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>    <span class="c"># optional - macaulay2</span>
<span class="go">Multivariate Polynomial Ring in x, y over Rational Field</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>      <span class="c"># optional - macaulay2</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">)[</span><span class="s">&#39;x,y&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span> <span class="c"># optional - macaulay2</span>
<span class="go">Multivariate Polynomial Ring in x, y over Finite Field of size 7</span>

<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>       <span class="c"># optional - macaulay2</span>
<span class="go">Finite Field of size 7</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">49</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span> <span class="c"># optional - macaulay2</span>
<span class="go">Finite Field in a of size 7^2</span>

<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">macaulay2</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>   <span class="c"># optional - macaulay2</span>
<span class="go">x^2 + y^2 + 1</span>

<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;QQ[x,y]&quot;</span><span class="p">)</span>         <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">I</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;ideal (x,y)&quot;</span><span class="p">)</span>     <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">I</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>                      <span class="c"># optional - macaulay2</span>
<span class="go">Ideal (x, y) of Multivariate Polynomial Ring in x, y over Rational Field</span>

<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">R</span><span class="o">/</span><span class="n">I</span>       <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>   <span class="c"># optional - macaulay2</span>
<span class="go">Quotient of Multivariate Polynomial Ring in x, y over Rational Field by the ideal (x, y)</span>

<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;QQ^2&quot;</span><span class="p">)</span>  <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>            <span class="c"># optional - macaulay2</span>
<span class="go">Vector space of dimension 2 over Rational Field</span>

<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&#39;&quot;hello&quot;&#39;</span><span class="p">)</span>  <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">to_sage</span><span class="p">()</span>               <span class="c"># optional - macaulay2</span>
<span class="go">&#39;hello&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.trait_names">
<tt class="descname">trait_names</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.trait_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of tab completions for <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>Returns dynamically built sorted list of commands obtained using
Macaulay2 &#8220;methods&#8221; command. All returned functions can take <tt class="docutils literal"><span class="pre">self</span></tt>
as their first argument</p>
<p>Return type: list of strings</p>
<p>TEST:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">(</span><span class="s">&quot;QQ[x,y]&quot;</span><span class="p">)</span>   <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">traits</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">trait_names</span><span class="p">()</span>   <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="s">&quot;generators&quot;</span> <span class="ow">in</span> <span class="n">traits</span>     <span class="c"># optional - macaulay2</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.macaulay2.Macaulay2Element.underscore">
<tt class="descname">underscore</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Element.underscore" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">macaulay2</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>  <span class="c"># optional - macaulay2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">underscore</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>         <span class="c"># optional - macaulay2</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.interfaces.macaulay2.Macaulay2Function">
<em class="property">class </em><tt class="descclassname">sage.interfaces.macaulay2.</tt><tt class="descname">Macaulay2Function</tt><big>(</big><em>parent</em>, <em>name</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.Macaulay2Function" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="expect.html#sage.interfaces.expect.ExpectFunction" title="sage.interfaces.expect.ExpectFunction"><tt class="xref py py-class docutils literal"><span class="pre">sage.interfaces.expect.ExpectFunction</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.macaulay2.is_Macaulay2Element">
<tt class="descclassname">sage.interfaces.macaulay2.</tt><tt class="descname">is_Macaulay2Element</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.is_Macaulay2Element" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.macaulay2</span> <span class="kn">import</span> <span class="n">is_Macaulay2Element</span>
<span class="gp">sage: </span><span class="n">is_Macaulay2Element</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>              <span class="c"># optional - macaulay2</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">is_Macaulay2Element</span><span class="p">(</span><span class="n">macaulay2</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>   <span class="c"># optional - macaulay2</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.macaulay2.macaulay2_console">
<tt class="descclassname">sage.interfaces.macaulay2.</tt><tt class="descname">macaulay2_console</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.macaulay2_console" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn a new M2 command-line session.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">macaulay2_console</span><span class="p">()</span>                    <span class="c"># not tested</span>
<span class="go">Macaulay 2, version 1.1</span>
<span class="go">with packages: Classic, Core, Elimination, IntegralClosure, LLLBases, Parsing, PrimaryDecomposition, SchurRings, TangentCone</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.macaulay2.reduce_load_macaulay2">
<tt class="descclassname">sage.interfaces.macaulay2.</tt><tt class="descname">reduce_load_macaulay2</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.reduce_load_macaulay2" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for reconstructing a copy of the Macaulay2 interpreter from a pickle.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.macaulay2</span> <span class="kn">import</span> <span class="n">reduce_load_macaulay2</span>
<span class="gp">sage: </span><span class="n">reduce_load_macaulay2</span><span class="p">()</span>
<span class="go">Macaulay2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.macaulay2.remove_output_labels">
<tt class="descclassname">sage.interfaces.macaulay2.</tt><tt class="descname">remove_output_labels</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#sage.interfaces.macaulay2.remove_output_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove output labels of Macaulay2 from a string.</p>
<ul class="simple">
<li>s: output of Macaulay2</li>
<li>s: string</li>
</ul>
<p>Returns: the input string with <span class="math">\(n\)</span> symbols removed from the beginning of
each line, where <span class="math">\(n\)</span> is the minimal number of spaces or symbols of
Macaulay2 output labels (looking like &#8216;o39 = &#8216;) present on every non-empty
line.</p>
<p>Return type: string</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If <tt class="docutils literal"><span class="pre">s</span></tt> consists of several outputs and their lables have
different width, it is possible that some strings will have leading
spaces (or maybe even pieces of output labels). However, this
function will try not cut any messages.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.macaulay2</span> <span class="kn">import</span> <span class="n">remove_output_labels</span>
<span class="gp">sage: </span><span class="n">output</span> <span class="o">=</span> <span class="s">&#39;o1 = QQ [x, y]</span><span class="se">\n\n</span><span class="s">o1 : PolynomialRing</span><span class="se">\n</span><span class="s">&#39;</span>
<span class="gp">sage: </span><span class="n">remove_output_labels</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<span class="go">&#39;QQ [x, y]\n\nPolynomialRing\n&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="lisp.html"
                                  title="previous chapter">Lisp Interface</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="magma.html"
                                  title="next chapter">Interface to Magma</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/interfaces/macaulay2.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="magma.html" title="Interface to Magma"
             >next</a> |</li>
        <li class="right" >
          <a href="lisp.html" title="Lisp Interface"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Interpreter Interfaces</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>