<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Library interface to Maxima &mdash; Sage Reference Manual v7.4: Interpreter Interfaces</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.4: Interpreter Interfaces" href="../../index.html" />
    <link rel="next" title="Interface to MuPAD" href="mupad.html" />
    <link rel="prev" title="Abstract interface to Maxima" href="maxima_abstract.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mupad.html" title="Interface to MuPAD"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="maxima_abstract.html" title="Abstract interface to Maxima"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Interpreter Interfaces</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="library-interface-to-maxima">
<span id="sage-interfaces-maxima-lib"></span><h1>Library interface to Maxima<a class="headerlink" href="#library-interface-to-maxima" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.interfaces.maxima_lib"></span><p>Maxima is a free GPL&#8217;d general purpose computer algebra system whose
development started in 1968 at MIT. It contains symbolic manipulation
algorithms, as well as implementations of special functions, including
elliptic functions and generalized hypergeometric functions. Moreover,
Maxima has implementations of many functions relating to the invariant
theory of the symmetric group <span class="math">\(S_n\)</span>. (However, the commands for group
invariants, and the corresponding Maxima documentation, are in
French.) For many links to Maxima documentation, see
<a class="reference external" href="http://maxima.sourceforge.net/documentation.html">http://maxima.sourceforge.net/documentation.html</a>.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>William Stein (2005-12): Initial version</li>
<li>David Joyner: Improved documentation</li>
<li>William Stein (2006-01-08): Fixed bug in parsing</li>
<li>William Stein (2006-02-22): comparisons (following suggestion of
David Joyner)</li>
<li>William Stein (2006-02-24): <em>greatly</em> improved robustness by adding
sequence numbers to IO bracketing in _eval_line</li>
<li>Robert Bradshaw, Nils Bruin, Jean-Pierre Flori (2010,2011): Binary library
interface</li>
</ul>
<p>For this interface, Maxima is loaded into ECL which is itself loaded
as a C library in Sage. Translations between Sage and Maxima objects
(which are nothing but wrappers to ECL objects) is made as much as possible
directly, but falls back to the string based conversion used by the
classical Maxima Pexpect interface in case no new implementation has been made.</p>
<p>This interface is the one used for calculus by Sage
and is accessible as <span class="math">\(maxima_calculus\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">maxima_calculus</span>
<span class="go">Maxima_lib</span>
</pre></div>
</div>
<p>Only one instance of this interface can be instantiated,
so the user should not try to instantiate another one,
which is anyway set to raise an error:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">MaximaLib</span>
<span class="gp">sage: </span><span class="n">MaximaLib</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">Maxima interface in library mode can only be instantiated once</span>
</pre></div>
</div>
<p>Changed besselexpand to true in init_code &#8211; automatically simplify bessel functions to trig functions when appropriate when true. Examples:</p>
<p>For some infinite sums, a closed expression can be found. By default, &#8220;maxima&#8221; is used for that:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">k</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;n&quot;</span><span class="p">,</span><span class="s2">&quot;k&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">((</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="n">n</span><span class="o">/</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)),</span><span class="n">n</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">oo</span><span class="p">)</span>
<span class="go">-1/2*(2*x*cos(2*sqrt(x)) - sqrt(x)*sin(2*sqrt(x)))/(sqrt(pi)*x^2)</span>
</pre></div>
</div>
<p>Maxima has some flags that affect how the result gets simplified(By default, besselexpand was set to false in Maxima):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">maxima_calculus</span><span class="p">(</span><span class="s2">&quot;besselexpand:false&quot;</span><span class="p">)</span>
<span class="go">false</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">k</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span><span class="s2">&quot;n&quot;</span><span class="p">,</span><span class="s2">&quot;k&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">((</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="n">n</span><span class="o">/</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)),</span><span class="n">n</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">oo</span><span class="p">)</span>
<span class="go">bessel_J(3/2, 2*sqrt(x))/x^(3/4)</span>
<span class="gp">sage: </span><span class="n">maxima_calculus</span><span class="p">(</span><span class="s2">&quot;besselexpand:true&quot;</span><span class="p">)</span>
<span class="go">true</span>
</pre></div>
</div>
<dl class="class">
<dt id="sage.interfaces.maxima_lib.MaximaLib">
<em class="property">class </em><code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">MaximaLib</code><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="maxima_abstract.html#sage.interfaces.maxima_abstract.MaximaAbstract" title="sage.interfaces.maxima_abstract.MaximaAbstract"><code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.maxima_abstract.MaximaAbstract</span></code></a></p>
<p>Interface to Maxima as a Library.</p>
<p>INPUT: none</p>
<p>OUTPUT: Maxima interface as a Library</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">MaximaLib</span><span class="p">,</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">maxima_lib</span><span class="p">,</span><span class="n">MaximaLib</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Only one such interface can be instantiated:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">MaximaLib</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">Maxima interface in library mode can only</span>
<span class="go">be instantiated once</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLib.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the variable named var.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">var</span></code> - string</li>
</ul>
<p>OUTPUT: none</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
<span class="go">&#39;xxxxx&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLib.eval">
<code class="descname">eval</code><span class="sig-paren">(</span><em>line</em>, <em>locals=None</em>, <em>reformat=True</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the line in Maxima.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">line</span></code> - string; text to evaluate</li>
<li><code class="docutils literal"><span class="pre">locals</span></code> - None (ignored); this is used for compatibility with the
Sage notebook&#8217;s generic system interface.</li>
<li><code class="docutils literal"><span class="pre">reformat</span></code> - boolean; whether to strip output or not</li>
<li><code class="docutils literal"><span class="pre">**kwds</span></code> - All other arguments are currently ignored.</li>
</ul>
<p>OUTPUT: string representing Maxima output</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">_eval_line</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">_eval_line</span><span class="p">(</span><span class="s1">&#39;1+1;&#39;</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">_eval_line</span><span class="p">(</span><span class="s1">&#39;1+1$&#39;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">_eval_line</span><span class="p">(</span><span class="s1">&#39;randvar : cos(x)+sin(y)$&#39;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">_eval_line</span><span class="p">(</span><span class="s1">&#39;randvar&#39;</span><span class="p">)</span>
<span class="go">&#39;sin(y)+cos(x)&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLib.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>var</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the string value of the variable <code class="docutils literal"><span class="pre">var</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">var</span></code> - string</li>
</ul>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLib.lisp">
<code class="descname">lisp</code><span class="sig-paren">(</span><em>cmd</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.lisp" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a lisp command to maxima.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">cmd</span></code> - string</li>
</ul>
<p>OUTPUT: ECL object</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The output of this command is very raw - not pretty.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">lisp</span><span class="p">(</span><span class="s2">&quot;(+ 2 17)&quot;</span><span class="p">)</span>
<span class="go">&lt;ECL: 19&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLib.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>var</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the variable var to the given value.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">var</span></code> - string</li>
<li><code class="docutils literal"><span class="pre">value</span></code> - string</li>
</ul>
<p>OUTPUT: none</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;xxxxx&#39;</span><span class="p">)</span>
<span class="go">&#39;2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLib.sr_integral">
<code class="descname">sr_integral</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.sr_integral" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to wrap calculus use of Maxima&#8217;s integration.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,b&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)),</span><span class="n">x</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Computation failed since Maxima requested additional</span>
<span class="go">constraints; using the &#39;assume&#39; command before evaluation</span>
<span class="go">*may* help (example of legal syntax is &#39;assume(a&gt;0)&#39;, see</span>
<span class="go">`assume?` for more details)</span>
<span class="go">Is a positive or negative?</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">a</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)),</span><span class="n">x</span><span class="p">)</span>
<span class="go">2/9*sqrt(3)*b^2*arctan(1/3*sqrt(3)*(2*(b*x + a)^(1/3) + a^(1/3))/a^(1/3))/a^(7/3) - 1/9*b^2*log((b*x + a)^(2/3) + (b*x + a)^(1/3)*a^(1/3) + a^(2/3))/a^(7/3) + 2/9*b^2*log((b*x + a)^(1/3) - a^(1/3))/a^(7/3) + 1/6*(4*(b*x + a)^(5/3)*b^2 - 7*(b*x + a)^(2/3)*a*b^2)/((b*x + a)^2*a^2 - 2*(b*x + a)*a^3 + a^4)</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, n&#39;</span><span class="p">)</span>
<span class="go">(x, n)</span>
<span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">n</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Computation failed since Maxima requested additional</span>
<span class="go">constraints; using the &#39;assume&#39; command before evaluation</span>
<span class="go">*may* help (example of legal syntax is &#39;assume(n&gt;0)&#39;,</span>
<span class="go">see `assume?` for more details)</span>
<span class="go">Is n equal to -1?</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">n</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="go">x^(n + 1)/(n + 1)</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">()</span>  <span class="c1"># Check the assumptions really were forgotten</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Make sure the abs_integrate package is being used,
<a class="reference external" href="https://trac.sagemath.org/11483">trac ticket #11483</a>. The following are examples from the Maxima
abs_integrate documentation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>
<span class="go">1/2*x*abs(x)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="n">sgn</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="n">sgn</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>
<span class="go">abs(x - 1) + abs(x)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">5</span><span class="p">)),</span> <span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="go">log(11) + log(2)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="n">x</span><span class="p">)</span>
<span class="go">1/2*(log(x + 1) + log(-x + 1))*sgn(x) + 1/2*log(x + 1) - 1/2*log(-x + 1)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="n">x</span><span class="p">)</span>
<span class="go">-1/2*x*sgn(x) + 1/4*(sgn(x) + 1)*sin(2*x) + 1/2*x</span>
</pre></div>
</div>
<p>The last example relies on the following simplification:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">maxima</span><span class="p">(</span><span class="s2">&quot;realpart(signum(x))&quot;</span><span class="p">)</span>
<span class="go">signum(x)</span>
</pre></div>
</div>
<p>An example from sage-support thread e641001f8b8d1129:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">)</span> <span class="o">*</span> <span class="n">sgn</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">Infinity</span><span class="p">,</span> <span class="n">Infinity</span><span class="p">)</span>
<span class="go">-erf(1/2*sqrt(2))</span>
</pre></div>
</div>
<p>From <a class="reference external" href="https://trac.sagemath.org/8624">trac ticket #8624</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),(</span><span class="n">x</span><span class="p">,</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="n">pi</span><span class="p">))</span>
<span class="go">1/2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">1/12*((8*x - 3)*x^(1/4) + 2*x^(3/4))*sqrt(sqrt(x) + 1) + 1/8*log(sqrt(sqrt(x) + 1) + x^(1/4)) - 1/8*log(sqrt(sqrt(x) + 1) - x^(1/4))</span>
</pre></div>
</div>
<p>And <a class="reference external" href="https://trac.sagemath.org/11594">trac ticket #11594</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p>This definite integral returned zero (incorrectly) in at least
Maxima 5.23. The correct answer is now given (<a class="reference external" href="https://trac.sagemath.org/11591">trac ticket #11591</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">infinity</span><span class="p">,</span> <span class="n">infinity</span><span class="p">))</span>
<span class="go">1/3*pi^2</span>
</pre></div>
</div>
<p>Sometimes one needs different simplification settings, such as
<code class="docutils literal"><span class="pre">radexpand</span></code>, to compute an integral (see <a class="reference external" href="https://trac.sagemath.org/10955">trac ticket #10955</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">maxima</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">maxima</span>
<span class="gp">sage: </span><span class="n">maxima</span><span class="p">(</span><span class="s1">&#39;radexpand&#39;</span><span class="p">)</span>
<span class="go">true</span>
<span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">integrate(sqrt(x + 1/x^2), x)</span>
<span class="gp">sage: </span><span class="n">maxima</span><span class="p">(</span><span class="s1">&#39;radexpand: all&#39;</span><span class="p">)</span>
<span class="go">all</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span> <span class="n">g</span>
<span class="go">2/3*sqrt(x^3 + 1) - 1/3*log(sqrt(x^3 + 1) + 1) + 1/3*log(sqrt(x^3 + 1) - 1)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">f</span> <span class="o">-</span> <span class="n">g</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">maxima</span><span class="p">(</span><span class="s1">&#39;radexpand: true&#39;</span><span class="p">)</span>
<span class="go">true</span>
</pre></div>
</div>
<p>The following integral was computed incorrectly in versions of
Maxima before 5.27 (see <a class="reference external" href="https://trac.sagemath.org/12947">trac ticket #12947</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">integrate</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">),(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">real</span><span class="p">()</span>
<span class="go">0.124756040961038</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">imag</span><span class="p">()</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">3e-17</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLib.sr_limit">
<code class="descname">sr_limit</code><span class="sig-paren">(</span><em>expr</em>, <em>v</em>, <em>a</em>, <em>dir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.sr_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to wrap calculus use of Maxima&#8217;s limits.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">limit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">x</span> <span class="o">=</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">e</span>
<span class="gp">sage: </span><span class="n">limit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">7776/3125</span>
<span class="gp">sage: </span><span class="n">limit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.2</span><span class="p">)</span>
<span class="go">2.06961575467...</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">a</span>
<span class="gp">sage: </span><span class="n">limit</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">a</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Computation failed since Maxima requested additional</span>
<span class="go">constraints; using the &#39;assume&#39; command before evaluation</span>
<span class="go">*may* help (example of legal syntax is &#39;assume(a&gt;0)&#39;, see `assume?`</span>
<span class="go">for more details)</span>
<span class="go">Is a positive, negative or zero?</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">a</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">limit</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">a</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Computation failed ...</span>
<span class="go">Is a an integer?</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="s1">&#39;integer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="s1">&#39;even&#39;</span><span class="p">)</span>  <span class="c1"># Yes, Maxima will ask this too</span>
<span class="gp">sage: </span><span class="n">limit</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">a</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">()</span> <span class="c1"># check the assumptions were really forgotten</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>The second limit below was computed incorrectly prior to
Maxima 5.24 (<a class="reference external" href="https://trac.sagemath.org/10868">trac ticket #10868</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">limit</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">n</span><span class="o">=</span><span class="n">infinity</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">limit</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">n</span><span class="o">=</span><span class="n">infinity</span><span class="p">)</span>
<span class="go">1/2</span>
</pre></div>
</div>
<p>The limit below was computed incorrectly prior to Maxima 5.30
(see <a class="reference external" href="https://trac.sagemath.org/13526">trac ticket #13526</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">l</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="n">n</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="n">n</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">l</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">oo</span><span class="p">)</span>
<span class="go">1/3</span>
</pre></div>
</div>
<p>The following limit computation used to incorrectly return 0
or infinity, depending on the domain (see <a class="reference external" href="https://trac.sagemath.org/15033">trac ticket #15033</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">maxima</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;domain: real&#39;</span><span class="p">)</span>   <span class="c1"># much faster than &#39;domain: complex&#39;</span>
<span class="gp">sage: </span><span class="n">limit</span><span class="p">(</span><span class="n">gamma</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">gamma</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="n">x</span><span class="o">=</span><span class="n">infinity</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;domain: complex&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLib.sr_sum">
<code class="descname">sr_sum</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.sr_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to wrap calculus use of Maxima&#8217;s summation.</p>
<p>TESTS:</p>
<p>Check that <a class="reference external" href="https://trac.sagemath.org/16224">trac ticket #16224</a> is fixed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">k</span><span class="p">)</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">k</span><span class="p">),</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>
<span class="go">cosh(x)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x, y, k, n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span><span class="o">^</span><span class="n">k</span> <span class="o">*</span> <span class="n">y</span><span class="o">^</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">),</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">(x + y)^n</span>
<span class="gp">sage: </span><span class="n">q</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;q, a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Computation failed since Maxima requested additional</span>
<span class="go">constraints; using the &#39;assume&#39; command before evaluation *may* help</span>
<span class="go">(example of legal syntax is &#39;assume(abs(q)-1&gt;0)&#39;, see `assume?`</span>
<span class="go">for more details)</span>
<span class="go">Is abs(q)-1 positive, negative or zero?</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">q</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Sum is divergent.</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">-a/(q - 1)</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assumptions</span><span class="p">()</span> <span class="c1"># check the assumptions were really forgotten</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Taking the sum of all natural numbers informs us that the sum
is divergent.  Maxima (before 5.29.1) used to ask questions
about <span class="math">\(m\)</span>, leading to a different error (see <a class="reference external" href="https://trac.sagemath.org/11990">trac ticket #11990</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">infinity</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Sum is divergent.</span>
</pre></div>
</div>
<p>An error with an infinite sum in Maxima (before 5.30.0,
see <a class="reference external" href="https://trac.sagemath.org/13712">trac ticket #13712</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">3/256*pi^2</span>
</pre></div>
</div>
<p>Maxima correctly detects division by zero in a symbolic sum
(see <a class="reference external" href="https://trac.sagemath.org/11894">trac ticket #11894</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">m</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">m</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">infinity</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">ECL says: Error executing code in Maxima: Zero to negative power computed.</span>
</pre></div>
</div>
<p>Similar situation for <a class="reference external" href="https://trac.sagemath.org/12410">trac ticket #12410</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">RuntimeError</span>: <span class="n">ECL says: Error executing code in Maxima: Zero to negative power computed.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLib.sr_tlimit">
<code class="descname">sr_tlimit</code><span class="sig-paren">(</span><em>expr</em>, <em>v</em>, <em>a</em>, <em>dir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLib.sr_tlimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to wrap calculus use of Maxima&#8217;s Taylor series limits.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">limit</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">I</span><span class="p">,</span> <span class="n">taylor</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(-I + 1)^I</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.interfaces.maxima_lib.MaximaLibElement">
<em class="property">class </em><code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">MaximaLibElement</code><span class="sig-paren">(</span><em>parent</em>, <em>value</em>, <em>is_name=False</em>, <em>name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="maxima_abstract.html#sage.interfaces.maxima_abstract.MaximaAbstractElement" title="sage.interfaces.maxima_abstract.MaximaAbstractElement"><code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.maxima_abstract.MaximaAbstractElement</span></code></a></p>
<p>Element of Maxima through library interface.</p>
<p>EXAMPLES:</p>
<p>Elements of this class should not be created directly.
The targeted parent should be used instead:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">log(_SAGE_VAR_x)</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLibElement.display2d">
<code class="descname">display2d</code><span class="sig-paren">(</span><em>onscreen=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibElement.display2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the 2d representation of this Maxima object.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">onscreen</span></code> - boolean (default: True); whether to print or return</li>
</ul>
<p>OUTPUT:</p>
<p>The representation is printed if onscreen is set to True
and returned as a string otherwise.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;x^5 - y^5&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">display2d</span><span class="p">()</span>
<span class="go">                       4      3    2  2    3      4</span>
<span class="go">           - (y - x) (y  + x y  + x  y  + x  y + x )</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLibElement.ecl">
<code class="descname">ecl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibElement.ecl" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the underlying ECL object of this MaximaLib object.</p>
<p>INPUT: none</p>
<p>OUTPUT: ECL object</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">maxima_lib</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">cos</span><span class="p">(</span><span class="mi">19</span><span class="p">))</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((MPLUS SIMP) ((%COS SIMP) 19) |$_SAGE_VAR_x|)&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.interfaces.maxima_lib.MaximaLibElement.to_poly_solve">
<code class="descname">to_poly_solve</code><span class="sig-paren">(</span><em>vars</em>, <em>options=''</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibElement.to_poly_solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Use Maxima&#8217;s to_poly_solver package.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">vars</span></code> - symbolic expressions</li>
<li><code class="docutils literal"><span class="pre">options</span></code> - string (default=&#8221;&#8221;)</li>
</ul>
<p>OUTPUT: Maxima object</p>
<p>EXAMPLES:</p>
<p>The zXXX below are names for arbitrary integers and
subject to change:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span>
<span class="gp">sage: </span><span class="n">sol</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">to_poly_solve</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sol</span><span class="o">.</span><span class="n">sage</span><span class="p">()</span>
<span class="go">[[x == pi*z54]]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.interfaces.maxima_lib.MaximaLibElementFunction">
<em class="property">class </em><code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">MaximaLibElementFunction</code><span class="sig-paren">(</span><em>parent</em>, <em>name</em>, <em>defn</em>, <em>args</em>, <em>latex</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibElementFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.interfaces.maxima_lib.MaximaLibElement" title="sage.interfaces.maxima_lib.MaximaLibElement"><code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.maxima_lib.MaximaLibElement</span></code></a>, <a class="reference internal" href="maxima_abstract.html#sage.interfaces.maxima_abstract.MaximaAbstractElementFunction" title="sage.interfaces.maxima_abstract.MaximaAbstractElementFunction"><code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.maxima_abstract.MaximaAbstractElementFunction</span></code></a></p>
<p>Create a Maxima function.
See <code class="docutils literal"><span class="pre">MaximaAbstractElementFunction</span></code> for full documentation.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_abstract</span> <span class="kn">import</span> <span class="n">MaximaAbstractElementFunction</span>
<span class="gp">sage: </span><span class="n">MaximaAbstractElementFunction</span> <span class="o">==</span> <span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">MaximaAbstractElementFunction</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">maxima</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">,</span><span class="s1">&#39;sin(x+y)&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">==</span> <span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.interfaces.maxima_lib.MaximaLibFunction">
<em class="property">class </em><code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">MaximaLibFunction</code><span class="sig-paren">(</span><em>parent</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="maxima_abstract.html#sage.interfaces.maxima_abstract.MaximaAbstractFunction" title="sage.interfaces.maxima_abstract.MaximaAbstractFunction"><code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.maxima_abstract.MaximaAbstractFunction</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="sage.interfaces.maxima_lib.MaximaLibFunctionElement">
<em class="property">class </em><code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">MaximaLibFunctionElement</code><span class="sig-paren">(</span><em>obj</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.MaximaLibFunctionElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="maxima_abstract.html#sage.interfaces.maxima_abstract.MaximaAbstractFunctionElement" title="sage.interfaces.maxima_abstract.MaximaAbstractFunctionElement"><code class="xref py py-class docutils literal"><span class="pre">sage.interfaces.maxima_abstract.MaximaAbstractFunctionElement</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.dummy_integrate">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">dummy_integrate</code><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.dummy_integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>We would like to simply tie Maxima&#8217;s integrate to
sage.calculus.calculus.dummy_integrate, but we&#8217;re being
imported there so to avoid circularity we define it here.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expr</span></code> - ECL object; a Maxima %INTEGRATE expression</li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">dummy_integrate</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;f(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((%INTEGRATE SIMP) (($F SIMP) $X) $X)&gt;</span>
<span class="gp">sage: </span><span class="n">dummy_integrate</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">integrate(f(x), x)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;f(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((%INTEGRATE SIMP) (($F SIMP) $X) $X 0 10)&gt;</span>
<span class="gp">sage: </span><span class="n">dummy_integrate</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">integrate(f(x), x, 0, 10)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.is_MaximaLibElement">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">is_MaximaLibElement</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.is_MaximaLibElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if x is of type MaximaLibElement.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">is_MaximaLibElement</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">is_MaximaLibElement</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_MaximaLibElement</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.max_at_to_sage">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">max_at_to_sage</code><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.max_at_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Special conversion rule for AT expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expr</span></code> - ECL object; a Maxima AT expression</li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">max_at_to_sage</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">=</span><span class="n">maxima_lib</span><span class="p">(</span><span class="s2">&quot;&#39;at(f(x,y,z),[x=1,y=2,z=3])&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">&#39;at(f(x,y,z),[x=1,y=2,z=3])</span>
<span class="gp">sage: </span><span class="n">max_at_to_sage</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">f(1, 2, 3)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">=</span><span class="n">maxima_lib</span><span class="p">(</span><span class="s2">&quot;&#39;at(f(x,y,z),x=1)&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">&#39;at(f(x,y,z),x=1)</span>
<span class="gp">sage: </span><span class="n">max_at_to_sage</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">f(1, y, z)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.max_harmonic_to_sage">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">max_harmonic_to_sage</code><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.max_harmonic_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">max_to_sr</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">=</span><span class="n">maxima_lib</span><span class="p">(</span><span class="n">harmonic_number</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: (($GEN_HARMONIC_NUMBER SIMP) 2 |$_SAGE_VAR_x|)&gt;</span>
<span class="gp">sage: </span><span class="n">max_to_sr</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">harmonic_number(x, 2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.max_to_sr">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">max_to_sr</code><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.max_to_sr" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a Maxima object into a symbolic expression.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expr</span></code> - ECL object</li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">max_to_sr</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;f(x)&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: (($F SIMP) $X)&gt;</span>
<span class="gp">sage: </span><span class="n">max_to_sr</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">f(x)</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">sr_to_max</span><span class="p">,</span> <span class="n">max_to_sr</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">max_to_sr</span><span class="p">(</span><span class="n">sr_to_max</span><span class="p">(</span><span class="n">f</span><span class="p">))</span> <span class="o">==</span> <span class="n">f</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.max_to_string">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">max_to_string</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.max_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Maxima string corresponding to this ECL object.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">s</span></code> - ECL object</li>
</ul>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">max_to_string</span>
<span class="gp">sage: </span><span class="n">ecl</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">max_to_string</span><span class="p">(</span><span class="n">ecl</span><span class="p">)</span>
<span class="go">&#39;cos(_SAGE_VAR_x)&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.mdiff_to_sage">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">mdiff_to_sage</code><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.mdiff_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Special conversion rule for %DERIVATIVE expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expr</span></code> - ECL object; a Maxima %DERIVATIVE expression</li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">mdiff_to_sage</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;f(x)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((%DERIVATIVE SIMP) (($F SIMP) $X) $X 4)&gt;</span>
<span class="gp">sage: </span><span class="n">mdiff_to_sage</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">diff(f(x), x, x, x, x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.mlist_to_sage">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">mlist_to_sage</code><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.mlist_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Special conversion rule for MLIST expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expr</span></code> - ECL object; a Maxima MLIST expression (i.e., a list)</li>
</ul>
<p>OUTPUT: a Python list of converted expressions.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">mlist_to_sage</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">=</span><span class="n">maxima_lib</span><span class="p">(</span><span class="s2">&quot;[1,2,3]&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((MLIST SIMP) 1 2 3)&gt;</span>
<span class="gp">sage: </span><span class="n">mlist_to_sage</span><span class="p">(</span><span class="n">L</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.mqapply_to_sage">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">mqapply_to_sage</code><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.mqapply_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Special conversion rule for MQAPPLY expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expr</span></code> - ECL object; a Maxima MQAPPLY expression</li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>MQAPPLY is used for function as li[x](y) and psi[x](y).</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">mqapply_to_sage</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">(</span><span class="s1">&#39;li[2](3)&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((MQAPPLY SIMP) (($LI SIMP ARRAY) 2) 3)&gt;</span>
<span class="gp">sage: </span><span class="n">mqapply_to_sage</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">polylog(2, 3)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.mrat_to_sage">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">mrat_to_sage</code><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.mrat_to_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a Maxima MRAT expression to Sage SR.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expr</span></code> - ECL object; a Maxima MRAT expression</li>
</ul>
<p>OUTPUT: symbolic expression</p>
<p>Maxima has an optimised representation for multivariate
rational expressions. The easiest way to translate those
to SR is by first asking Maxima to give the generic representation
of the object. That is what RATDISREP does in Maxima.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">maxima_lib</span><span class="p">,</span> <span class="n">mrat_to_sage</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x y z&#39;</span><span class="p">)</span>
<span class="go">(x, y, z)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">maxima_lib</span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">z</span><span class="o">^</span><span class="mi">9</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="o">^</span><span class="mi">6</span><span class="o">+</span><span class="n">z</span><span class="o">^</span><span class="mi">8</span><span class="o">/</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">rat</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c</span>
<span class="go">(_SAGE_VAR_y*_SAGE_VAR_z^9+_SAGE_VAR_x^6*_SAGE_VAR_z^8+_SAGE_VAR_y^3+_SAGE_VAR_x*_SAGE_VAR_y)/(_SAGE_VAR_x^6*_SAGE_VAR_y)</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">()</span>
<span class="go">&lt;ECL: ((MRAT SIMP (|$_SAGE_VAR_x| |$_SAGE_VAR_y| |$_SAGE_VAR_z|)</span>
<span class="go">...&gt;</span>
<span class="gp">sage: </span><span class="n">mrat_to_sage</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">ecl</span><span class="p">())</span>
<span class="go">(x^6*z^8 + y*z^9 + y^3 + x*y)/(x^6*y)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.parse_max_string">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">parse_max_string</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.parse_max_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate string in Maxima without <em>any</em> further simplification.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">s</span></code> - string</li>
</ul>
<p>OUTPUT: ECL object</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">parse_max_string</span>
<span class="gp">sage: </span><span class="n">parse_max_string</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">)</span>
<span class="go">&lt;ECL: ((MPLUS) 1 1)&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.pyobject_to_max">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">pyobject_to_max</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.pyobject_to_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a (simple) Python object into a Maxima object.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expr</span></code> - Python object</li>
</ul>
<p>OUTPUT: ECL object</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This uses functions defined in sage.libs.ecl.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">pyobject_to_max</span>
<span class="gp">sage: </span><span class="n">pyobject_to_max</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&lt;ECL: 4&gt;</span>
<span class="gp">sage: </span><span class="n">pyobject_to_max</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="go">&lt;ECL: Z&gt;</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">pyobject_to_max</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">Unimplemented type for python_to_ecl</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.reduce_load_MaximaLib">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">reduce_load_MaximaLib</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.reduce_load_MaximaLib" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpickle the (unique) Maxima library interface.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">reduce_load_MaximaLib</span>
<span class="gp">sage: </span><span class="n">reduce_load_MaximaLib</span><span class="p">()</span>
<span class="go">Maxima_lib</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.sage_rat">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">sage_rat</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.sage_rat" title="Permalink to this definition">¶</a></dt>
<dd><p>Return quotient x/y.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">x</span></code> - integer</li>
<li><code class="docutils literal"><span class="pre">y</span></code> - integer</li>
</ul>
<p>OUTPUT: rational</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">sage_rat</span>
<span class="gp">sage: </span><span class="n">sage_rat</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="go">1/7</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.sr_to_max">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">sr_to_max</code><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.sr_to_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a symbolic expression into a Maxima object.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">expr</span></code> - symbolic expression</li>
</ul>
<p>OUTPUT: ECL object</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">sr_to_max</span>
<span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">sr_to_max</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">&lt;ECL: $X&gt;</span>
<span class="gp">sage: </span><span class="n">sr_to_max</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">&lt;ECL: ((%COS) $X)&gt;</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sr_to_max</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">diff</span><span class="p">())</span>
<span class="go">&lt;ECL: ((%DERIVATIVE) (($F) $X) $X 1)&gt;</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>We should be able to convert derivatives evaluated at a point,
<a class="reference external" href="https://trac.sagemath.org/12796">trac ticket #12796</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">sr_to_max</span><span class="p">,</span> <span class="n">max_to_sr</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f_prime</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">max_to_sr</span><span class="p">(</span><span class="n">sr_to_max</span><span class="p">(</span><span class="n">f_prime</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)))</span>
<span class="go">D[0](f)(1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.interfaces.maxima_lib.stdout_to_string">
<code class="descclassname">sage.interfaces.maxima_lib.</code><code class="descname">stdout_to_string</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.interfaces.maxima_lib.stdout_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate command <code class="docutils literal"><span class="pre">s</span></code> and catch Maxima stdout
(not the result of the command!) into a string.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">s</span></code> - string; command to evaluate</li>
</ul>
<p>OUTPUT: string</p>
<p>This is currently used to implement <a class="reference internal" href="#sage.interfaces.maxima_lib.MaximaLibElement.display2d" title="sage.interfaces.maxima_lib.MaximaLibElement.display2d"><code class="xref py py-meth docutils literal"><span class="pre">display2d()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.interfaces.maxima_lib</span> <span class="kn">import</span> <span class="n">stdout_to_string</span>
<span class="gp">sage: </span><span class="n">stdout_to_string</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">stdout_to_string</span><span class="p">(</span><span class="s1">&#39;disp(1+1)&#39;</span><span class="p">)</span>
<span class="go">&#39;2\n\n&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="maxima_abstract.html"
                                  title="previous chapter">Abstract interface to Maxima</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="mupad.html"
                                  title="next chapter">Interface to MuPAD</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/interfaces/maxima_lib.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mupad.html" title="Interface to MuPAD"
             >next</a> |</li>
        <li class="right" >
          <a href="maxima_abstract.html" title="Abstract interface to Maxima"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Interpreter Interfaces</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>