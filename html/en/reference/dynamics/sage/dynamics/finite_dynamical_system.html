<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Sandpiles" href="../sandpiles/sandpile.html" /><link rel="prev" title="Mandelbrot and Julia sets" href="complex_dynamics/mandel_julia.html" />

    <meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>Discrete dynamical systems - Discrete dynamics</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-furo.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-codemirror-monokai.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Discrete dynamics</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 10.2 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../index.html">Home - Discrete dynamics</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../cellular_automata.html">Cellular Automata</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="cellular_automata/catalog.html">Catalog of Cellular Automata</a></li>
<li class="toctree-l2"><a class="reference internal" href="cellular_automata/elementary.html">Elementary Cellular Automata</a></li>
<li class="toctree-l2"><a class="reference internal" href="cellular_automata/glca.html">Graftal Lace Cellular Automata</a></li>
<li class="toctree-l2"><a class="reference internal" href="cellular_automata/solitons.html">Soliton Cellular Automata</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../complex_dynamics.html">Plotting of Mandelbrot and Julia Sets</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="complex_dynamics/mandel_julia.html">Mandelbrot and Julia sets</a></li>
</ul>
</li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Discrete dynamical systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sandpiles/sandpile.html">Sandpiles</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="arithmetic_dynamics/generic_ds.html">Generic dynamical systems on schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="arithmetic_dynamics/affine_ds.html">Dynamical systems on affine schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="arithmetic_dynamics/projective_ds.html">Dynamical systems on projective schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="arithmetic_dynamics/product_projective_ds.html">Dynamical systems for products of projective spaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="arithmetic_dynamics/wehlerK3.html">Wehler K3 Surfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="arithmetic_dynamics/berkovich_ds.html">Dynamical systems on Berkovich space over <span class="math notranslate nohighlight">\(\CC_p\)</span>.</a></li>
<li class="toctree-l1"><a class="reference internal" href="arithmetic_dynamics/dynamical_semigroup.html">Dynamical semigroups</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="discrete-dynamical-systems">
<span id="sage-dynamics-finite-dynamical-system"></span><h1>Discrete dynamical systems<a class="headerlink" href="#discrete-dynamical-systems" title="Permalink to this heading">#</a></h1>
<span class="target" id="module-sage.dynamics.finite_dynamical_system"></span><hr class="docutils" />
<p>A <em>discrete dynamical system</em> (henceforth <em>DDS</em>) is a pair
<span class="math notranslate nohighlight">\((X, \phi)\)</span> of a set <span class="math notranslate nohighlight">\(X\)</span> and a map <span class="math notranslate nohighlight">\(\phi : X \to X\)</span>.
(This is one of several things known as a “discrete dynamical
system” in mathematics.)</p>
<p>This file implements the following classes for discrete
dynamical systems:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiscreteDynamicalSystem</span></code></a>: general discrete dynamical
system, as above.
Inherit from this class if the ground set of your DDS is
infinite or large enough that you want to avoid it getting
stored as a list.
See the doc of this class for further details.</p></li>
<li><p><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">FiniteDynamicalSystem</span></code></a>: finite discrete dynamical
system.
This can be instantiated by calling
<a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiscreteDynamicalSystem</span></code></a> with the parameter
<code class="docutils literal notranslate"><span class="pre">is_finite</span></code> set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvertibleDiscreteDynamicalSystem</span></code></a>: invertible
discrete dynamical system.
This implements an <code class="docutils literal notranslate"><span class="pre">inverse_evolution</span></code> method for <span class="math notranslate nohighlight">\(\phi^{-1}\)</span>
(the default implementation simply applies <span class="math notranslate nohighlight">\(\phi\)</span> over and
over until the original value is revisited; the last value
before that is then taken to be the result).
This can be instantiated by calling
<a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiscreteDynamicalSystem</span></code></a> with the parameter
<code class="docutils literal notranslate"><span class="pre">inverse</span></code> provided.</p></li>
<li><p><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvertibleFiniteDynamicalSystem</span></code></a>: invertible
finite discrete dynamical system.
This can be instantiated by calling
<a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiscreteDynamicalSystem</span></code></a> with the parameter
<code class="docutils literal notranslate"><span class="pre">is_finite</span></code> set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and the parameter
<code class="docutils literal notranslate"><span class="pre">inverse</span></code> provided.</p></li>
</ul>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>Implement some more functionality for homomesy and
invariance testing:
Checking invariance on a sublist;
computing the first <span class="math notranslate nohighlight">\(k\)</span> entries of an orbit (useful
when orbits can be too large);
orbits_iterator (for when there are too many orbits to
list);
etc.</p></li>
<li><p>Further examples for non-auto functionality: e.g.,
infection on a chessboard; Conway’s game of life.</p></li>
<li><p>Subclasses for DDSes whose ground set is an enumerated set.
Should we have those?</p></li>
<li><p>Implement caching for orbits (can be useful: some DDSes
have a complicated evolution that shouldn’t be recomputed
every time).
Does this require a whole new class?</p></li>
<li><p>Further functionality for non-invertible DDSes:
is_recurrent, recurrent_entries, idempotent_power, etc.</p></li>
<li><p>Wrap (some of) the cyclic_sieving_phenomenon.py methods
(<a class="reference external" href="../../../combinat/sage/combinat/cyclic_sieving_phenomenon.html#module-sage.combinat.cyclic_sieving_phenomenon" title="(in Reference Manual v10.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.combinat.cyclic_sieving_phenomenon</span></code></a>).</p></li>
<li><p>Interact with sage.dynamics. This requires someone who
knows the latter part of the Sage library well.</p></li>
</ul>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.dynamics.finite_dynamical_system.</span></span><span class="sig-name descname"><span class="pre">DiscreteDynamicalSystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_orbits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_tuple</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Parents and Elements v10.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageObject</span></code></a></p>
<p>A discrete dynamical system.</p>
<p>A <em>discrete dynamical system</em> (henceforth <em>DDS</em>) is a
pair <span class="math notranslate nohighlight">\((X, \phi)\)</span> of a set <span class="math notranslate nohighlight">\(X\)</span> and a map <span class="math notranslate nohighlight">\(\phi : X \to X\)</span>.
This set <span class="math notranslate nohighlight">\(X\)</span> is called the <em>ground set</em> of the DDS, while
the map <span class="math notranslate nohighlight">\(\phi\)</span> is called the <em>evolution</em> of the DDS.</p>
<p>A <em>discrete dynamical system</em> (short: <em>DDS</em>) is a pair
<span class="math notranslate nohighlight">\((X, \phi)\)</span> of a set <span class="math notranslate nohighlight">\(X\)</span> and a map <span class="math notranslate nohighlight">\(\phi : X \to X\)</span>.
(This is one of several things known as a “discrete
dynamical system” in mathematics.)
Thus, a DDS is the same as an endomorphism of a set.
The DDS is said to be <em>finite</em> if <span class="math notranslate nohighlight">\(X\)</span> is finite.
The DDS is said to be <em>invertible</em> if the map <span class="math notranslate nohighlight">\(\phi\)</span> is
invertible.
The set <span class="math notranslate nohighlight">\(X\)</span> is called the <em>ground set</em> of the DDS;
the map <span class="math notranslate nohighlight">\(\phi\)</span> is called the <em>evolution</em> of the DDS;
the inverse map <span class="math notranslate nohighlight">\(\phi^{-1}\)</span> (when it exists) is called the
<em>inverse evolution</em> of the DDS.</p>
<p>Given a DDS <span class="math notranslate nohighlight">\((X, \phi)\)</span>, we can study</p>
<ul class="simple">
<li><p>its orbits (i.e., the lists
<span class="math notranslate nohighlight">\((s, \phi(s), \phi^2(s), \phi^3(s), \ldots)\)</span> for <span class="math notranslate nohighlight">\(s \in X\)</span>),</p></li>
<li><p>its invariants (i.e., maps <span class="math notranslate nohighlight">\(f : X \to Y\)</span> satisfying
<span class="math notranslate nohighlight">\(f \circ \phi = f\)</span>),</p></li>
<li><p>its cycles (i.e., lists <span class="math notranslate nohighlight">\((u_1, u_2, \ldots, u_k)\)</span> of elements
of <span class="math notranslate nohighlight">\(X\)</span> such that <span class="math notranslate nohighlight">\(\phi(u_i) = u_{i+1}\)</span> for each <span class="math notranslate nohighlight">\(i \leq k\)</span>,
where we set <span class="math notranslate nohighlight">\(u_{k+1} = u_1\)</span>),</p></li>
<li><p>its homomesies (i.e., maps <span class="math notranslate nohighlight">\(h : X \to A\)</span> to a
<span class="math notranslate nohighlight">\(\QQ\)</span>-vector space <span class="math notranslate nohighlight">\(A\)</span> such that the average of the values
of <span class="math notranslate nohighlight">\(h\)</span> on each cycle is the same),</p></li>
</ul>
<p>and various other features.
(Some of these require <span class="math notranslate nohighlight">\(X\)</span> to be finite or at least to have
finite orbits.)</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span></code> – set, list, tuple, or another iterable, or
<code class="docutils literal notranslate"><span class="pre">None</span></code> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>); the ground set for the DDS.
Tthis can be <code class="docutils literal notranslate"><span class="pre">None</span></code> (in which case Sage will not know
the ground set, but can still apply evolution to any
elements that are provided to it).
Make sure to set the <code class="docutils literal notranslate"><span class="pre">create_tuple</span></code> argument to
<code class="docutils literal notranslate"><span class="pre">True</span></code> if the <code class="docutils literal notranslate"><span class="pre">X</span></code> you provide is an iterator or
a list, as otherwise your <code class="docutils literal notranslate"><span class="pre">X</span></code> would be exposed
(and thus subject to mutation or exhaustion).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">phi</span></code> – function, or callable that acts like a
function; the evolution of the DDS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cache_orbits</span></code> – boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>);
whether or not the orbits should be cached once they
are computed.
This currently does nothing, as we are not caching
orbits yet.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create_tuple</span></code> – boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>);
whether or not the input <code class="docutils literal notranslate"><span class="pre">X</span></code> should be translated
into a tuple. Set this to <code class="docutils literal notranslate"><span class="pre">True</span></code> to prevent
mutation if <code class="docutils literal notranslate"><span class="pre">X</span></code> is a list, and to prevent
exhaustion if <code class="docutils literal notranslate"><span class="pre">X</span></code> is an iterator.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inverse</span></code> – function, or callable that acts like a
function, or boolean or <code class="docutils literal notranslate"><span class="pre">None</span></code> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>);
the inverse evolution of the DDS, if the DDS is
invertible. Set this to <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>
if the DDS is not invertible (or you don’t want Sage
to treat it as such).
Alternatively, by setting this argument to <code class="docutils literal notranslate"><span class="pre">True</span></code>,
you can signal that the DDS is invertible
without providing the inverse evolution. (In this case,
Sage will compute the inverse, assuming the orbits
to be finite.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_finite</span></code> – boolean or <code class="docutils literal notranslate"><span class="pre">None</span></code> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>);
whether the DDS is finite. The default option <code class="docutils literal notranslate"><span class="pre">None</span></code>
leaves this to Sage to decide.
Only set this to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you provide the ground
set <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
</ul>
<p>EXAMPLES:</p>
<p>The following discrete dynamical system is neither
finite nor invertible:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">NN</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">Non negative integer semiring</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">7</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="mi">7</span><span class="p">)(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">19</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="mi">0</span><span class="p">)(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<p>The necessity of <code class="docutils literal notranslate"><span class="pre">create_tuple=True</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">D_wrong</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">%</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D_right</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">create_tuple</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">666</span> <span class="c1"># evil</span>
<span class="gp">sage: </span><span class="n">D_wrong</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">[0, 1, 2, 3, 666]</span>
<span class="gp">sage: </span><span class="n">D_right</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">(0, 1, 2, 3, 4)</span>
</pre></div>
</div>
<p>Here is an invertible (but infinite) discrete dynamical
system whose orbits are finite:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">NN</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">&lt;</span> <span class="mi">4</span> <span class="k">else</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">4</span><span class="p">),</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">Non negative integer semiring</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="mi">3</span><span class="p">)(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[3, 5, 1]</span>
</pre></div>
</div>
<p>Setting the <code class="docutils literal notranslate"><span class="pre">inverse</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>
would give the same system without the functionality that
relies on invertibility:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">NN</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">&lt;</span> <span class="mi">4</span> <span class="k">else</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">4</span><span class="p">),</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">Non negative integer semiring</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AttributeError: &#39;DiscreteDynamicalSystem&#39; object has no attribute &#39;inverse_evolution&#39;...</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[3, 5, 1]</span>

<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">NN</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">&lt;</span> <span class="mi">4</span> <span class="k">else</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">4</span><span class="p">),</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">Non negative integer semiring</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AttributeError: &#39;DiscreteDynamicalSystem&#39; object has no attribute &#39;inverse_evolution&#39;...</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[3, 5, 1]</span>
</pre></div>
</div>
<p>Next, let us try out a finite non-invertible DDS:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">13</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">13</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[4, 3, 9]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[3, 9]</span>
</pre></div>
</div>
<p>Note that the finiteness is automatically being inferred here,
since the (finite) tuple <code class="docutils literal notranslate"><span class="pre">tuple(range(13))</span></code> has been
provided as the ground set.</p>
<p>Finally, here is a finite invertible DDS:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">cartesian_product</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span><span class="o">*</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">X</span> <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">rot</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span> <span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],)</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">rot</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">(1, 1, 0, 1, 0, 0, 1, 0)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">(1, 0, 1, 1, 0, 1, 0, 0)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">orbit_lengths</span><span class="p">())</span>
<span class="go">[2, 4, 8, 8, 8, 8, 8, 8, 8, 8]</span>
</pre></div>
</div>
<p>We could have just as well provided its inverse explicitly:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rot7</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],)</span> <span class="o">+</span> <span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">rot</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="n">rot7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">(1, 1, 0, 1, 0, 0, 1, 0)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">(1, 0, 1, 1, 0, 1, 0, 0)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.evolution">
<span class="sig-name descname"><span class="pre">evolution</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.evolution" title="Permalink to this definition">#</a></dt>
<dd><p>Return the evolution of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="mi">3</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">4</span> <span class="k">else</span> <span class="mi">1</span><span class="p">),</span> <span class="n">create_tuple</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ev</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">ev</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">ev</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.evolution_power">
<span class="sig-name descname"><span class="pre">evolution_power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.evolution_power" title="Permalink to this definition">#</a></dt>
<dd><p>Return the <span class="math notranslate nohighlight">\(n\)</span>-th power (with respect to composition)
of the evolution of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This requires <span class="math notranslate nohighlight">\(n\)</span> to be a nonnegative integer.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span><span class="p">,</span> <span class="n">create_tuple</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ev3</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ev3</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">ev3</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">ev0</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ev0</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">ev0</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: the n-th power of evolution is only defined for nonnegative integers n</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.ground_set">
<span class="sig-name descname"><span class="pre">ground_set</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.ground_set" title="Permalink to this definition">#</a></dt>
<dd><p>Return the ground set of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This will return <code class="docutils literal notranslate"><span class="pre">None</span></code> if no ground set was
provided in the construction of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Unless <code class="docutils literal notranslate"><span class="pre">self</span></code> has been constructed with the
<code class="docutils literal notranslate"><span class="pre">create_tuple</span></code> parameter set to <code class="docutils literal notranslate"><span class="pre">True</span></code>,
this method will return whatever ground set was
provided to the constructor.
In particular, if a list was provided, then this
precise list will be returned; mutating this list
will then corrupt <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="mi">3</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">4</span> <span class="k">else</span> <span class="mi">1</span><span class="p">),</span> <span class="n">create_tuple</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">(1, 3, 4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.is_homomesic">
<span class="sig-name descname"><span class="pre">is_homomesic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">find_average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.is_homomesic" title="Permalink to this definition">#</a></dt>
<dd><p>Check if <code class="docutils literal notranslate"><span class="pre">h</span></code> (a map from the ground set of <code class="docutils literal notranslate"><span class="pre">self</span></code> to
a <span class="math notranslate nohighlight">\(\QQ\)</span>-vector space) is homomesic with respect to <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>If the optional argument <code class="docutils literal notranslate"><span class="pre">average</span></code> is provided, then
this also checks that the averages are equal to <code class="docutils literal notranslate"><span class="pre">average</span></code>.</p>
<p>If the optional argument <code class="docutils literal notranslate"><span class="pre">find_average</span></code> is set to
<code class="docutils literal notranslate"><span class="pre">True</span></code>, then this method returns the average of <code class="docutils literal notranslate"><span class="pre">h</span></code>
in case <code class="docutils literal notranslate"><span class="pre">h</span></code> is homomesic (instead of returning <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
<p>If the optional argument <code class="docutils literal notranslate"><span class="pre">elements</span></code> (an iterable of
elements of the ground set of <code class="docutils literal notranslate"><span class="pre">self</span></code>) is provided, then
this method only checks homomesy for the cycles in the
orbits of the elements given in the list <code class="docutils literal notranslate"><span class="pre">elements</span></code>.
Note that <code class="docutils literal notranslate"><span class="pre">elements</span></code> must be provided if the ground set of
<code class="docutils literal notranslate"><span class="pre">self</span></code> is infinite (or cannot be iterated through for any
other reason), since there is no way to check all the cycles
in this case.</p>
<p>This method will fail to terminate if any element of
<code class="docutils literal notranslate"><span class="pre">elements</span></code> has an infinite orbit.</p>
<p>Let us recall the definition of homomesy:
Let <span class="math notranslate nohighlight">\((X, \phi)\)</span> be a DDS.
A <em>cycle</em> of <span class="math notranslate nohighlight">\((X, \phi)\)</span> is a finite list
<span class="math notranslate nohighlight">\(u = (u_1, u_2, \ldots, u_k)\)</span> of elements of <span class="math notranslate nohighlight">\(X\)</span> such
that <span class="math notranslate nohighlight">\(\phi(u_i) = u_{i+1}\)</span> for each <span class="math notranslate nohighlight">\(i \leq k\)</span>, where we
set <span class="math notranslate nohighlight">\(u_{k+1} = u_1\)</span>.
Note that any element of <span class="math notranslate nohighlight">\(X\)</span> whose orbit is finite has a
cycle in its orbit.
Now, let <span class="math notranslate nohighlight">\(h\)</span> be a map from <span class="math notranslate nohighlight">\(X\)</span> to a <span class="math notranslate nohighlight">\(\QQ\)</span>-vector space <span class="math notranslate nohighlight">\(A\)</span>.
If <span class="math notranslate nohighlight">\(u = (u_1, u_2, \ldots, u_k)\)</span> is any cycle of
<span class="math notranslate nohighlight">\((X, \phi)\)</span>, then the <em>average</em> of <span class="math notranslate nohighlight">\(h\)</span> on this cycle is
defined to be the element
<span class="math notranslate nohighlight">\((h(u_1) + h(u_2) + \cdots + h(u_k)) / k\)</span> of <span class="math notranslate nohighlight">\(A\)</span>.
We say that <span class="math notranslate nohighlight">\(h\)</span> is <em>homomesic</em> (with respect to the DDS
<span class="math notranslate nohighlight">\((X, \phi)\)</span>) if and only if the averages of <span class="math notranslate nohighlight">\(h\)</span> on all
cycles of <span class="math notranslate nohighlight">\((X, \phi)\)</span> are equal.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">Words</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">Word</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]]),</span> <span class="n">is_finite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">w</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">find_average</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">average</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">find_average</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Now, let us check homomesy restricted to specific cycles:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">finite_dynamical_systems</span><span class="o">.</span><span class="n">bitstring_rotation</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">descents</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="n">descents</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="n">descents</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="n">descents</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="n">descents</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="n">descents</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[])</span>
<span class="go">True</span>
</pre></div>
</div>
<p>And here is a non-invertible finite dynamical system:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">finite_dynamical_systems</span><span class="o">.</span><span class="n">one_line</span><span class="p">([</span><span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_homomesic</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.orbit">
<span class="sig-name descname"><span class="pre">orbit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preperiod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.orbit" title="Permalink to this definition">#</a></dt>
<dd><p>Return the orbit of the element <code class="docutils literal notranslate"><span class="pre">x</span></code> of the ground set
of <code class="docutils literal notranslate"><span class="pre">self</span></code> under the evolution <span class="math notranslate nohighlight">\(\phi\)</span> of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This orbit is a list beginning with <code class="docutils literal notranslate"><span class="pre">x</span></code> and ending
with the last element that is not a repetition of a
previous element.
If the orbit is infinite, then this method does not
terminate!</p>
<p>If the optional argument <code class="docutils literal notranslate"><span class="pre">preperiod</span></code> is set to
<code class="docutils literal notranslate"><span class="pre">True</span></code>, then this method returns a pair <code class="docutils literal notranslate"><span class="pre">(o,</span> <span class="pre">k)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">o</span></code> is the orbit of <code class="docutils literal notranslate"><span class="pre">self</span></code>, while <span class="math notranslate nohighlight">\(k\)</span> is the
smallest nonnegative integer such that
<span class="math notranslate nohighlight">\(\phi^k(x) \in \left\{ \phi^i(x) \mid i &gt; k \right\}\)</span>.</p>
<p>The orbit of the element <code class="docutils literal notranslate"><span class="pre">x</span></code> is also called the
“rho” of <code class="docutils literal notranslate"><span class="pre">x</span></code>, due to its shape when it is depicted
as a directed graph.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">11</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">[6, 3, 9, 4, 5]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">preperiod</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">([6, 3, 9, 4, 5], 1)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[3, 9, 4, 5]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">preperiod</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">([3, 9, 4, 5], 0)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="go">[9, 4, 5, 3]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[0]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.dynamics.finite_dynamical_system.</span></span><span class="sig-name descname"><span class="pre">FiniteDynamicalSystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_orbits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_tuple</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiscreteDynamicalSystem</span></code></a></p>
<p>A finite discrete dynamical system.</p>
<p>A <em>finite discrete dynamical system</em> (henceforth <em>FDDS</em>) is a
pair <span class="math notranslate nohighlight">\((X, \phi)\)</span> of a finite set <span class="math notranslate nohighlight">\(X\)</span> and a map <span class="math notranslate nohighlight">\(\phi : X \to X\)</span>.
This set <span class="math notranslate nohighlight">\(X\)</span> is called the <em>ground set</em> of the FDDS, while
the map <span class="math notranslate nohighlight">\(\phi\)</span> is called the <em>evolution</em> of the FDDS.</p>
<p>The ground set <span class="math notranslate nohighlight">\(X\)</span> should always be provided as an
iterable when defining a <a class="reference internal" href="#sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">FiniteDynamicalSystem</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.dynamics.finite_dynamical_system</span> <span class="kn">import</span> <span class="n">FiniteDynamicalSystem</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">FiniteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">11</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[4, 5, 3, 9]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[2, 4, 5, 3, 9]</span>

<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">cartesian_product</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span><span class="o">*</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">X</span> <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">rot</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span> <span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">FiniteDynamicalSystem</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">rot</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">(1, 1, 0, 1, 0, 0, 1, 0)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem.cycles">
<span class="sig-name descname"><span class="pre">cycles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem.cycles" title="Permalink to this definition">#</a></dt>
<dd><p>Return a list of all cycles of <code class="docutils literal notranslate"><span class="pre">self</span></code>, up to
cyclic rotation.</p>
<p>We recall the definition of cycles:
Let <span class="math notranslate nohighlight">\((X, \phi)\)</span> be a DDS.
A <em>cycle</em> of <span class="math notranslate nohighlight">\((X, \phi)\)</span> is a finite list
<span class="math notranslate nohighlight">\(u = (u_1, u_2, \ldots, u_k)\)</span> of elements of <span class="math notranslate nohighlight">\(X\)</span> such
that <span class="math notranslate nohighlight">\(\phi(u_i) = u_{i+1}\)</span> for each <span class="math notranslate nohighlight">\(i \leq k\)</span>, where we
set <span class="math notranslate nohighlight">\(u_{k+1} = u_1\)</span>.
Note that any element of <span class="math notranslate nohighlight">\(X\)</span> whose orbit is finite has a
cycle in its orbit.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">BS</span> <span class="o">=</span> <span class="n">finite_dynamical_systems</span><span class="o">.</span><span class="n">bulgarian_solitaire</span>
<span class="gp">sage: </span><span class="n">BS</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">cycles</span><span class="p">()</span>
<span class="go">[[[4, 3, 1], [3, 3, 2], [3, 2, 2, 1], [4, 2, 1, 1]],</span>
<span class="go"> [[4, 2, 2], [3, 3, 1, 1]]]</span>
<span class="gp">sage: </span><span class="n">BS</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">cycles</span><span class="p">()</span>
<span class="go">[[[3, 2, 1]]]</span>

<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">cycles</span><span class="p">()</span>
<span class="go">[[5, 1, 3], [4, 0, 2]]</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">cycles</span><span class="p">()</span>
<span class="go">[[1], [4], [3], [0]]</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">11</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">cycles</span><span class="p">()</span>
<span class="go">[[10, 0], [8], [4]]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">finite_dynamical_systems</span><span class="o">.</span><span class="n">one_line</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">cycles</span><span class="p">()</span>
<span class="go">[[6, 10], [12], [9, 5, 2, 7]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem.is_invariant">
<span class="sig-name descname"><span class="pre">is_invariant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem.is_invariant" title="Permalink to this definition">#</a></dt>
<dd><p>Check if <code class="docutils literal notranslate"><span class="pre">f</span></code> is an invariant of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Let <span class="math notranslate nohighlight">\((X, \phi)\)</span> be a discrete dynamical system.
Let <span class="math notranslate nohighlight">\(Y\)</span> be any set. Let <span class="math notranslate nohighlight">\(f : X \to Y\)</span> be any map.
Then, we say that <span class="math notranslate nohighlight">\(f\)</span> is an <em>invariant</em> of <span class="math notranslate nohighlight">\((X, \phi)\)</span>
if and only if <span class="math notranslate nohighlight">\(f \circ \phi = f\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">Words</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">Word</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]]),</span> <span class="n">is_finite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_invariant</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">w</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_invariant</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_invariant</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_invariant</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">w</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Invariants and non-invariants of a permutation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">finite_dynamical_systems</span><span class="o">.</span><span class="n">permutation</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_invariant</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_invariant</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_invariant</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">is_invariant</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.dynamics.finite_dynamical_system.</span></span><span class="sig-name descname"><span class="pre">InvertibleDiscreteDynamicalSystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_orbits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_tuple</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiscreteDynamicalSystem</span></code></a></p>
<p>An invertible discrete dynamical system.</p>
<p>A <em>discrete dynamical system</em> (henceforth <em>DDS</em>) is a
pair <span class="math notranslate nohighlight">\((X, \phi)\)</span> of a set <span class="math notranslate nohighlight">\(X\)</span> and a map <span class="math notranslate nohighlight">\(\phi : X \to X\)</span>.
This set <span class="math notranslate nohighlight">\(X\)</span> is called the <em>ground set</em> of the DDS, while
the map <span class="math notranslate nohighlight">\(\phi\)</span> is called the <em>evolution</em> of the DDS.
An <em>invertible DDS</em> is a DDS <span class="math notranslate nohighlight">\((X, \phi)\)</span> whose evolution
<span class="math notranslate nohighlight">\(\phi\)</span> is invertible.
In that case, <span class="math notranslate nohighlight">\(\phi^{-1}\)</span> is called the <em>inverse evolution</em>
of the DDS.</p>
<p>See <a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiscreteDynamicalSystem</span></code></a> for details.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span></code> – set, list, tuple, or another iterable, or
<code class="docutils literal notranslate"><span class="pre">None</span></code>; the ground set for the DDS. This can be
<code class="docutils literal notranslate"><span class="pre">None</span></code> in case of a
<a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiscreteDynamicalSystem</span></code></a> or a
<a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvertibleDiscreteDynamicalSystem</span></code></a>.
Make sure to set the <code class="docutils literal notranslate"><span class="pre">create_tuple</span></code> argument to
<code class="docutils literal notranslate"><span class="pre">True</span></code> if you provide an iterator or a list for
<code class="docutils literal notranslate"><span class="pre">X</span></code>, as otherwise the input would be exposed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">phi</span></code> – function, or callable that acts like a
function; the evolution of the DDS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inverse</span></code> – function, or callable that acts like a
function; the inverse evolution of the DDS. (A
default implementation is implemented when this
argument is not provided; but it assumes the orbits
to be finite.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cache_orbits</span></code> – boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>);
whether or not the orbits should be cached once they
are computed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create_tuple</span></code> – boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>);
whether or not the input <code class="docutils literal notranslate"><span class="pre">X</span></code> should be translated
into a tuple (set this to <code class="docutils literal notranslate"><span class="pre">True</span></code> to prevent
mutation if <code class="docutils literal notranslate"><span class="pre">X</span></code> is a list, and to prevent
exhaustion if <code class="docutils literal notranslate"><span class="pre">X</span></code> is an iterator).</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.dynamics.finite_dynamical_system</span> <span class="kn">import</span> <span class="n">InvertibleDiscreteDynamicalSystem</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">InvertibleDiscreteDynamicalSystem</span><span class="p">(</span><span class="n">NN</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">Non negative integer semiring</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">7</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
<p>The necessity of <code class="docutils literal notranslate"><span class="pre">create_tuple=True</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">D_wrong</span> <span class="o">=</span> <span class="n">InvertibleDiscreteDynamicalSystem</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">%</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D_right</span> <span class="o">=</span> <span class="n">InvertibleDiscreteDynamicalSystem</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span> <span class="o">%</span> <span class="mi">5</span><span class="p">,</span> <span class="n">create_tuple</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">666</span> <span class="c1"># evil</span>
<span class="gp">sage: </span><span class="n">D_wrong</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">[0, 1, 2, 3, 666]</span>
<span class="gp">sage: </span><span class="n">D_right</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">(0, 1, 2, 3, 4)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.evolution_power">
<span class="sig-name descname"><span class="pre">evolution_power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.evolution_power" title="Permalink to this definition">#</a></dt>
<dd><p>Return the <span class="math notranslate nohighlight">\(n\)</span>-th power (with respect to composition)
of the evolution of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This requires <span class="math notranslate nohighlight">\(n\)</span> to be an integer.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span><span class="p">,</span> <span class="n">create_tuple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ev3</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ev3</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">ev3</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">ev0</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ev0</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">ev0</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">evm1</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">evm1</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">evm1</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">9</span>
<span class="gp">sage: </span><span class="n">evm2</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">evm2</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">evm2</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.inverse_evolution">
<span class="sig-name descname"><span class="pre">inverse_evolution</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.inverse_evolution" title="Permalink to this definition">#</a></dt>
<dd><p>Return the inverse evolution of <code class="docutils literal notranslate"><span class="pre">self</span></code> (as a map
from the ground set of <code class="docutils literal notranslate"><span class="pre">self</span></code> to itself).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">8</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">7</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1</span>

<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">8</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">7</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.inverse_evolution_default">
<span class="sig-name descname"><span class="pre">inverse_evolution_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.inverse_evolution_default" title="Permalink to this definition">#</a></dt>
<dd><p>Return the inverse evolution of <code class="docutils literal notranslate"><span class="pre">self</span></code>, applied
to the element <code class="docutils literal notranslate"><span class="pre">x</span></code> of the ground set of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This is the default implementation, assuming that
the orbit of <code class="docutils literal notranslate"><span class="pre">x</span></code> is finite.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">8</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution_default</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">7</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution_default</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.orbit">
<span class="sig-name descname"><span class="pre">orbit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preperiod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.orbit" title="Permalink to this definition">#</a></dt>
<dd><p>Return the orbit of the element <code class="docutils literal notranslate"><span class="pre">x</span></code> of the ground set
of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This orbit is a list beginning with <code class="docutils literal notranslate"><span class="pre">x</span></code> and ending
with the last element until <code class="docutils literal notranslate"><span class="pre">x</span></code> reappears.
If <code class="docutils literal notranslate"><span class="pre">x</span></code> never reappears, then this will not terminate!</p>
<p>If the optional argument <code class="docutils literal notranslate"><span class="pre">preperiod</span></code> is set to
<code class="docutils literal notranslate"><span class="pre">True</span></code>, then this method returns a pair <code class="docutils literal notranslate"><span class="pre">(o,</span> <span class="pre">k)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">o</span></code> is the orbit of <code class="docutils literal notranslate"><span class="pre">self</span></code>, while <span class="math notranslate nohighlight">\(k\)</span> is the
smallest nonnegative integer such that
<span class="math notranslate nohighlight">\(\phi^k(x) \in \left\{ \phi^i(x) \mid i &gt; k \right\}\)</span>.
Note that <span class="math notranslate nohighlight">\(k\)</span> is necessarily <span class="math notranslate nohighlight">\(0\)</span>, since the DDS
<code class="docutils literal notranslate"><span class="pre">self</span></code> is invertible!</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">8</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">(0, 1, 2, 3, 4, 5, 6, 7)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[2, 4, 6, 0]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[5, 7, 1, 3]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">preperiod</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">([5, 7, 1, 3], 0)</span>

<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">8</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">Integer Ring</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[2, 4, 6, 0]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[5, 7, 1, 3]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">preperiod</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">([5, 7, 1, 3], 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.verify_inverse_evolution">
<span class="sig-name descname"><span class="pre">verify_inverse_evolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.verify_inverse_evolution" title="Permalink to this definition">#</a></dt>
<dd><p>Verify that the composition of evolution and
inverse evolution on <code class="docutils literal notranslate"><span class="pre">self</span></code> is the identity
(both ways).</p>
<p>The optional argument <code class="docutils literal notranslate"><span class="pre">x</span></code>, if provided, restricts
the testing to the element <code class="docutils literal notranslate"><span class="pre">x</span></code> only.
Otherwise, all elements of the ground set are
tested (if they can be enumerated).</p>
<p>This is mostly used to check the correctness of
self-implemented inverse evolution methods.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">8</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">verify_inverse_evolution</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">verify_inverse_evolution</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">fake_inverse</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">8</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="n">fake_inverse</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">verify_inverse_evolution</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">verify_inverse_evolution</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.dynamics.finite_dynamical_system.</span></span><span class="sig-name descname"><span class="pre">InvertibleFiniteDynamicalSystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_orbits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_tuple</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvertibleDiscreteDynamicalSystem</span></code></a>, <a class="reference internal" href="#sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">FiniteDynamicalSystem</span></code></a></p>
<p>An invertible finite discrete dynamical system.</p>
<p>A <em>finite discrete dynamical system</em> (henceforth <em>FDDS</em>) is a
pair <span class="math notranslate nohighlight">\((X, \phi)\)</span> of a finite set <span class="math notranslate nohighlight">\(X\)</span> and a map <span class="math notranslate nohighlight">\(\phi : X \to X\)</span>.
This set <span class="math notranslate nohighlight">\(X\)</span> is called the <em>ground set</em> of the FDDS, while
the map <span class="math notranslate nohighlight">\(\phi\)</span> is called the <em>evolution</em> of the FDDS.
An FDDS <span class="math notranslate nohighlight">\((X, \phi)\)</span> is called <em>invertible</em> if the map <span class="math notranslate nohighlight">\(\phi\)</span>
is invertible; in this case, <span class="math notranslate nohighlight">\(\phi^{-1}\)</span> is called the
<em>inverse evolution</em> of the FDDS.</p>
<p>The ground set <span class="math notranslate nohighlight">\(X\)</span> should always be provided as an
iterable when defining a <a class="reference internal" href="#sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem" title="sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">FiniteDynamicalSystem</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.dynamics.finite_dynamical_system</span> <span class="kn">import</span> <span class="n">InvertibleFiniteDynamicalSystem</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">InvertibleFiniteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">ground_set</span><span class="p">()</span>
<span class="go">(0, 1, 2, 3, 4)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbits</span><span class="p">()</span>
<span class="go">[[4, 1, 3, 0, 2]]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution_power</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>

<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">cartesian_product</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span><span class="o">*</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">X</span> <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">rot</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span> <span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],)</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">InvertibleFiniteDynamicalSystem</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">rot</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">evolution</span><span class="p">()((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">(1, 1, 0, 1, 0, 0, 1, 0)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">inverse_evolution</span><span class="p">()((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">(1, 0, 1, 1, 0, 1, 0, 0)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">orbit_lengths</span><span class="p">())</span>
<span class="go">[2, 4, 8, 8, 8, 8, 8, 8, 8, 8]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem.cycles">
<span class="sig-name descname"><span class="pre">cycles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem.cycles" title="Permalink to this definition">#</a></dt>
<dd><p>Return a list of all cycles of <code class="docutils literal notranslate"><span class="pre">self</span></code>, up to
cyclic rotation.</p>
<p>We recall the definition of cycles:
Let <span class="math notranslate nohighlight">\((X, \phi)\)</span> be a DDS.
A <em>cycle</em> of <span class="math notranslate nohighlight">\((X, \phi)\)</span> is a finite list
<span class="math notranslate nohighlight">\(u = (u_1, u_2, \ldots, u_k)\)</span> of elements of <span class="math notranslate nohighlight">\(X\)</span> such
that <span class="math notranslate nohighlight">\(\phi(u_i) = u_{i+1}\)</span> for each <span class="math notranslate nohighlight">\(i \leq k\)</span>, where we
set <span class="math notranslate nohighlight">\(u_{k+1} = u_1\)</span>.
Note that any element of <span class="math notranslate nohighlight">\(X\)</span> whose orbit is finite has a
cycle in its orbit.</p>
<p>Since <code class="docutils literal notranslate"><span class="pre">self</span></code> is invertible, the cycles of <code class="docutils literal notranslate"><span class="pre">self</span></code>
are the same as its orbits.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">cycles</span><span class="p">()</span>
<span class="go">[[5, 1, 3], [4, 0, 2]]</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">cycles</span><span class="p">()</span>
<span class="go">[[5, 2], [4, 1], [3, 0]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem.orbit_lengths">
<span class="sig-name descname"><span class="pre">orbit_lengths</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem.orbit_lengths" title="Permalink to this definition">#</a></dt>
<dd><p>Return a list of the lengths of all orbits of
<code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit_lengths</span><span class="p">()</span>
<span class="go">[3, 3]</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbit_lengths</span><span class="p">()</span>
<span class="go">[2, 2, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem.orbits">
<span class="sig-name descname"><span class="pre">orbits</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem.orbits" title="Permalink to this definition">#</a></dt>
<dd><p>Return a list of all orbits of <code class="docutils literal notranslate"><span class="pre">self</span></code>, up to
cyclic rotation.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbits</span><span class="p">()</span>
<span class="go">[[5, 1, 3], [4, 0, 2]]</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">DiscreteDynamicalSystem</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">%</span> <span class="mi">6</span><span class="p">,</span> <span class="n">inverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">orbits</span><span class="p">()</span>
<span class="go">[[5, 2], [4, 1], [3, 0]]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../sandpiles/sandpile.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Sandpiles</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="complex_dynamics/mandel_julia.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Mandelbrot and Julia sets</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2023, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Discrete dynamical systems</a><ul>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem"><code class="docutils literal notranslate"><span class="pre">DiscreteDynamicalSystem</span></code></a><ul>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.evolution"><code class="docutils literal notranslate"><span class="pre">evolution()</span></code></a></li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.evolution_power"><code class="docutils literal notranslate"><span class="pre">evolution_power()</span></code></a></li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.ground_set"><code class="docutils literal notranslate"><span class="pre">ground_set()</span></code></a></li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.is_homomesic"><code class="docutils literal notranslate"><span class="pre">is_homomesic()</span></code></a></li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.DiscreteDynamicalSystem.orbit"><code class="docutils literal notranslate"><span class="pre">orbit()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem"><code class="docutils literal notranslate"><span class="pre">FiniteDynamicalSystem</span></code></a><ul>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem.cycles"><code class="docutils literal notranslate"><span class="pre">cycles()</span></code></a></li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.FiniteDynamicalSystem.is_invariant"><code class="docutils literal notranslate"><span class="pre">is_invariant()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem"><code class="docutils literal notranslate"><span class="pre">InvertibleDiscreteDynamicalSystem</span></code></a><ul>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.evolution_power"><code class="docutils literal notranslate"><span class="pre">evolution_power()</span></code></a></li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.inverse_evolution"><code class="docutils literal notranslate"><span class="pre">inverse_evolution()</span></code></a></li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.inverse_evolution_default"><code class="docutils literal notranslate"><span class="pre">inverse_evolution_default()</span></code></a></li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.orbit"><code class="docutils literal notranslate"><span class="pre">orbit()</span></code></a></li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleDiscreteDynamicalSystem.verify_inverse_evolution"><code class="docutils literal notranslate"><span class="pre">verify_inverse_evolution()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem"><code class="docutils literal notranslate"><span class="pre">InvertibleFiniteDynamicalSystem</span></code></a><ul>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem.cycles"><code class="docutils literal notranslate"><span class="pre">cycles()</span></code></a></li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem.orbit_lengths"><code class="docutils literal notranslate"><span class="pre">orbit_lengths()</span></code></a></li>
<li><a class="reference internal" href="#sage.dynamics.finite_dynamical_system.InvertibleFiniteDynamicalSystem.orbits"><code class="docutils literal notranslate"><span class="pre">orbits()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"ZZ": "\\Bold{Z}", "NN": "\\Bold{N}", "RR": "\\Bold{R}", "CC": "\\Bold{C}", "QQ": "\\Bold{Q}", "QQbar": "\\overline{\\QQ}", "GF": ["\\Bold{F}_{#1}", 1], "Zp": ["\\Bold{Z}_{#1}", 1], "Qp": ["\\Bold{Q}_{#1}", 1], "Zmod": ["\\ZZ/#1\\ZZ", 1], "CDF": "\\Bold{C}", "CIF": "\\Bold{C}", "CLF": "\\Bold{C}", "RDF": "\\Bold{R}", "RIF": "\\Bold{I} \\Bold{R}", "RLF": "\\Bold{R}", "SL": "\\mathrm{SL}", "PSL": "\\mathrm{PSL}", "lcm": "\\mathop{\\operatorname{lcm}}", "Bold": ["\\mathbf{#1}", 1]}, "inlineMath": [["$", "$"], ["\\(", "\\)"]], "maxBuffer": 51200, "autoload": {"color": [], "colorv2": ["color"]}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script src="../../../_static/jupyter-sphinx-furo.js"></script>
    </body>
</html>