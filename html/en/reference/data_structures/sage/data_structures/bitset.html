<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Bitsets &mdash; Sage Reference Manual v7.5: Data Structures</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.5: Data Structures" href="../../index.html" />
    <link rel="next" title="Sequences of bounded integers" href="bounded_integer_sequences.html" />
    <link rel="prev" title="Binary trees" href="../misc/binary_tree.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="bounded_integer_sequences.html" title="Sequences of bounded integers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../misc/binary_tree.html" title="Binary trees"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Data Structures</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bitsets">
<span id="sage-data-structures-bitset"></span><h1>Bitsets<a class="headerlink" href="#bitsets" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.data_structures.bitset"></span><p>A Python interface to the fast bitsets in Sage.  Bitsets are fast
binary sets that store elements by toggling bits in an array of
numbers.  A bitset can store values between <span class="math">\(0\)</span> and <code class="docutils literal"><span class="pre">capacity</span> <span class="pre">-</span> <span class="pre">1</span></code>,
inclusive (where <code class="docutils literal"><span class="pre">capacity</span></code> is finite, but arbitrary).  The storage cost is
linear in <code class="docutils literal"><span class="pre">capacity</span></code>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This class is most likely to be useful as a way to store Cython
bitsets in Python data structures, acting on them using the Cython
inline functions.  If you want to use these classes for a Python
set type, the Python <code class="docutils literal"><span class="pre">set</span></code> or <code class="docutils literal"><span class="pre">frozenset</span></code> data types may be
faster.</p>
</div>
<dl class="class">
<dt id="sage.data_structures.bitset.Bitset">
<em class="property">class </em><code class="descclassname">sage.data_structures.bitset.</code><code class="descname">Bitset</code><a class="headerlink" href="#sage.data_structures.bitset.Bitset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.data_structures.bitset.FrozenBitset" title="sage.data_structures.bitset.FrozenBitset"><code class="xref py py-class docutils literal"><span class="pre">sage.data_structures.bitset.FrozenBitset</span></code></a></p>
<p>A bitset class which leverages inline Cython functions for creating
and manipulating bitsets. See the class documentation of
<a class="reference internal" href="#sage.data_structures.bitset.FrozenBitset" title="sage.data_structures.bitset.FrozenBitset"><code class="xref py py-class docutils literal"><span class="pre">FrozenBitset</span></code></a> for details on the parameters of the constructor
and how to interpret the string representation of a <a class="reference internal" href="#sage.data_structures.bitset.Bitset" title="sage.data_structures.bitset.Bitset"><code class="xref py py-class docutils literal"><span class="pre">Bitset</span></code></a>.</p>
<p>A bitset can be thought of in two ways.  First, as a set of elements
from the universe of the <span class="math">\(n\)</span> natural numbers <span class="math">\(0, 1, \dots, n-1\)</span> (where
the capacity <span class="math">\(n\)</span> can be specified), with typical set operations such as
intersection, union, symmetric difference, etc.  Secondly, a bitset can
be thought of as a binary vector with typical binary operations such as
<code class="docutils literal"><span class="pre">and</span></code>, <code class="docutils literal"><span class="pre">or</span></code>, <code class="docutils literal"><span class="pre">xor</span></code>, etc.  This class supports both interfaces.</p>
<p>The interface in this class mirrors the interface in the <code class="docutils literal"><span class="pre">set</span></code>
data type of Python.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This class is most likely to be useful as a way to store
Cython bitsets in Python data structures, acting on them using
the Cython inline functions.  If you want to use this class
for a Python set type, the Python <code class="docutils literal"><span class="pre">set</span></code> data type may be
faster.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="#sage.data_structures.bitset.FrozenBitset" title="sage.data_structures.bitset.FrozenBitset"><code class="xref py py-class docutils literal"><span class="pre">FrozenBitset</span></code></a></li>
<li>Python&#8217;s <a class="reference external" href="http://docs.python.org/library/stdtypes.html#set-types-set-frozenset">set types</a></li>
</ul>
</div>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;1101&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">==</span> <span class="n">a</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;1101&#39;</span> <span class="o">*</span> <span class="mi">32</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">==</span> <span class="n">a</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.data_structures.bitset.Bitset.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.Bitset.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the bitset by adding <code class="docutils literal"><span class="pre">n</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">110001</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">[0, 1, 5, 100]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">capacity</span><span class="p">()</span>
<span class="go">101</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>The input <code class="docutils literal"><span class="pre">n</span></code> must be an integer.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">an integer is required</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.Bitset.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.Bitset.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all elements from the bitset.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;011&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">000</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;011&#39;</span> <span class="o">*</span> <span class="mi">32</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">set()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.Bitset.difference_update">
<code class="descname">difference_update</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.Bitset.difference_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the bitset to the difference of <code class="docutils literal"><span class="pre">self</span></code> and <code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;0101&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">1000</span>
<span class="gp">sage: </span><span class="n">a_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">));</span> <span class="n">a</span>
<span class="go">100000000000000000000000000000000000000000000000000000000000</span>
<span class="gp">sage: </span><span class="n">a_set</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a_set</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a_set</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a_set</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">));</span> <span class="n">a</span>
<span class="go">0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="gp">sage: </span><span class="n">a_set</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a_set</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">));</span> <span class="n">b</span>
<span class="go">0000010101101011010110101101011010110101101011010110101101011010110101101011010110101101011010110101</span>
<span class="gp">sage: </span><span class="n">b_set</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b_set</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">other cannot be None</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.Bitset.discard">
<code class="descname">discard</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.Bitset.discard" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the bitset by removing <code class="docutils literal"><span class="pre">n</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">100</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">100</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;000001&#39;</span> <span class="o">*</span> <span class="mi">15</span><span class="p">);</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">[5, 11, 17, 23, 29, 35, 41, 47, 53, 59, 65, 71, 77, 83, 89]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">83</span><span class="p">);</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">[5, 11, 17, 23, 29, 35, 41, 47, 53, 59, 65, 71, 77, 89]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="mi">82</span><span class="p">);</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">[5, 11, 17, 23, 29, 35, 41, 47, 53, 59, 65, 71, 77, 89]</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>The input <code class="docutils literal"><span class="pre">n</span></code> must be an integer.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">an integer is required</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.Bitset.intersection_update">
<code class="descname">intersection_update</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.Bitset.intersection_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the bitset to the intersection of <code class="docutils literal"><span class="pre">self</span></code> and <code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">intersection_update</span><span class="p">(</span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;0101&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">0100</span>
<span class="gp">sage: </span><span class="n">a_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">intersection_update</span><span class="p">(</span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;0110&#39;</span> <span class="o">*</span> <span class="mi">25</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">0100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="gp">sage: </span><span class="n">a_set</span><span class="o">.</span><span class="n">intersection_update</span><span class="p">(</span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;0110&#39;</span> <span class="o">*</span> <span class="mi">25</span><span class="p">))</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="n">a_set</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">intersection_update</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">other cannot be None</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.Bitset.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.Bitset.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove and return an arbitrary element from the set. Raises
<code class="docutils literal"><span class="pre">KeyError</span></code> if the set is empty.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;011&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">001</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">000</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">KeyError</span>: <span class="n">&#39;pop from an empty set&#39;</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;0001&#39;</span><span class="o">*</span><span class="mi">32</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="go">[7, 11, 15, 19, 23, 27, 31, 35, 39, 43, 47, 51, 55, 59, 63, 67, 71, 75, 79, 83]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.Bitset.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.Bitset.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the bitset by removing <code class="docutils literal"><span class="pre">n</span></code>.  Raises <code class="docutils literal"><span class="pre">KeyError</span></code> if <code class="docutils literal"><span class="pre">n</span></code> is
not contained in the bitset.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">100</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">KeyError</span>: <span class="n">2L</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">KeyError</span>: <span class="n">4L</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">100</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;000001&#39;</span> <span class="o">*</span> <span class="mi">15</span><span class="p">);</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">[5, 11, 17, 23, 29, 35, 41, 47, 53, 59, 65, 71, 77, 83, 89]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">83</span><span class="p">);</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">[5, 11, 17, 23, 29, 35, 41, 47, 53, 59, 65, 71, 77, 89]</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>The input <code class="docutils literal"><span class="pre">n</span></code> must be an integer.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">an integer is required</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.Bitset.symmetric_difference_update">
<code class="descname">symmetric_difference_update</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.Bitset.symmetric_difference_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the bitset to the symmetric difference of <code class="docutils literal"><span class="pre">self</span></code> and
<code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;0101&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">1001</span>
<span class="gp">sage: </span><span class="n">a_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">));</span> <span class="n">a</span>
<span class="go">110001010101010101010101010101010101010101010101010101010101</span>
<span class="gp">sage: </span><span class="n">a_set</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a_set</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">));</span> <span class="n">a</span>
<span class="go">1001011111000001111100000111110000011111000001111100000111110101001010010100101001010010100101001010</span>
<span class="gp">sage: </span><span class="n">a_set</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a_set</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">));</span> <span class="n">b</span>
<span class="go">0101010101101011010110101101011010110101101011010110101101011010110101101011010110101101011010110101</span>
<span class="gp">sage: </span><span class="n">b_set</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b_set</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">other cannot be None</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.Bitset.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.Bitset.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the bitset to include items in <code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;0101&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">1101</span>
<span class="gp">sage: </span><span class="n">a_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;00011&#39;</span> <span class="o">*</span> <span class="mi">25</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">11011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011000110001100011</span>
<span class="gp">sage: </span><span class="n">a_set</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;00011&#39;</span> <span class="o">*</span> <span class="mi">25</span><span class="p">))</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="n">a_set</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>During update, <code class="docutils literal"><span class="pre">other</span></code> cannot be <code class="docutils literal"><span class="pre">None</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s1">&#39;1101&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">other cannot be None</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.data_structures.bitset.FrozenBitset">
<em class="property">class </em><code class="descclassname">sage.data_structures.bitset.</code><code class="descname">FrozenBitset</code><a class="headerlink" href="#sage.data_structures.bitset.FrozenBitset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A frozen bitset class which leverages inline Cython functions for
creating and manipulating bitsets.</p>
<p>A bitset can be thought of in two ways.  First, as a set of elements
from the universe of the <span class="math">\(n\)</span> natural numbers <span class="math">\(0, 1, \dots, n-1\)</span> (where
the capacity <span class="math">\(n\)</span> can be specified), with typical set operations such as
intersection, union, symmetric difference, etc.  Secondly, a bitset can
be thought of as a binary vector with typical binary operations such as
<code class="docutils literal"><span class="pre">and</span></code>, <code class="docutils literal"><span class="pre">or</span></code>, <code class="docutils literal"><span class="pre">xor</span></code>, etc.  This class supports both interfaces.</p>
<p>The interface in this class mirrors the interface in the <code class="docutils literal"><span class="pre">frozenset</span></code>
data type of Python. See the Python documentation on <a class="reference external" href="http://docs.python.org/library/stdtypes.html#set-types-set-frozenset">set types</a>
for more details on Python&#8217;s <code class="docutils literal"><span class="pre">set</span></code> and <code class="docutils literal"><span class="pre">frozenset</span></code> classes.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This class is most likely to be useful as a way to store
Cython bitsets in Python data structures, acting on them using
the Cython inline functions.  If you want to use this class
for a Python set type, the Python <code class="docutils literal"><span class="pre">frozenset</span></code> data type may
be faster.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">iter</span></code> &#8211; initialization parameter (default: <code class="docutils literal"><span class="pre">None</span></code>). Valid input
are:<ul>
<li><a class="reference internal" href="#sage.data_structures.bitset.Bitset" title="sage.data_structures.bitset.Bitset"><code class="xref py py-class docutils literal"><span class="pre">Bitset</span></code></a> and <a class="reference internal" href="#sage.data_structures.bitset.FrozenBitset" title="sage.data_structures.bitset.FrozenBitset"><code class="xref py py-class docutils literal"><span class="pre">FrozenBitset</span></code></a> &#8211; If this is a
<a class="reference internal" href="#sage.data_structures.bitset.Bitset" title="sage.data_structures.bitset.Bitset"><code class="xref py py-class docutils literal"><span class="pre">Bitset</span></code></a> or <a class="reference internal" href="#sage.data_structures.bitset.FrozenBitset" title="sage.data_structures.bitset.FrozenBitset"><code class="xref py py-class docutils literal"><span class="pre">FrozenBitset</span></code></a>, then it is copied.</li>
<li><code class="docutils literal"><span class="pre">None</span></code> &#8211; If <code class="docutils literal"><span class="pre">None</span></code>, then the bitset is set to the empty set.</li>
<li>string &#8211; If a nonempty string, then the bitset is initialized by
including an element if the index of the string is <code class="docutils literal"><span class="pre">1</span></code>. If the
string is empty, then raise a <code class="docutils literal"><span class="pre">ValueError</span></code>.</li>
<li>iterable &#8211; If an iterable, then it is assumed to contain a list of
nonnegative integers and those integers are placed in the set.</li>
</ul>
</li>
<li><code class="docutils literal"><span class="pre">capacity</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) The maximum capacity of the bitset.
If this is not specified, then it is automatically calculated from the
passed iterable.  It must be at least one.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>None.</li>
</ul>
<p>The string representation of a <a class="reference internal" href="#sage.data_structures.bitset.FrozenBitset" title="sage.data_structures.bitset.FrozenBitset"><code class="xref py py-class docutils literal"><span class="pre">FrozenBitset</span></code></a> <code class="docutils literal"><span class="pre">FB</span></code> can be
understood as follows. Let <span class="math">\(B = b_0 b_1 b_2 \cdots b_k\)</span> be the string
representation of the bitset <code class="docutils literal"><span class="pre">FB</span></code>, where each <span class="math">\(b_i \in \{0, 1\}\)</span>. We
read the <span class="math">\(b_i\)</span> from left to right. If <span class="math">\(b_i = 1\)</span>, then the nonnegative
integer <span class="math">\(i\)</span> is in the bitset <code class="docutils literal"><span class="pre">FB</span></code>. Similarly, if <span class="math">\(b_i = 0\)</span>, then <span class="math">\(i\)</span>
is not in <code class="docutils literal"><span class="pre">FB</span></code>. In other words, <code class="docutils literal"><span class="pre">FB</span></code> is a subset of
<span class="math">\(\{0, 1, 2, \dots, k\}\)</span> and the membership in <code class="docutils literal"><span class="pre">FB</span></code> of each <span class="math">\(i\)</span> is
determined by the binary value <span class="math">\(b_i\)</span>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="#sage.data_structures.bitset.Bitset" title="sage.data_structures.bitset.Bitset"><code class="xref py py-class docutils literal"><span class="pre">Bitset</span></code></a></li>
<li>Python&#8217;s <a class="reference external" href="http://docs.python.org/library/stdtypes.html#set-types-set-frozenset">set types</a></li>
</ul>
</div>
<p>EXAMPLES:</p>
<p>The default bitset, which has capacity 1:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Trying to create an empty bitset fails:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">([])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Bitsets must not be empty</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="nb">list</span><span class="p">())</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Bitsets must not be empty</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(())</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Bitsets must not be empty</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="nb">tuple</span><span class="p">())</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Bitsets must not be empty</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Bitsets must not be empty</span>
</pre></div>
</div>
<p>We can create the all-zero bitset as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="n">capacity</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">0000000000</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">([],</span> <span class="n">capacity</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">0000000000</span>
</pre></div>
</div>
<p>We can initialize a <a class="reference internal" href="#sage.data_structures.bitset.FrozenBitset" title="sage.data_structures.bitset.FrozenBitset"><code class="xref py py-class docutils literal"><span class="pre">FrozenBitset</span></code></a> with a <a class="reference internal" href="#sage.data_structures.bitset.Bitset" title="sage.data_structures.bitset.Bitset"><code class="xref py py-class docutils literal"><span class="pre">Bitset</span></code></a> or
another <a class="reference internal" href="#sage.data_structures.bitset.FrozenBitset" title="sage.data_structures.bitset.FrozenBitset"><code class="xref py py-class docutils literal"><span class="pre">FrozenBitset</span></code></a>, and compare them for equality. As they
are logically the same bitset, the equality test should return <code class="docutils literal"><span class="pre">True</span></code>.
Furthermore, each bitset is a subset of the other.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">bitcmp</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>  <span class="c1"># custom function for comparing bitsets</span>
<span class="go">....:     print(a == b == c)</span>
<span class="go">....:     print((a &lt;= b, b &lt;= c, a &lt;= c))</span>
<span class="go">....:     print((a &gt;= b, b &gt;= c, a &gt;= c))</span>
<span class="go">....:     print((a != b, b != c, a != c))</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="s2">&quot;1010110&quot;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="n">a</span><span class="p">);</span> <span class="n">c</span> <span class="o">=</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">;</span> <span class="n">b</span><span class="p">;</span> <span class="n">c</span>
<span class="go">1010110</span>
<span class="go">1010110</span>
<span class="go">1010110</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="n">c</span><span class="p">,</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">c</span>
<span class="go">(False, False, False)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span> <span class="o">&gt;</span> <span class="n">c</span><span class="p">,</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">c</span>
<span class="go">(False, False, False)</span>
<span class="gp">sage: </span><span class="n">bitcmp</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="go">True</span>
<span class="go">(True, True, True)</span>
<span class="go">(True, True, True)</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
<p>Try a random bitset:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">Bitset</span><span class="p">(</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="o">^</span><span class="mi">4</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="n">a</span><span class="p">);</span> <span class="n">c</span> <span class="o">=</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">bitcmp</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<span class="go">True</span>
<span class="go">(True, True, True)</span>
<span class="go">(True, True, True)</span>
<span class="go">(False, False, False)</span>
</pre></div>
</div>
<p>A bitset with a hard-coded bitstring:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;101&#39;</span><span class="p">)</span>
<span class="go">101</span>
</pre></div>
</div>
<p>For a string, only those positions with <code class="docutils literal"><span class="pre">1</span></code> would be initialized to <code class="docutils literal"><span class="pre">1</span></code>
in the corresponding position in the bitset. All other characters in the
string, including <code class="docutils literal"><span class="pre">0</span></code>, are set to <code class="docutils literal"><span class="pre">0</span></code> in the resulting bitset.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
<span class="go">000</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;abc1&#39;</span><span class="p">)</span>
<span class="go">0001</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;0abc1&#39;</span><span class="p">)</span>
<span class="go">00001</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;0abc10&#39;</span><span class="p">)</span>
<span class="go">000010</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;0a*c10&#39;</span><span class="p">)</span>
<span class="go">000010</span>
</pre></div>
</div>
<p>Represent the first 10 primes as a bitset. The primes are stored as a
list and as a tuple. We then recover the primes from its bitset
representation, and query the bitset for its length (how many elements
it contains) and whether an element is in the bitset. Note that the
length of a bitset is different from its capacity. The length counts
the number of elements currently in the bitset, while the capacity
is the number of elements that the bitset can hold.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">primes_first_n</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="n">p</span>
<span class="go">[2, 3, 5, 7, 11, 13, 17, 19, 23, 29]</span>
<span class="gp">sage: </span><span class="nb">tuple</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">(2, 3, 5, 7, 11, 13, 17, 19, 23, 29)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="n">p</span><span class="p">);</span> <span class="n">F</span><span class="p">;</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
<span class="go">001101010001010001010001000001</span>
<span class="go">001101010001010001010001000001</span>
</pre></div>
</div>
<p>Recover the primes from the bitset:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">F</span><span class="p">:</span>
<span class="go">....:     print(b)</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="gp">...</span>
<span class="go">29</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="go">[2, 3, 5, 7, 11, 13, 17, 19, 23, 29]</span>
</pre></div>
</div>
<p>Query the bitset:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">F</span><span class="p">))</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">capacity</span><span class="p">()</span>
<span class="go">30</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">F</span><span class="p">);</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">30</span>
<span class="gp">sage: </span><span class="mi">2</span> <span class="ow">in</span> <span class="n">F</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="mi">1</span> <span class="ow">in</span> <span class="n">F</span>
<span class="go">False</span>
</pre></div>
</div>
<p>A random iterable, with all duplicate elements removed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="o">^</span><span class="mi">4</span><span class="p">))]</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="o">==</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">L</span><span class="p">)))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">L</span><span class="p">))</span> <span class="o">==</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">L</span><span class="p">)))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Loading and dumping objects:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1101&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">==</span> <span class="n">a</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1101&#39;</span> <span class="o">*</span> <span class="mi">64</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">==</span> <span class="n">a</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If <code class="docutils literal"><span class="pre">iter</span></code> is a nonempty string and <code class="docutils literal"><span class="pre">capacity</span></code> is specified, then
<code class="docutils literal"><span class="pre">capacity</span></code> must match the number of elements in <code class="docutils literal"><span class="pre">iter</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s2">&quot;110110&quot;</span><span class="p">,</span> <span class="n">capacity</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">bitset capacity does not match passed string</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s2">&quot;110110&quot;</span><span class="p">,</span> <span class="n">capacity</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">bitset capacity does not match passed string</span>
</pre></div>
</div>
<p>The parameter <code class="docutils literal"><span class="pre">capacity</span></code> must be positive:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s2">&quot;110110&quot;</span><span class="p">,</span> <span class="n">capacity</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">bitset capacity must be greater than 0</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s2">&quot;110110&quot;</span><span class="p">,</span> <span class="n">capacity</span><span class="o">=-</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">OverflowError</span>: <span class="n">can&#39;t convert negative value to mp_bitcnt_t</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.data_structures.bitset.FrozenBitset.capacity">
<code class="descname">capacity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.FrozenBitset.capacity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of the underlying bitset.</p>
<p>The maximum value that can be stored in the current underlying
bitset is <code class="docutils literal"><span class="pre">self.capacity()</span> <span class="pre">-</span> <span class="pre">1</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11000&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">capacity</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span> <span class="o">*</span> <span class="mi">32</span><span class="p">)</span><span class="o">.</span><span class="n">capacity</span><span class="p">()</span>
<span class="go">96</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="n">capacity</span><span class="o">=</span><span class="mi">450</span><span class="p">)</span><span class="o">.</span><span class="n">capacity</span><span class="p">()</span>
<span class="go">450</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.FrozenBitset.complement">
<code class="descname">complement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.FrozenBitset.complement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the complement of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="o">~</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span><span class="p">)</span>
<span class="go">01010</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11111&#39;</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
<span class="go">00000000000000000000000000000000000000000000000000</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10&#39;</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">==</span> <span class="o">~</span><span class="n">x</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">==</span> <span class="o">~~</span><span class="n">x</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">|</span><span class="p">(</span><span class="o">~</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="o">~</span><span class="n">x</span> <span class="o">==</span> <span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.FrozenBitset.difference">
<code class="descname">difference</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.FrozenBitset.difference" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the difference of <code class="docutils literal"><span class="pre">self</span></code> and <code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11100&#39;</span><span class="p">))</span>
<span class="go">00001</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11111&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">101010101010101010101010101010101010101010101010100000000000</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11111&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11111&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">))</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">other cannot be None</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.FrozenBitset.intersection">
<code class="descname">intersection</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.FrozenBitset.intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the intersection of <code class="docutils literal"><span class="pre">self</span></code> and <code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11100&#39;</span><span class="p">))</span>
<span class="go">10100</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11111&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">010101010101010101010101010101010101010101010101010000000000</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11111&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11111&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">))</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s2">&quot;101011&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">other cannot be None</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.FrozenBitset.isdisjoint">
<code class="descname">isdisjoint</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.FrozenBitset.isdisjoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to see if <code class="docutils literal"><span class="pre">self</span></code> is disjoint from <code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">isdisjoint</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">isdisjoint</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;001&#39;</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;00101&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">isdisjoint</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;110&#39;</span> <span class="o">*</span> <span class="mi">35</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">isdisjoint</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">other cannot be None</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.FrozenBitset.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.FrozenBitset.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the bitset is empty.</p>
<p>INPUT:</p>
<ul class="simple">
<li>None.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">True</span></code> if the bitset is empty; <code class="docutils literal"><span class="pre">False</span></code> otherwise.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">()</span><span class="o">.</span><span class="n">isempty</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">isempty</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">([],</span> <span class="n">capacity</span><span class="o">=</span><span class="mi">110</span><span class="p">)</span><span class="o">.</span><span class="n">isempty</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">99</span><span class="p">))</span><span class="o">.</span><span class="n">isempty</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.FrozenBitset.issubset">
<code class="descname">issubset</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.FrozenBitset.issubset" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to see if <code class="docutils literal"><span class="pre">self</span></code> is a subset of <code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01&#39;</span> <span class="o">*</span> <span class="mi">45</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">other cannot be None</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.FrozenBitset.issuperset">
<code class="descname">issuperset</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.FrozenBitset.issuperset" title="Permalink to this definition">¶</a></dt>
<dd><p>Test to see if <code class="docutils literal"><span class="pre">self</span></code> is a superset of <code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10&#39;</span> <span class="o">*</span> <span class="mi">45</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">other cannot be None</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.FrozenBitset.symmetric_difference">
<code class="descname">symmetric_difference</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.FrozenBitset.symmetric_difference" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the symmetric difference of <code class="docutils literal"><span class="pre">self</span></code> and <code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11100&#39;</span><span class="p">))</span>
<span class="go">01001</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11111&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">101010101010101010101010101010101010101010101010100101010101</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11111&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11111&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;010101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">))</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="mi">5</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11111&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">other cannot be None</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.data_structures.bitset.FrozenBitset.union">
<code class="descname">union</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.FrozenBitset.union" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the union of <code class="docutils literal"><span class="pre">self</span></code> and <code class="docutils literal"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;11100&#39;</span><span class="p">))</span>
<span class="go">11101</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">11111111111111111111111111111111111111111111111111</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">20</span><span class="p">))</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;01010&#39;</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">FrozenBitset</span><span class="p">(</span><span class="s1">&#39;10101&#39;</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">other cannot be None</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.data_structures.bitset.test_bitset">
<code class="descclassname">sage.data_structures.bitset.</code><code class="descname">test_bitset</code><span class="sig-paren">(</span><em>py_a</em>, <em>py_b</em>, <em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.test_bitset" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the Cython bitset functions so we can have some relevant doctests.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.data_structures.bitset</span> <span class="kn">import</span> <span class="n">test_bitset</span>
<span class="gp">sage: </span><span class="n">test_bitset</span><span class="p">(</span><span class="s1">&#39;00101&#39;</span><span class="p">,</span> <span class="s1">&#39;01110&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">a 00101</span>
<span class="go">list a [2, 4]</span>
<span class="go">a.size 5</span>
<span class="go">len(a) 2</span>
<span class="go">a.limbs 1</span>
<span class="go">b 01110</span>
<span class="go">a.in(n)   True</span>
<span class="go">a.not_in(n)   False</span>
<span class="go">a.add(n)     00101</span>
<span class="go">a.discard(n)   00100</span>
<span class="go">a.set_to(n)  00101</span>
<span class="go">a.flip(n)    00100</span>
<span class="go">a.set_first_n(n)    11110</span>
<span class="go">a.first_in_complement()    4</span>
<span class="go">a.isempty()  False</span>
<span class="go">a.eq(b)      False</span>
<span class="go">a.cmp(b)     1</span>
<span class="go">a.lex_cmp(b) -1</span>
<span class="go">a.issubset(b) False</span>
<span class="go">a.issuperset(b) False</span>
<span class="go">a.copy()     00101</span>
<span class="go">r.clear()     00000</span>
<span class="go">complement a        11010</span>
<span class="go">a intersect b      00100</span>
<span class="go">a union b       01111</span>
<span class="go">a minus b      00001</span>
<span class="go">a symmetric_difference b      01011</span>
<span class="go">a.rshift(n)  10000</span>
<span class="go">a.lshift(n)  00000</span>
<span class="go">a.first()           2</span>
<span class="go">a.next(n)           4</span>
<span class="go">a.first_diff(b)     1</span>
<span class="go">a.next_diff(b, n)   4</span>
<span class="go">a.hamming_weight()  2</span>
<span class="go">a.map(m)  10100</span>
<span class="go">a == loads(dumps(a))  True</span>
<span class="go">reallocating a      00101</span>
<span class="go">to size 4          0010</span>
<span class="go">to size 8          00100000</span>
<span class="go">to original size    00100</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">test_bitset</span><span class="p">(</span><span class="s1">&#39;11101&#39;</span><span class="p">,</span> <span class="s1">&#39;11001&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">a 11101</span>
<span class="go">list a [0, 1, 2, 4]</span>
<span class="go">a.size 5</span>
<span class="go">len(a) 4</span>
<span class="go">a.limbs 1</span>
<span class="go">b 11001</span>
<span class="go">a.in(n)   True</span>
<span class="go">a.not_in(n)   False</span>
<span class="go">a.add(n)     11101</span>
<span class="go">a.discard(n)   11001</span>
<span class="go">a.set_to(n)  11101</span>
<span class="go">a.flip(n)    11001</span>
<span class="go">a.set_first_n(n)    11000</span>
<span class="go">a.first_in_complement()    2</span>
<span class="go">a.isempty()  False</span>
<span class="go">a.eq(b)      False</span>
<span class="go">a.cmp(b)     1</span>
<span class="go">a.lex_cmp(b) 1</span>
<span class="go">a.issubset(b) False</span>
<span class="go">a.issuperset(b) True</span>
<span class="go">a.copy()     11101</span>
<span class="go">r.clear()     00000</span>
<span class="go">complement a        00010</span>
<span class="go">a intersect b      11001</span>
<span class="go">a union b       11101</span>
<span class="go">a minus b      00100</span>
<span class="go">a symmetric_difference b      00100</span>
<span class="go">a.rshift(n)  10100</span>
<span class="go">a.lshift(n)  00111</span>
<span class="go">a.first()           0</span>
<span class="go">a.next(n)           2</span>
<span class="go">a.first_diff(b)     2</span>
<span class="go">a.next_diff(b, n)   2</span>
<span class="go">a.hamming_weight()  4</span>
<span class="go">a.map(m)  10111</span>
<span class="go">a == loads(dumps(a))  True</span>
<span class="go">reallocating a      11101</span>
<span class="go">to size 2          11</span>
<span class="go">to size 4          1100</span>
<span class="go">to original size    11000</span>
</pre></div>
</div>
<p>Test a corner-case: a bitset that is a multiple of words:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">test_bitset</span><span class="p">(</span><span class="s1">&#39;00&#39;</span><span class="o">*</span><span class="mi">64</span><span class="p">,</span> <span class="s1">&#39;01&#39;</span><span class="o">*</span><span class="mi">64</span><span class="p">,</span> <span class="mi">127</span><span class="p">)</span>
<span class="go">a 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">list a []</span>
<span class="go">a.size 128</span>
<span class="go">len(a) 0</span>
<span class="go">a.limbs ...</span>
<span class="go">b 01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101</span>
<span class="go">a.in(n)   False</span>
<span class="go">a.not_in(n)   True</span>
<span class="go">a.add(n)     00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001</span>
<span class="go">a.discard(n)   00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">a.set_to(n)  00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001</span>
<span class="go">a.flip(n)    00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001</span>
<span class="go">a.set_first_n(n)    11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110</span>
<span class="go">a.first_in_complement()    127</span>
<span class="go">a.isempty()  True</span>
<span class="go">a.eq(b)      False</span>
<span class="go">a.cmp(b)     -1</span>
<span class="go">a.lex_cmp(b) -1</span>
<span class="go">a.issubset(b) True</span>
<span class="go">a.issuperset(b) False</span>
<span class="go">a.copy()     00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">r.clear()     00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">complement a        11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111</span>
<span class="go">a intersect b      00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">a union b       01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101</span>
<span class="go">a minus b      00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">a symmetric_difference b      01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101</span>
<span class="go">a.rshift(n)  00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">a.lshift(n)  00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">a.first()           -1</span>
<span class="go">a.next(n)           -1</span>
<span class="go">a.first_diff(b)     1</span>
<span class="go">a.next_diff(b, n)   127</span>
<span class="go">a.hamming_weight()  0</span>
<span class="go">a.map(m)  00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">a == loads(dumps(a))  True</span>
<span class="go">rshifts add  True</span>
<span class="go">lshifts add  True</span>
<span class="go">intersection commutes True</span>
<span class="go">union commutes  True</span>
<span class="go">not not = id True</span>
<span class="go">flipped bit  127</span>
<span class="go">add bit      127</span>
<span class="go">discard bit    127</span>
<span class="go">lshift add unset ok True</span>
<span class="go">rshift set unset ok True</span>
<span class="go">reallocating a      00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">to size 127          0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">to size 254          00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">to original size    00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
</pre></div>
</div>
<p>Large enough to span multiple limbs.  We don&#8217;t explicitly check the number of limbs below because it will be different in the 32 bit versus 64 bit cases:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">test_bitset</span><span class="p">(</span><span class="s1">&#39;111001&#39;</span><span class="o">*</span><span class="mi">25</span><span class="p">,</span> <span class="n">RealField</span><span class="p">(</span><span class="mi">151</span><span class="p">)(</span><span class="n">pi</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="mi">2</span><span class="p">)[</span><span class="mi">2</span><span class="p">:],</span> <span class="mi">69</span><span class="p">)</span>
<span class="go">a 111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001</span>
<span class="go">list a [0, 1, 2, 5, 6, 7, 8, 11, 12, 13, 14, 17, 18, 19, 20, 23, 24, 25, 26, 29, 30, 31, 32, 35, 36, 37, 38, 41, 42, 43, 44, 47, 48, 49, 50, 53, 54, 55, 56, 59, 60, 61, 62, 65, 66, 67, 68, 71, 72, 73, 74, 77, 78, 79, 80, 83, 84, 85, 86, 89, 90, 91, 92, 95, 96, 97, 98, 101, 102, 103, 104, 107, 108, 109, 110, 113, 114, 115, 116, 119, 120, 121, 122, 125, 126, 127, 128, 131, 132, 133, 134, 137, 138, 139, 140, 143, 144, 145, 146, 149]</span>
<span class="go">a.size 150</span>
<span class="go">len(a) 100</span>
<span class="go">a.limbs ...</span>
<span class="go">b 000100100001111110110101010001000100001011010001100001000110100110001001100011001100010100010111000000011011100000111001101000100101001000000100100111</span>
<span class="go">a.in(n)   False</span>
<span class="go">a.not_in(n)   True</span>
<span class="go">a.add(n)     111001111001111001111001111001111001111001111001111001111001111001111101111001111001111001111001111001111001111001111001111001111001111001111001111001</span>
<span class="go">a.discard(n)   111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001</span>
<span class="go">a.set_to(n)  111001111001111001111001111001111001111001111001111001111001111001111101111001111001111001111001111001111001111001111001111001111001111001111001111001</span>
<span class="go">a.flip(n)    111001111001111001111001111001111001111001111001111001111001111001111101111001111001111001111001111001111001111001111001111001111001111001111001111001</span>
<span class="go">a.set_first_n(n)    111111111111111111111111111111111111111111111111111111111111111111111000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">a.first_in_complement()    69</span>
<span class="go">a.isempty()  False</span>
<span class="go">a.eq(b)      False</span>
<span class="go">a.cmp(b)     -1</span>
<span class="go">a.lex_cmp(b) 1</span>
<span class="go">a.issubset(b) False</span>
<span class="go">a.issuperset(b) False</span>
<span class="go">a.copy()     111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001</span>
<span class="go">r.clear()     000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">complement a        000110000110000110000110000110000110000110000110000110000110000110000110000110000110000110000110000110000110000110000110000110000110000110000110000110</span>
<span class="go">a intersect b      000000100001111000110001010001000000001001010001100001000000100000001001100001001000010000010001000000011001100000111001101000100001001000000000100001</span>
<span class="go">a union b       111101111001111111111101111001111101111011111001111001111111111111111001111011111101111101111111111001111011111001111001111001111101111001111101111111</span>
<span class="go">a minus b      111001011000000001001000101000111001110000101000011000111001011001110000011000110001101001101000111001100000011001000000010001011000110001111001011000</span>
<span class="go">a symmetric_difference b      111101011000000111001100101000111101110010101000011000111111011111110000011010110101101101101110111001100010011001000000010001011100110001111101011110</span>
<span class="go">a.rshift(n)  001111001111001111001111001111001111001111001111001111001111001111001111001111001000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">a.lshift(n)  000000000000000000000000000000000000000000000000000000000000000000000111001111001111001111001111001111001111001111001111001111001111001111001111001111</span>
<span class="go">a.first()           0</span>
<span class="go">a.next(n)           71</span>
<span class="go">a.first_diff(b)     0</span>
<span class="go">a.next_diff(b, n)   73</span>
<span class="go">a.hamming_weight()  100</span>
<span class="go">a.map(m)  100111100111100111100111100111100111100111100111100111100111100111100111100111100111100111100111100111100111100111100111100111100111100111100111100111</span>
<span class="go">a == loads(dumps(a))  True</span>
<span class="go">rshifts add  True</span>
<span class="go">lshifts add  True</span>
<span class="go">intersection commutes True</span>
<span class="go">union commutes  True</span>
<span class="go">not not = id True</span>
<span class="go">flipped bit  69</span>
<span class="go">add bit      69</span>
<span class="go">discard bit    69</span>
<span class="go">lshift add unset ok True</span>
<span class="go">rshift set unset ok True</span>
<span class="go">reallocating a      111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001111001</span>
<span class="go">to size 69          111001111001111001111001111001111001111001111001111001111001111001111</span>
<span class="go">to size 138          111001111001111001111001111001111001111001111001111001111001111001111000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="go">to original size    111001111001111001111001111001111001111001111001111001111001111001111000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.data_structures.bitset.test_bitset_pop">
<code class="descclassname">sage.data_structures.bitset.</code><code class="descname">test_bitset_pop</code><span class="sig-paren">(</span><em>py_a</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.test_bitset_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests for the bitset_pop function.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.data_structures.bitset</span> <span class="kn">import</span> <span class="n">test_bitset_pop</span>
<span class="gp">sage: </span><span class="n">test_bitset_pop</span><span class="p">(</span><span class="s1">&#39;0101&#39;</span><span class="p">)</span>
<span class="go">a.pop()   1</span>
<span class="go">new set:  0001</span>
<span class="gp">sage: </span><span class="n">test_bitset_pop</span><span class="p">(</span><span class="s1">&#39;0000&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">KeyError</span>: <span class="n">&#39;pop from an empty set&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.data_structures.bitset.test_bitset_remove">
<code class="descclassname">sage.data_structures.bitset.</code><code class="descname">test_bitset_remove</code><span class="sig-paren">(</span><em>py_a</em>, <em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.test_bitset_remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the bitset_remove function.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.data_structures.bitset</span> <span class="kn">import</span> <span class="n">test_bitset_remove</span>
<span class="gp">sage: </span><span class="n">test_bitset_remove</span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">KeyError</span>: <span class="n">0L</span>
<span class="gp">sage: </span><span class="n">test_bitset_remove</span><span class="p">(</span><span class="s1">&#39;01&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">a 01</span>
<span class="go">a.size 2</span>
<span class="go">a.limbs 1</span>
<span class="go">n 1</span>
<span class="go">a.remove(n)   00</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.data_structures.bitset.test_bitset_set_first_n">
<code class="descclassname">sage.data_structures.bitset.</code><code class="descname">test_bitset_set_first_n</code><span class="sig-paren">(</span><em>py_a</em>, <em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.test_bitset_set_first_n" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the bitset function set_first_n.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.data_structures.bitset</span> <span class="kn">import</span> <span class="n">test_bitset_set_first_n</span>
<span class="gp">sage: </span><span class="n">test_bitset_set_first_n</span><span class="p">(</span><span class="s1">&#39;00&#39;</span><span class="o">*</span><span class="mi">64</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
<span class="go">a.set_first_n(n)    11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.data_structures.bitset.test_bitset_unpickle">
<code class="descclassname">sage.data_structures.bitset.</code><code class="descname">test_bitset_unpickle</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.data_structures.bitset.test_bitset_unpickle" title="Permalink to this definition">¶</a></dt>
<dd><p>This (artificially) tests pickling of bitsets across systems.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">data</span></code> &#8211; A tuple of data as would be produced by the internal, Cython-only, method <code class="docutils literal"><span class="pre">bitset_pickle</span></code>.</li>
</ul>
<p>OUTPUT:</p>
<p>A list form of the bitset corresponding to the pickled data.</p>
<p>EXAMPLES:</p>
<p>We compare 64-bit and 32-bit encoding. Both should unpickle on any system:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.data_structures.bitset</span> <span class="kn">import</span> <span class="n">test_bitset_unpickle</span>
<span class="gp">sage: </span><span class="n">test_bitset_unpickle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="p">(</span><span class="mi">33</span><span class="p">,</span> <span class="mi">6001</span><span class="p">)))</span>
<span class="go">[0, 5, 64, 68, 69, 70, 72, 73, 74, 76]</span>
<span class="gp">sage: </span><span class="n">test_bitset_unpickle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="mi">33</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6001</span><span class="p">,</span> <span class="mi">0</span><span class="p">)))</span>
<span class="go">[0, 5, 64, 68, 69, 70, 72, 73, 74, 76]</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="../misc/binary_tree.html"
                                  title="previous chapter">Binary trees</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="bounded_integer_sequences.html"
                                  title="next chapter">Sequences of bounded integers</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/data_structures/bitset.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="bounded_integer_sequences.html" title="Sequences of bounded integers"
             >next</a> |</li>
        <li class="right" >
          <a href="../misc/binary_tree.html" title="Binary trees"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Data Structures</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005--2017, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>