<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Toric varieties &mdash; Sage Reference Manual v6.6: Schemes</title>
    
    <link rel="stylesheet" href="../../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '6.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.6: Schemes" href="../../../index.html" />
    <link rel="next" title="Fano toric varieties" href="fano_variety.html" />
    <link rel="prev" title="Points for products of projective spaces" href="../product_projective/point.html" />
    <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fano_variety.html" title="Fano toric varieties"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../product_projective/point.html" title="Points for products of projective spaces"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../../index.html">Schemes</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="toric-varieties">
<span id="sage-schemes-toric-variety"></span><h1>Toric varieties<a class="headerlink" href="#toric-varieties" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.schemes.toric.variety"></span><p>This module provides support for (normal) toric varieties, corresponding to
<a class="reference external" href="../../../../geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fans</span></tt></a>.
See also <a class="reference internal" href="fano_variety.html#module-sage.schemes.toric.fano_variety" title="sage.schemes.toric.fano_variety"><tt class="xref py py-mod docutils literal"><span class="pre">fano_variety</span></tt></a> for a more
restrictive class of (weak) Fano toric varieties.</p>
<p>An <strong>excellent reference on toric varieties</strong> is the book &#8220;Toric
Varieties&#8221; by David A. Cox, John B. Little, and Hal Schenck
<a class="reference internal" href="#cls" id="id1">[CLS]</a>.</p>
<p>The interface to this module is provided through functions
<a class="reference internal" href="#sage.schemes.toric.variety.AffineToricVariety" title="sage.schemes.toric.variety.AffineToricVariety"><tt class="xref py py-func docutils literal"><span class="pre">AffineToricVariety()</span></tt></a> and <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety" title="sage.schemes.toric.variety.ToricVariety"><tt class="xref py py-func docutils literal"><span class="pre">ToricVariety()</span></tt></a>, although you may
also be interested in <a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><tt class="xref py py-func docutils literal"><span class="pre">normalize_names()</span></tt></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We do NOT build &#8220;general toric varieties&#8221; from affine toric varieties.
Instead, we are using the quotient representation of toric varieties with
the homogeneous coordinate ring (a.k.a. Cox&#8217;s ring or the total coordinate
ring). This description works best for simplicial fans of the full
dimension.</p>
</div>
<p>REFERENCES:</p>
<table class="docutils citation" frame="void" id="cls" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[CLS]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id3">2</a>)</em> David A. Cox, John B. Little,  Hal Schenck,
&#8220;Toric Varieties&#8221;, Graduate Studies in Mathematics,
Amer. Math. Soc., Providence, RI, 2011</td></tr>
</tbody>
</table>
<p>AUTHORS:</p>
<ul class="simple">
<li>Andrey Novoseltsev (2010-05-17): initial version.</li>
<li>Volker Braun (2010-07-24): Cohomology and characteristic classes added.</li>
</ul>
<p>EXAMPLES:</p>
<p>We start with constructing the affine plane as an affine toric variety. First,
we need to have a corresponding cone:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">quadrant</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
</pre></div>
</div>
<p>If you don&#8217;t care about variable names and the base field, that&#8217;s all we need
for now:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A2</span> <span class="o">=</span> <span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">quadrant</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A2</span>
<span class="go">2-d affine toric variety</span>
<span class="gp">sage: </span><span class="n">origin</span> <span class="o">=</span> <span class="n">A2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">origin</span>
<span class="go">[0 : 0]</span>
</pre></div>
</div>
<p>Only affine toric varieties have points whose (homogeneous) coordinates
are all zero.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
<span class="go">Set of rational points of 2-d affine toric variety</span>
</pre></div>
</div>
<p>As you can see, by default toric varieties live over the field of rational
numbers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A2</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
</pre></div>
</div>
<p>While usually toric varieties are considered over the field of complex
numbers, for computational purposes it is more convenient to work with fields
that have exact representation on computers. You can also always do</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">C2</span> <span class="o">=</span> <span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">quadrant</span><span class="p">,</span> <span class="n">base_field</span><span class="o">=</span><span class="n">CC</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C2</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Complex Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">C2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="o">+</span><span class="n">i</span><span class="p">)</span>
<span class="go">[1.00000000000000 : 2.00000000000000 + 1.00000000000000*I]</span>
</pre></div>
</div>
<p>or even</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CC</span><span class="p">[</span><span class="s">&quot;a, b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">fraction_field</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">inject_variables</span><span class="p">()</span>
<span class="go">Defining a, b</span>
<span class="gp">sage: </span><span class="n">A2</span> <span class="o">=</span> <span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">quadrant</span><span class="p">,</span> <span class="n">base_field</span><span class="o">=</span><span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A2</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
<span class="go">[a : b]</span>
</pre></div>
</div>
<p>OK, if you need to work only with affine spaces,
<a class="reference internal" href="../affine/affine_space.html#sage.schemes.affine.affine_space.AffineSpace" title="sage.schemes.affine.affine_space.AffineSpace"><tt class="xref py py-func docutils literal"><span class="pre">AffineSpace()</span></tt></a> may be a better way to
construct them. Our next example is the product of two projective lines
realized as the toric variety associated to the
<a class="reference external" href="../../../../geometry/sage/geometry/fan.html#sage.geometry.fan.FaceFan" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-func docutils literal"><span class="pre">face</span> <span class="pre">fan</span></tt></a> of the &#8220;diamond&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">diamond</span> <span class="o">=</span> <span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">diamond</span><span class="o">.</span><span class="n">vertices_pc</span><span class="p">()</span>
<span class="go">M( 1,  0),</span>
<span class="go">M( 0,  1),</span>
<span class="go">M(-1,  0),</span>
<span class="go">M( 0, -1)</span>
<span class="go">in 2-d lattice M</span>
<span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">diamond</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span>
<span class="go">2-d toric variety covered by 4 affine patches</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">M( 1,  0),</span>
<span class="go">M( 0,  1),</span>
<span class="go">M(-1,  0),</span>
<span class="go">M( 0, -1)</span>
<span class="go">in 2-d lattice M</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(z0, z1, z2, z3)</span>
</pre></div>
</div>
<p>We got four coordinates - two for each of the projective lines, but their
names are perhaps not very well chosen. Let&#8217;s make <span class="math">\((x,y)\)</span> to be coordinates
on the first line and <span class="math">\((s,t)\)</span> on the second one:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="n">coordinate_names</span><span class="o">=</span><span class="s">&quot;x s y t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(x, s, y, t)</span>
</pre></div>
</div>
<p>Now, if we want to define subschemes of this variety, the defining polynomials
must be homogeneous in each of these pairs:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">inject_variables</span><span class="p">()</span>
<span class="go">Defining x, s, y, t</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">Closed subscheme of 2-d toric variety</span>
<span class="go">covered by 4 affine patches defined by:</span>
<span class="go">  x</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Closed subscheme of 2-d toric variety</span>
<span class="go">covered by 4 affine patches defined by:</span>
<span class="go">  x^2 + y^2</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">s</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">x^2 + s^2 is not homogeneous</span>
<span class="go">on 2-d toric variety covered by 4 affine patches!</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">s</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">t</span><span class="o">^</span><span class="mi">3</span><span class="p">])</span>
<span class="go">Closed subscheme of 2-d toric variety</span>
<span class="go">covered by 4 affine patches defined by:</span>
<span class="go">  x^2*s^2 + x*y*t^2 + y^2*t^2,</span>
<span class="go">  s^3 + t^3</span>
</pre></div>
</div>
<p>While we don&#8217;t build toric varieties from affine toric varieties, we still can
access the &#8220;building pieces&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">patch</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">patch</span>
<span class="go">2-d affine toric variety</span>
<span class="gp">sage: </span><span class="n">patch</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">M(1, 0),</span>
<span class="go">M(0, 1)</span>
<span class="go">in 2-d lattice M</span>
<span class="gp">sage: </span><span class="n">patch</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 2-d affine toric variety</span>
<span class="go">  To:   2-d toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined on coordinates by sending [x : s] to</span>
<span class="go">        [x : s : 1 : 1]</span>
</pre></div>
</div>
<p>The patch above was specifically chosen to coincide with our representation of
the affine plane before, but you can get the other three patches as well.
(While any cone of a fan will correspond to an affine toric variety, the main
interest is usually in the generating fans as &#8220;the biggest&#8221; affine
subvarieties, and these are precisely the patches that you can get from
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.affine_patch" title="sage.schemes.toric.variety.ToricVariety_field.affine_patch"><tt class="xref py py-meth docutils literal"><span class="pre">affine_patch()</span></tt></a>.)</p>
<p>All two-dimensional toric varieties are &#8220;quite nice&#8221; because any
two-dimensional cone is generated by exactly two rays. From the point of view
of the corresponding toric varieties, this means that they have at worst
quotient singularities:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">NormalFan</span><span class="p">(</span><span class="n">diamond</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">N(-1,  1),</span>
<span class="go">N( 1,  1),</span>
<span class="go">N(-1, -1),</span>
<span class="go">N( 1, -1)</span>
<span class="go">in 2-d lattice N</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>In higher dimensions worse things can happen:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">TV3</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">NormalFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">TV3</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">N(-1, -1,  1),</span>
<span class="go">N( 1, -1,  1),</span>
<span class="go">N(-1,  1,  1),</span>
<span class="go">N( 1,  1,  1),</span>
<span class="go">N(-1, -1, -1),</span>
<span class="go">N( 1, -1, -1),</span>
<span class="go">N(-1,  1, -1),</span>
<span class="go">N( 1,  1, -1)</span>
<span class="go">in 3-d lattice N</span>
<span class="gp">sage: </span><span class="n">TV3</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Fortunately, we can perform a (partial) resolution:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">TV3_res</span> <span class="o">=</span> <span class="n">TV3</span><span class="o">.</span><span class="n">resolve_to_orbifold</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">TV3_res</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV3_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">12</span>
<span class="gp">sage: </span><span class="n">TV3</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">6</span>
</pre></div>
</div>
<p>In this example we had to double the number of affine patches. The result is
still singular:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">TV3_res</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>You can resolve it further using <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.resolve" title="sage.schemes.toric.variety.ToricVariety_field.resolve"><tt class="xref py py-meth docutils literal"><span class="pre">resolve()</span></tt></a> method,
but (at least for now) you will have to specify which rays should be inserted
into the fan. See also
<a class="reference internal" href="fano_variety.html#sage.schemes.toric.fano_variety.CPRFanoToricVariety" title="sage.schemes.toric.fano_variety.CPRFanoToricVariety"><tt class="xref py py-func docutils literal"><span class="pre">CPRFanoToricVariety()</span></tt></a>,
which can construct some other &#8220;nice partial resolutions.&#8221;</p>
<p>The intersection theory on toric varieties is very well understood,
and there are explicit algorithms to compute many quantities of
interest. The most important tools are the <a class="reference internal" href="#sage.schemes.toric.variety.CohomologyRing" title="sage.schemes.toric.variety.CohomologyRing"><tt class="xref py py-class docutils literal"><span class="pre">cohomology</span> <span class="pre">ring</span></tt></a> and the <a class="reference internal" href="chow_group.html#module-sage.schemes.toric.chow_group" title="sage.schemes.toric.chow_group"><tt class="xref py py-mod docutils literal"><span class="pre">Chow</span> <span class="pre">group</span></tt></a>. For <span class="math">\(d\)</span>-dimensional compact
toric varieties with at most orbifold singularities, the rational
cohomology ring <span class="math">\(H^*(X,\QQ)\)</span> and the rational Chow ring <span class="math">\(A^*(X,\QQ) =
A_{d-*}(X)\otimes \QQ\)</span> are isomorphic except for a doubling in
degree. More precisely, the Chow group has the same rank</p>
<blockquote>
<div><div class="math">
\[A_{d-k}(X) \otimes \QQ \simeq H^{2k}(X,\QQ)\]</div>
</div></blockquote>
<p>and the intersection in of Chow cycles matches the cup product in
cohomology.</p>
<p>In this case, you should work with the cohomology ring description
because it is much faster. For example, here is a weighted projective
space with a curve of <span class="math">\(\ZZ_3\)</span>-orbifold singularities:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P4_11133</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P4_11133</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P4_11133</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">(),</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">(False, True)</span>
<span class="gp">sage: </span><span class="n">cone</span> <span class="o">=</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">3</span><span class="p">)[</span><span class="mi">8</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">cone</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">(),</span> <span class="n">cone</span><span class="o">.</span><span class="n">is_simplicial</span><span class="p">()</span>
<span class="go">(False, True)</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">();</span>  <span class="n">HH</span>
<span class="go">Rational cohomology ring of a 4-d CPR-Fano toric variety covered by 5 affine patches</span>
<span class="gp">sage: </span><span class="n">P4_11133</span><span class="o">.</span><span class="n">cohomology_basis</span><span class="p">()</span>
<span class="go">(([1],), ([z4],), ([z4^2],), ([z4^3],), ([z4^4],))</span>
</pre></div>
</div>
<p>Every cone defines a torus orbit closure, and hence a (co)homology class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">HH</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">([3*z4], [3*z4], [z4], [z4], [z4])</span>
<span class="gp">sage: </span><span class="nb">map</span><span class="p">(</span><span class="n">HH</span><span class="p">,</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[[3*z4], [3*z4], [z4], [z4], [z4]]</span>
<span class="gp">sage: </span><span class="nb">map</span><span class="p">(</span><span class="n">HH</span><span class="p">,</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="p">)</span>
<span class="go">[[9*z4^4], [9*z4^4], [9*z4^4], [9*z4^4], [9*z4^4]]</span>
<span class="gp">sage: </span><span class="n">HH</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span>
<span class="go">[3*z4^3]</span>
</pre></div>
</div>
<p>We can compute intersection numbers by integrating top-dimensional
cohomology classes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">HH</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="go">[3*z4]</span>
<span class="gp">sage: </span><span class="n">P4_11133</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">HH</span><span class="p">(</span><span class="n">D</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span> <span class="p">)</span>
<span class="go">9</span>
<span class="gp">sage: </span><span class="n">P4_11133</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">HH</span><span class="p">(</span><span class="n">D</span><span class="p">)</span> <span class="o">*</span> <span class="n">HH</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span> <span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Although computationally less efficient, we can do the same
computations with the rational Chow group:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">AA</span> <span class="o">=</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">Chow_group</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">map</span><span class="p">(</span><span class="n">AA</span><span class="p">,</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>  <span class="c"># long time (5s on sage.math, 2012)</span>
<span class="go">[( 0 | 0 | 0 | 3 | 0 ), ( 0 | 0 | 0 | 3 | 0 ), ( 0 | 0 | 0 | 1 | 0 ), ( 0 | 0 | 0 | 1 | 0 ), ( 0 | 0 | 0 | 1 | 0 )]</span>
<span class="gp">sage: </span><span class="nb">map</span><span class="p">(</span><span class="n">AA</span><span class="p">,</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>  <span class="c"># long time (5s on sage.math, 2012)</span>
<span class="go">[( 1 | 0 | 0 | 0 | 0 ), ( 1 | 0 | 0 | 0 | 0 ), ( 1 | 0 | 0 | 0 | 0 ), ( 1 | 0 | 0 | 0 | 0 ), ( 1 | 0 | 0 | 0 | 0 )]</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span><span class="o">.</span><span class="n">intersection_with_divisor</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>  <span class="c"># long time (4s on sage.math, 2013)</span>
<span class="go">( 1 | 0 | 0 | 0 | 0 )</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span><span class="o">.</span><span class="n">intersection_with_divisor</span><span class="p">(</span><span class="n">D</span><span class="p">)</span><span class="o">.</span><span class="n">count_points</span><span class="p">()</span>  <span class="c"># long time</span>
<span class="go">1</span>
</pre></div>
</div>
<p>The real advantage of the Chow group is that</p>
<blockquote>
<div><ul class="simple">
<li>it works just as well over <span class="math">\(\ZZ\)</span>, so torsion information is also
easily available, and</li>
<li>its combinatorial description also works over worse-than-orbifold
singularities. By contrast, the cohomology groups can become very
complicated to compute in this case, and one usually only has a
spectral sequence but no toric algorithm.</li>
</ul>
</div></blockquote>
<p>Below you will find detailed descriptions of available functions. If you are
familiar with toric geometry, you will likely see that many important objects
and operations are unavailable. However, this module is under active
development and hopefully will improve in future releases of Sage. If there
are some particular features that you would like to see implemented ASAP,
please consider reporting them to the Sage Development Team or even
implementing them on your own as a patch for inclusion!</p>
<dl class="function">
<dt id="sage.schemes.toric.variety.AffineToricVariety">
<tt class="descclassname">sage.schemes.toric.variety.</tt><tt class="descname">AffineToricVariety</tt><big>(</big><em>cone</em>, <em>*args</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.AffineToricVariety" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an affine toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">cone</span></tt> &#8211; <a class="reference external" href="../../../../geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">strictly</span> <span class="pre">convex</span> <span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">cone</span></tt></a>.</li>
</ul>
<p>This cone will be used to construct a <a class="reference external" href="../../../../geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fan</span></tt></a>, which will be passed to
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety" title="sage.schemes.toric.variety.ToricVariety"><tt class="xref py py-func docutils literal"><span class="pre">ToricVariety()</span></tt></a> with the rest of positional and keyword arguments.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The generating rays of the fan of this variety are guaranteed to be
listed in the same order as the rays of the original cone.</p>
</div>
<p>EXAMPLES:</p>
<p>We will create the affine plane as an affine toric variety:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">quadrant</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">A2</span> <span class="o">=</span> <span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">quadrant</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">origin</span> <span class="o">=</span> <span class="n">A2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">origin</span>
<span class="go">[0 : 0]</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
<span class="go">Set of rational points of 2-d affine toric variety</span>
</pre></div>
</div>
<p>Only affine toric varieties have points whose (homogeneous) coordinates
are all zero.</p>
</dd></dl>

<dl class="class">
<dt id="sage.schemes.toric.variety.CohomologyClass">
<em class="property">class </em><tt class="descclassname">sage.schemes.toric.variety.</tt><tt class="descname">CohomologyClass</tt><big>(</big><em>cohomology_ring</em>, <em>representative</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../rings/sage/rings/quotient_ring_element.html#sage.rings.quotient_ring_element.QuotientRingElement" title="(in Sage Reference Manual: General Rings, Ideals, and Morphisms v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">sage.rings.quotient_ring_element.QuotientRingElement</span></tt></a></p>
<p>An element of the <a class="reference internal" href="#sage.schemes.toric.variety.CohomologyRing" title="sage.schemes.toric.variety.CohomologyRing"><tt class="xref py py-class docutils literal"><span class="pre">CohomologyRing</span></tt></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You should not create instances of this class manually. The
generators of the cohomology ring as well as the cohomology
classes associated to cones of the fan can be obtained from
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_ring" title="sage.schemes.toric.variety.ToricVariety_field.cohomology_ring"><tt class="xref py py-meth docutils literal"><span class="pre">ToricVariety_field.cohomology_ring()</span></tt></a>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[z]</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[z]</span>
<span class="gp">sage: </span><span class="n">cone</span> <span class="o">=</span> <span class="n">P2</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>  <span class="n">HH</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span>
<span class="go">[z]</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.schemes.toric.variety.CohomologyClass.deg">
<tt class="descname">deg</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyClass.deg" title="Permalink to this definition">¶</a></dt>
<dd><p>The degree of the cohomology class.</p>
<p>OUTPUT:</p>
<p>An integer <span class="math">\(d\)</span> such that the cohomology class is in degree
<span class="math">\(2d\)</span>. If the cohomology class is of mixed degree, the highest
degree is returned.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">deg</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">zero</span><span class="p">()</span><span class="o">.</span><span class="n">deg</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.CohomologyClass.exp">
<tt class="descname">exp</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyClass.exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponentiate <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The exponential <span class="math">\(\exp(x)\)</span> of a rational number <span class="math">\(x\)</span> is
usually not rational. Therefore, the cohomology class must
not have a constant (degree zero) part. The coefficients
in the Taylor series of <span class="math">\(\exp\)</span> are rational, so any
cohomology class without constant term can be
exponentiated.</p>
</div>
<p>OUTPUT</p>
<p>The cohomology class <span class="math">\(\exp(\)</span> <tt class="docutils literal"><span class="pre">self</span></tt> <span class="math">\()\)</span> if the constant part
vanishes, otherwise a <tt class="docutils literal"><span class="pre">ValueError</span></tt> is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">H_class</span> <span class="o">=</span> <span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">H_class</span>
<span class="go">[z]</span>
<span class="gp">sage: </span><span class="n">H_class</span><span class="o">.</span><span class="n">exp</span><span class="p">()</span>
<span class="go">[1/2*z^2 + z + 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.CohomologyClass.part_of_degree">
<tt class="descname">part_of_degree</tt><big>(</big><em>d</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyClass.part_of_degree" title="Permalink to this definition">¶</a></dt>
<dd><p>Project the (mixed-degree) cohomology class to the given degree.</p>
<div class="math">
\[\mathop{pr}\nolimits_d:~ H^\bullet(X_\Delta,\QQ) \to H^{2d}(X_\Delta,\QQ)\]</div>
<p>INPUT:</p>
<ul class="simple">
<li>An integer <tt class="docutils literal"><span class="pre">d</span></tt></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>The degree-<tt class="docutils literal"><span class="pre">2d</span></tt> part of the cohomology class.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="mi">3</span><span class="o">*</span><span class="n">t</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">t</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span>
<span class="go">[t*y + 4*t + y + 1]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">t</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">t</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">part_of_degree</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[4*t + y]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.schemes.toric.variety.CohomologyRing">
<em class="property">class </em><tt class="descclassname">sage.schemes.toric.variety.</tt><tt class="descname">CohomologyRing</tt><big>(</big><em>variety</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyRing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../rings/sage/rings/quotient_ring.html#sage.rings.quotient_ring.QuotientRing_generic" title="(in Sage Reference Manual: General Rings, Ideals, and Morphisms v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">sage.rings.quotient_ring.QuotientRing_generic</span></tt></a>, <a class="reference external" href="../../../../structure/sage/structure/unique_representation.html#sage.structure.unique_representation.UniqueRepresentation" title="(in Sage Reference Manual: Basic Structures v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.unique_representation.UniqueRepresentation</span></tt></a></p>
<p>The (even) cohomology ring of a toric variety.</p>
<p>Irregardles of the variety&#8217;s base ring, we always work with the
variety over <span class="math">\(\CC\)</span> and its topology.</p>
<p>The cohomology is always the singular cohomology with
<span class="math">\(\QQ\)</span>-coefficients. Note, however, that the cohomology of smooth
toric varieties is torsion-free, so there is no loss of
information in that case.</p>
<p>Currently, the toric variety must not be &#8220;too singular&#8221;.  See
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_ring" title="sage.schemes.toric.variety.ToricVariety_field.cohomology_ring"><tt class="xref py py-meth docutils literal"><span class="pre">ToricVariety_field.cohomology_ring()</span></tt></a> for a detailed
description of which toric varieties are admissible. For such
varieties the odd-dimensional cohomology groups vanish.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You should not create instances of this class manually. Use
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_ring" title="sage.schemes.toric.variety.ToricVariety_field.cohomology_ring"><tt class="xref py py-meth docutils literal"><span class="pre">ToricVariety_field.cohomology_ring()</span></tt></a> to generate the
cohomology ring.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">variety</span></tt> &#8211; a toric variety. Currently, the toric variety
must be at least an orbifold. See
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_ring" title="sage.schemes.toric.variety.ToricVariety_field.cohomology_ring"><tt class="xref py py-meth docutils literal"><span class="pre">ToricVariety_field.cohomology_ring()</span></tt></a> for a detailed
description of which toric varieties are admissible.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="go">Rational cohomology ring of a 2-d CPR-Fano toric variety covered by 3 affine patches</span>
</pre></div>
</div>
<p>This is equivalent to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.schemes.toric.variety</span> <span class="kn">import</span> <span class="n">CohomologyRing</span>
<span class="gp">sage: </span><span class="n">CohomologyRing</span><span class="p">(</span><span class="n">P2</span><span class="p">)</span>
<span class="go">Rational cohomology ring of a 2-d CPR-Fano toric variety covered by 3 affine patches</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.schemes.toric.variety.CohomologyRing.gen">
<tt class="descname">gen</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyRing.gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the generators of the cohomology ring.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">i</span></tt> &#8211; integer.</li>
</ul>
<p>OUTPUT:</p>
<p>The <tt class="docutils literal"><span class="pre">i</span></tt>-th generator of the cohomology ring. If we denote
the toric variety by <tt class="docutils literal"><span class="pre">X</span></tt>, then this generator is
associated to the ray <tt class="docutils literal"><span class="pre">X.fan().ray(i)</span></tt>, which spans the
one-cone <tt class="docutils literal"><span class="pre">X.fan(1)[i]</span></tt></p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[z]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.CohomologyRing.gens">
<tt class="descname">gens</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyRing.gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the generators of the cohomology ring.</p>
<p>OUTPUT:</p>
<p>A tuple of generators, one for each toric divisor of the toric
variety <tt class="docutils literal"><span class="pre">X</span></tt>. The order is the same as the ordering of the
rays of the fan <tt class="docutils literal"><span class="pre">X.fan().rays()</span></tt>, which is also the same as
the ordering of the one-cones in <tt class="docutils literal"><span class="pre">X.fan(1)</span></tt></p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">([z], [z], [z])</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.schemes.toric.variety.ToricVariety">
<tt class="descclassname">sage.schemes.toric.variety.</tt><tt class="descname">ToricVariety</tt><big>(</big><em>fan</em>, <em>coordinate_names=None</em>, <em>names=None</em>, <em>coordinate_indices=None</em>, <em>base_ring=Rational Field</em>, <em>base_field=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">fan</span></tt> &#8211; <a class="reference external" href="../../../../geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fan</span></tt></a>;</li>
<li><tt class="docutils literal"><span class="pre">coordinate_names</span></tt> &#8211; names of variables for the coordinate ring, see
<a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><tt class="xref py py-func docutils literal"><span class="pre">normalize_names()</span></tt></a> for acceptable formats. If not given, indexed
variable names will be created automatically;</li>
<li><tt class="docutils literal"><span class="pre">names</span></tt> &#8211; an alias of <tt class="docutils literal"><span class="pre">coordinate_names</span></tt> for internal
use. You may specify either <tt class="docutils literal"><span class="pre">names</span></tt> or <tt class="docutils literal"><span class="pre">coordinate_names</span></tt>,
but not both;</li>
<li><tt class="docutils literal"><span class="pre">coordinate_indices</span></tt> &#8211; list of integers, indices for indexed
variables. If not given, the index of each variable will coincide with
the index of the corresponding ray of the fan;</li>
<li><tt class="docutils literal"><span class="pre">base_ring</span></tt> &#8211; base ring of the toric variety (default:
<span class="math">\(\QQ\)</span>). Must be a field.</li>
<li><tt class="docutils literal"><span class="pre">base_field</span></tt> &#8211; alias for <tt class="docutils literal"><span class="pre">base_ring</span></tt>. Takes precedence if
both are specified.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a>.</li>
</ul>
<p>EXAMPLES:</p>
<p>We will create the product of two projective lines:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">fan</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">M( 1,  0),</span>
<span class="go">M( 0,  1),</span>
<span class="go">M(-1,  0),</span>
<span class="go">M( 0, -1)</span>
<span class="go">in 2-d lattice M</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(z0, z1, z2, z3)</span>
</pre></div>
</div>
<p>Let&#8217;s create some points:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1 : 1 : 1 : 1]</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[0 : 1 : 1 : 1]</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">coordinates (0, 1, 0, 1)</span>
<span class="go">are in the exceptional set!</span>
</pre></div>
</div>
<p>We cannot set to zero both coordinates of the same projective line!</p>
<p>Let&#8217;s change the names of the variables. We have to re-create our toric
variety:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="s">&quot;x s y t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(x, s, y, t)</span>
</pre></div>
</div>
<p>Now <span class="math">\((x, y)\)</span> correspond to one line and <span class="math">\((s, t)\)</span> to the other one.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">inject_variables</span><span class="p">()</span>
<span class="go">Defining x, s, y, t</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">s</span><span class="o">-</span><span class="n">y</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
<span class="go">Closed subscheme of 2-d toric variety</span>
<span class="go">covered by 4 affine patches defined by:</span>
<span class="go">  x*s - y*t</span>
</pre></div>
</div>
<p>Here is a shorthand for defining the toric variety and homogeneous
coordinates in one go:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">c</span><span class="o">+</span><span class="n">d</span><span class="p">)</span>
<span class="go">a^2*c + b^2*c + a^2*d + b^2*d</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.schemes.toric.variety.ToricVariety_field">
<em class="property">class </em><tt class="descclassname">sage.schemes.toric.variety.</tt><tt class="descname">ToricVariety_field</tt><big>(</big><em>fan</em>, <em>coordinate_names</em>, <em>coordinate_indices</em>, <em>base_field</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../misc/sage/misc/cachefunc.html#sage.misc.cachefunc.ClearCacheOnPickle" title="(in Sage Reference Manual: Miscellaneous v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">sage.misc.cachefunc.ClearCacheOnPickle</span></tt></a>, <a class="reference internal" href="../generic/ambient_space.html#sage.schemes.generic.ambient_space.AmbientSpace" title="sage.schemes.generic.ambient_space.AmbientSpace"><tt class="xref py py-class docutils literal"><span class="pre">sage.schemes.generic.ambient_space.AmbientSpace</span></tt></a></p>
<p>Construct a toric variety associated to a rational polyhedral fan.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This class does not perform any checks of correctness of input. Use
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety" title="sage.schemes.toric.variety.ToricVariety"><tt class="xref py py-func docutils literal"><span class="pre">ToricVariety()</span></tt></a> and <a class="reference internal" href="#sage.schemes.toric.variety.AffineToricVariety" title="sage.schemes.toric.variety.AffineToricVariety"><tt class="xref py py-func docutils literal"><span class="pre">AffineToricVariety()</span></tt></a> to construct toric
varieties.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">fan</span></tt> &#8211; <a class="reference external" href="../../../../geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fan</span></tt></a>;</li>
<li><tt class="docutils literal"><span class="pre">coordinate_names</span></tt> &#8211; names of variables, see <a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><tt class="xref py py-func docutils literal"><span class="pre">normalize_names()</span></tt></a>
for acceptable formats. If <tt class="docutils literal"><span class="pre">None</span></tt>, indexed variable names will be
created automatically;</li>
<li><tt class="docutils literal"><span class="pre">coordinate_indices</span></tt> &#8211; list of integers, indices for indexed
variables. If <tt class="docutils literal"><span class="pre">None</span></tt>, the index of each variable will coincide with
the index of the corresponding ray of the fan;</li>
<li><tt class="docutils literal"><span class="pre">base_field</span></tt> &#8211; base field of the toric variety.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a>.</li>
</ul>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Aut_dimension">
<tt class="descname">Aut_dimension</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Aut_dimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dimension of the automorphism group</p>
<p>There are three kinds of symmetries of toric varieties:</p>
<blockquote>
<div><ul class="simple">
<li>Toric automorphisms (rescaling of homogeneous coordinates)</li>
<li>Demazure roots. These are translations <span class="math">\(x_i \to x_i +
\epsilon x^m\)</span> of a homogeneous coordinate <span class="math">\(x_i\)</span> by a
monomial <span class="math">\(x^m\)</span> of the same homogeneous degree.</li>
<li>Symmetries of the fan. These yield discrete subgroups.</li>
</ul>
</div></blockquote>
<p>OUTPUT:</p>
<p>An integer. The dimension of the automorphism group. Equals
the dimension of the <span class="math">\(M\)</span>-lattice plus the number of Demazure
roots.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">Aut_dimension</span><span class="p">()</span>
<span class="go">8</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">A1</span><span class="p">()</span><span class="o">.</span><span class="n">Aut_dimension</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">NotImplementedError</span>: <span class="n-Identifier">Aut_dimension() is only implemented for complete toric varieties.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Chern_character">
<tt class="descname">Chern_character</tt><big>(</big><em>deg=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Chern_character" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Chern character (of the tangent bundle) of the toric
variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">deg</span></tt> &#8211; integer (optional). The degree of the Chern
character.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>If the degree is specified, the degree-<tt class="docutils literal"><span class="pre">deg</span></tt> part of the
Chern character.</li>
<li>If no degree is specified, the total Chern character.</li>
</ul>
<p>REFERENCES:</p>
<blockquote>
<div><a class="reference external" href="http://en.wikipedia.org/wiki/Chern_character#The_Chern_character">http://en.wikipedia.org/wiki/Chern_character#The_Chern_character</a></div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Chern_character</span><span class="p">()</span>
<span class="go">[3*w^2 + y + 2*v + 2*z + w + 2]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">ch</span><span class="p">()</span>
<span class="go">[3*w^2 + y + 2*v + 2*z + w + 2]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">ch</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">dP6</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Chern_class">
<tt class="descname">Chern_class</tt><big>(</big><em>deg=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Chern_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Chern classes of the (tangent bundle of the) toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">deg</span></tt> &#8211; integer (optional). The degree of the Chern class.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>If the degree is specified, the <tt class="docutils literal"><span class="pre">deg</span></tt>-th Chern class.</li>
<li>If no degree is specified, the total Chern class.</li>
</ul>
<p>REFERENCES:</p>
<blockquote>
<div><a class="reference external" href="http://en.wikipedia.org/wiki/Chern_class">http://en.wikipedia.org/wiki/Chern_class</a></div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">Chern_class</span><span class="p">()</span>
<span class="go">[-6*w^2 + y + 2*v + 2*z + w + 1]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">()</span>
<span class="go">[-6*w^2 + y + 2*v + 2*z + w + 1]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[y + 2*v + 2*z + w]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[-6*w^2]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span> <span class="o">==</span> <span class="n">X</span><span class="o">.</span><span class="n">Euler_number</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Chow_group">
<tt class="descname">Chow_group</tt><big>(</big><em>base_ring=Integer Ring</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Chow_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the toric Chow group.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">base_ring</span></tt> &#8211; either <tt class="docutils literal"><span class="pre">ZZ</span></tt> (default) or <tt class="docutils literal"><span class="pre">QQ</span></tt>. The
coefficient ring of the Chow group.</li>
</ul>
<p>OUTPUT:</p>
<p>A <a class="reference internal" href="chow_group.html#sage.schemes.toric.chow_group.ChowGroup_class" title="sage.schemes.toric.chow_group.ChowGroup_class"><tt class="xref py py-class docutils literal"><span class="pre">sage.schemes.toric.chow_group.ChowGroup_class</span></tt></a></p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span><span class="o">.</span><span class="n">Chow_group</span><span class="p">();</span> <span class="n">A</span>
<span class="go">Chow group of 2-d CPR-Fano toric variety covered by 3 affine patches</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(( 1 | 0 | 0 ), ( 0 | 1 | 0 ), ( 0 | 0 | 1 ))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Demazure_roots">
<tt class="descname">Demazure_roots</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Demazure_roots" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Demazure roots.</p>
<p>OUTPUT:</p>
<p>The roots as points of the <span class="math">\(M\)</span>-lattice.</p>
<p>REFERENCES:</p>
<table class="docutils citation" frame="void" id="demazure" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Demazure]</td><td>M. Demazure
Sous-groupes algébriques de rang maximum du groupe de Cremona.
Ann. Sci. Ecole Norm. Sup. 1970, 3, 507–588.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="bazhov" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[Bazhov]</a></td><td>Ivan Bazhov:
On orbits of the automorphism group on a complete toric variety.
<a class="reference external" href="http://arxiv.org/abs/1110.4275">Arxiv 1110.4275</a>,
<a class="reference external" href="http://dx.doi.org/10.1007/s13366-011-0084-0">doi:10.1007/s13366-011-0084-0</a>.</td></tr>
</tbody>
</table>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span>
<span class="go">(M(-1, 0), M(-1, 1), M(0, -1), M(0, 1), M(1, -1), M(1, 0))</span>
</pre></div>
</div>
<p>Here are the remaining three examples listed in <a class="reference internal" href="#bazhov" id="id2">[Bazhov]</a>, Example 2.1 and 2.3:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">cones</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">Hs</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">Fan</span><span class="p">(</span><span class="n">rays</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">s</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">cones</span><span class="o">=</span><span class="n">cones</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">Hs</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span>
<span class="go">(M(-1, 0), M(1, 0), M(0, 1), M(1, 1), M(2, 1), M(3, 1))</span>

<span class="gp">sage: </span><span class="n">P11s</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">Fan</span><span class="p">(</span><span class="n">rays</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">s</span><span class="p">)],</span> <span class="n">cones</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)]))</span>
<span class="gp">sage: </span><span class="n">P11s</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span>
<span class="go">(M(-1, 0), M(1, 0), M(0, 1), M(1, 1), M(2, 1), M(3, 1))</span>
<span class="gp">sage: </span><span class="n">P11s</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span> <span class="o">==</span> <span class="n">Hs</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">Bs</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">Fan</span><span class="p">(</span><span class="n">rays</span><span class="o">=</span><span class="p">[(</span><span class="n">s</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="n">s</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="o">-</span><span class="n">s</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="o">-</span><span class="n">s</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">cones</span><span class="o">=</span><span class="n">cones</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">Bs</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span>
<span class="go">()</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">A1</span><span class="p">()</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">NotImplementedError</span>: <span class="n-Identifier">Demazure_roots() is only implemented for complete toric varieties.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Euler_number">
<tt class="descname">Euler_number</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Euler_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the topological Euler number of the toric variety.</p>
<p>Sometimes, this is also called the Euler
characteristic. <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.chi" title="sage.schemes.toric.variety.ToricVariety_field.chi"><tt class="xref py py-meth docutils literal"><span class="pre">chi()</span></tt></a> is a synonym for
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.Euler_number" title="sage.schemes.toric.variety.ToricVariety_field.Euler_number"><tt class="xref py py-meth docutils literal"><span class="pre">Euler_number()</span></tt></a>.</p>
<p>REFERENCES:</p>
<blockquote>
<div><a class="reference external" href="http://en.wikipedia.org/wiki/Euler_characteristic">http://en.wikipedia.org/wiki/Euler_characteristic</a></div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">Euler_number</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">chi</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.K">
<tt class="descname">K</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.K" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the canonical divisor of the toric variety.</p>
<p>EXAMPLES:</p>
<p>Lets test that the del Pezzo surface <span class="math">\(dP_6\)</span> has degree 6, as its name implies:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">dP6</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">K</span><span class="p">()</span>
<span class="go">-V(x) - V(u) - V(y) - V(v) - V(z) - V(w)</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">HH</span><span class="p">(</span><span class="n">dP6</span><span class="o">.</span><span class="n">K</span><span class="p">())</span><span class="o">^</span><span class="mi">2</span> <span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Kaehler_cone">
<tt class="descname">Kaehler_cone</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Kaehler_cone" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the closure of the Kähler cone of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><a class="reference external" href="../../../../geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">cone</span></tt></a>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This cone sits in the rational divisor class group of <tt class="docutils literal"><span class="pre">self</span></tt> and
the choice of coordinates agrees with
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.rational_class_group" title="sage.schemes.toric.variety.ToricVariety_field.rational_class_group"><tt class="xref py py-meth docutils literal"><span class="pre">rational_class_group()</span></tt></a>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Kc</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">Kaehler_cone</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Kc</span>
<span class="go">2-d cone in 2-d lattice</span>
<span class="gp">sage: </span><span class="n">Kc</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">Divisor class [0, 1],</span>
<span class="go">Divisor class [1, 0]</span>
<span class="go">in Basis lattice of The toric rational divisor class group</span>
<span class="go">of a 2-d CPR-Fano toric variety covered by 4 affine patches</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">divisor_class</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span> <span class="k">for</span> <span class="n">divisor_class</span> <span class="ow">in</span> <span class="n">Kc</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[V(x), V(s)]</span>
<span class="gp">sage: </span><span class="n">Kc</span><span class="o">.</span><span class="n">lattice</span><span class="p">()</span>
<span class="go">Basis lattice of The toric rational divisor class group of a</span>
<span class="go">2-d CPR-Fano toric variety covered by 4 affine patches</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Mori_cone">
<tt class="descname">Mori_cone</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Mori_cone" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Mori cone of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><a class="reference external" href="../../../../geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">cone</span></tt></a>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The Mori cone is dual to the Kähler cone.</li>
<li>We think of the Mori cone as living inside the row span of the
Gale transform matrix (computed by
<tt class="docutils literal"><span class="pre">self.fan().Gale_transform()</span></tt>).</li>
<li>The points in the Mori cone are the effective curves in the
variety.</li>
<li>The <tt class="docutils literal"><span class="pre">i</span></tt>-th entry in each Mori vector is the intersection
number of the curve corresponding to the generator of the
<tt class="docutils literal"><span class="pre">i</span></tt>-th ray of the fan with the corresponding divisor class.
The very last entry is associated to the orgin of the fan
lattice.</li>
<li>The Mori vectors are also known as the gauged linear sigma model
charge vectors.</li>
</ul>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P4_11169</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P4_11169_resolved</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P4_11169</span><span class="o">.</span><span class="n">Mori_cone</span><span class="p">()</span>
<span class="go">2-d cone in 7-d lattice</span>
<span class="gp">sage: </span><span class="n">P4_11169</span><span class="o">.</span><span class="n">Mori_cone</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">(3, 2, 0, 0, 0,  1, -6),</span>
<span class="go">(0, 0, 1, 1, 1, -3,  0)</span>
<span class="go">in Ambient free module of rank 7</span>
<span class="go">over the principal ideal domain Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Spec">
<tt class="descname">Spec</tt><big>(</big><em>cone=None</em>, <em>names=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the spectrum associated to the dual cone.</p>
<p>Let <span class="math">\(\sigma \in N_\RR\)</span> be a cone and <span class="math">\(\sigma^\vee \cap M\)</span> the
associated semigroup of lattice points in the dual cone. Then</p>
<div class="math">
\[S = \CC[\sigma^\vee \cap M]\]</div>
<p>is a <span class="math">\(\CC\)</span>-algebra. It is spanned over <span class="math">\(\CC\)</span> by the points of
<span class="math">\(\sigma \cap N\)</span>, addition is formal linear combination of
lattice points, and multiplication of lattice points is the
semigroup law (that is, addition of lattice points). The
<span class="math">\(\CC\)</span>-algebra <span class="math">\(S\)</span> then defines a scheme <span class="math">\(\mathop{Spec}(S)\)</span>.</p>
<p>For example, if <span class="math">\(\sigma=\{(x,y)|x\geq 0,y\geq 0\}\)</span> is the
first quadrant then <span class="math">\(S\)</span> is the polynomial ring in two
variables. The associated scheme is <span class="math">\(\mathop{Spec}(S) =
\CC^2\)</span>.</p>
<p>The same construction works over any base field, this
introduction only used <span class="math">\(\CC\)</span> for simplicity.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">cone</span></tt> &#8211; a <a class="reference external" href="../../../../geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">Cone</span></tt></a>. Can be
omitted for an affine toric variety, in which case the
(unique) generating cone is used.</li>
<li><tt class="docutils literal"><span class="pre">names</span></tt> &#8211; (optional). Names of variables for the
semigroup ring, see <a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><tt class="xref py py-func docutils literal"><span class="pre">normalize_names()</span></tt></a> for acceptable
formats. If not given, indexed variable names will be
created automatically.</li>
</ul>
<p>Output:</p>
<p>The spectrum of the semigroup ring <span class="math">\(\CC[\sigma^\vee \cap M]\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">quadrant</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">quadrant</span><span class="p">)</span><span class="o">.</span><span class="n">Spec</span><span class="p">()</span>
<span class="go">Spectrum of Multivariate Polynomial Ring in z0, z1 over Rational Field</span>
</pre></div>
</div>
<p>A more interesting example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A2Z2</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">A2Z2</span><span class="p">)</span><span class="o">.</span><span class="n">Spec</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="s">&#39;u,v,t&#39;</span><span class="p">)</span>
<span class="go">Spectrum of Quotient of Multivariate Polynomial Ring</span>
<span class="go">in u, v, t over Rational Field by the ideal (-u*v + t^2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Stanley_Reisner_ideal">
<tt class="descname">Stanley_Reisner_ideal</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Stanley_Reisner_ideal" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Stanley-Reisner ideal.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>The Stanley-Reisner ideal in the polynomial ring over
<span class="math">\(\QQ\)</span> generated by the homogeneous coordinates.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">Fan</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="p">[(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="n">coordinate_names</span><span class="o">=</span><span class="s">&#39;A B C D E&#39;</span><span class="p">,</span> <span class="n">base_field</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">SR</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">Stanley_Reisner_ideal</span><span class="p">();</span> <span class="n">SR</span>
<span class="go">Ideal (A*E, C*D, A*B*C, B*D*E) of Multivariate Polynomial Ring in A, B, C, D, E over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Td">
<tt class="descname">Td</tt><big>(</big><em>deg=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Td" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Todd class (of the tangent bundle) of the toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">deg</span></tt> &#8211; integer (optional). The desired degree part.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>If the degree is specified, the degree-<tt class="docutils literal"><span class="pre">deg</span></tt> part of the
Todd class.</li>
<li>If no degree is specified, the total Todd class.</li>
</ul>
<p>REFERENCES:</p>
<blockquote>
<div><a class="reference external" href="http://en.wikipedia.org/wiki/Todd_class">http://en.wikipedia.org/wiki/Todd_class</a></div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Todd_class</span><span class="p">()</span>
<span class="go">[-w^2 + 1/2*y + v + z + 1/2*w + 1]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Td</span><span class="p">()</span>
<span class="go">[-w^2 + 1/2*y + v + z + 1/2*w + 1]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">dP6</span><span class="o">.</span><span class="n">Td</span><span class="p">()</span> <span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.Todd_class">
<tt class="descname">Todd_class</tt><big>(</big><em>deg=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Todd_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Todd class (of the tangent bundle) of the toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">deg</span></tt> &#8211; integer (optional). The desired degree part.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>If the degree is specified, the degree-<tt class="docutils literal"><span class="pre">deg</span></tt> part of the
Todd class.</li>
<li>If no degree is specified, the total Todd class.</li>
</ul>
<p>REFERENCES:</p>
<blockquote>
<div><a class="reference external" href="http://en.wikipedia.org/wiki/Todd_class">http://en.wikipedia.org/wiki/Todd_class</a></div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Todd_class</span><span class="p">()</span>
<span class="go">[-w^2 + 1/2*y + v + z + 1/2*w + 1]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Td</span><span class="p">()</span>
<span class="go">[-w^2 + 1/2*y + v + z + 1/2*w + 1]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">dP6</span><span class="o">.</span><span class="n">Td</span><span class="p">()</span> <span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.affine_algebraic_patch">
<tt class="descname">affine_algebraic_patch</tt><big>(</big><em>cone=None</em>, <em>names=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.affine_algebraic_patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the patch corresponding to <tt class="docutils literal"><span class="pre">cone</span></tt> as an affine
algebraic subvariety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">cone</span></tt> &#8211; a <a class="reference external" href="../../../../geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">Cone</span></tt></a> <span class="math">\(\sigma\)</span>
of the fan. It can be omitted for an affine toric variety,
in which case the single generating cone is used.</li>
</ul>
<p>OUTPUT:</p>
<p>A <a class="reference internal" href="../generic/algebraic_scheme.html#sage.schemes.generic.algebraic_scheme.AlgebraicScheme_subscheme_affine" title="sage.schemes.generic.algebraic_scheme.AlgebraicScheme_subscheme_affine"><tt class="xref py py-class docutils literal"><span class="pre">affine</span> <span class="pre">algebraic</span> <span class="pre">subscheme</span></tt></a>
corresponding to the patch <span class="math">\(\mathop{Spec}(\sigma^\vee \cap M)\)</span>
associated to the cone <span class="math">\(\sigma\)</span>.</p>
<p>See also <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.affine_patch" title="sage.schemes.toric.variety.ToricVariety_field.affine_patch"><tt class="xref py py-meth docutils literal"><span class="pre">affine_patch()</span></tt></a>, which expresses the patches as
subvarieties of affine toric varieties instead.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">cone</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">A2Z2</span> <span class="o">=</span> <span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A2Z2</span><span class="o">.</span><span class="n">affine_algebraic_patch</span><span class="p">()</span>
<span class="go">Closed subscheme of Affine Space of dimension 3 over Rational Field defined by:</span>
<span class="go">  -z0*z1 + z2^2</span>
<span class="gp">sage: </span><span class="n">A2Z2</span><span class="o">.</span><span class="n">affine_algebraic_patch</span><span class="p">(</span><span class="n">Cone</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)]),</span> <span class="n">names</span><span class="o">=</span><span class="s">&#39;x, y, t&#39;</span><span class="p">)</span>
<span class="go">Closed subscheme of Affine Space of dimension 3 over Rational Field defined by:</span>
<span class="go">  1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.affine_patch">
<tt class="descname">affine_patch</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.affine_patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <tt class="docutils literal"><span class="pre">i</span></tt>-th affine patch of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">i</span></tt> &#8211; integer, index of a generating cone of the fan of <tt class="docutils literal"><span class="pre">self</span></tt>.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>affine <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a> corresponding to
the <tt class="docutils literal"><span class="pre">i</span></tt>-th generating cone of the fan of <tt class="docutils literal"><span class="pre">self</span></tt>.</li>
</ul>
<p>The result is cached, so the <tt class="docutils literal"><span class="pre">i</span></tt>-th patch is always the same object
in memory.</p>
<p>See also <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.affine_algebraic_patch" title="sage.schemes.toric.variety.ToricVariety_field.affine_algebraic_patch"><tt class="xref py py-meth docutils literal"><span class="pre">affine_algebraic_patch()</span></tt></a>, which expresses the
patches as subvarieties of affine space instead.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="s">&quot;x s y t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">patch0</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">patch0</span>
<span class="go">2-d affine toric variety</span>
<span class="gp">sage: </span><span class="n">patch0</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 2-d affine toric variety</span>
<span class="go">  To:   2-d toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined on coordinates by sending [x : t] to</span>
<span class="go">        [x : 1 : 1 : t]</span>
<span class="gp">sage: </span><span class="n">patch1</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">patch1</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 2-d affine toric variety</span>
<span class="go">  To:   2-d toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined on coordinates by sending [y : t] to</span>
<span class="go">        [1 : 1 : y : t]</span>
<span class="gp">sage: </span><span class="n">patch1</span> <span class="ow">is</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.c">
<tt class="descname">c</tt><big>(</big><em>deg=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.c" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Chern classes of the (tangent bundle of the) toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">deg</span></tt> &#8211; integer (optional). The degree of the Chern class.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>If the degree is specified, the <tt class="docutils literal"><span class="pre">deg</span></tt>-th Chern class.</li>
<li>If no degree is specified, the total Chern class.</li>
</ul>
<p>REFERENCES:</p>
<blockquote>
<div><a class="reference external" href="http://en.wikipedia.org/wiki/Chern_class">http://en.wikipedia.org/wiki/Chern_class</a></div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">Chern_class</span><span class="p">()</span>
<span class="go">[-6*w^2 + y + 2*v + 2*z + w + 1]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">()</span>
<span class="go">[-6*w^2 + y + 2*v + 2*z + w + 1]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[y + 2*v + 2*z + w]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[-6*w^2]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span> <span class="o">==</span> <span class="n">X</span><span class="o">.</span><span class="n">Euler_number</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.cartesian_product">
<tt class="descname">cartesian_product</tt><big>(</big><em>other</em>, <em>coordinate_names=None</em>, <em>coordinate_indices=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.cartesian_product" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Cartesian product of <tt class="docutils literal"><span class="pre">self</span></tt> with <tt class="docutils literal"><span class="pre">other</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">other</span></tt> &#8211; a <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a>;</li>
<li><tt class="docutils literal"><span class="pre">coordinate_names</span></tt> &#8211; names of variables for the coordinate ring,
see <a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><tt class="xref py py-func docutils literal"><span class="pre">normalize_names()</span></tt></a> for acceptable formats. If not given,
indexed variable names will be created automatically;</li>
<li><tt class="docutils literal"><span class="pre">coordinate_indices</span></tt> &#8211; list of integers, indices for indexed
variables. If not given, the index of each variable will coincide
with the index of the corresponding ray of the fan.</li>
</ul>
<p>OUTPUT:</p>
<p>&#8211; a <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">Fan</span><span class="p">([</span><span class="n">Cone</span><span class="p">([(</span><span class="mi">1</span><span class="p">,)]),</span> <span class="n">Cone</span><span class="p">([(</span><span class="o">-</span><span class="mi">1</span><span class="p">,)])]))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">P1</span><span class="o">.</span><span class="n">cartesian_product</span><span class="p">(</span><span class="n">P1</span><span class="p">);</span> <span class="n">P1xP1</span>
<span class="go">2-d toric variety covered by 4 affine patches</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">N+N(-1,  0),</span>
<span class="go">N+N( 1,  0),</span>
<span class="go">N+N( 0, -1),</span>
<span class="go">N+N( 0,  1)</span>
<span class="go">in 2-d lattice N+N</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.ch">
<tt class="descname">ch</tt><big>(</big><em>deg=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.ch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Chern character (of the tangent bundle) of the toric
variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">deg</span></tt> &#8211; integer (optional). The degree of the Chern
character.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>If the degree is specified, the degree-<tt class="docutils literal"><span class="pre">deg</span></tt> part of the
Chern character.</li>
<li>If no degree is specified, the total Chern character.</li>
</ul>
<p>REFERENCES:</p>
<blockquote>
<div><a class="reference external" href="http://en.wikipedia.org/wiki/Chern_character#The_Chern_character">http://en.wikipedia.org/wiki/Chern_character#The_Chern_character</a></div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Chern_character</span><span class="p">()</span>
<span class="go">[3*w^2 + y + 2*v + 2*z + w + 2]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">ch</span><span class="p">()</span>
<span class="go">[3*w^2 + y + 2*v + 2*z + w + 2]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">ch</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">dP6</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.change_ring">
<tt class="descname">change_ring</tt><big>(</big><em>F</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.change_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a toric variety over <tt class="docutils literal"><span class="pre">F</span></tt> and otherwise the same as <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">F</span></tt> &#8211; field.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a> over <tt class="docutils literal"><span class="pre">F</span></tt>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is no need to have any relation between <tt class="docutils literal"><span class="pre">F</span></tt> and the base
field of <tt class="docutils literal"><span class="pre">self</span></tt>. If you do want to have such a relation, use
<tt class="xref py py-meth docutils literal"><span class="pre">base_extend()</span></tt> instead.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xA1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xA1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xA1</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">P1xA1_RR</span> <span class="o">=</span> <span class="n">P1xA1</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xA1_RR</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">P1xA1_QQ</span> <span class="o">=</span> <span class="n">P1xA1_RR</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xA1_QQ</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">P1xA1_RR</span><span class="o">.</span><span class="n">base_extend</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">no natural map from the base ring</span>
<span class="go">(=Real Field with 53 bits of precision)</span>
<span class="go">to R (=Rational Field)!</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xA1</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">need a field to construct a toric variety!</span>
<span class="go"> Got Multivariate Polynomial Ring in a0, a1 over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.chi">
<tt class="descname">chi</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.chi" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the topological Euler number of the toric variety.</p>
<p>Sometimes, this is also called the Euler
characteristic. <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.chi" title="sage.schemes.toric.variety.ToricVariety_field.chi"><tt class="xref py py-meth docutils literal"><span class="pre">chi()</span></tt></a> is a synonym for
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.Euler_number" title="sage.schemes.toric.variety.ToricVariety_field.Euler_number"><tt class="xref py py-meth docutils literal"><span class="pre">Euler_number()</span></tt></a>.</p>
<p>REFERENCES:</p>
<blockquote>
<div><a class="reference external" href="http://en.wikipedia.org/wiki/Euler_characteristic">http://en.wikipedia.org/wiki/Euler_characteristic</a></div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">Euler_number</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">chi</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.cohomology_basis">
<tt class="descname">cohomology_basis</tt><big>(</big><em>d=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a basis for the cohomology of the toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">d</span></tt> (optional) &#8211; integer.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>Without the optional argument, a list whose d-th entry is a
basis for <span class="math">\(H^{2d}(X,\QQ)\)</span></li>
<li>If the argument is an integer <tt class="docutils literal"><span class="pre">d</span></tt>, returns basis for
<span class="math">\(H^{2d}(X,\QQ)\)</span></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP8</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_basis</span><span class="p">()</span>
<span class="go">(([1],), ([z], [y]), ([y*z],))</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_basis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">([z], [y])</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_basis</span><span class="p">(</span><span class="n">dimension</span><span class="p">(</span><span class="n">X</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">X</span><span class="o">.</span><span class="n">volume_class</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.cohomology_ring">
<tt class="descname">cohomology_ring</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cohomology ring of the toric variety.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>If the toric variety is is over <span class="math">\(\CC\)</span> and has at most finite
orbifold singularities: <span class="math">\(H^\bullet(X,\QQ)\)</span> as a polynomial
quotient ring.</li>
<li>Other cases are not handled yet.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Toric varieties over any field of characteristic 0 are
treated as if they were varieties over <span class="math">\(\CC\)</span>.</li>
<li>The integral cohomology of smooth toric varieties is
torsion-free, so in this case there is no loss of
information when going to rational coefficients.</li>
<li><tt class="docutils literal"><span class="pre">self.cohomology_ring().gen(i)</span></tt> is the divisor class corresponding to
the <tt class="docutils literal"><span class="pre">i</span></tt>-th ray of the fan.</li>
</ul>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="go">Rational cohomology ring of a 2-d CPR-Fano toric variety covered by 6 affine patches</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">defining_ideal</span><span class="p">()</span>
<span class="go">Ideal (-u - y + z + w, x - y - v + w, x*y, x*v, x*z, u*v, u*z, u*w, y*z, y*w, v*w) of Multivariate Polynomial Ring in x, u, y, v, z, w over Rational Field</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">defining_ideal</span><span class="p">()</span><span class="o">.</span><span class="n">ring</span><span class="p">()</span>
<span class="go">Multivariate Polynomial Ring in x, u, y, v, z, w over Rational Field</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">variable_names</span><span class="p">()</span>
<span class="go">(&#39;x&#39;, &#39;u&#39;, &#39;y&#39;, &#39;v&#39;, &#39;z&#39;, &#39;w&#39;)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">([y + v - w], [-y + z + w], [y], [v], [z], [w])</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>The cohomology ring is a circular reference that is
potentially troublesome on unpickling, see <a class="reference external" href="http://trac.sagemath.org/15050">trac ticket #15050</a>
and <a class="reference external" href="http://trac.sagemath.org/15149">trac ticket #15149</a></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">variety</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="n">variety</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">(),</span> <span class="n">variety</span><span class="o">.</span><span class="n">cohomology_basis</span><span class="p">(),</span> <span class="n">variety</span><span class="o">.</span><span class="n">volume_class</span><span class="p">()]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="n">variety</span><span class="o">.</span><span class="n">Todd_class</span><span class="p">(),</span> <span class="n">variety</span><span class="o">.</span><span class="n">Chern_class</span><span class="p">(),</span> <span class="n">variety</span><span class="o">.</span><span class="n">Chern_character</span><span class="p">(),</span> <span class="n">variety</span><span class="o">.</span><span class="n">Kaehler_cone</span><span class="p">(),</span> <span class="n">variety</span><span class="o">.</span><span class="n">Mori_cone</span><span class="p">()]</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">variety</span><span class="p">))</span> <span class="o">==</span> <span class="n">variety</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.coordinate_ring">
<tt class="descname">coordinate_ring</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.coordinate_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinate ring of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>For toric varieties this is the homogeneous coordinate ring (a.k.a.
Cox&#8217;s ring and total ring).</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>polynomial ring.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Multivariate Polynomial Ring in s, t, x, y</span>
<span class="go">over Rational Field</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">A1</span><span class="p">()</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">();</span>  <span class="n">R</span>
<span class="go">Multivariate Polynomial Ring in z over Rational Field</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.rings.polynomial.multi_polynomial_libsingular.MPolynomialRing_libsingular&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.count_points">
<tt class="descname">count_points</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.count_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of points of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>This is an alias for <tt class="docutils literal"><span class="pre">point_set().cardinality()</span></tt>, see
<a class="reference internal" href="homset.html#sage.schemes.toric.homset.SchemeHomset_points_toric_field.cardinality" title="sage.schemes.toric.homset.SchemeHomset_points_toric_field.cardinality"><tt class="xref py py-meth docutils literal"><span class="pre">cardinality()</span></tt></a>
for details.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">o</span> <span class="o">=</span> <span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">FaceFan</span><span class="p">(</span><span class="n">o</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">V2</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">V2</span><span class="o">.</span><span class="n">point_set</span><span class="p">()</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">27</span>
<span class="gp">sage: </span><span class="n">V2</span><span class="o">.</span><span class="n">count_points</span><span class="p">()</span>
<span class="go">27</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.dimension_singularities">
<tt class="descname">dimension_singularities</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.dimension_singularities" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dimension of the singular set.</p>
<p>OUTPUT:</p>
<p>Integer. The dimension of the singular set of the toric
variety. Often the singular set is a reducible subvariety, and
this method will return the dimension of the
largest-dimensional component.</p>
<p>Returns -1 if the toric variety is smooth.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">P4_11169</span><span class="p">()</span><span class="o">.</span><span class="n">dimension_singularities</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">Conifold</span><span class="p">()</span><span class="o">.</span><span class="n">dimension_singularities</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span><span class="o">.</span><span class="n">dimension_singularities</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.divisor">
<tt class="descname">divisor</tt><big>(</big><em>arg</em>, <em>base_ring=None</em>, <em>check=True</em>, <em>reduce=True</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.divisor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a divisor.</p>
<p>INPUT:</p>
<p>The arguments are the same as in
<a class="reference internal" href="divisor.html#sage.schemes.toric.divisor.ToricDivisor" title="sage.schemes.toric.divisor.ToricDivisor"><tt class="xref py py-func docutils literal"><span class="pre">sage.schemes.toric.divisor.ToricDivisor()</span></tt></a>, with the
exception of defining a divisor with a single integer: this method
considers it to be the index of a ray of the <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.fan" title="sage.schemes.toric.variety.ToricVariety_field.fan"><tt class="xref py py-meth docutils literal"><span class="pre">fan()</span></tt></a> of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>A <a class="reference internal" href="divisor.html#sage.schemes.toric.divisor.ToricDivisor_generic" title="sage.schemes.toric.divisor.ToricDivisor_generic"><tt class="xref py py-class docutils literal"><span class="pre">sage.schemes.toric.divisor.ToricDivisor_generic</span></tt></a></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Multivariate Polynomial Ring in x, u, y, v, z, w</span>
<span class="go">over Rational Field</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">V(u) + 2*V(y) + 3*V(v) + 4*V(z) + 5*V(w)</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">inject_variables</span><span class="p">()</span>
<span class="go">Defining x, u, y, v, z, w</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">u</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">V(x) + 3*V(u)</span>
</pre></div>
</div>
<p>You can also construct divisors based on ray indices:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">V(x)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">dP6</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">nrays</span><span class="p">()):</span>
<span class="gp">... </span>      <span class="k">print</span> <span class="n">dP6</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
<span class="gp">... </span>      <span class="k">print</span> <span class="s">&#39;: generated by ray&#39;</span><span class="p">,</span>
<span class="gp">... </span>      <span class="n">dP6</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ray</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">V(x) : generated by ray N(0, 1)</span>
<span class="go">V(u) : generated by ray N(-1, 0)</span>
<span class="go">V(y) : generated by ray N(-1, -1)</span>
<span class="go">V(v) : generated by ray N(0, -1)</span>
<span class="go">V(z) : generated by ray N(1, 0)</span>
<span class="go">V(w) : generated by ray N(1, 1)</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>We check that the issue <a class="reference external" href="http://trac.sagemath.org/12812">trac ticket #12812</a> is resolved:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">dP6</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">V(x) + V(u) + V(y)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.divisor_group">
<tt class="descname">divisor_group</tt><big>(</big><em>base_ring=Integer Ring</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.divisor_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the group of Weil divisors.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">base_ring</span></tt> &#8211; the coefficient ring, usually <tt class="docutils literal"><span class="pre">ZZ</span></tt>
(default) or <tt class="docutils literal"><span class="pre">QQ</span></tt>.</li>
</ul>
<p>OUTPUT:</p>
<p>The (free abelian) group of Cartier divisors, that is, formal
linear combinations of polynomial equations over the
coefficient ring <tt class="docutils literal"><span class="pre">base_ring</span></tt>.</p>
<p>These need not be toric (=defined by monomials), but allow
general polynomials. The output will be an instance of
<tt class="xref py py-class docutils literal"><span class="pre">sage.schemes.generic.divisor_group.DivisorGroup_generic</span></tt>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You almost certainly want the group of toric divisors, see
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.toric_divisor_group" title="sage.schemes.toric.variety.ToricVariety_field.toric_divisor_group"><tt class="xref py py-meth docutils literal"><span class="pre">toric_divisor_group()</span></tt></a>. The toric divisor group is
generated by the rays of the fan. The general divisor
group has no toric functionality implemented.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Div</span> <span class="o">=</span> <span class="n">dP6</span><span class="o">.</span><span class="n">divisor_group</span><span class="p">();</span> <span class="n">Div</span>
<span class="go">Group of ZZ-Divisors on 2-d CPR-Fano toric variety</span>
<span class="go">covered by 6 affine patches</span>
<span class="gp">sage: </span><span class="n">Div</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">V(x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.embedding_morphism">
<tt class="descname">embedding_morphism</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.embedding_morphism" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default embedding morphism of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>Such a morphism is always defined for an affine patch of a toric
variety (which is also a toric varieties itself).</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="xref py py-class docutils literal"><span class="pre">scheme</span> <span class="pre">morphism</span></tt>
if the default embedding morphism was defined for <tt class="docutils literal"><span class="pre">self</span></tt>,
otherwise a <tt class="docutils literal"><span class="pre">ValueError</span></tt> exception is raised.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="s">&quot;x s y t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">no default embedding was</span>
<span class="go">defined for this toric variety!</span>
<span class="gp">sage: </span><span class="n">patch</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">patch</span>
<span class="go">2-d affine toric variety</span>
<span class="gp">sage: </span><span class="n">patch</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 2-d affine toric variety</span>
<span class="go">  To:   2-d toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined on coordinates by sending [x : t] to</span>
<span class="go">        [x : 1 : 1 : t]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.fan">
<tt class="descname">fan</tt><big>(</big><em>dim=None</em>, <em>codim=None</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.fan" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the underlying fan of <tt class="docutils literal"><span class="pre">self</span></tt> or its cones.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">dim</span></tt> &#8211; dimension of the requested cones;</li>
<li><tt class="docutils literal"><span class="pre">codim</span></tt> &#8211; codimension of the requested cones.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><a class="reference external" href="../../../../geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fan</span></tt></a> if no parameters were
given, <a class="reference external" href="http://docs.python.org/library/functions.html#tuple" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">tuple</span></tt></a> of <a class="reference external" href="../../../../geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">cones</span></tt></a> otherwise.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span>
<span class="go">Rational polyhedral fan in 2-d lattice M</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span> <span class="ow">is</span> <span class="n">fan</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">1-d cone of Rational polyhedral fan in 2-d lattice M</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.inject_coefficients">
<tt class="descname">inject_coefficients</tt><big>(</big><em>scope=None</em>, <em>verbose=True</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.inject_coefficients" title="Permalink to this definition">¶</a></dt>
<dd><p>Inject generators of the base field of <tt class="docutils literal"><span class="pre">self</span></tt> into <tt class="docutils literal"><span class="pre">scope</span></tt>.</p>
<p>This function is useful if the base field is the field of rational
functions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">scope</span></tt> &#8211; namespace (default: global, not just the scope from
which this function was called);</li>
<li><tt class="docutils literal"><span class="pre">verbose</span></tt> &#8211; if <tt class="docutils literal"><span class="pre">True</span></tt> (default), names of injected generators
will be printed.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>none.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s">&quot;a, b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">fraction_field</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="n">base_field</span><span class="o">=</span><span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">inject_coefficients</span><span class="p">()</span>
<span class="go">Defining a, b</span>
</pre></div>
</div>
<p>We check that we can use names <tt class="docutils literal"><span class="pre">a</span></tt> and <tt class="docutils literal"><span class="pre">b</span></tt>, Trac #10498 is fixed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="go">a + b</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.integrate">
<tt class="descname">integrate</tt><big>(</big><em>cohomology_class</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate a cohomology class over the toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">cohomology_class</span></tt> &#8211; A cohomology class given as a
polynomial in <tt class="docutils literal"><span class="pre">self.cohomology_ring()</span></tt></li>
</ul>
<p>OUTPUT:</p>
<p>The integral of the cohomology class over the variety. The
volume normalization is given by <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.volume_class" title="sage.schemes.toric.variety.ToricVariety_field.volume_class"><tt class="xref py py-meth docutils literal"><span class="pre">volume_class()</span></tt></a>, that
is, <tt class="docutils literal"><span class="pre">self.integrate(self.volume_class())</span></tt> is always one (if
the volume class exists).</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">dP6</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="p">[</span> <span class="n">HH</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">dP6</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="p">]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">([</span> <span class="p">[</span> <span class="n">D</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">D</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">])</span>
<span class="go">[ [w^2] [-w^2]    [0]    [0]    [0] [-w^2]]</span>
<span class="go">[[-w^2]  [w^2] [-w^2]    [0]    [0]    [0]]</span>
<span class="go">[   [0] [-w^2]  [w^2] [-w^2]    [0]    [0]]</span>
<span class="go">[   [0]    [0] [-w^2]  [w^2] [-w^2]    [0]]</span>
<span class="go">[   [0]    [0]    [0] [-w^2]  [w^2] [-w^2]]</span>
<span class="go">[[-w^2]    [0]    [0]    [0] [-w^2]  [w^2]]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">([</span> <span class="p">[</span> <span class="n">dP6</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">D</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">])</span>
<span class="go">[-1  1  0  0  0  1]</span>
<span class="go">[ 1 -1  1  0  0  0]</span>
<span class="go">[ 0  1 -1  1  0  0]</span>
<span class="go">[ 0  0  1 -1  1  0]</span>
<span class="go">[ 0  0  0  1 -1  1]</span>
<span class="go">[ 1  0  0  0  1 -1]</span>
</pre></div>
</div>
<p>If the toric variety is an orbifold, the intersection numbers
are usually fractional:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P2_123</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2_123</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">P2_123</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="p">[</span> <span class="n">HH</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">P2_123</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="p">]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">([</span> <span class="p">[</span> <span class="n">P2_123</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">D</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">])</span>
<span class="go">[2/3   1 1/3]</span>
<span class="go">[  1 3/2 1/2]</span>
<span class="go">[1/3 1/2 1/6]</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">P2_123</span><span class="o">.</span><span class="n">Chow_group</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">([</span> <span class="p">[</span> <span class="n">A</span><span class="p">(</span><span class="n">P2_123</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="gp">... </span>             <span class="o">.</span><span class="n">intersection_with_divisor</span><span class="p">(</span><span class="n">P2_123</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
<span class="gp">... </span>             <span class="o">.</span><span class="n">count_points</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">])</span>
<span class="go">[2/3   1 1/3]</span>
<span class="go">[  1 3/2 1/2]</span>
<span class="go">[1/3 1/2 1/6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.is_affine">
<tt class="descname">is_affine</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_affine" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <tt class="docutils literal"><span class="pre">self</span></tt> is an affine toric variety.</p>
<p>An affine toric variety is a toric variety whose fan is the
face lattice of a single cone. See also
<a class="reference internal" href="#sage.schemes.toric.variety.AffineToricVariety" title="sage.schemes.toric.variety.AffineToricVariety"><tt class="xref py py-func docutils literal"><span class="pre">AffineToricVariety()</span></tt></a>.</p>
<p>OUTPUT:</p>
<p>Boolean.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">A2</span><span class="p">()</span><span class="o">.</span><span class="n">is_affine</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xA1</span><span class="p">()</span><span class="o">.</span><span class="n">is_affine</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.is_complete">
<tt class="descname">is_complete</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <tt class="docutils literal"><span class="pre">self</span></tt> is complete.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">self</span></tt> is complete and <tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_complete</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_complete</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.is_homogeneous">
<tt class="descname">is_homogeneous</tt><big>(</big><em>polynomial</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_homogeneous" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <tt class="docutils literal"><span class="pre">polynomial</span></tt> is homogeneous.</p>
<p>The coordinate ring of a toric variety is multigraded by relations
between generating rays of the underlying fan.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">polynomial</span></tt> &#8211; polynomial in the coordinate ring of <tt class="docutils literal"><span class="pre">self</span></tt> or
its quotient.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">polynomial</span></tt> is homogeneous and <tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</li>
</ul>
<p>EXAMPLES:</p>
<p>We will use the product of two projective lines with coordinates
<span class="math">\((x, y)\)</span> for one and <span class="math">\((s, t)\)</span> for the other:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">s</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">t</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note that by homogeneous, we mean well-defined with respect to
the homogeneous rescalings of <tt class="docutils literal"><span class="pre">self</span></tt>. So a polynomial that you would
usually not call homogeneous can be homogeneous if there are
no homogeneous rescalings, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A1</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">A1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A1</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="n">z</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Finally, the degree group is really the Chow group
<span class="math">\(A_{d-1}(X)\)</span> and can contain torsion. For example, take
<span class="math">\(\CC^2/\ZZ_2\)</span>. Here, the Chow group is <span class="math">\(A_{d-1}(\CC^2/\ZZ_2) =
\ZZ_2\)</span> and distinguishes even-degree homogeneous polynomials
from odd-degree homogeneous polynomials:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A2_Z2</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">A2_Z2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A2_Z2</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A2_Z2</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">4</span><span class="o">+</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A2_Z2</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.is_isomorphic">
<tt class="descname">is_isomorphic</tt><big>(</big><em>another</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_isomorphic" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <tt class="docutils literal"><span class="pre">self</span></tt> is isomorphic to <tt class="docutils literal"><span class="pre">another</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">another</span></tt> - <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a>.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">self</span></tt> and <tt class="docutils literal"><span class="pre">another</span></tt> are isomorphic,
<tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">TV1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xA1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">TV2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
</pre></div>
</div>
<p>Only the most trivial case is implemented so far:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">TV1</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">TV1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV1</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">TV2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">NotImplementedError</span>:
<span class="go">isomorphism check is not yet implemented!</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.is_orbifold">
<tt class="descname">is_orbifold</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_orbifold" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <tt class="docutils literal"><span class="pre">self</span></tt> has only quotient singularities.</p>
<p>A toric variety with at most orbifold singularities (in this
sense) is often called a simplicial toric variety. In this
package, we generally try to avoid this term since it mixes up
differential geometry and cone terminology.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">self</span></tt> has at most quotient singularities by
finite groups, <tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan1</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">fan2</span> <span class="o">=</span> <span class="n">NormalFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.is_smooth">
<tt class="descname">is_smooth</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <tt class="docutils literal"><span class="pre">self</span></tt> is smooth.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">self</span></tt> is smooth and <tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan1</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">fan2</span> <span class="o">=</span> <span class="n">NormalFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.linear_equivalence_ideal">
<tt class="descname">linear_equivalence_ideal</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.linear_equivalence_ideal" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ideal generated by linear relations</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>The ideal generated by the linear relations of the rays in
the polynomial ring over <span class="math">\(\QQ\)</span> generated by the homogeneous
coordinates.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">Fan</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="p">[(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="n">coordinate_names</span><span class="o">=</span><span class="s">&#39;A B C D E&#39;</span><span class="p">,</span> <span class="n">base_field</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">lin</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">linear_equivalence_ideal</span><span class="p">();</span> <span class="n">lin</span>
<span class="go">Ideal (-3*A + 3*C - D + E, -2*A - 2*C - D - E, A + B + C + D + E) of Multivariate Polynomial Ring in A, B, C, D, E over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.orbit_closure">
<tt class="descname">orbit_closure</tt><big>(</big><em>cone</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.orbit_closure" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the orbit closure of <tt class="docutils literal"><span class="pre">cone</span></tt>.</p>
<p>The cones <span class="math">\(\sigma\)</span> of a fan <span class="math">\(\Sigma\)</span> are in one-to-one correspondence
with the torus orbits <span class="math">\(O(\sigma)\)</span> of the corresponding toric variety
<span class="math">\(X_\Sigma\)</span>. Each orbit is isomorphic to a lower dimensional torus (of
dimension equal to the codimension of <span class="math">\(\sigma\)</span>). Just like the toric
variety <span class="math">\(X_\Sigma\)</span> itself, these orbits are (partially) compactified by
lower-dimensional orbits. In particular, one can define the closure
<span class="math">\(V(\sigma)\)</span> of the torus orbit <span class="math">\(O(\sigma)\)</span> in the ambient toric
variety <span class="math">\(X_\Sigma\)</span>, which is again a toric variety.</p>
<p>See Proposition 3.2.7 of <a class="reference internal" href="#cls" id="id3">[CLS]</a> for more details.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">cone</span></tt> &#8211; a <a class="reference external" href="../../../../geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">cone</span></tt></a> of the fan.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a torus orbit closure associated to <tt class="docutils literal"><span class="pre">cone</span></tt> as a
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a>.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">orbit_closure</span><span class="p">(</span><span class="n">H</span><span class="p">);</span>  <span class="n">V</span>
<span class="go">1-d toric variety covered by 2 affine patches</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 1-d toric variety covered by 2 affine patches</span>
<span class="go">  To:   2-d CPR-Fano toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined by embedding the torus closure associated to the 1-d</span>
<span class="go">        cone of Rational polyhedral fan in 2-d lattice N.</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span><span class="o">.</span><span class="n">as_polynomial_map</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 1-d toric variety covered by 2 affine patches</span>
<span class="go">  To:   2-d CPR-Fano toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined on coordinates by sending [z0 : z1] to</span>
<span class="go">        [0 : 1 : z1 : z0]</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">A2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A2</span><span class="o">.</span><span class="n">orbit_closure</span><span class="p">(</span><span class="n">A2</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">2</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">0-d affine toric variety</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.plot">
<tt class="descname">plot</tt><big>(</big><em>**options</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot <tt class="docutils literal"><span class="pre">self</span></tt>, i.e. the corresponding fan.</p>
<p>INPUT:</p>
<ul class="simple">
<li>any options for toric plots (see <a class="reference external" href="../../../../geometry/sage/geometry/toric_plotter.html#sage.geometry.toric_plotter.options" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-func docutils literal"><span class="pre">toric_plotter.options</span></tt></a>), none are mandatory.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a plot.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The difference between <tt class="docutils literal"><span class="pre">X.plot()</span></tt> and <tt class="docutils literal"><span class="pre">X.fan().plot()</span></tt> is that
in the first case default ray labels correspond to variables of
<tt class="docutils literal"><span class="pre">X</span></tt>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">Cube_deformation</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.rational_class_group">
<tt class="descname">rational_class_group</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.rational_class_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the rational divisor class group of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>Let <span class="math">\(X\)</span> be a toric variety.</p>
<p>The <strong>Weil divisor class group</strong> <span class="math">\(\mathop{Cl}(X)\)</span> is a finitely
generated abelian group and can contain torsion. Its rank equals the
number of rays in the fan of <span class="math">\(X\)</span> minus the dimension of <span class="math">\(X\)</span>.</p>
<p>The <strong>rational divisor class group</strong> is
<span class="math">\(\mathop{Cl}(X) \otimes_\ZZ \QQ\)</span> and never includes torsion. If <span class="math">\(X\)</span> is
<em>smooth</em>, this equals the <strong>Picard group</strong> of <span class="math">\(X\)</span>, whose elements are
the isomorphism classes of line bundles on <span class="math">\(X\)</span>. The group law (which
we write as addition) is the tensor product of the line bundles. The
Picard group of a toric variety is always torsion-free.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><a class="reference internal" href="divisor.html#sage.schemes.toric.divisor.ToricRationalDivisorClassGroup" title="sage.schemes.toric.divisor.ToricRationalDivisorClassGroup"><tt class="xref py py-class docutils literal"><span class="pre">rational</span> <span class="pre">divisor</span> <span class="pre">class</span> <span class="pre">group</span></tt></a>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Coordinates correspond to the rows of
<tt class="docutils literal"><span class="pre">self.fan().gale_transform()</span></tt>.</li>
<li><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.Kaehler_cone" title="sage.schemes.toric.variety.ToricVariety_field.Kaehler_cone"><tt class="xref py py-meth docutils literal"><span class="pre">Kaehler_cone()</span></tt></a> yields a cone in this group.</li>
</ul>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xA1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xA1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xA1</span><span class="o">.</span><span class="n">rational_class_group</span><span class="p">()</span>
<span class="go">The toric rational divisor class group</span>
<span class="go">of a 2-d toric variety covered by 2 affine patches</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.resolve">
<tt class="descname">resolve</tt><big>(</big><em>**kwds</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.resolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a toric variety whose fan subdivides the fan of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>The name of this function reflects the fact that usually such
subdivisions are done for resolving singularities of the original
variety.</p>
<p>INPUT:</p>
<p>This function accepts only keyword arguments, none of which are
mandatory.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">coordinate_names</span></tt> &#8211; names for coordinates of the new variety. If
not given, will be constructed from the coordinate names of <tt class="docutils literal"><span class="pre">self</span></tt>
and necessary indexed ones. See <a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><tt class="xref py py-func docutils literal"><span class="pre">normalize_names()</span></tt></a> for the
description of acceptable formats;</li>
<li><tt class="docutils literal"><span class="pre">coordinate_indices</span></tt> &#8211; coordinate indices which should be used
for indexed variables of the new variety;</li>
<li>all other arguments will be passed to
<a class="reference external" href="../../../../geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan.subdivide" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-meth docutils literal"><span class="pre">subdivide()</span></tt></a> method of
the underlying <a class="reference external" href="../../../../geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Sage Reference Manual: Geometry v6.6)"><tt class="xref py py-class docutils literal"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fan</span></tt></a>, see its documentation
for the available options.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a>.</li>
</ul>
<p>EXAMPLES:</p>
<p>First we will &#8220;manually&#8221; resolve a simple orbifold singularity:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">cone</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">Fan</span><span class="p">([</span><span class="n">cone</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">TV_res</span> <span class="o">=</span> <span class="n">TV</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">new_rays</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">N( 1, 1),</span>
<span class="go">N(-1, 1),</span>
<span class="go">N( 0, 1)</span>
<span class="go">in 2-d lattice N</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">cone</span><span class="o">.</span><span class="n">ambient_ray_indices</span><span class="p">()</span> <span class="k">for</span> <span class="n">cone</span> <span class="ow">in</span> <span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()]</span>
<span class="go">[(0, 2), (1, 2)]</span>
</pre></div>
</div>
<p>Now let&#8217;s &#8220;automatically&#8221; partially resolve a more complicated fan:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">NormalFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">nrays</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="n">TV_res</span> <span class="o">=</span> <span class="n">TV</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">make_simplicial</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">nrays</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">12</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(z0, z1, z2, z3, z4, z5, z6, z7)</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(z0, z1, z2, z3, z4, z5, z6, z7)</span>
<span class="gp">sage: </span><span class="n">TV_res</span> <span class="o">=</span> <span class="n">TV</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">coordinate_names</span><span class="o">=</span><span class="s">&quot;x+&quot;</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">make_simplicial</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(x0, x1, x2, x3, x4, x5, x6, x7)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.resolve_to_orbifold">
<tt class="descname">resolve_to_orbifold</tt><big>(</big><em>**kwds</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.resolve_to_orbifold" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an orbifold whose fan subdivides the fan of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>It is a synonym for <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.resolve" title="sage.schemes.toric.variety.ToricVariety_field.resolve"><tt class="xref py py-meth docutils literal"><span class="pre">resolve()</span></tt></a> with <tt class="docutils literal"><span class="pre">make_simplicial=True</span></tt>
option.</p>
<p>INPUT:</p>
<ul class="simple">
<li>this function accepts only keyword arguments. See <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.resolve" title="sage.schemes.toric.variety.ToricVariety_field.resolve"><tt class="xref py py-meth docutils literal"><span class="pre">resolve()</span></tt></a>
for documentation.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a>.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">NormalFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">nrays</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="n">TV_res</span> <span class="o">=</span> <span class="n">TV</span><span class="o">.</span><span class="n">resolve_to_orbifold</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">nrays</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">12</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.subscheme">
<tt class="descname">subscheme</tt><big>(</big><em>polynomials</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.subscheme" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the subscheme of <tt class="docutils literal"><span class="pre">self</span></tt> defined by <tt class="docutils literal"><span class="pre">polynomials</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">polynomials</span></tt> &#8211; list of polynomials in the coordinate ring of
<tt class="docutils literal"><span class="pre">self</span></tt>.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><a class="reference internal" href="../generic/algebraic_scheme.html#sage.schemes.generic.algebraic_scheme.AlgebraicScheme_subscheme_toric" title="sage.schemes.generic.algebraic_scheme.AlgebraicScheme_subscheme_toric"><tt class="xref py py-class docutils literal"><span class="pre">subscheme</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">toric</span> <span class="pre">variety</span></tt></a>.</li>
</ul>
<p>EXAMPLES:</p>
<p>We will construct a subscheme of the product of two projective lines
with coordinates <span class="math">\((x, y)\)</span> for one and <span class="math">\((s, t)\)</span> for the other:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">([</span><span class="n">x</span><span class="o">*</span><span class="n">s</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">X</span>
<span class="go">Closed subscheme of 2-d CPR-Fano toric variety</span>
<span class="go">covered by 4 affine patches defined by:</span>
<span class="go">  x*s + y*t,</span>
<span class="go">  x^3 + y^3</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">defining_polynomials</span><span class="p">()</span>
<span class="go">(x*s + y*t, x^3 + y^3)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">defining_ideal</span><span class="p">()</span>
<span class="go">Ideal (x*s + y*t, x^3 + y^3)</span>
<span class="go">of Multivariate Polynomial Ring in x, y, s, t</span>
<span class="go">over Rational Field</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">base_scheme</span><span class="p">()</span>
<span class="go">Spectrum of Rational Field</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">structure_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: Closed subscheme of 2-d CPR-Fano toric variety</span>
<span class="go">        covered by 4 affine patches defined by:</span>
<span class="go">  x*s + y*t,</span>
<span class="go">  x^3 + y^3</span>
<span class="go">  To:   Spectrum of Rational Field</span>
<span class="go">  Defn: Structure map</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.toric_divisor_group">
<tt class="descname">toric_divisor_group</tt><big>(</big><em>base_ring=Integer Ring</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.toric_divisor_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the group of toric (T-Weil) divisors.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">base_ring</span></tt> &#8211; the coefficient ring, usually <tt class="docutils literal"><span class="pre">ZZ</span></tt>
(default) or <tt class="docutils literal"><span class="pre">QQ</span></tt>.</li>
</ul>
<p>OUTPUT:</p>
<p>The free Abelian agroup of toric Weil divisors, that is,
formal <tt class="docutils literal"><span class="pre">base_ring</span></tt>-linear combinations of codimension-one
toric subvarieties. The output will be an instance of
<a class="reference internal" href="divisor.html#sage.schemes.toric.divisor.ToricDivisorGroup" title="sage.schemes.toric.divisor.ToricDivisorGroup"><tt class="xref py py-class docutils literal"><span class="pre">sage.schemes.toric.divisor.ToricDivisorGroup</span></tt></a>.</p>
<p>The <span class="math">\(i\)</span>-th generator of the divisor group is the divisor where
the <span class="math">\(i\)</span>-th homogeneous coordinate vanishes, <span class="math">\(\{z_i=0\}\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">TDiv</span> <span class="o">=</span> <span class="n">dP6</span><span class="o">.</span><span class="n">toric_divisor_group</span><span class="p">();</span> <span class="n">TDiv</span>
<span class="go">Group of toric ZZ-Weil divisors on 2-d CPR-Fano toric variety</span>
<span class="go">covered by 6 affine patches</span>
<span class="gp">sage: </span><span class="n">TDiv</span> <span class="o">==</span> <span class="n">dP6</span><span class="o">.</span><span class="n">toric_divisor_group</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TDiv</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(V(x), V(u), V(y), V(v), V(z), V(w))</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Multivariate Polynomial Ring in x, u, y, v, z, w over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.schemes.toric.variety.ToricVariety_field.volume_class">
<tt class="descname">volume_class</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.volume_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cohomology class of the volume form on the toric
variety.</p>
<p>Note that we are using cohomology with compact supports. If
the variety is non-compact this is dual to homology without
any support condition. In particular, for non-compact
varieties the volume form <span class="math">\(\mathrm{dVol}=\wedge_i(dx_i \wedge
dy_i)\)</span> does not define a (non-zero) cohomology class.</p>
<p>OUTPUT:</p>
<p>A <a class="reference internal" href="#sage.schemes.toric.variety.CohomologyClass" title="sage.schemes.toric.variety.CohomologyClass"><tt class="xref py py-class docutils literal"><span class="pre">CohomologyClass</span></tt></a>. If it exists, it is the class of
the (properly normalized) volume form, that is, it is the
Poincare dual of a single point. If it does not exist, a
<tt class="docutils literal"><span class="pre">ValueError</span></tt> is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">volume_class</span><span class="p">()</span>
<span class="go">[z^2]</span>

<span class="gp">sage: </span><span class="n">A2_Z2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">A2_Z2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A2_Z2</span><span class="o">.</span><span class="n">volume_class</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">Volume class does not exist.</span>
</pre></div>
</div>
<p>If none of the maximal cones is smooth things get more
tricky. In this case no torus-fixed point is smooth. If we
want to count an ordinary point as <span class="math">\(1\)</span>, then a <span class="math">\(G\)</span>-orbifold
point needs to count as <span class="math">\(\frac{1}{|G|}\)</span>. For example, take
<span class="math">\(\mathbb{P}^1\times\mathbb{P}^1\)</span> with inhomogeneous
coordinates <span class="math">\((t,y)\)</span>. Take the quotient by the action
<span class="math">\((t,y)\mapsto (-t,-y)\)</span>. The <span class="math">\(\ZZ_2\)</span>-invariant Weil divisors
<span class="math">\(\{t=0\}\)</span> and <span class="math">\(\{y=0\}\)</span> intersect in a <span class="math">\(\ZZ_2\)</span>-fixed point, so
they ought to have intersection number <span class="math">\(\frac{1}{2}\)</span>. This
means that the cohomology class <span class="math">\([t] \cap [y]\)</span> should be
<span class="math">\(\frac{1}{2}\)</span> times the volume class. Note that this is
different from the volume normalization chosen in
<a class="reference internal" href="#schubert" id="id4">[Schubert]</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P1xP1_Z2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1_Z2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Dt</span> <span class="o">=</span> <span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>  <span class="n">Dt</span>
<span class="go">V(t)</span>
<span class="gp">sage: </span><span class="n">Dy</span> <span class="o">=</span> <span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>  <span class="n">Dy</span>
<span class="go">V(y)</span>
<span class="gp">sage: </span><span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">volume_class</span><span class="p">()</span>
<span class="go">[2*t*y]</span>

<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span><span class="p">(</span><span class="n">Dt</span><span class="p">)</span> <span class="o">*</span> <span class="n">HH</span><span class="p">(</span><span class="n">Dy</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="o">*</span> <span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">volume_class</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The fractional coefficients are also necessary to match the
normalization in the rational Chow group for simplicial toric
varieties:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">Chow_group</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">(</span><span class="n">Dt</span><span class="p">)</span><span class="o">.</span><span class="n">intersection_with_divisor</span><span class="p">(</span><span class="n">Dy</span><span class="p">)</span><span class="o">.</span><span class="n">count_points</span><span class="p">()</span>
<span class="go">1/2</span>
</pre></div>
</div>
<p>REFERENCES:</p>
<table class="docutils citation" frame="void" id="schubert" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[Schubert]</a></td><td>Sheldon Katz and Stein Arild Stromme,
A Maple package for intersection theory and enumerative geometry.</td></tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.schemes.toric.variety.certify_names">
<tt class="descclassname">sage.schemes.toric.variety.</tt><tt class="descname">certify_names</tt><big>(</big><em>names</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.certify_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure that <tt class="docutils literal"><span class="pre">names</span></tt> are valid in Python.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">names</span></tt> &#8211; list of strings.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>none, but a <tt class="docutils literal"><span class="pre">ValueError</span></tt> exception is raised if <tt class="docutils literal"><span class="pre">names</span></tt> are invalid.</li>
</ul>
<p>Each name must satisfy the following requirements:</p>
<ul class="simple">
<li>Be non-empty.</li>
<li>Contain only (Latin) letters, digits, and underscores (&#8220;_&#8221;).</li>
<li>Start with a letter.</li>
</ul>
<p>In addition, all names must be distinct.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.schemes.toric.variety</span> <span class="kn">import</span> <span class="n">certify_names</span>
<span class="gp">sage: </span><span class="n">certify_names</span><span class="p">([])</span>
<span class="gp">sage: </span><span class="n">certify_names</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;x0&quot;</span><span class="p">,</span> <span class="s">&quot;x_45&quot;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">certify_names</span><span class="p">([</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;x0&quot;</span><span class="p">,</span> <span class="s">&quot;x_45&quot;</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">name must be nonempty!</span>
<span class="gp">sage: </span><span class="n">certify_names</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;0&quot;</span><span class="p">,</span> <span class="s">&quot;x_45&quot;</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">name must start with a letter! Got 0</span>
<span class="gp">sage: </span><span class="n">certify_names</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;x0&quot;</span><span class="p">,</span> <span class="s">&quot;@_45&quot;</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">name must be alphanumeric! Got @_45</span>
<span class="gp">sage: </span><span class="n">certify_names</span><span class="p">([</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;x0&quot;</span><span class="p">,</span> <span class="s">&quot;x0&quot;</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError: names must be distinct! Got</span>: <span class="n-Identifier">[&#39;a&#39;, &#39;x0&#39;, &#39;x0&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.schemes.toric.variety.is_CohomologyClass">
<tt class="descclassname">sage.schemes.toric.variety.</tt><tt class="descname">is_CohomologyClass</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.is_CohomologyClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether <tt class="docutils literal"><span class="pre">x</span></tt> is a cohomology class of a toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">x</span></tt> &#8211; anything.</li>
</ul>
<p>OUTPUT:</p>
<p><tt class="docutils literal"><span class="pre">True</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt> depending on whether <tt class="docutils literal"><span class="pre">x</span></tt> is an instance of
<a class="reference internal" href="#sage.schemes.toric.variety.CohomologyClass" title="sage.schemes.toric.variety.CohomologyClass"><tt class="xref py py-class docutils literal"><span class="pre">CohomologyClass</span></tt></a></p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.schemes.toric.variety</span> <span class="kn">import</span> <span class="n">is_CohomologyClass</span>
<span class="gp">sage: </span><span class="n">is_CohomologyClass</span><span class="p">(</span> <span class="n">HH</span><span class="o">.</span><span class="n">one</span><span class="p">()</span> <span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_CohomologyClass</span><span class="p">(</span> <span class="n">HH</span><span class="p">(</span><span class="n">P2</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_CohomologyClass</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.schemes.toric.variety.is_ToricVariety">
<tt class="descclassname">sage.schemes.toric.variety.</tt><tt class="descname">is_ToricVariety</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.is_ToricVariety" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <tt class="docutils literal"><span class="pre">x</span></tt> is a toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">x</span></tt> &#8211; anything.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">x</span></tt> is a <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><tt class="xref py py-class docutils literal"><span class="pre">toric</span> <span class="pre">variety</span></tt></a> and
<tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While projective spaces are toric varieties mathematically, they are
not toric varieties in Sage due to efficiency considerations, so this
function will return <tt class="docutils literal"><span class="pre">False</span></tt>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.schemes.toric.variety</span> <span class="kn">import</span> <span class="n">is_ToricVariety</span>
<span class="gp">sage: </span><span class="n">is_ToricVariety</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span>
<span class="go">2-d toric variety covered by 4 affine patches</span>
<span class="gp">sage: </span><span class="n">is_ToricVariety</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_ToricVariety</span><span class="p">(</span><span class="n">ProjectiveSpace</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.schemes.toric.variety.normalize_names">
<tt class="descclassname">sage.schemes.toric.variety.</tt><tt class="descname">normalize_names</tt><big>(</big><em>names=None</em>, <em>ngens=None</em>, <em>prefix=None</em>, <em>indices=None</em>, <em>return_prefix=False</em><big>)</big><a class="headerlink" href="#sage.schemes.toric.variety.normalize_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of names in the standard form.</p>
<p>INPUT:</p>
<p>All input parameters are optional.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">names</span></tt> &#8211; names given either as a single string (with individual
names separated by commas or spaces) or a list of strings with each
string specifying a name. If the last name ends with the plus sign,
&#8220;+&#8221;, this name will be used as <tt class="docutils literal"><span class="pre">prefix</span></tt> (even if <tt class="docutils literal"><span class="pre">prefix</span></tt> was
given explicitly);</li>
<li><tt class="docutils literal"><span class="pre">ngens</span></tt> &#8211; number of names to be returned;</li>
<li><tt class="docutils literal"><span class="pre">prefix</span></tt> &#8211; prefix for the indexed names given as a string;</li>
<li><tt class="docutils literal"><span class="pre">indices</span></tt> &#8211; list of integers (default: <tt class="docutils literal"><span class="pre">range(ngens)</span></tt>) used as
indices for names with <tt class="docutils literal"><span class="pre">prefix</span></tt>. If given, must be of length
<tt class="docutils literal"><span class="pre">ngens</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">return_prefix</span></tt> &#8211; if <tt class="docutils literal"><span class="pre">True</span></tt>, the last element of the returned list
will contain the prefix determined from <tt class="docutils literal"><span class="pre">names</span></tt> or given as the
parameter <tt class="docutils literal"><span class="pre">prefix</span></tt>. This is useful if you may need more names in the
future.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>list of names given as strings.</li>
</ul>
<p>These names are constructed in the following way:</p>
<ol class="arabic simple">
<li>If necessary, split <tt class="docutils literal"><span class="pre">names</span></tt> into separate names.</li>
<li>If the last name ends with &#8220;+&#8221;, put it into <tt class="docutils literal"><span class="pre">prefix</span></tt>.</li>
<li>If <tt class="docutils literal"><span class="pre">ngens</span></tt> was given, add to the names obtained so far as many
indexed names as necessary to get this number. If the <tt class="docutils literal"><span class="pre">k</span></tt>-th name of
the <em>total</em> list of names is indexed, it is
<tt class="docutils literal"><span class="pre">prefix</span> <span class="pre">+</span> <span class="pre">str(indices[k])</span></tt>. If there were already more names than
<tt class="docutils literal"><span class="pre">ngens</span></tt>, discard &#8220;extra&#8221; ones.</li>
<li>Check if constructed names are valid. See <a class="reference internal" href="#sage.schemes.toric.variety.certify_names" title="sage.schemes.toric.variety.certify_names"><tt class="xref py py-func docutils literal"><span class="pre">certify_names()</span></tt></a> for
details.</li>
<li>If the option <tt class="docutils literal"><span class="pre">return_prefix=True</span></tt> was given, add <tt class="docutils literal"><span class="pre">prefix</span></tt> to the
end of the list.</li>
</ol>
<p>EXAMPLES:</p>
<p>As promised, all parameters are optional:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.schemes.toric.variety</span> <span class="kn">import</span> <span class="n">normalize_names</span>
<span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">()</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>One of the most common uses is probably this one:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s">&quot;x+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[&#39;x0&#39;, &#39;x1&#39;, &#39;x2&#39;, &#39;x3&#39;]</span>
</pre></div>
</div>
<p>Now suppose that you want to enumerate your variables starting with one
instead of zero:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s">&quot;x+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="go">[&#39;x1&#39;, &#39;x2&#39;, &#39;x3&#39;, &#39;x4&#39;]</span>
</pre></div>
</div>
<p>You may actually have an arbitrary enumeration scheme:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s">&quot;x+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">])</span>
<span class="go">[&#39;x1&#39;, &#39;x10&#39;, &#39;x100&#39;, &#39;x1000&#39;]</span>
</pre></div>
</div>
<p>Now let&#8217;s add some &#8220;explicit&#8221; names:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s">&quot;x y z t+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;t3&#39;]</span>
</pre></div>
</div>
<p>Note that the &#8220;automatic&#8221; name is <tt class="docutils literal"><span class="pre">t3</span></tt> instead of <tt class="docutils literal"><span class="pre">t0</span></tt>. This may seem
weird, but the reason for this behaviour is that the fourth name in this
list will be the same no matter how many explicit names were given:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s">&quot;x y t+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;, &#39;t2&#39;, &#39;t3&#39;]</span>
</pre></div>
</div>
<p>This is especially useful if you get <tt class="docutils literal"><span class="pre">names</span></tt> from a user but want to
specify all default names:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s">&quot;x, y&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;t&quot;</span><span class="p">)</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;, &#39;t2&#39;, &#39;t3&#39;]</span>
</pre></div>
</div>
<p>In this format, the user can easily override your choice for automatic
names:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s">&quot;x y s+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;t&quot;</span><span class="p">)</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;, &#39;s2&#39;, &#39;s3&#39;]</span>
</pre></div>
</div>
<p>Let&#8217;s now use all parameters at once:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s">&quot;x, y, s+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;t&quot;</span><span class="p">,</span>
<span class="gp">... </span>      <span class="n">indices</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">return_prefix</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;, &#39;s3&#39;, &#39;s4&#39;, &#39;s&#39;]</span>
</pre></div>
</div>
<p>Note that you still need to give indices for all names, even if some of
the first ones will be &#8220;wasted&#8221; because of the explicit names. The reason
is the same as before - this ensures consistency of automatically
generated names, no matter how many explicit names were given.</p>
<p>The prefix is discarded if <tt class="docutils literal"><span class="pre">ngens</span></tt> was not given:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s">&quot;alpha, beta, gamma, zeta+&quot;</span><span class="p">)</span>
<span class="go">[&#39;alpha&#39;, &#39;beta&#39;, &#39;gamma&#39;]</span>
</pre></div>
</div>
<p>Finally, let&#8217;s take a look at some possible mistakes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s">&quot;123&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">name must start with a letter! Got 123</span>
</pre></div>
</div>
<p>A more subtle one:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s">&quot;x1&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;x&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError: names must be distinct! Got</span>: <span class="n-Identifier">[&#39;x1&#39;, &#39;x1&#39;, &#39;x2&#39;, &#39;x3&#39;]</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="../product_projective/point.html"
                                  title="previous chapter">Points for products of projective spaces</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="fano_variety.html"
                                  title="next chapter">Fano toric varieties</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../../_sources/sage/schemes/toric/variety.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="fano_variety.html" title="Fano toric varieties"
             >next</a> |</li>
        <li class="right" >
          <a href="../product_projective/point.html" title="Points for products of projective spaces"
             >previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../../index.html">Schemes</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>