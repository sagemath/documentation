<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../../../../genindex.html" /><link rel="search" title="Search" href="../../../../search.html" /><link rel="next" title="Fano toric varieties" href="fano_variety.html" /><link rel="prev" title="Enumeration of rational points on product projective schemes" href="../product_projective/rational_point.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.06.21"/>
        <title>Toric varieties - Schemes</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/custom-furo.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZGD13B5572"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ZGD13B5572');
</script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">Schemes</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 9.7 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../../index.html">Home - Schemes</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Scheme implementation overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic/scheme.html">Schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic/spec.html">The Spec functor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic/glue.html">Scheme obtained by gluing two other schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic/point.html">Points on schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic/ambient_space.html">Ambient spaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic/algebraic_scheme.html">Algebraic schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic/hypersurface.html">Hypersurfaces in affine and projective space</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic/homset.html">Set of homomorphisms between two schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic/morphism.html">Scheme morphism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic/divisor.html">Divisors on schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generic/divisor_group.html">Divisor groups</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../affine/affine_space.html">Affine <span class="math notranslate nohighlight">\(n\)</span> space over a ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../affine/affine_morphism.html">Morphisms on affine schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../affine/affine_point.html">Points on affine varieties</a></li>
<li class="toctree-l1"><a class="reference internal" href="../affine/affine_subscheme.html">Subschemes of affine space</a></li>
<li class="toctree-l1"><a class="reference internal" href="../affine/affine_rational_point.html">Enumeration of rational points on affine schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../affine/affine_homset.html">Set of homomorphisms between two affine schemes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../projective/projective_space.html">Projective <span class="math notranslate nohighlight">\(n\)</span> space over a ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projective/projective_morphism.html">Morphisms on projective schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projective/projective_point.html">Points on projective varieties</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projective/projective_subscheme.html">Subschemes of projective space</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projective/projective_rational_point.html">Enumeration of rational points on projective schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projective/projective_homset.html">Set of homomorphisms between two projective schemes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../product_projective/space.html">Products of projective spaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../product_projective/homset.html">Set of homomorphisms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../product_projective/morphism.html">Polynomial morphisms for products of projective spaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../product_projective/point.html">Points for products of projective spaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../product_projective/subscheme.html">Subschemes of products of projective spaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../product_projective/rational_point.html">Enumeration of rational points on product projective schemes</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Toric varieties</a></li>
<li class="toctree-l1"><a class="reference internal" href="fano_variety.html">Fano toric varieties</a></li>
<li class="toctree-l1"><a class="reference internal" href="library.html">Library of toric varieties</a></li>
<li class="toctree-l1"><a class="reference internal" href="divisor.html">Toric divisors and divisor classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="divisor_class.html">Toric rational divisor classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="chow_group.html">The Chow group of a toric variety</a></li>
<li class="toctree-l1"><a class="reference internal" href="ideal.html">Toric ideals</a></li>
<li class="toctree-l1"><a class="reference internal" href="morphism.html">Morphisms of toric varieties</a></li>
<li class="toctree-l1"><a class="reference internal" href="toric_subscheme.html">Subschemes of toric space</a></li>
<li class="toctree-l1"><a class="reference internal" href="weierstrass.html">Weierstrass form of a toric elliptic curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="weierstrass_covering.html">Map to the Weierstrass form of a toric elliptic curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="weierstrass_higher.html">Weierstrass for elliptic curves in higher codimension</a></li>
<li class="toctree-l1"><a class="reference internal" href="homset.html">Set of homomorphisms between two toric varieties</a></li>
<li class="toctree-l1"><a class="reference internal" href="points.html">Enumerate points of a toric variety</a></li>
<li class="toctree-l1"><a class="reference internal" href="sheaf/constructor.html">Construct sheaves on toric varieties</a></li>
<li class="toctree-l1"><a class="reference internal" href="sheaf/klyachko.html">Klyachko bundles and sheaves</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cyclic_covers/cycliccover_finite_field.html">Cyclic covers over a finite field</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cyclic_covers/cycliccover_generic.html">Cyclic covers curves over a general ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cyclic_covers/charpoly_frobenius.html">Computation of the Frobenius polynomial using Newton’s identities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cyclic_covers/constructor.html">Cyclic cover curve constructor</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../berkovich/berkovich_cp_element.html">Elements of Berkovich space.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../berkovich/berkovich_space.html">Berkovich Space over <span class="math notranslate nohighlight">\(\CC_p\)</span></a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="toric-varieties">
<span id="sage-schemes-toric-variety"></span><h1>Toric varieties<a class="headerlink" href="#toric-varieties" title="Permalink to this headline">#</a></h1>
<span class="target" id="module-sage.schemes.toric.variety"></span><p>This module provides support for (normal) toric varieties, corresponding to
<a class="reference external" href="../../../../discrete_geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fans</span></code></a>.
See also <a class="reference internal" href="fano_variety.html#module-sage.schemes.toric.fano_variety" title="sage.schemes.toric.fano_variety"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fano_variety</span></code></a> for a more
restrictive class of (weak) Fano toric varieties.</p>
<p>An <strong>excellent reference on toric varieties</strong> is the book “Toric
Varieties” by David A. Cox, John B. Little, and Hal Schenck
<a class="reference internal" href="../../../../references/index.html#cls2011" id="id1"><span>[CLS2011]</span></a>.</p>
<p>The interface to this module is provided through functions
<a class="reference internal" href="#sage.schemes.toric.variety.AffineToricVariety" title="sage.schemes.toric.variety.AffineToricVariety"><code class="xref py py-func docutils literal notranslate"><span class="pre">AffineToricVariety()</span></code></a> and <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety" title="sage.schemes.toric.variety.ToricVariety"><code class="xref py py-func docutils literal notranslate"><span class="pre">ToricVariety()</span></code></a>, although you may
also be interested in <a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><code class="xref py py-func docutils literal notranslate"><span class="pre">normalize_names()</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We do NOT build “general toric varieties” from affine toric varieties.
Instead, we are using the quotient representation of toric varieties with
the homogeneous coordinate ring (a.k.a. Cox’s ring or the total coordinate
ring). This description works best for simplicial fans of the full
dimension.</p>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Andrey Novoseltsev (2010-05-17): initial version.</p></li>
<li><p>Volker Braun (2010-07-24): Cohomology and characteristic classes added.</p></li>
</ul>
<p>EXAMPLES:</p>
<p>We start with constructing the affine plane as an affine toric variety. First,
we need to have a corresponding cone:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">quadrant</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
</pre></div>
</div>
<p>If you don’t care about variable names and the base field, that’s all we need
for now:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A2</span> <span class="o">=</span> <span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">quadrant</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A2</span>
<span class="go">2-d affine toric variety</span>
<span class="gp">sage: </span><span class="n">origin</span> <span class="o">=</span> <span class="n">A2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">origin</span>
<span class="go">[0 : 0]</span>
</pre></div>
</div>
<p>Only affine toric varieties have points whose (homogeneous) coordinates
are all zero.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
<span class="go">Set of rational points of 2-d affine toric variety</span>
</pre></div>
</div>
<p>As you can see, by default toric varieties live over the field of rational
numbers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A2</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
</pre></div>
</div>
<p>While usually toric varieties are considered over the field of complex
numbers, for computational purposes it is more convenient to work with fields
that have exact representation on computers. You can also always do</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C2</span> <span class="o">=</span> <span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">quadrant</span><span class="p">,</span> <span class="n">base_field</span><span class="o">=</span><span class="n">CC</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C2</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Complex Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">C2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="o">+</span><span class="n">i</span><span class="p">)</span>
<span class="go">[1.00000000000000 : 2.00000000000000 + 1.00000000000000*I]</span>
</pre></div>
</div>
<p>or even</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CC</span><span class="p">[</span><span class="s2">&quot;a, b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">fraction_field</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">inject_variables</span><span class="p">()</span>
<span class="go">Defining a, b</span>
<span class="gp">sage: </span><span class="n">A2</span> <span class="o">=</span> <span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">quadrant</span><span class="p">,</span> <span class="n">base_field</span><span class="o">=</span><span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A2</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
<span class="go">[a : b]</span>
</pre></div>
</div>
<p>OK, if you need to work only with affine spaces,
<a class="reference internal" href="../affine/affine_space.html#sage.schemes.affine.affine_space.AffineSpace" title="sage.schemes.affine.affine_space.AffineSpace"><code class="xref py py-func docutils literal notranslate"><span class="pre">AffineSpace()</span></code></a> may be a better way to
construct them. Our next example is the product of two projective lines
realized as the toric variety associated to the
<a class="reference external" href="../../../../discrete_geometry/sage/geometry/fan.html#sage.geometry.fan.FaceFan" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">face</span> <span class="pre">fan</span></code></a> of the “diamond”:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">diamond</span> <span class="o">=</span> <span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">diamond</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
<span class="go">M( 1,  0),</span>
<span class="go">M( 0,  1),</span>
<span class="go">M(-1,  0),</span>
<span class="go">M( 0, -1)</span>
<span class="go">in 2-d lattice M</span>
<span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">diamond</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span>
<span class="go">2-d toric variety covered by 4 affine patches</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">M( 1,  0),</span>
<span class="go">M( 0,  1),</span>
<span class="go">M(-1,  0),</span>
<span class="go">M( 0, -1)</span>
<span class="go">in 2-d lattice M</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(z0, z1, z2, z3)</span>
</pre></div>
</div>
<p>We got four coordinates - two for each of the projective lines, but their
names are perhaps not very well chosen. Let’s make <span class="math notranslate nohighlight">\((x,y)\)</span> to be coordinates
on the first line and <span class="math notranslate nohighlight">\((s,t)\)</span> on the second one:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="n">coordinate_names</span><span class="o">=</span><span class="s2">&quot;x s y t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(x, s, y, t)</span>
</pre></div>
</div>
<p>Now, if we want to define subschemes of this variety, the defining polynomials
must be homogeneous in each of these pairs:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">inject_variables</span><span class="p">()</span>
<span class="go">Defining x, s, y, t</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">Closed subscheme of 2-d toric variety</span>
<span class="go">covered by 4 affine patches defined by:</span>
<span class="go">  x</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Closed subscheme of 2-d toric variety</span>
<span class="go">covered by 4 affine patches defined by:</span>
<span class="go">  x^2 + y^2</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">s</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: x^2 + s^2 is not homogeneous</span>
<span class="go">on 2-d toric variety covered by 4 affine patches</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">s</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">s</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">t</span><span class="o">^</span><span class="mi">3</span><span class="p">])</span>
<span class="go">Closed subscheme of 2-d toric variety</span>
<span class="go">covered by 4 affine patches defined by:</span>
<span class="go">  x^2*s^2 + x*y*t^2 + y^2*t^2,</span>
<span class="go">  s^3 + t^3</span>
</pre></div>
</div>
<p>While we don’t build toric varieties from affine toric varieties, we still can
access the “building pieces”:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">patch</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">patch</span>
<span class="go">2-d affine toric variety</span>
<span class="gp">sage: </span><span class="n">patch</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">M(1, 0),</span>
<span class="go">M(0, 1)</span>
<span class="go">in 2-d lattice M</span>
<span class="gp">sage: </span><span class="n">patch</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 2-d affine toric variety</span>
<span class="go">  To:   2-d toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined on coordinates by sending [x : s] to</span>
<span class="go">        [x : s : 1 : 1]</span>
</pre></div>
</div>
<p>The patch above was specifically chosen to coincide with our representation of
the affine plane before, but you can get the other three patches as well.
(While any cone of a fan will correspond to an affine toric variety, the main
interest is usually in the generating fans as “the biggest” affine
subvarieties, and these are precisely the patches that you can get from
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.affine_patch" title="sage.schemes.toric.variety.ToricVariety_field.affine_patch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">affine_patch()</span></code></a>.)</p>
<p>All two-dimensional toric varieties are “quite nice” because any
two-dimensional cone is generated by exactly two rays. From the point of view
of the corresponding toric varieties, this means that they have at worst
quotient singularities:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">NormalFan</span><span class="p">(</span><span class="n">diamond</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">N( 1,  1),</span>
<span class="go">N( 1, -1),</span>
<span class="go">N(-1, -1),</span>
<span class="go">N(-1,  1)</span>
<span class="go">in 2-d lattice N</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>In higher dimensions worse things can happen:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TV3</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">NormalFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">TV3</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">N( 1, -1, -1),</span>
<span class="go">N( 1,  1, -1),</span>
<span class="go">N( 1,  1,  1),</span>
<span class="go">N( 1, -1,  1),</span>
<span class="go">N(-1, -1,  1),</span>
<span class="go">N(-1, -1, -1),</span>
<span class="go">N(-1,  1, -1),</span>
<span class="go">N(-1,  1,  1)</span>
<span class="go">in 3-d lattice N</span>
<span class="gp">sage: </span><span class="n">TV3</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Fortunately, we can perform a (partial) resolution:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TV3_res</span> <span class="o">=</span> <span class="n">TV3</span><span class="o">.</span><span class="n">resolve_to_orbifold</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">TV3_res</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV3_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">12</span>
<span class="gp">sage: </span><span class="n">TV3</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">6</span>
</pre></div>
</div>
<p>In this example we had to double the number of affine patches. The result is
still singular:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TV3_res</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>You can resolve it further using <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.resolve" title="sage.schemes.toric.variety.ToricVariety_field.resolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resolve()</span></code></a> method,
but (at least for now) you will have to specify which rays should be inserted
into the fan. See also
<a class="reference internal" href="fano_variety.html#sage.schemes.toric.fano_variety.CPRFanoToricVariety" title="sage.schemes.toric.fano_variety.CPRFanoToricVariety"><code class="xref py py-func docutils literal notranslate"><span class="pre">CPRFanoToricVariety()</span></code></a>,
which can construct some other “nice partial resolutions.”</p>
<p>The intersection theory on toric varieties is very well understood,
and there are explicit algorithms to compute many quantities of
interest. The most important tools are the <a class="reference internal" href="#sage.schemes.toric.variety.CohomologyRing" title="sage.schemes.toric.variety.CohomologyRing"><code class="xref py py-class docutils literal notranslate"><span class="pre">cohomology</span> <span class="pre">ring</span></code></a> and the <a class="reference internal" href="chow_group.html#module-sage.schemes.toric.chow_group" title="sage.schemes.toric.chow_group"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Chow</span> <span class="pre">group</span></code></a>. For <span class="math notranslate nohighlight">\(d\)</span>-dimensional compact
toric varieties with at most orbifold singularities, the rational
cohomology ring <span class="math notranslate nohighlight">\(H^*(X,\QQ)\)</span> and the rational Chow ring <span class="math notranslate nohighlight">\(A^*(X,\QQ) =
A_{d-*}(X)\otimes \QQ\)</span> are isomorphic except for a doubling in
degree. More precisely, the Chow group has the same rank</p>
<blockquote>
<div><div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[A_{d-k}(X) \otimes \QQ \simeq H^{2k}(X,\QQ)\]</div>
</div>
</div></blockquote>
<p>and the intersection in of Chow cycles matches the cup product in
cohomology.</p>
<p>In this case, you should work with the cohomology ring description
because it is much faster. For example, here is a weighted projective
space with a curve of <span class="math notranslate nohighlight">\(\ZZ_3\)</span>-orbifold singularities:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P4_11133</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P4_11133</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P4_11133</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">(),</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">(False, True)</span>
<span class="gp">sage: </span><span class="n">cone</span> <span class="o">=</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">3</span><span class="p">)[</span><span class="mi">8</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">cone</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">(),</span> <span class="n">cone</span><span class="o">.</span><span class="n">is_simplicial</span><span class="p">()</span>
<span class="go">(False, True)</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">();</span>  <span class="n">HH</span>
<span class="go">Rational cohomology ring of a 4-d CPR-Fano toric variety covered by 5 affine patches</span>
<span class="gp">sage: </span><span class="n">P4_11133</span><span class="o">.</span><span class="n">cohomology_basis</span><span class="p">()</span>
<span class="go">(([1],), ([z4],), ([z4^2],), ([z4^3],), ([z4^4],))</span>
</pre></div>
</div>
<p>Every cone defines a torus orbit closure, and hence a (co)homology class:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">HH</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">([3*z4], [3*z4], [z4], [z4], [z4])</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">HH</span><span class="p">,</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
<span class="go">[[3*z4], [3*z4], [z4], [z4], [z4]]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">HH</span><span class="p">,</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span>
<span class="go">[[9*z4^4], [9*z4^4], [9*z4^4], [9*z4^4], [9*z4^4]]</span>
<span class="gp">sage: </span><span class="n">HH</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span>
<span class="go">[3*z4^3]</span>
</pre></div>
</div>
<p>We can compute intersection numbers by integrating top-dimensional
cohomology classes:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">HH</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="go">[3*z4]</span>
<span class="gp">sage: </span><span class="n">P4_11133</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">HH</span><span class="p">(</span><span class="n">D</span><span class="p">)</span><span class="o">^</span><span class="mi">4</span> <span class="p">)</span>
<span class="go">9</span>
<span class="gp">sage: </span><span class="n">P4_11133</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">HH</span><span class="p">(</span><span class="n">D</span><span class="p">)</span> <span class="o">*</span> <span class="n">HH</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span> <span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Although computationally less efficient, we can do the same
computations with the rational Chow group:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span> <span class="o">=</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">Chow_group</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">AA</span><span class="p">,</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>  <span class="c1"># long time (5s on sage.math, 2012)</span>
<span class="go">[( 0 | 0 | 0 | 3 | 0 ), ( 0 | 0 | 0 | 3 | 0 ), ( 0 | 0 | 0 | 1 | 0 ), ( 0 | 0 | 0 | 1 | 0 ), ( 0 | 0 | 0 | 1 | 0 )]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">AA</span><span class="p">,</span> <span class="n">P4_11133</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">4</span><span class="p">)))</span>  <span class="c1"># long time (5s on sage.math, 2012)</span>
<span class="go">[( 1 | 0 | 0 | 0 | 0 ), ( 1 | 0 | 0 | 0 | 0 ), ( 1 | 0 | 0 | 0 | 0 ), ( 1 | 0 | 0 | 0 | 0 ), ( 1 | 0 | 0 | 0 | 0 )]</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span><span class="o">.</span><span class="n">intersection_with_divisor</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>  <span class="c1"># long time (4s on sage.math, 2013)</span>
<span class="go">( 1 | 0 | 0 | 0 | 0 )</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span><span class="o">.</span><span class="n">intersection_with_divisor</span><span class="p">(</span><span class="n">D</span><span class="p">)</span><span class="o">.</span><span class="n">count_points</span><span class="p">()</span>  <span class="c1"># long time</span>
<span class="go">1</span>
</pre></div>
</div>
<p>The real advantage of the Chow group is that</p>
<blockquote>
<div><ul class="simple">
<li><p>it works just as well over <span class="math notranslate nohighlight">\(\ZZ\)</span>, so torsion information is also
easily available, and</p></li>
<li><p>its combinatorial description also works over worse-than-orbifold
singularities. By contrast, the cohomology groups can become very
complicated to compute in this case, and one usually only has a
spectral sequence but no toric algorithm.</p></li>
</ul>
</div></blockquote>
<p>Below you will find detailed descriptions of available functions. If you are
familiar with toric geometry, you will likely see that many important objects
and operations are unavailable. However, this module is under active
development and hopefully will improve in future releases of Sage. If there
are some particular features that you would like to see implemented ASAP,
please consider reporting them to the Sage Development Team or even
implementing them on your own as a patch for inclusion!</p>
<dl class="py function">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.AffineToricVariety">
<span class="sig-prename descclassname"><span class="pre">sage.schemes.toric.variety.</span></span><span class="sig-name descname"><span class="pre">AffineToricVariety</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cone</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.AffineToricVariety" title="Permalink to this definition">#</a></dt>
<dd><p>Construct an affine toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cone</span></code> – <a class="reference external" href="../../../../discrete_geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">strictly</span> <span class="pre">convex</span> <span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">cone</span></code></a>.</p></li>
</ul>
<p>This cone will be used to construct a <a class="reference external" href="../../../../discrete_geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fan</span></code></a>, which will be passed to
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety" title="sage.schemes.toric.variety.ToricVariety"><code class="xref py py-func docutils literal notranslate"><span class="pre">ToricVariety()</span></code></a> with the rest of positional and keyword arguments.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The generating rays of the fan of this variety are guaranteed to be
listed in the same order as the rays of the original cone.</p>
</div>
<p>EXAMPLES:</p>
<p>We will create the affine plane as an affine toric variety:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">quadrant</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">A2</span> <span class="o">=</span> <span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">quadrant</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">origin</span> <span class="o">=</span> <span class="n">A2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">origin</span>
<span class="go">[0 : 0]</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
<span class="go">Set of rational points of 2-d affine toric variety</span>
</pre></div>
</div>
<p>Only affine toric varieties have points whose (homogeneous) coordinates
are all zero.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.CohomologyClass">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.schemes.toric.variety.</span></span><span class="sig-name descname"><span class="pre">CohomologyClass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cohomology_ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">representative</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyClass" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../rings/sage/rings/quotient_ring_element.html#sage.rings.quotient_ring_element.QuotientRingElement" title="(in General Rings, Ideals, and Morphisms v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.quotient_ring_element.QuotientRingElement</span></code></a></p>
<p>An element of the <a class="reference internal" href="#sage.schemes.toric.variety.CohomologyRing" title="sage.schemes.toric.variety.CohomologyRing"><code class="xref py py-class docutils literal notranslate"><span class="pre">CohomologyRing</span></code></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You should not create instances of this class manually. The
generators of the cohomology ring as well as the cohomology
classes associated to cones of the fan can be obtained from
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_ring" title="sage.schemes.toric.variety.ToricVariety_field.cohomology_ring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ToricVariety_field.cohomology_ring()</span></code></a>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[z]</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[z]</span>
<span class="gp">sage: </span><span class="n">cone</span> <span class="o">=</span> <span class="n">P2</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>  <span class="n">HH</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span>
<span class="go">[z]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.CohomologyClass.deg">
<span class="sig-name descname"><span class="pre">deg</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyClass.deg" title="Permalink to this definition">#</a></dt>
<dd><p>The degree of the cohomology class.</p>
<p>OUTPUT:</p>
<p>An integer <span class="math notranslate nohighlight">\(d\)</span> such that the cohomology class is in degree
<span class="math notranslate nohighlight">\(2d\)</span>. If the cohomology class is of mixed degree, the highest
degree is returned.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">deg</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">zero</span><span class="p">()</span><span class="o">.</span><span class="n">deg</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.CohomologyClass.exp">
<span class="sig-name descname"><span class="pre">exp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyClass.exp" title="Permalink to this definition">#</a></dt>
<dd><p>Exponentiate <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The exponential <span class="math notranslate nohighlight">\(\exp(x)\)</span> of a rational number <span class="math notranslate nohighlight">\(x\)</span> is
usually not rational. Therefore, the cohomology class must
not have a constant (degree zero) part. The coefficients
in the Taylor series of <span class="math notranslate nohighlight">\(\exp\)</span> are rational, so any
cohomology class without constant term can be
exponentiated.</p>
</div>
<p>OUTPUT:</p>
<p>The cohomology class <span class="math notranslate nohighlight">\(\exp(\)</span> <code class="docutils literal notranslate"><span class="pre">self</span></code> <span class="math notranslate nohighlight">\()\)</span> if the constant part
vanishes, otherwise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">H_class</span> <span class="o">=</span> <span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">H_class</span>
<span class="go">[z]</span>
<span class="gp">sage: </span><span class="n">H_class</span><span class="o">.</span><span class="n">exp</span><span class="p">()</span>
<span class="go">[1/2*z^2 + z + 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.CohomologyClass.part_of_degree">
<span class="sig-name descname"><span class="pre">part_of_degree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyClass.part_of_degree" title="Permalink to this definition">#</a></dt>
<dd><p>Project the (mixed-degree) cohomology class to the given degree.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\mathop{pr}\nolimits_d:~ H^\bullet(X_\Delta,\QQ) \to H^{2d}(X_\Delta,\QQ)\]</div>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><p>An integer <code class="docutils literal notranslate"><span class="pre">d</span></code></p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>The degree-<code class="docutils literal notranslate"><span class="pre">2d</span></code> part of the cohomology class.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="mi">3</span><span class="o">*</span><span class="n">t</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">t</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span>
<span class="go">[t*y + 4*t + y + 1]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">t</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">t</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">part_of_degree</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[4*t + y]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.CohomologyRing">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.schemes.toric.variety.</span></span><span class="sig-name descname"><span class="pre">CohomologyRing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variety</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyRing" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../rings/sage/rings/quotient_ring.html#sage.rings.quotient_ring.QuotientRing_generic" title="(in General Rings, Ideals, and Morphisms v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.quotient_ring.QuotientRing_generic</span></code></a>, <a class="reference external" href="../../../../structure/sage/structure/unique_representation.html#sage.structure.unique_representation.UniqueRepresentation" title="(in Parents and Elements v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.unique_representation.UniqueRepresentation</span></code></a></p>
<p>The (even) cohomology ring of a toric variety.</p>
<p>Irregardles of the variety’s base ring, we always work with the
variety over <span class="math notranslate nohighlight">\(\CC\)</span> and its topology.</p>
<p>The cohomology is always the singular cohomology with
<span class="math notranslate nohighlight">\(\QQ\)</span>-coefficients. Note, however, that the cohomology of smooth
toric varieties is torsion-free, so there is no loss of
information in that case.</p>
<p>Currently, the toric variety must not be “too singular”.  See
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_ring" title="sage.schemes.toric.variety.ToricVariety_field.cohomology_ring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ToricVariety_field.cohomology_ring()</span></code></a> for a detailed
description of which toric varieties are admissible. For such
varieties the odd-dimensional cohomology groups vanish.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You should not create instances of this class manually. Use
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_ring" title="sage.schemes.toric.variety.ToricVariety_field.cohomology_ring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ToricVariety_field.cohomology_ring()</span></code></a> to generate the
cohomology ring.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">variety</span></code> – a toric variety. Currently, the toric variety
must be at least an orbifold. See
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_ring" title="sage.schemes.toric.variety.ToricVariety_field.cohomology_ring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ToricVariety_field.cohomology_ring()</span></code></a> for a detailed
description of which toric varieties are admissible.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="go">Rational cohomology ring of a 2-d CPR-Fano toric variety covered by 3 affine patches</span>
</pre></div>
</div>
<p>This is equivalent to:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.schemes.toric.variety</span> <span class="kn">import</span> <span class="n">CohomologyRing</span>
<span class="gp">sage: </span><span class="n">CohomologyRing</span><span class="p">(</span><span class="n">P2</span><span class="p">)</span>
<span class="go">Rational cohomology ring of a 2-d CPR-Fano toric variety covered by 3 affine patches</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.CohomologyRing.gen">
<span class="sig-name descname"><span class="pre">gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyRing.gen" title="Permalink to this definition">#</a></dt>
<dd><p>Return the generators of the cohomology ring.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code> – integer.</p></li>
</ul>
<p>OUTPUT:</p>
<p>The <code class="docutils literal notranslate"><span class="pre">i</span></code>-th generator of the cohomology ring. If we denote
the toric variety by <code class="docutils literal notranslate"><span class="pre">X</span></code>, then this generator is
associated to the ray <code class="docutils literal notranslate"><span class="pre">X.fan().ray(i)</span></code>, which spans the
one-cone <code class="docutils literal notranslate"><span class="pre">X.fan(1)[i]</span></code></p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[z]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.CohomologyRing.gens">
<span class="sig-name descname"><span class="pre">gens</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.CohomologyRing.gens" title="Permalink to this definition">#</a></dt>
<dd><p>Return the generators of the cohomology ring.</p>
<p>OUTPUT:</p>
<p>A tuple of generators, one for each toric divisor of the toric
variety <code class="docutils literal notranslate"><span class="pre">X</span></code>. The order is the same as the ordering of the
rays of the fan <code class="docutils literal notranslate"><span class="pre">X.fan().rays()</span></code>, which is also the same as
the ordering of the one-cones in <code class="docutils literal notranslate"><span class="pre">X.fan(1)</span></code></p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">([z], [z], [z])</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety">
<span class="sig-prename descclassname"><span class="pre">sage.schemes.toric.variety.</span></span><span class="sig-name descname"><span class="pre">ToricVariety</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_names=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_indices=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_ring=Rational</span> <span class="pre">Field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_field=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety" title="Permalink to this definition">#</a></dt>
<dd><p>Construct a toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fan</span></code> – <a class="reference external" href="../../../../discrete_geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fan</span></code></a>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coordinate_names</span></code> – names of variables for the coordinate ring, see
<a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><code class="xref py py-func docutils literal notranslate"><span class="pre">normalize_names()</span></code></a> for acceptable formats. If not given, indexed
variable names will be created automatically;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">names</span></code> – an alias of <code class="docutils literal notranslate"><span class="pre">coordinate_names</span></code> for internal
use. You may specify either <code class="docutils literal notranslate"><span class="pre">names</span></code> or <code class="docutils literal notranslate"><span class="pre">coordinate_names</span></code>,
but not both;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coordinate_indices</span></code> – list of integers, indices for indexed
variables. If not given, the index of each variable will coincide with
the index of the corresponding ray of the fan;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">base_ring</span></code> – base ring of the toric variety (default:
<span class="math notranslate nohighlight">\(\QQ\)</span>). Must be a field.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">base_field</span></code> – alias for <code class="docutils literal notranslate"><span class="pre">base_ring</span></code>. Takes precedence if
both are specified.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a>.</p></li>
</ul>
<p>EXAMPLES:</p>
<p>We will create the product of two projective lines:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">fan</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">M( 1,  0),</span>
<span class="go">M( 0,  1),</span>
<span class="go">M(-1,  0),</span>
<span class="go">M( 0, -1)</span>
<span class="go">in 2-d lattice M</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(z0, z1, z2, z3)</span>
</pre></div>
</div>
<p>Let’s create some points:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1 : 1 : 1 : 1]</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[0 : 1 : 1 : 1]</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: coordinates (0, 1, 0, 1)</span>
<span class="go">are in the exceptional set</span>
</pre></div>
</div>
<p>We cannot set to zero both coordinates of the same projective line!</p>
<p>Let’s change the names of the variables. We have to re-create our toric
variety:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="s2">&quot;x s y t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(x, s, y, t)</span>
</pre></div>
</div>
<p>Now <span class="math notranslate nohighlight">\((x, y)\)</span> correspond to one line and <span class="math notranslate nohighlight">\((s, t)\)</span> to the other one.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">inject_variables</span><span class="p">()</span>
<span class="go">Defining x, s, y, t</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">s</span><span class="o">-</span><span class="n">y</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
<span class="go">Closed subscheme of 2-d toric variety</span>
<span class="go">covered by 4 affine patches defined by:</span>
<span class="go">  x*s - y*t</span>
</pre></div>
</div>
<p>Here is a shorthand for defining the toric variety and homogeneous
coordinates in one go:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">c</span><span class="o">+</span><span class="n">d</span><span class="p">)</span>
<span class="go">a^2*c + b^2*c + a^2*d + b^2*d</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.schemes.toric.variety.</span></span><span class="sig-name descname"><span class="pre">ToricVariety_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generic/ambient_space.html#sage.schemes.generic.ambient_space.AmbientSpace" title="sage.schemes.generic.ambient_space.AmbientSpace"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.schemes.generic.ambient_space.AmbientSpace</span></code></a></p>
<p>Construct a toric variety associated to a rational polyhedral fan.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This class does not perform any checks of correctness of input. Use
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety" title="sage.schemes.toric.variety.ToricVariety"><code class="xref py py-func docutils literal notranslate"><span class="pre">ToricVariety()</span></code></a> and <a class="reference internal" href="#sage.schemes.toric.variety.AffineToricVariety" title="sage.schemes.toric.variety.AffineToricVariety"><code class="xref py py-func docutils literal notranslate"><span class="pre">AffineToricVariety()</span></code></a> to construct toric
varieties.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fan</span></code> – <a class="reference external" href="../../../../discrete_geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fan</span></code></a>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coordinate_names</span></code> – names of variables, see <a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><code class="xref py py-func docutils literal notranslate"><span class="pre">normalize_names()</span></code></a>
for acceptable formats. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, indexed variable names will be
created automatically;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coordinate_indices</span></code> – list of integers, indices for indexed
variables. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the index of each variable will coincide with
the index of the corresponding ray of the fan;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">base_field</span></code> – base field of the toric variety.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a>.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Aut_dimension">
<span class="sig-name descname"><span class="pre">Aut_dimension</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Aut_dimension" title="Permalink to this definition">#</a></dt>
<dd><p>Return the dimension of the automorphism group</p>
<p>There are three kinds of symmetries of toric varieties:</p>
<blockquote>
<div><ul class="simple">
<li><p>Toric automorphisms (rescaling of homogeneous coordinates)</p></li>
<li><p>Demazure roots. These are translations <span class="math notranslate nohighlight">\(x_i \to x_i +
\epsilon x^m\)</span> of a homogeneous coordinate <span class="math notranslate nohighlight">\(x_i\)</span> by a
monomial <span class="math notranslate nohighlight">\(x^m\)</span> of the same homogeneous degree.</p></li>
<li><p>Symmetries of the fan. These yield discrete subgroups.</p></li>
</ul>
</div></blockquote>
<p>OUTPUT:</p>
<p>An integer. The dimension of the automorphism group. Equals
the dimension of the <span class="math notranslate nohighlight">\(M\)</span>-lattice plus the number of Demazure
roots.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">Aut_dimension</span><span class="p">()</span>
<span class="go">8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Chern_character">
<span class="sig-name descname"><span class="pre">Chern_character</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Chern_character" title="Permalink to this definition">#</a></dt>
<dd><p>Return the Chern character (of the tangent bundle) of the toric
variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deg</span></code> – integer (optional). The degree of the Chern
character.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>If the degree is specified, the degree-<code class="docutils literal notranslate"><span class="pre">deg</span></code> part of the
Chern character.</p></li>
<li><p>If no degree is specified, the total Chern character.</p></li>
</ul>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Chern_character#The_Chern_character">Wikipedia article Chern_character#The_Chern_character</a></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Chern_character</span><span class="p">()</span>
<span class="go">[3*w^2 + y + 2*v + 2*z + w + 2]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">ch</span><span class="p">()</span>
<span class="go">[3*w^2 + y + 2*v + 2*z + w + 2]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">ch</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">dP6</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Chern_class">
<span class="sig-name descname"><span class="pre">Chern_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Chern_class" title="Permalink to this definition">#</a></dt>
<dd><p>Return Chern classes of the (tangent bundle of the) toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deg</span></code> – integer (optional). The degree of the Chern class.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>If the degree is specified, the <code class="docutils literal notranslate"><span class="pre">deg</span></code>-th Chern class.</p></li>
<li><p>If no degree is specified, the total Chern class.</p></li>
</ul>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Chern_class">Wikipedia article Chern_class</a></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">Chern_class</span><span class="p">()</span>
<span class="go">[-6*w^2 + y + 2*v + 2*z + w + 1]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">()</span>
<span class="go">[-6*w^2 + y + 2*v + 2*z + w + 1]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[y + 2*v + 2*z + w]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[-6*w^2]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span> <span class="o">==</span> <span class="n">X</span><span class="o">.</span><span class="n">Euler_number</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Chow_group">
<span class="sig-name descname"><span class="pre">Chow_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_ring=Integer</span> <span class="pre">Ring</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Chow_group" title="Permalink to this definition">#</a></dt>
<dd><p>Return the toric Chow group.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">base_ring</span></code> – either <code class="docutils literal notranslate"><span class="pre">ZZ</span></code> (default) or <code class="docutils literal notranslate"><span class="pre">QQ</span></code>. The
coefficient ring of the Chow group.</p></li>
</ul>
<p>OUTPUT:</p>
<p>A <a class="reference internal" href="chow_group.html#sage.schemes.toric.chow_group.ChowGroup_class" title="sage.schemes.toric.chow_group.ChowGroup_class"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.schemes.toric.chow_group.ChowGroup_class</span></code></a></p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span><span class="o">.</span><span class="n">Chow_group</span><span class="p">();</span> <span class="n">A</span>
<span class="go">Chow group of 2-d CPR-Fano toric variety covered by 3 affine patches</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(( 0 | 0 | 1 ), ( 0 | 1 | 0 ), ( 1 | 0 | 0 ))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Demazure_roots">
<span class="sig-name descname"><span class="pre">Demazure_roots</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Demazure_roots" title="Permalink to this definition">#</a></dt>
<dd><p>Return the Demazure roots.</p>
<p>OUTPUT:</p>
<p>The roots as points of the <span class="math notranslate nohighlight">\(M\)</span>-lattice.</p>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../../references/index.html#de1970" id="id2"><span>[De1970]</span></a></p></li>
<li><p><a class="reference internal" href="../../../../references/index.html#baz2011" id="id3"><span>[Baz2011]</span></a></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span>
<span class="go">(M(-1, 0), M(-1, 1), M(0, -1), M(0, 1), M(1, -1), M(1, 0))</span>
</pre></div>
</div>
<p>Here are the remaining three examples listed in <a class="reference internal" href="../../../../references/index.html#baz2011" id="id4"><span>[Baz2011]</span></a>, Example 2.1 and 2.3:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">cones</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">Hs</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">Fan</span><span class="p">(</span><span class="n">rays</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">s</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">cones</span><span class="o">=</span><span class="n">cones</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">Hs</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span>
<span class="go">(M(-1, 0), M(1, 0), M(0, 1), M(1, 1), M(2, 1), M(3, 1))</span>

<span class="gp">sage: </span><span class="n">P11s</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">Fan</span><span class="p">(</span><span class="n">rays</span><span class="o">=</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">s</span><span class="p">)],</span> <span class="n">cones</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)]))</span>
<span class="gp">sage: </span><span class="n">P11s</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span>
<span class="go">(M(-1, 0), M(1, 0), M(0, 1), M(1, 1), M(2, 1), M(3, 1))</span>
<span class="gp">sage: </span><span class="n">P11s</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span> <span class="o">==</span> <span class="n">Hs</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">Bs</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">Fan</span><span class="p">(</span><span class="n">rays</span><span class="o">=</span><span class="p">[(</span><span class="n">s</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="n">s</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="o">-</span><span class="n">s</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),(</span><span class="o">-</span><span class="n">s</span><span class="p">,</span><span class="mi">1</span><span class="p">)],</span> <span class="n">cones</span><span class="o">=</span><span class="n">cones</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">Bs</span><span class="o">.</span><span class="n">Demazure_roots</span><span class="p">()</span>
<span class="go">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Euler_number">
<span class="sig-name descname"><span class="pre">Euler_number</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Euler_number" title="Permalink to this definition">#</a></dt>
<dd><p>Return the topological Euler number of the toric variety.</p>
<p>Sometimes, this is also called the Euler
characteristic. <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.chi" title="sage.schemes.toric.variety.ToricVariety_field.chi"><code class="xref py py-meth docutils literal notranslate"><span class="pre">chi()</span></code></a> is a synonym for
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.Euler_number" title="sage.schemes.toric.variety.ToricVariety_field.Euler_number"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Euler_number()</span></code></a>.</p>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Euler_characteristic">Wikipedia article Euler_characteristic</a></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">Euler_number</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">chi</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.K">
<span class="sig-name descname"><span class="pre">K</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.K" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the canonical divisor of the toric variety.</p>
<p>EXAMPLES:</p>
<p>Lets test that the del Pezzo surface <span class="math notranslate nohighlight">\(dP_6\)</span> has degree 6, as its name implies:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">dP6</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">K</span><span class="p">()</span>
<span class="go">-V(x) - V(u) - V(y) - V(v) - V(z) - V(w)</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">HH</span><span class="p">(</span><span class="n">dP6</span><span class="o">.</span><span class="n">K</span><span class="p">())</span><span class="o">^</span><span class="mi">2</span> <span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Kaehler_cone">
<span class="sig-name descname"><span class="pre">Kaehler_cone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Kaehler_cone" title="Permalink to this definition">#</a></dt>
<dd><p>Return the closure of the Kähler cone of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><a class="reference external" href="../../../../discrete_geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">cone</span></code></a>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This cone sits in the rational divisor class group of <code class="docutils literal notranslate"><span class="pre">self</span></code> and
the choice of coordinates agrees with
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.rational_class_group" title="sage.schemes.toric.variety.ToricVariety_field.rational_class_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rational_class_group()</span></code></a>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Kc</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">Kaehler_cone</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Kc</span>
<span class="go">2-d cone in 2-d lattice</span>
<span class="gp">sage: </span><span class="n">Kc</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">Divisor class [0, 1],</span>
<span class="go">Divisor class [1, 0]</span>
<span class="go">in Basis lattice of The toric rational divisor class group</span>
<span class="go">of a 2-d CPR-Fano toric variety covered by 4 affine patches</span>
<span class="gp">sage: </span><span class="p">[</span> <span class="n">divisor_class</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span> <span class="k">for</span> <span class="n">divisor_class</span> <span class="ow">in</span> <span class="n">Kc</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span> <span class="p">]</span>
<span class="go">[V(y), V(t)]</span>
<span class="gp">sage: </span><span class="n">Kc</span><span class="o">.</span><span class="n">lattice</span><span class="p">()</span>
<span class="go">Basis lattice of The toric rational divisor class group of a</span>
<span class="go">2-d CPR-Fano toric variety covered by 4 affine patches</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Mori_cone">
<span class="sig-name descname"><span class="pre">Mori_cone</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Mori_cone" title="Permalink to this definition">#</a></dt>
<dd><p>Returns the Mori cone of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><a class="reference external" href="../../../../discrete_geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">cone</span></code></a>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The Mori cone is dual to the Kähler cone.</p></li>
<li><p>We think of the Mori cone as living inside the row span of the
Gale transform matrix (computed by
<code class="docutils literal notranslate"><span class="pre">self.fan().Gale_transform()</span></code>).</p></li>
<li><p>The points in the Mori cone are the effective curves in the
variety.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">i</span></code>-th entry in each Mori vector is the intersection
number of the curve corresponding to the generator of the
<code class="docutils literal notranslate"><span class="pre">i</span></code>-th ray of the fan with the corresponding divisor class.
The very last entry is associated to the origin of the fan
lattice.</p></li>
<li><p>The Mori vectors are also known as the gauged linear sigma model
charge vectors.</p></li>
</ul>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P4_11169</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P4_11169_resolved</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P4_11169</span><span class="o">.</span><span class="n">Mori_cone</span><span class="p">()</span>
<span class="go">2-d cone in 7-d lattice</span>
<span class="gp">sage: </span><span class="n">P4_11169</span><span class="o">.</span><span class="n">Mori_cone</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">(3, 2, 0, 0, 0,  1, -6),</span>
<span class="go">(0, 0, 1, 1, 1, -3,  0)</span>
<span class="go">in Ambient free module of rank 7</span>
<span class="go">over the principal ideal domain Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Spec">
<span class="sig-name descname"><span class="pre">Spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Spec" title="Permalink to this definition">#</a></dt>
<dd><p>Return the spectrum associated to the dual cone.</p>
<p>Let <span class="math notranslate nohighlight">\(\sigma \in N_\RR\)</span> be a cone and <span class="math notranslate nohighlight">\(\sigma^\vee \cap M\)</span> the
associated semigroup of lattice points in the dual cone. Then</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[S = \CC[\sigma^\vee \cap M]\]</div>
</div>
<p>is a <span class="math notranslate nohighlight">\(\CC\)</span>-algebra. It is spanned over <span class="math notranslate nohighlight">\(\CC\)</span> by the points of
<span class="math notranslate nohighlight">\(\sigma \cap N\)</span>, addition is formal linear combination of
lattice points, and multiplication of lattice points is the
semigroup law (that is, addition of lattice points). The
<span class="math notranslate nohighlight">\(\CC\)</span>-algebra <span class="math notranslate nohighlight">\(S\)</span> then defines a scheme <span class="math notranslate nohighlight">\(\mathop{Spec}(S)\)</span>.</p>
<p>For example, if <span class="math notranslate nohighlight">\(\sigma=\{(x,y)|x\geq 0,y\geq 0\}\)</span> is the
first quadrant then <span class="math notranslate nohighlight">\(S\)</span> is the polynomial ring in two
variables. The associated scheme is <span class="math notranslate nohighlight">\(\mathop{Spec}(S) =
\CC^2\)</span>.</p>
<p>The same construction works over any base field, this
introduction only used <span class="math notranslate nohighlight">\(\CC\)</span> for simplicity.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cone</span></code> – a <a class="reference external" href="../../../../discrete_geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cone</span></code></a>. Can be
omitted for an affine toric variety, in which case the
(unique) generating cone is used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">names</span></code> – (optional). Names of variables for the
semigroup ring, see <a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><code class="xref py py-func docutils literal notranslate"><span class="pre">normalize_names()</span></code></a> for acceptable
formats. If not given, indexed variable names will be
created automatically.</p></li>
</ul>
<p>Output:</p>
<p>The spectrum of the semigroup ring <span class="math notranslate nohighlight">\(\CC[\sigma^\vee \cap M]\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">quadrant</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">quadrant</span><span class="p">)</span><span class="o">.</span><span class="n">Spec</span><span class="p">()</span>
<span class="go">Spectrum of Multivariate Polynomial Ring in z0, z1 over Rational Field</span>
</pre></div>
</div>
<p>A more interesting example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A2Z2</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">A2Z2</span><span class="p">)</span><span class="o">.</span><span class="n">Spec</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="s1">&#39;u,v,t&#39;</span><span class="p">)</span>
<span class="go">Spectrum of Quotient of Multivariate Polynomial Ring</span>
<span class="go">in u, v, t over Rational Field by the ideal (-u*v + t^2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Stanley_Reisner_ideal">
<span class="sig-name descname"><span class="pre">Stanley_Reisner_ideal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Stanley_Reisner_ideal" title="Permalink to this definition">#</a></dt>
<dd><p>Return the Stanley-Reisner ideal.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>The Stanley-Reisner ideal in the polynomial ring over
<span class="math notranslate nohighlight">\(\QQ\)</span> generated by the homogeneous coordinates.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">Fan</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="p">[(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="n">coordinate_names</span><span class="o">=</span><span class="s1">&#39;A B C D E&#39;</span><span class="p">,</span> <span class="n">base_field</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">SR</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">Stanley_Reisner_ideal</span><span class="p">();</span> <span class="n">SR</span>
<span class="go">Ideal (A*E, C*D, A*B*C, B*D*E) of Multivariate Polynomial Ring in A, B, C, D, E over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Td">
<span class="sig-name descname"><span class="pre">Td</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Td" title="Permalink to this definition">#</a></dt>
<dd><p>Return the Todd class (of the tangent bundle) of the toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deg</span></code> – integer (optional). The desired degree part.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>If the degree is specified, the degree-<code class="docutils literal notranslate"><span class="pre">deg</span></code> part of the
Todd class.</p></li>
<li><p>If no degree is specified, the total Todd class.</p></li>
</ul>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Todd_class">Wikipedia article Todd_class</a></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Todd_class</span><span class="p">()</span>
<span class="go">[-w^2 + 1/2*y + v + z + 1/2*w + 1]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Td</span><span class="p">()</span>
<span class="go">[-w^2 + 1/2*y + v + z + 1/2*w + 1]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">dP6</span><span class="o">.</span><span class="n">Td</span><span class="p">()</span> <span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.Todd_class">
<span class="sig-name descname"><span class="pre">Todd_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.Todd_class" title="Permalink to this definition">#</a></dt>
<dd><p>Return the Todd class (of the tangent bundle) of the toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deg</span></code> – integer (optional). The desired degree part.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>If the degree is specified, the degree-<code class="docutils literal notranslate"><span class="pre">deg</span></code> part of the
Todd class.</p></li>
<li><p>If no degree is specified, the total Todd class.</p></li>
</ul>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Todd_class">Wikipedia article Todd_class</a></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Todd_class</span><span class="p">()</span>
<span class="go">[-w^2 + 1/2*y + v + z + 1/2*w + 1]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Td</span><span class="p">()</span>
<span class="go">[-w^2 + 1/2*y + v + z + 1/2*w + 1]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">dP6</span><span class="o">.</span><span class="n">Td</span><span class="p">()</span> <span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.affine_algebraic_patch">
<span class="sig-name descname"><span class="pre">affine_algebraic_patch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.affine_algebraic_patch" title="Permalink to this definition">#</a></dt>
<dd><p>Return the patch corresponding to <code class="docutils literal notranslate"><span class="pre">cone</span></code> as an affine
algebraic subvariety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cone</span></code> – a <a class="reference external" href="../../../../discrete_geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cone</span></code></a> <span class="math notranslate nohighlight">\(\sigma\)</span>
of the fan. It can be omitted for an affine toric variety,
in which case the single generating cone is used.</p></li>
</ul>
<p>OUTPUT:</p>
<p>A <a class="reference internal" href="../affine/affine_subscheme.html#sage.schemes.affine.affine_subscheme.AlgebraicScheme_subscheme_affine" title="sage.schemes.affine.affine_subscheme.AlgebraicScheme_subscheme_affine"><code class="xref py py-class docutils literal notranslate"><span class="pre">affine</span> <span class="pre">algebraic</span> <span class="pre">subscheme</span></code></a>
corresponding to the patch <span class="math notranslate nohighlight">\(\mathop{Spec}(\sigma^\vee \cap M)\)</span>
associated to the cone <span class="math notranslate nohighlight">\(\sigma\)</span>.</p>
<p>See also <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.affine_patch" title="sage.schemes.toric.variety.ToricVariety_field.affine_patch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">affine_patch()</span></code></a>, which expresses the patches as
subvarieties of affine toric varieties instead.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cone</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">A2Z2</span> <span class="o">=</span> <span class="n">AffineToricVariety</span><span class="p">(</span><span class="n">cone</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A2Z2</span><span class="o">.</span><span class="n">affine_algebraic_patch</span><span class="p">()</span>
<span class="go">Closed subscheme of Affine Space of dimension 3 over Rational Field defined by:</span>
<span class="go">  -z0*z1 + z2^2</span>
<span class="gp">sage: </span><span class="n">A2Z2</span><span class="o">.</span><span class="n">affine_algebraic_patch</span><span class="p">(</span><span class="n">Cone</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)]),</span> <span class="n">names</span><span class="o">=</span><span class="s1">&#39;x, y, t&#39;</span><span class="p">)</span>
<span class="go">Closed subscheme of Affine Space of dimension 3 over Rational Field defined by:</span>
<span class="go">  1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.affine_patch">
<span class="sig-name descname"><span class="pre">affine_patch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.affine_patch" title="Permalink to this definition">#</a></dt>
<dd><p>Return the <code class="docutils literal notranslate"><span class="pre">i</span></code>-th affine patch of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code> – integer, index of a generating cone of the fan of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>affine <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a> corresponding to
the <code class="docutils literal notranslate"><span class="pre">i</span></code>-th generating cone of the fan of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
</ul>
<p>The result is cached, so the <code class="docutils literal notranslate"><span class="pre">i</span></code>-th patch is always the same object
in memory.</p>
<p>See also <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.affine_algebraic_patch" title="sage.schemes.toric.variety.ToricVariety_field.affine_algebraic_patch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">affine_algebraic_patch()</span></code></a>, which expresses the
patches as subvarieties of affine space instead.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="s2">&quot;x s y t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">patch0</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">patch0</span>
<span class="go">2-d affine toric variety</span>
<span class="gp">sage: </span><span class="n">patch0</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 2-d affine toric variety</span>
<span class="go">  To:   2-d toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined on coordinates by sending [y : t] to</span>
<span class="go">        [1 : 1 : y : t]</span>
<span class="gp">sage: </span><span class="n">patch1</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">patch1</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 2-d affine toric variety</span>
<span class="go">  To:   2-d toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined on coordinates by sending [s : y] to</span>
<span class="go">        [1 : s : y : 1]</span>
<span class="gp">sage: </span><span class="n">patch1</span> <span class="ow">is</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.c">
<span class="sig-name descname"><span class="pre">c</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.c" title="Permalink to this definition">#</a></dt>
<dd><p>Return Chern classes of the (tangent bundle of the) toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deg</span></code> – integer (optional). The degree of the Chern class.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>If the degree is specified, the <code class="docutils literal notranslate"><span class="pre">deg</span></code>-th Chern class.</p></li>
<li><p>If no degree is specified, the total Chern class.</p></li>
</ul>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Chern_class">Wikipedia article Chern_class</a></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">Chern_class</span><span class="p">()</span>
<span class="go">[-6*w^2 + y + 2*v + 2*z + w + 1]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">()</span>
<span class="go">[-6*w^2 + y + 2*v + 2*z + w + 1]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[y + 2*v + 2*z + w]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[-6*w^2]</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span> <span class="n">X</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span> <span class="o">==</span> <span class="n">X</span><span class="o">.</span><span class="n">Euler_number</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.cartesian_product">
<span class="sig-name descname"><span class="pre">cartesian_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.cartesian_product" title="Permalink to this definition">#</a></dt>
<dd><p>Return the Cartesian product of <code class="docutils literal notranslate"><span class="pre">self</span></code> with <code class="docutils literal notranslate"><span class="pre">other</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">other</span></code> – a <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coordinate_names</span></code> – names of variables for the coordinate ring,
see <a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><code class="xref py py-func docutils literal notranslate"><span class="pre">normalize_names()</span></code></a> for acceptable formats. If not given,
indexed variable names will be created automatically;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coordinate_indices</span></code> – list of integers, indices for indexed
variables. If not given, the index of each variable will coincide
with the index of the corresponding ray of the fan.</p></li>
</ul>
<p>OUTPUT:</p>
<p>– a <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">Fan</span><span class="p">([</span><span class="n">Cone</span><span class="p">([(</span><span class="mi">1</span><span class="p">,)]),</span> <span class="n">Cone</span><span class="p">([(</span><span class="o">-</span><span class="mi">1</span><span class="p">,)])]))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">P1</span><span class="o">.</span><span class="n">cartesian_product</span><span class="p">(</span><span class="n">P1</span><span class="p">);</span> <span class="n">P1xP1</span>
<span class="go">2-d toric variety covered by 4 affine patches</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">N+N(-1,  0),</span>
<span class="go">N+N( 1,  0),</span>
<span class="go">N+N( 0, -1),</span>
<span class="go">N+N( 0,  1)</span>
<span class="go">in 2-d lattice N+N</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.ch">
<span class="sig-name descname"><span class="pre">ch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.ch" title="Permalink to this definition">#</a></dt>
<dd><p>Return the Chern character (of the tangent bundle) of the toric
variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deg</span></code> – integer (optional). The degree of the Chern
character.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>If the degree is specified, the degree-<code class="docutils literal notranslate"><span class="pre">deg</span></code> part of the
Chern character.</p></li>
<li><p>If no degree is specified, the total Chern character.</p></li>
</ul>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Chern_character#The_Chern_character">Wikipedia article Chern_character#The_Chern_character</a></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">Chern_character</span><span class="p">()</span>
<span class="go">[3*w^2 + y + 2*v + 2*z + w + 2]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">ch</span><span class="p">()</span>
<span class="go">[3*w^2 + y + 2*v + 2*z + w + 2]</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">ch</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">dP6</span><span class="o">.</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.change_ring">
<span class="sig-name descname"><span class="pre">change_ring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">F</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.change_ring" title="Permalink to this definition">#</a></dt>
<dd><p>Return a toric variety over <code class="docutils literal notranslate"><span class="pre">F</span></code> and otherwise the same as <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">F</span></code> – field.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a> over <code class="docutils literal notranslate"><span class="pre">F</span></code>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is no need to have any relation between <code class="docutils literal notranslate"><span class="pre">F</span></code> and the base
field of <code class="docutils literal notranslate"><span class="pre">self</span></code>. If you do want to have such a relation, use
<code class="xref py py-meth docutils literal notranslate"><span class="pre">base_extend()</span></code> instead.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xA1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xA1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xA1</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">P1xA1_RR</span> <span class="o">=</span> <span class="n">P1xA1</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xA1_RR</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">P1xA1_QQ</span> <span class="o">=</span> <span class="n">P1xA1_RR</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xA1_QQ</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">P1xA1_RR</span><span class="o">.</span><span class="n">base_extend</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: no natural map from the base ring</span>
<span class="go">(=Real Field with 53 bits of precision)</span>
<span class="go">to R (=Rational Field)!</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xA1</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: need a field to construct a toric variety;</span>
<span class="go">got Multivariate Polynomial Ring in a0, a1 over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.chi">
<span class="sig-name descname"><span class="pre">chi</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.chi" title="Permalink to this definition">#</a></dt>
<dd><p>Return the topological Euler number of the toric variety.</p>
<p>Sometimes, this is also called the Euler
characteristic. <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.chi" title="sage.schemes.toric.variety.ToricVariety_field.chi"><code class="xref py py-meth docutils literal notranslate"><span class="pre">chi()</span></code></a> is a synonym for
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.Euler_number" title="sage.schemes.toric.variety.ToricVariety_field.Euler_number"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Euler_number()</span></code></a>.</p>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Euler_characteristic">Wikipedia article Euler_characteristic</a></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">Euler_number</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">chi</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.cohomology_basis">
<span class="sig-name descname"><span class="pre">cohomology_basis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_basis" title="Permalink to this definition">#</a></dt>
<dd><p>Return a basis for the cohomology of the toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code> (optional) – integer.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>Without the optional argument, a list whose d-th entry is a
basis for <span class="math notranslate nohighlight">\(H^{2d}(X,\QQ)\)</span></p></li>
<li><p>If the argument is an integer <code class="docutils literal notranslate"><span class="pre">d</span></code>, returns basis for
<span class="math notranslate nohighlight">\(H^{2d}(X,\QQ)\)</span></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP8</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_basis</span><span class="p">()</span>
<span class="go">(([1],), ([z], [y]), ([y*z],))</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_basis</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">([z], [y])</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_basis</span><span class="p">(</span><span class="n">dimension</span><span class="p">(</span><span class="n">X</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">X</span><span class="o">.</span><span class="n">volume_class</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.cohomology_ring">
<span class="sig-name descname"><span class="pre">cohomology_ring</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.cohomology_ring" title="Permalink to this definition">#</a></dt>
<dd><p>Return the cohomology ring of the toric variety.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>If the toric variety is over <span class="math notranslate nohighlight">\(\CC\)</span> and has at most finite
orbifold singularities: <span class="math notranslate nohighlight">\(H^\bullet(X,\QQ)\)</span> as a polynomial
quotient ring.</p></li>
<li><p>Other cases are not handled yet.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Toric varieties over any field of characteristic 0 are
treated as if they were varieties over <span class="math notranslate nohighlight">\(\CC\)</span>.</p></li>
<li><p>The integral cohomology of smooth toric varieties is
torsion-free, so in this case there is no loss of
information when going to rational coefficients.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.cohomology_ring().gen(i)</span></code> is the divisor class corresponding to
the <code class="docutils literal notranslate"><span class="pre">i</span></code>-th ray of the fan.</p></li>
</ul>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="go">Rational cohomology ring of a 2-d CPR-Fano toric variety covered by 6 affine patches</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">defining_ideal</span><span class="p">()</span>
<span class="go">Ideal (-u - y + z + w, x - y - v + w, x*y, x*v, x*z, u*v, u*z, u*w, y*z, y*w, v*w) of Multivariate Polynomial Ring in x, u, y, v, z, w over Rational Field</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">defining_ideal</span><span class="p">()</span><span class="o">.</span><span class="n">ring</span><span class="p">()</span>
<span class="go">Multivariate Polynomial Ring in x, u, y, v, z, w over Rational Field</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">variable_names</span><span class="p">()</span>
<span class="go">(&#39;x&#39;, &#39;u&#39;, &#39;y&#39;, &#39;v&#39;, &#39;z&#39;, &#39;w&#39;)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">([y + v - w], [-y + z + w], [y], [v], [z], [w])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.coordinate_ring">
<span class="sig-name descname"><span class="pre">coordinate_ring</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.coordinate_ring" title="Permalink to this definition">#</a></dt>
<dd><p>Return the coordinate ring of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>For toric varieties this is the homogeneous coordinate ring (a.k.a.
Cox’s ring and total ring).</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>polynomial ring.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Multivariate Polynomial Ring in s, t, x, y</span>
<span class="go">over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.count_points">
<span class="sig-name descname"><span class="pre">count_points</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.count_points" title="Permalink to this definition">#</a></dt>
<dd><p>Return the number of points of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This is an alias for <code class="docutils literal notranslate"><span class="pre">point_set().cardinality()</span></code>, see
<a class="reference internal" href="homset.html#sage.schemes.toric.homset.SchemeHomset_points_toric_field.cardinality" title="sage.schemes.toric.homset.SchemeHomset_points_toric_field.cardinality"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cardinality()</span></code></a>
for details.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">o</span> <span class="o">=</span> <span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">FaceFan</span><span class="p">(</span><span class="n">o</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">V2</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">V2</span><span class="o">.</span><span class="n">point_set</span><span class="p">()</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">27</span>
<span class="gp">sage: </span><span class="n">V2</span><span class="o">.</span><span class="n">count_points</span><span class="p">()</span>
<span class="go">27</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.dimension_singularities">
<span class="sig-name descname"><span class="pre">dimension_singularities</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.dimension_singularities" title="Permalink to this definition">#</a></dt>
<dd><p>Return the dimension of the singular set.</p>
<p>OUTPUT:</p>
<p>Integer. The dimension of the singular set of the toric
variety. Often the singular set is a reducible subvariety, and
this method will return the dimension of the
largest-dimensional component.</p>
<p>Returns -1 if the toric variety is smooth.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">P4_11169</span><span class="p">()</span><span class="o">.</span><span class="n">dimension_singularities</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">Conifold</span><span class="p">()</span><span class="o">.</span><span class="n">dimension_singularities</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span><span class="o">.</span><span class="n">dimension_singularities</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.divisor">
<span class="sig-name descname"><span class="pre">divisor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_ring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduce</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.divisor" title="Permalink to this definition">#</a></dt>
<dd><p>Return a divisor.</p>
<p>INPUT:</p>
<p>The arguments are the same as in
<a class="reference internal" href="divisor.html#sage.schemes.toric.divisor.ToricDivisor" title="sage.schemes.toric.divisor.ToricDivisor"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage.schemes.toric.divisor.ToricDivisor()</span></code></a>, with the
exception of defining a divisor with a single integer: this method
considers it to be the index of a ray of the <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.fan" title="sage.schemes.toric.variety.ToricVariety_field.fan"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fan()</span></code></a> of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>A <a class="reference internal" href="divisor.html#sage.schemes.toric.divisor.ToricDivisor_generic" title="sage.schemes.toric.divisor.ToricDivisor_generic"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.schemes.toric.divisor.ToricDivisor_generic</span></code></a></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Multivariate Polynomial Ring in x, u, y, v, z, w</span>
<span class="go">over Rational Field</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span>
<span class="go">V(u) + 2*V(y) + 3*V(v) + 4*V(z) + 5*V(w)</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">inject_variables</span><span class="p">()</span>
<span class="go">Defining x, u, y, v, z, w</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">u</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">V(x) + 3*V(u)</span>
</pre></div>
</div>
<p>You can also construct divisors based on ray indices:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">V(x)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">dP6</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">nrays</span><span class="p">()):</span>
<span class="gp">....: </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> : generated by ray </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dP6</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
<span class="gp">....: </span>          <span class="n">dP6</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ray</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span>
<span class="go">V(x) : generated by ray N(0, 1)</span>
<span class="go">V(u) : generated by ray N(-1, 0)</span>
<span class="go">V(y) : generated by ray N(-1, -1)</span>
<span class="go">V(v) : generated by ray N(0, -1)</span>
<span class="go">V(z) : generated by ray N(1, 0)</span>
<span class="go">V(w) : generated by ray N(1, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.divisor_group">
<span class="sig-name descname"><span class="pre">divisor_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_ring=Integer</span> <span class="pre">Ring</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.divisor_group" title="Permalink to this definition">#</a></dt>
<dd><p>Return the group of Weil divisors.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">base_ring</span></code> – the coefficient ring, usually <code class="docutils literal notranslate"><span class="pre">ZZ</span></code>
(default) or <code class="docutils literal notranslate"><span class="pre">QQ</span></code>.</p></li>
</ul>
<p>OUTPUT:</p>
<p>The (free abelian) group of Cartier divisors, that is, formal
linear combinations of polynomial equations over the
coefficient ring <code class="docutils literal notranslate"><span class="pre">base_ring</span></code>.</p>
<p>These need not be toric (=defined by monomials), but allow
general polynomials. The output will be an instance of
<a class="reference internal" href="../generic/divisor_group.html#sage.schemes.generic.divisor_group.DivisorGroup_generic" title="sage.schemes.generic.divisor_group.DivisorGroup_generic"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.schemes.generic.divisor_group.DivisorGroup_generic</span></code></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You almost certainly want the group of toric divisors, see
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.toric_divisor_group" title="sage.schemes.toric.variety.ToricVariety_field.toric_divisor_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toric_divisor_group()</span></code></a>. The toric divisor group is
generated by the rays of the fan. The general divisor
group has no toric functionality implemented.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Div</span> <span class="o">=</span> <span class="n">dP6</span><span class="o">.</span><span class="n">divisor_group</span><span class="p">();</span> <span class="n">Div</span>
<span class="go">Group of ZZ-Divisors on 2-d CPR-Fano toric variety</span>
<span class="go">covered by 6 affine patches</span>
<span class="gp">sage: </span><span class="n">Div</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">V(x)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.embedding_morphism">
<span class="sig-name descname"><span class="pre">embedding_morphism</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.embedding_morphism" title="Permalink to this definition">#</a></dt>
<dd><p>Return the default embedding morphism of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Such a morphism is always defined for an affine patch of a toric
variety (which is also a toric varieties itself).</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">scheme</span> <span class="pre">morphism</span></code>
if the default embedding morphism was defined for <code class="docutils literal notranslate"><span class="pre">self</span></code>,
otherwise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> exception is raised.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="s2">&quot;x s y t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: no default embedding was</span>
<span class="go">defined for this toric variety</span>
<span class="gp">sage: </span><span class="n">patch</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">patch</span>
<span class="go">2-d affine toric variety</span>
<span class="gp">sage: </span><span class="n">patch</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 2-d affine toric variety</span>
<span class="go">  To:   2-d toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined on coordinates by sending [y : t] to</span>
<span class="go">        [1 : 1 : y : t]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.fan">
<span class="sig-name descname"><span class="pre">fan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">codim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.fan" title="Permalink to this definition">#</a></dt>
<dd><p>Return the underlying fan of <code class="docutils literal notranslate"><span class="pre">self</span></code> or its cones.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dim</span></code> – dimension of the requested cones;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codim</span></code> – codimension of the requested cones.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><a class="reference external" href="../../../../discrete_geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fan</span></code></a> if no parameters were
given, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code> of <a class="reference external" href="../../../../discrete_geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">cones</span></code></a> otherwise.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span>
<span class="go">Rational polyhedral fan in 2-d lattice M</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span> <span class="ow">is</span> <span class="n">fan</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">1-d cone of Rational polyhedral fan in 2-d lattice M</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.inject_coefficients">
<span class="sig-name descname"><span class="pre">inject_coefficients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.inject_coefficients" title="Permalink to this definition">#</a></dt>
<dd><p>Inject generators of the base field of <code class="docutils literal notranslate"><span class="pre">self</span></code> into <code class="docutils literal notranslate"><span class="pre">scope</span></code>.</p>
<p>This function is useful if the base field is the field of rational
functions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">scope</span></code> – namespace (default: global, not just the scope from
which this function was called);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">verbose</span></code> – if <code class="docutils literal notranslate"><span class="pre">True</span></code> (default), names of injected generators
will be printed.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>none.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s2">&quot;a, b&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">fraction_field</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="n">base_field</span><span class="o">=</span><span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">inject_coefficients</span><span class="p">()</span>
<span class="go">Defining a, b</span>
</pre></div>
</div>
<p>We check that we can use names <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>, <a class="reference external" href="https://trac.sagemath.org/10498">trac ticket #10498</a> is fixed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="go">a + b</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.integrate">
<span class="sig-name descname"><span class="pre">integrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cohomology_class</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.integrate" title="Permalink to this definition">#</a></dt>
<dd><p>Integrate a cohomology class over the toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cohomology_class</span></code> – A cohomology class given as a
polynomial in <code class="docutils literal notranslate"><span class="pre">self.cohomology_ring()</span></code></p></li>
</ul>
<p>OUTPUT:</p>
<p>The integral of the cohomology class over the variety. The
volume normalization is given by <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.volume_class" title="sage.schemes.toric.variety.ToricVariety_field.volume_class"><code class="xref py py-meth docutils literal notranslate"><span class="pre">volume_class()</span></code></a>, that
is, <code class="docutils literal notranslate"><span class="pre">self.integrate(self.volume_class())</span></code> is always one (if
the volume class exists).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">dP6</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="p">[</span> <span class="n">HH</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">dP6</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="p">]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">([</span> <span class="p">[</span> <span class="n">D</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">D</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">])</span>
<span class="go">[ [w^2] [-w^2]    [0]    [0]    [0] [-w^2]]</span>
<span class="go">[[-w^2]  [w^2] [-w^2]    [0]    [0]    [0]]</span>
<span class="go">[   [0] [-w^2]  [w^2] [-w^2]    [0]    [0]]</span>
<span class="go">[   [0]    [0] [-w^2]  [w^2] [-w^2]    [0]]</span>
<span class="go">[   [0]    [0]    [0] [-w^2]  [w^2] [-w^2]]</span>
<span class="go">[[-w^2]    [0]    [0]    [0] [-w^2]  [w^2]]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">([</span> <span class="p">[</span> <span class="n">dP6</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">D</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">])</span>
<span class="go">[-1  1  0  0  0  1]</span>
<span class="go">[ 1 -1  1  0  0  0]</span>
<span class="go">[ 0  1 -1  1  0  0]</span>
<span class="go">[ 0  0  1 -1  1  0]</span>
<span class="go">[ 0  0  0  1 -1  1]</span>
<span class="go">[ 1  0  0  0  1 -1]</span>
</pre></div>
</div>
<p>If the toric variety is an orbifold, the intersection numbers
are usually fractional:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P2_123</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2_123</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">P2_123</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="p">[</span> <span class="n">HH</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">P2_123</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="p">]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">([</span> <span class="p">[</span> <span class="n">P2_123</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="n">D</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">D</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">])</span>
<span class="go">[2/3   1 1/3]</span>
<span class="go">[  1 3/2 1/2]</span>
<span class="go">[1/3 1/2 1/6]</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">P2_123</span><span class="o">.</span><span class="n">Chow_group</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">([</span> <span class="p">[</span> <span class="n">A</span><span class="p">(</span><span class="n">P2_123</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="gp">....: </span>           <span class="o">.</span><span class="n">intersection_with_divisor</span><span class="p">(</span><span class="n">P2_123</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="n">j</span><span class="p">))</span>
<span class="gp">....: </span>           <span class="o">.</span><span class="n">count_points</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">])</span>
<span class="go">[2/3   1 1/3]</span>
<span class="go">[  1 3/2 1/2]</span>
<span class="go">[1/3 1/2 1/6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.is_affine">
<span class="sig-name descname"><span class="pre">is_affine</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_affine" title="Permalink to this definition">#</a></dt>
<dd><p>Check if <code class="docutils literal notranslate"><span class="pre">self</span></code> is an affine toric variety.</p>
<p>An affine toric variety is a toric variety whose fan is the
face lattice of a single cone. See also
<a class="reference internal" href="#sage.schemes.toric.variety.AffineToricVariety" title="sage.schemes.toric.variety.AffineToricVariety"><code class="xref py py-func docutils literal notranslate"><span class="pre">AffineToricVariety()</span></code></a>.</p>
<p>OUTPUT:</p>
<p>Boolean.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">A2</span><span class="p">()</span><span class="o">.</span><span class="n">is_affine</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xA1</span><span class="p">()</span><span class="o">.</span><span class="n">is_affine</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.is_complete">
<span class="sig-name descname"><span class="pre">is_complete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_complete" title="Permalink to this definition">#</a></dt>
<dd><p>Check if <code class="docutils literal notranslate"><span class="pre">self</span></code> is complete.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">self</span></code> is complete and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_complete</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">affine_patch</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_complete</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.is_homogeneous">
<span class="sig-name descname"><span class="pre">is_homogeneous</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polynomial</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_homogeneous" title="Permalink to this definition">#</a></dt>
<dd><p>Check if <code class="docutils literal notranslate"><span class="pre">polynomial</span></code> is homogeneous.</p>
<p>The coordinate ring of a toric variety is multigraded by relations
between generating rays of the underlying fan.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">polynomial</span></code> – polynomial in the coordinate ring of <code class="docutils literal notranslate"><span class="pre">self</span></code> or
its quotient.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">polynomial</span></code> is homogeneous and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p></li>
</ul>
<p>EXAMPLES:</p>
<p>We will use the product of two projective lines with coordinates
<span class="math notranslate nohighlight">\((x, y)\)</span> for one and <span class="math notranslate nohighlight">\((s, t)\)</span> for the other:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">s</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">t</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note that by homogeneous, we mean well-defined with respect to
the homogeneous rescalings of <code class="docutils literal notranslate"><span class="pre">self</span></code>. So a polynomial that you would
usually not call homogeneous can be homogeneous if there are
no homogeneous rescalings, for example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A1</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">A1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A1</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="n">z</span><span class="o">^</span><span class="mi">7</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Finally, the degree group is really the Chow group
<span class="math notranslate nohighlight">\(A_{d-1}(X)\)</span> and can contain torsion. For example, take
<span class="math notranslate nohighlight">\(\CC^2/\ZZ_2\)</span>. Here, the Chow group is <span class="math notranslate nohighlight">\(A_{d-1}(\CC^2/\ZZ_2) =
\ZZ_2\)</span> and distinguishes even-degree homogeneous polynomials
from odd-degree homogeneous polynomials:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A2_Z2</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">A2_Z2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A2_Z2</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A2_Z2</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">4</span><span class="o">+</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A2_Z2</span><span class="o">.</span><span class="n">is_homogeneous</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.is_isomorphic">
<span class="sig-name descname"><span class="pre">is_isomorphic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">another</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_isomorphic" title="Permalink to this definition">#</a></dt>
<dd><p>Check if <code class="docutils literal notranslate"><span class="pre">self</span></code> is isomorphic to <code class="docutils literal notranslate"><span class="pre">another</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">another</span></code> - <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a>.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">another</span></code> are isomorphic,
<code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TV1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xA1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">TV2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
</pre></div>
</div>
<p>Only the most trivial case is implemented so far:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TV1</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">TV1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV1</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">TV2</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">NotImplementedError:</span>
<span class="go">isomorphism check is not yet implemented</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.is_orbifold">
<span class="sig-name descname"><span class="pre">is_orbifold</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_orbifold" title="Permalink to this definition">#</a></dt>
<dd><p>Check if <code class="docutils literal notranslate"><span class="pre">self</span></code> has only quotient singularities.</p>
<p>A toric variety with at most orbifold singularities (in this
sense) is often called a simplicial toric variety. In this
package, we generally try to avoid this term since it mixes up
differential geometry and cone terminology.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">self</span></code> has at most quotient singularities by
finite groups, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fan1</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">fan2</span> <span class="o">=</span> <span class="n">NormalFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.is_smooth">
<span class="sig-name descname"><span class="pre">is_smooth</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.is_smooth" title="Permalink to this definition">#</a></dt>
<dd><p>Check if <code class="docutils literal notranslate"><span class="pre">self</span></code> is smooth.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">self</span></code> is smooth and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fan1</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">fan2</span> <span class="o">=</span> <span class="n">NormalFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.linear_equivalence_ideal">
<span class="sig-name descname"><span class="pre">linear_equivalence_ideal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.linear_equivalence_ideal" title="Permalink to this definition">#</a></dt>
<dd><p>Return the ideal generated by linear relations</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>The ideal generated by the linear relations of the rays in
the polynomial ring over <span class="math notranslate nohighlight">\(\QQ\)</span> generated by the homogeneous
coordinates.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">Fan</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]],</span> <span class="p">[(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">,</span> <span class="n">coordinate_names</span><span class="o">=</span><span class="s1">&#39;A B C D E&#39;</span><span class="p">,</span> <span class="n">base_field</span><span class="o">=</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">lin</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">linear_equivalence_ideal</span><span class="p">();</span> <span class="n">lin</span>
<span class="go">Ideal (-3*A + 3*C - D + E, -2*A - 2*C - D - E, A + B + C + D + E) of Multivariate Polynomial Ring in A, B, C, D, E over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.orbit_closure">
<span class="sig-name descname"><span class="pre">orbit_closure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cone</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.orbit_closure" title="Permalink to this definition">#</a></dt>
<dd><p>Return the orbit closure of <code class="docutils literal notranslate"><span class="pre">cone</span></code>.</p>
<p>The cones <span class="math notranslate nohighlight">\(\sigma\)</span> of a fan <span class="math notranslate nohighlight">\(\Sigma\)</span> are in one-to-one correspondence
with the torus orbits <span class="math notranslate nohighlight">\(O(\sigma)\)</span> of the corresponding toric variety
<span class="math notranslate nohighlight">\(X_\Sigma\)</span>. Each orbit is isomorphic to a lower dimensional torus (of
dimension equal to the codimension of <span class="math notranslate nohighlight">\(\sigma\)</span>). Just like the toric
variety <span class="math notranslate nohighlight">\(X_\Sigma\)</span> itself, these orbits are (partially) compactified by
lower-dimensional orbits. In particular, one can define the closure
<span class="math notranslate nohighlight">\(V(\sigma)\)</span> of the torus orbit <span class="math notranslate nohighlight">\(O(\sigma)\)</span> in the ambient toric
variety <span class="math notranslate nohighlight">\(X_\Sigma\)</span>, which is again a toric variety.</p>
<p>See Proposition 3.2.7 of <a class="reference internal" href="../../../../references/index.html#cls2011" id="id5"><span>[CLS2011]</span></a> for more details.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cone</span></code> – a <a class="reference external" href="../../../../discrete_geometry/sage/geometry/cone.html#sage.geometry.cone.ConvexRationalPolyhedralCone" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">cone</span></code></a> of the fan.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>a torus orbit closure associated to <code class="docutils literal notranslate"><span class="pre">cone</span></code> as a
<a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a>.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">orbit_closure</span><span class="p">(</span><span class="n">H</span><span class="p">);</span>  <span class="n">V</span>
<span class="go">1-d toric variety covered by 2 affine patches</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 1-d toric variety covered by 2 affine patches</span>
<span class="go">  To:   2-d CPR-Fano toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined by embedding the torus closure associated to the 1-d</span>
<span class="go">        cone of Rational polyhedral fan in 2-d lattice N.</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">embedding_morphism</span><span class="p">()</span><span class="o">.</span><span class="n">as_polynomial_map</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: 1-d toric variety covered by 2 affine patches</span>
<span class="go">  To:   2-d CPR-Fano toric variety covered by 4 affine patches</span>
<span class="go">  Defn: Defined on coordinates by sending [z0 : z1] to</span>
<span class="go">        [0 : 1 : z1 : z0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.plot" title="Permalink to this definition">#</a></dt>
<dd><p>Plot <code class="docutils literal notranslate"><span class="pre">self</span></code>, i.e. the corresponding fan.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p>any options for toric plots (see <a class="reference external" href="../../../../discrete_geometry/sage/geometry/toric_plotter.html#sage.geometry.toric_plotter.options" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">toric_plotter.options</span></code></a>), none are mandatory.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>a plot.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The difference between <code class="docutils literal notranslate"><span class="pre">X.plot()</span></code> and <code class="docutils literal notranslate"><span class="pre">X.fan().plot()</span></code> is that
in the first case default ray labels correspond to variables of
<code class="docutils literal notranslate"><span class="pre">X</span></code>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">Cube_deformation</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.rational_class_group">
<span class="sig-name descname"><span class="pre">rational_class_group</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.rational_class_group" title="Permalink to this definition">#</a></dt>
<dd><p>Return the rational divisor class group of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Let <span class="math notranslate nohighlight">\(X\)</span> be a toric variety.</p>
<p>The <strong>Weil divisor class group</strong> <span class="math notranslate nohighlight">\(\mathop{Cl}(X)\)</span> is a finitely
generated abelian group and can contain torsion. Its rank equals the
number of rays in the fan of <span class="math notranslate nohighlight">\(X\)</span> minus the dimension of <span class="math notranslate nohighlight">\(X\)</span>.</p>
<p>The <strong>rational divisor class group</strong> is
<span class="math notranslate nohighlight">\(\mathop{Cl}(X) \otimes_\ZZ \QQ\)</span> and never includes torsion. If <span class="math notranslate nohighlight">\(X\)</span> is
<em>smooth</em>, this equals the <strong>Picard group</strong> of <span class="math notranslate nohighlight">\(X\)</span>, whose elements are
the isomorphism classes of line bundles on <span class="math notranslate nohighlight">\(X\)</span>. The group law (which
we write as addition) is the tensor product of the line bundles. The
Picard group of a toric variety is always torsion-free.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><a class="reference internal" href="divisor.html#sage.schemes.toric.divisor.ToricRationalDivisorClassGroup" title="sage.schemes.toric.divisor.ToricRationalDivisorClassGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">rational</span> <span class="pre">divisor</span> <span class="pre">class</span> <span class="pre">group</span></code></a>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Coordinates correspond to the rows of
<code class="docutils literal notranslate"><span class="pre">self.fan().gale_transform()</span></code>.</p></li>
<li><p><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.Kaehler_cone" title="sage.schemes.toric.variety.ToricVariety_field.Kaehler_cone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Kaehler_cone()</span></code></a> yields a cone in this group.</p></li>
</ul>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xA1</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xA1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P1xA1</span><span class="o">.</span><span class="n">rational_class_group</span><span class="p">()</span>
<span class="go">The toric rational divisor class group</span>
<span class="go">of a 2-d toric variety covered by 2 affine patches</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.resolve">
<span class="sig-name descname"><span class="pre">resolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.resolve" title="Permalink to this definition">#</a></dt>
<dd><p>Construct a toric variety whose fan subdivides the fan of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>The name of this function reflects the fact that usually such
subdivisions are done for resolving singularities of the original
variety.</p>
<p>INPUT:</p>
<p>This function accepts only keyword arguments, none of which are
mandatory.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">coordinate_names</span></code> – names for coordinates of the new variety. If
not given, will be constructed from the coordinate names of <code class="docutils literal notranslate"><span class="pre">self</span></code>
and necessary indexed ones. See <a class="reference internal" href="#sage.schemes.toric.variety.normalize_names" title="sage.schemes.toric.variety.normalize_names"><code class="xref py py-func docutils literal notranslate"><span class="pre">normalize_names()</span></code></a> for the
description of acceptable formats;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coordinate_indices</span></code> – coordinate indices which should be used
for indexed variables of the new variety;</p></li>
<li><p>all other arguments will be passed to
<a class="reference external" href="../../../../discrete_geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan.subdivide" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">subdivide()</span></code></a> method of
the underlying <a class="reference external" href="../../../../discrete_geometry/sage/geometry/fan.html#sage.geometry.fan.RationalPolyhedralFan" title="(in Combinatorial and Discrete Geometry v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">rational</span> <span class="pre">polyhedral</span> <span class="pre">fan</span></code></a>, see its documentation
for the available options.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a>.</p></li>
</ul>
<p>EXAMPLES:</p>
<p>First we will “manually” resolve a simple orbifold singularity:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cone</span> <span class="o">=</span> <span class="n">Cone</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">Fan</span><span class="p">([</span><span class="n">cone</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">TV_res</span> <span class="o">=</span> <span class="n">TV</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">new_rays</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">rays</span><span class="p">()</span>
<span class="go">N( 1, 1),</span>
<span class="go">N(-1, 1),</span>
<span class="go">N( 0, 1)</span>
<span class="go">in 2-d lattice N</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">cone</span><span class="o">.</span><span class="n">ambient_ray_indices</span><span class="p">()</span> <span class="k">for</span> <span class="n">cone</span> <span class="ow">in</span> <span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()]</span>
<span class="go">[(0, 2), (1, 2)]</span>
</pre></div>
</div>
<p>Now let’s “automatically” partially resolve a more complicated fan:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">NormalFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">nrays</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="n">TV_res</span> <span class="o">=</span> <span class="n">TV</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">make_simplicial</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">is_smooth</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">nrays</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">12</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(z0, z1, z2, z3, z4, z5, z6, z7)</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(z0, z1, z2, z3, z4, z5, z6, z7)</span>
<span class="gp">sage: </span><span class="n">TV_res</span> <span class="o">=</span> <span class="n">TV</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">coordinate_names</span><span class="o">=</span><span class="s2">&quot;x+&quot;</span><span class="p">,</span>
<span class="gp">....: </span>                    <span class="n">make_simplicial</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(x0, x1, x2, x3, x4, x5, x6, x7)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.resolve_to_orbifold">
<span class="sig-name descname"><span class="pre">resolve_to_orbifold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.resolve_to_orbifold" title="Permalink to this definition">#</a></dt>
<dd><p>Construct an orbifold whose fan subdivides the fan of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>It is a synonym for <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.resolve" title="sage.schemes.toric.variety.ToricVariety_field.resolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resolve()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">make_simplicial=True</span></code>
option.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p>this function accepts only keyword arguments. See <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field.resolve" title="sage.schemes.toric.variety.ToricVariety_field.resolve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resolve()</span></code></a>
for documentation.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a>.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">NormalFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TV</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">nrays</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">TV</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="n">TV_res</span> <span class="o">=</span> <span class="n">TV</span><span class="o">.</span><span class="n">resolve_to_orbifold</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">is_orbifold</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">nrays</span><span class="p">()</span>
<span class="go">8</span>
<span class="gp">sage: </span><span class="n">TV_res</span><span class="o">.</span><span class="n">fan</span><span class="p">()</span><span class="o">.</span><span class="n">ngenerating_cones</span><span class="p">()</span>
<span class="go">12</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.sheaves">
<span class="sig-name descname"><span class="pre">sheaves</span></span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.sheaves" title="Permalink to this definition">#</a></dt>
<dd><p>Return the factory object for sheaves on the toric variety.</p>
<p>See <a class="reference internal" href="sheaf/constructor.html#sage.schemes.toric.sheaf.constructor.SheafLibrary" title="sage.schemes.toric.sheaf.constructor.SheafLibrary"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.schemes.toric.sheaf.constructor.SheafLibrary</span></code></a>
for details.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">sheaves</span>
<span class="go">Sheaf constructor on 2-d CPR-Fano toric variety covered by 6 affine patches</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">sheaves</span><span class="o">.</span><span class="n">trivial_bundle</span><span class="p">()</span>
<span class="go">Rank 1 bundle on 2-d CPR-Fano toric variety covered by 6 affine patches.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.subscheme">
<span class="sig-name descname"><span class="pre">subscheme</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polynomials</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.subscheme" title="Permalink to this definition">#</a></dt>
<dd><p>Return the subscheme of <code class="docutils literal notranslate"><span class="pre">self</span></code> defined by <code class="docutils literal notranslate"><span class="pre">polynomials</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">polynomials</span></code> – list of polynomials in the coordinate ring of
<code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><a class="reference internal" href="toric_subscheme.html#sage.schemes.toric.toric_subscheme.AlgebraicScheme_subscheme_toric" title="sage.schemes.toric.toric_subscheme.AlgebraicScheme_subscheme_toric"><code class="xref py py-class docutils literal notranslate"><span class="pre">subscheme</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">toric</span> <span class="pre">variety</span></code></a>.</p></li>
</ul>
<p>EXAMPLES:</p>
<p>We will construct a subscheme of the product of two projective lines
with coordinates <span class="math notranslate nohighlight">\((x, y)\)</span> for one and <span class="math notranslate nohighlight">\((s, t)\)</span> for the other:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">P1xP1</span><span class="o">.</span><span class="n">subscheme</span><span class="p">([</span><span class="n">x</span><span class="o">*</span><span class="n">s</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">X</span>
<span class="go">Closed subscheme of 2-d CPR-Fano toric variety</span>
<span class="go">covered by 4 affine patches defined by:</span>
<span class="go">  x*s + y*t,</span>
<span class="go">  x^3 + y^3</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">defining_polynomials</span><span class="p">()</span>
<span class="go">(x*s + y*t, x^3 + y^3)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">defining_ideal</span><span class="p">()</span>
<span class="go">Ideal (x*s + y*t, x^3 + y^3)</span>
<span class="go">of Multivariate Polynomial Ring in x, y, s, t</span>
<span class="go">over Rational Field</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">base_scheme</span><span class="p">()</span>
<span class="go">Spectrum of Rational Field</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">structure_morphism</span><span class="p">()</span>
<span class="go">Scheme morphism:</span>
<span class="go">  From: Closed subscheme of 2-d CPR-Fano toric variety</span>
<span class="go">        covered by 4 affine patches defined by:</span>
<span class="go">  x*s + y*t,</span>
<span class="go">  x^3 + y^3</span>
<span class="go">  To:   Spectrum of Rational Field</span>
<span class="go">  Defn: Structure map</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.toric_divisor_group">
<span class="sig-name descname"><span class="pre">toric_divisor_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_ring=Integer</span> <span class="pre">Ring</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.toric_divisor_group" title="Permalink to this definition">#</a></dt>
<dd><p>Return the group of toric (T-Weil) divisors.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">base_ring</span></code> – the coefficient ring, usually <code class="docutils literal notranslate"><span class="pre">ZZ</span></code>
(default) or <code class="docutils literal notranslate"><span class="pre">QQ</span></code>.</p></li>
</ul>
<p>OUTPUT:</p>
<p>The free Abelian agroup of toric Weil divisors, that is,
formal <code class="docutils literal notranslate"><span class="pre">base_ring</span></code>-linear combinations of codimension-one
toric subvarieties. The output will be an instance of
<a class="reference internal" href="divisor.html#sage.schemes.toric.divisor.ToricDivisorGroup" title="sage.schemes.toric.divisor.ToricDivisorGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.schemes.toric.divisor.ToricDivisorGroup</span></code></a>.</p>
<p>The <span class="math notranslate nohighlight">\(i\)</span>-th generator of the divisor group is the divisor where
the <span class="math notranslate nohighlight">\(i\)</span>-th homogeneous coordinate vanishes, <span class="math notranslate nohighlight">\(\{z_i=0\}\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">dP6</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">dP6</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">TDiv</span> <span class="o">=</span> <span class="n">dP6</span><span class="o">.</span><span class="n">toric_divisor_group</span><span class="p">();</span> <span class="n">TDiv</span>
<span class="go">Group of toric ZZ-Weil divisors on 2-d CPR-Fano toric variety</span>
<span class="go">covered by 6 affine patches</span>
<span class="gp">sage: </span><span class="n">TDiv</span> <span class="o">==</span> <span class="n">dP6</span><span class="o">.</span><span class="n">toric_divisor_group</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TDiv</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(V(x), V(u), V(y), V(v), V(z), V(w))</span>
<span class="gp">sage: </span><span class="n">dP6</span><span class="o">.</span><span class="n">coordinate_ring</span><span class="p">()</span>
<span class="go">Multivariate Polynomial Ring in x, u, y, v, z, w over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.ToricVariety_field.volume_class">
<span class="sig-name descname"><span class="pre">volume_class</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.ToricVariety_field.volume_class" title="Permalink to this definition">#</a></dt>
<dd><p>Return the cohomology class of the volume form on the toric
variety.</p>
<p>Note that we are using cohomology with compact supports. If
the variety is non-compact this is dual to homology without
any support condition. In particular, for non-compact
varieties the volume form <span class="math notranslate nohighlight">\(\mathrm{dVol}=\wedge_i(dx_i \wedge
dy_i)\)</span> does not define a (non-zero) cohomology class.</p>
<p>OUTPUT:</p>
<p>A <a class="reference internal" href="#sage.schemes.toric.variety.CohomologyClass" title="sage.schemes.toric.variety.CohomologyClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">CohomologyClass</span></code></a>. If it exists, it is the class of
the (properly normalized) volume form, that is, it is the
Poincaré dual of a single point. If it does not exist, a
<code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span><span class="o">.</span><span class="n">volume_class</span><span class="p">()</span>
<span class="go">[z^2]</span>

<span class="gp">sage: </span><span class="n">A2_Z2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">A2_Z2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A2_Z2</span><span class="o">.</span><span class="n">volume_class</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: volume class does not exist</span>
</pre></div>
</div>
<p>If none of the maximal cones is smooth things get more
tricky. In this case no torus-fixed point is smooth. If we
want to count an ordinary point as <span class="math notranslate nohighlight">\(1\)</span>, then a <span class="math notranslate nohighlight">\(G\)</span>-orbifold
point needs to count as <span class="math notranslate nohighlight">\(\frac{1}{|G|}\)</span>. For example, take
<span class="math notranslate nohighlight">\(\mathbb{P}^1\times\mathbb{P}^1\)</span> with inhomogeneous
coordinates <span class="math notranslate nohighlight">\((t,y)\)</span>. Take the quotient by the action
<span class="math notranslate nohighlight">\((t,y)\mapsto (-t,-y)\)</span>. The <span class="math notranslate nohighlight">\(\ZZ_2\)</span>-invariant Weil divisors
<span class="math notranslate nohighlight">\(\{t=0\}\)</span> and <span class="math notranslate nohighlight">\(\{y=0\}\)</span> intersect in a <span class="math notranslate nohighlight">\(\ZZ_2\)</span>-fixed point, so
they ought to have intersection number <span class="math notranslate nohighlight">\(\frac{1}{2}\)</span>. This
means that the cohomology class <span class="math notranslate nohighlight">\([t] \cap [y]\)</span> should be
<span class="math notranslate nohighlight">\(\frac{1}{2}\)</span> times the volume class. Note that this is
different from the volume normalization chosen in
<a class="reference internal" href="../../../../references/index.html#ks" id="id6"><span>[KS]</span></a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1xP1_Z2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P1xP1_Z2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Dt</span> <span class="o">=</span> <span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>  <span class="n">Dt</span>
<span class="go">V(t)</span>
<span class="gp">sage: </span><span class="n">Dy</span> <span class="o">=</span> <span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">divisor</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>  <span class="n">Dy</span>
<span class="go">V(y)</span>
<span class="gp">sage: </span><span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">volume_class</span><span class="p">()</span>
<span class="go">[2*t*y]</span>

<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span><span class="p">(</span><span class="n">Dt</span><span class="p">)</span> <span class="o">*</span> <span class="n">HH</span><span class="p">(</span><span class="n">Dy</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="o">*</span> <span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">volume_class</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The fractional coefficients are also necessary to match the
normalization in the rational Chow group for simplicial toric
varieties:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">P1xP1_Z2</span><span class="o">.</span><span class="n">Chow_group</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">(</span><span class="n">Dt</span><span class="p">)</span><span class="o">.</span><span class="n">intersection_with_divisor</span><span class="p">(</span><span class="n">Dy</span><span class="p">)</span><span class="o">.</span><span class="n">count_points</span><span class="p">()</span>
<span class="go">1/2</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.is_CohomologyClass">
<span class="sig-prename descclassname"><span class="pre">sage.schemes.toric.variety.</span></span><span class="sig-name descname"><span class="pre">is_CohomologyClass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.is_CohomologyClass" title="Permalink to this definition">#</a></dt>
<dd><p>Check whether <code class="docutils literal notranslate"><span class="pre">x</span></code> is a cohomology class of a toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – anything.</p></li>
</ul>
<p>OUTPUT:</p>
<p><code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code> depending on whether <code class="docutils literal notranslate"><span class="pre">x</span></code> is an instance of
<a class="reference internal" href="#sage.schemes.toric.variety.CohomologyClass" title="sage.schemes.toric.variety.CohomologyClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">CohomologyClass</span></code></a></p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">toric_varieties</span><span class="o">.</span><span class="n">P2</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">HH</span> <span class="o">=</span> <span class="n">P2</span><span class="o">.</span><span class="n">cohomology_ring</span><span class="p">()</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.schemes.toric.variety</span> <span class="kn">import</span> <span class="n">is_CohomologyClass</span>
<span class="gp">sage: </span><span class="n">is_CohomologyClass</span><span class="p">(</span> <span class="n">HH</span><span class="o">.</span><span class="n">one</span><span class="p">()</span> <span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_CohomologyClass</span><span class="p">(</span> <span class="n">HH</span><span class="p">(</span><span class="n">P2</span><span class="o">.</span><span class="n">fan</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_CohomologyClass</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.is_ToricVariety">
<span class="sig-prename descclassname"><span class="pre">sage.schemes.toric.variety.</span></span><span class="sig-name descname"><span class="pre">is_ToricVariety</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.is_ToricVariety" title="Permalink to this definition">#</a></dt>
<dd><p>Check if <code class="docutils literal notranslate"><span class="pre">x</span></code> is a toric variety.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – anything.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">x</span></code> is a <a class="reference internal" href="#sage.schemes.toric.variety.ToricVariety_field" title="sage.schemes.toric.variety.ToricVariety_field"><code class="xref py py-class docutils literal notranslate"><span class="pre">toric</span> <span class="pre">variety</span></code></a> and
<code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While projective spaces are toric varieties mathematically, they are
not toric varieties in Sage due to efficiency considerations, so this
function will return <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.schemes.toric.variety</span> <span class="kn">import</span> <span class="n">is_ToricVariety</span>
<span class="gp">sage: </span><span class="n">is_ToricVariety</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">fan</span> <span class="o">=</span> <span class="n">FaceFan</span><span class="p">(</span><span class="n">lattice_polytope</span><span class="o">.</span><span class="n">cross_polytope</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">ToricVariety</span><span class="p">(</span><span class="n">fan</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span>
<span class="go">2-d toric variety covered by 4 affine patches</span>
<span class="gp">sage: </span><span class="n">is_ToricVariety</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_ToricVariety</span><span class="p">(</span><span class="n">ProjectiveSpace</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.schemes.toric.variety.normalize_names">
<span class="sig-prename descclassname"><span class="pre">sage.schemes.toric.variety.</span></span><span class="sig-name descname"><span class="pre">normalize_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.schemes.toric.variety.normalize_names" title="Permalink to this definition">#</a></dt>
<dd><p>Return a list of names in the standard form.</p>
<p>INPUT:</p>
<p>All input parameters are optional.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">names</span></code> – names given either as a single string (with individual
names separated by commas or spaces) or a list of strings with each
string specifying a name. If the last name ends with the plus sign,
“+”, this name will be used as <code class="docutils literal notranslate"><span class="pre">prefix</span></code> (even if <code class="docutils literal notranslate"><span class="pre">prefix</span></code> was
given explicitly);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ngens</span></code> – number of names to be returned;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prefix</span></code> – prefix for the indexed names given as a string;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">indices</span></code> – list of integers (default: <code class="docutils literal notranslate"><span class="pre">range(ngens)</span></code>) used as
indices for names with <code class="docutils literal notranslate"><span class="pre">prefix</span></code>. If given, must be of length
<code class="docutils literal notranslate"><span class="pre">ngens</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">return_prefix</span></code> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, the last element of the returned list
will contain the prefix determined from <code class="docutils literal notranslate"><span class="pre">names</span></code> or given as the
parameter <code class="docutils literal notranslate"><span class="pre">prefix</span></code>. This is useful if you may need more names in the
future.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>list of names given as strings.</p></li>
</ul>
<p>These names are constructed in the following way:</p>
<ol class="arabic simple">
<li><p>If necessary, split <code class="docutils literal notranslate"><span class="pre">names</span></code> into separate names.</p></li>
<li><p>If the last name ends with “+”, put it into <code class="docutils literal notranslate"><span class="pre">prefix</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">ngens</span></code> was given, add to the names obtained so far as many
indexed names as necessary to get this number. If the <code class="docutils literal notranslate"><span class="pre">k</span></code>-th name of
the <em>total</em> list of names is indexed, it is
<code class="docutils literal notranslate"><span class="pre">prefix</span> <span class="pre">+</span> <span class="pre">str(indices[k])</span></code>. If there were already more names than
<code class="docutils literal notranslate"><span class="pre">ngens</span></code>, discard “extra” ones.</p></li>
<li><p>Check if constructed names are valid. See <a class="reference external" href="../../../../structure/sage/structure/category_object.html#sage.structure.category_object.certify_names" title="(in Parents and Elements v9.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">certify_names()</span></code></a> for
details.</p></li>
<li><p>If the option <code class="docutils literal notranslate"><span class="pre">return_prefix=True</span></code> was given, add <code class="docutils literal notranslate"><span class="pre">prefix</span></code> to the
end of the list.</p></li>
</ol>
<p>EXAMPLES:</p>
<p>As promised, all parameters are optional:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.schemes.toric.variety</span> <span class="kn">import</span> <span class="n">normalize_names</span>
<span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">()</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>One of the most common uses is probably this one:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s2">&quot;x+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[&#39;x0&#39;, &#39;x1&#39;, &#39;x2&#39;, &#39;x3&#39;]</span>
</pre></div>
</div>
<p>Now suppose that you want to enumerate your variables starting with one
instead of zero:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s2">&quot;x+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)))</span>
<span class="go">[&#39;x1&#39;, &#39;x2&#39;, &#39;x3&#39;, &#39;x4&#39;]</span>
</pre></div>
</div>
<p>You may actually have an arbitrary enumeration scheme:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s2">&quot;x+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">])</span>
<span class="go">[&#39;x1&#39;, &#39;x10&#39;, &#39;x100&#39;, &#39;x1000&#39;]</span>
</pre></div>
</div>
<p>Now let’s add some “explicit” names:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s2">&quot;x y z t+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;t3&#39;]</span>
</pre></div>
</div>
<p>Note that the “automatic” name is <code class="docutils literal notranslate"><span class="pre">t3</span></code> instead of <code class="docutils literal notranslate"><span class="pre">t0</span></code>. This may seem
weird, but the reason for this behaviour is that the fourth name in this
list will be the same no matter how many explicit names were given:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s2">&quot;x y t+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;, &#39;t2&#39;, &#39;t3&#39;]</span>
</pre></div>
</div>
<p>This is especially useful if you get <code class="docutils literal notranslate"><span class="pre">names</span></code> from a user but want to
specify all default names:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s2">&quot;x, y&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;t&quot;</span><span class="p">)</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;, &#39;t2&#39;, &#39;t3&#39;]</span>
</pre></div>
</div>
<p>In this format, the user can easily override your choice for automatic
names:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s2">&quot;x y s+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;t&quot;</span><span class="p">)</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;, &#39;s2&#39;, &#39;s3&#39;]</span>
</pre></div>
</div>
<p>Let’s now use all parameters at once:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s2">&quot;x, y, s+&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;t&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="n">indices</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)),</span> <span class="n">return_prefix</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;, &#39;s3&#39;, &#39;s4&#39;, &#39;s&#39;]</span>
</pre></div>
</div>
<p>Note that you still need to give indices for all names, even if some of
the first ones will be “wasted” because of the explicit names. The reason
is the same as before - this ensures consistency of automatically
generated names, no matter how many explicit names were given.</p>
<p>The prefix is discarded if <code class="docutils literal notranslate"><span class="pre">ngens</span></code> was not given:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s2">&quot;alpha, beta, gamma, zeta+&quot;</span><span class="p">)</span>
<span class="go">[&#39;alpha&#39;, &#39;beta&#39;, &#39;gamma&#39;]</span>
</pre></div>
</div>
<p>Finally, let’s take a look at some possible mistakes:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s2">&quot;123&quot;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: variable name &#39;123&#39; does not start with a letter</span>
</pre></div>
</div>
<p>A more subtle one:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">normalize_names</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: variable name &#39;x1&#39; appears more than once</span>
</pre></div>
</div>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="fano_variety.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Fano toric varieties</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../product_projective/rational_point.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Enumeration of rational points on product projective schemes</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2022, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/scripts/furo.js"></script>
    <script src="../../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"ZZ": "\\Bold{Z}", "NN": "\\Bold{N}", "RR": "\\Bold{R}", "CC": "\\Bold{C}", "QQ": "\\Bold{Q}", "QQbar": "\\overline{\\QQ}", "GF": ["\\Bold{F}_{#1}", 1], "Zp": ["\\Bold{Z}_{#1}", 1], "Qp": ["\\Bold{Q}_{#1}", 1], "Zmod": ["\\ZZ/#1\\ZZ", 1], "CDF": "\\Bold{C}", "CIF": "\\Bold{C}", "CLF": "\\Bold{C}", "RDF": "\\Bold{R}", "RIF": "\\Bold{I} \\Bold{R}", "RLF": "\\Bold{R}", "SL": "\\mathrm{SL}", "PSL": "\\mathrm{PSL}", "Bold": ["\\mathbf{#1}", 1]}, "inlineMath": [["$", "$"], ["\\(", "\\)"]], "maxBuffer": 51200, "autoload": {"color": [], "colorv2": ["color"]}}}</script>
    <script defer="defer" src="../../../../_static/mathjax/tex-chtml.js"></script>
    </body>
</html>