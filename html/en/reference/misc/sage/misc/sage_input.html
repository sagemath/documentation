<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Tables" href="table.html" /><link rel="prev" title="Repr formatting support" href="repr.html" />

    <meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>Sage Input Formatting - Utilities</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-furo.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Utilities</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 10.1 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../index.html">Home - Utilities</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="defaults.html">Default Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="functional.html">Functional notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="randstate.html">Random Number States</a></li>
<li class="toctree-l1"><a class="reference internal" href="prandom.html">Random Numbers with Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="unknown.html">The Unknown truth value</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="abstract_method.html">Abstract methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="bindable_class.html">Bindable classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="decorators.html">Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="constant_function.html">Constant functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="classcall_metaclass.html">Special Methods for Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="inherit_comparison.html">Metaclass for inheriting comparison functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="method_decorator.html">Base Class to Support Method Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="object_multiplexer.html">Multiplex calls to one object to calls to many objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="fast_methods.html">Fast methods via Cython</a></li>
<li class="toctree-l1"><a class="reference internal" href="call.html">Attribute and method calling</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="callable_dict.html">Callable dictionaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="converting_dict.html">Converting Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="flatten.html">Flatten nested lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="search.html">Searching a sorted list</a></li>
<li class="toctree-l1"><a class="reference internal" href="mrange.html">Multidimensional enumeration</a></li>
<li class="toctree-l1"><a class="reference internal" href="multireplace.html">multi_replace</a></li>
<li class="toctree-l1"><a class="reference internal" href="map_threaded.html">Threaded map function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arith/srange.html">Ranges and the <code class="docutils literal notranslate"><span class="pre">[1,2,..,n]</span></code> notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="element_with_label.html">Elements with labels.</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="temporary_file.html">Temporary file handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="remote_file.html">get_remote_file</a></li>
<li class="toctree-l1"><a class="reference internal" href="messaging.html">Message delivery</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_ostools.html">Miscellaneous operating system functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../databases/sql_db.html">Relational (sqlite) Databases Module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../structure/graphics_file.html">Wrapper for Graphics Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../media/wav.html">Work with WAV files</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="stopgap.html">Stopgaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="superseded.html">Handling Superseded Functionality</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc_c.html">Miscellaneous functions (Cython)</a></li>
<li class="toctree-l1"><a class="reference internal" href="verbose.html">Verbosity System and Logging in SageMath</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="lazy_attribute.html">Lazy attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_format.html">Lazy format strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_import.html">Lazy imports</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_import_cache.html">Lazy import cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_list.html">Lazy lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_string.html">Lazy strings</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cachefunc.html">Cached Functions and Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="weak_dict.html">Fast and safe weak value dictionary</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ext/fast_callable.html">Fast Expression Evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ext/fast_eval.html">Fast Numerical Evaluation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cython.html">Cython support functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="inline_fortran.html">Fortran compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="parser.html">A parser for symbolic equations and expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Evaluating Python code without any preparsing</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_eval.html">Evaluating a String in Sage</a></li>
<li class="toctree-l1"><a class="reference internal" href="sh.html">Evaluating shell scripts</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../typeset/symbols.html">Symbols for Character Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/character_art.html">Base Class for Character-Based Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/character_art_factory.html">Factory for Character-Based Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/ascii_art.html">ASCII Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/unicode_art.html">Unicode Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/unicode_characters.html">Unicode Characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="repr.html">Repr formatting support</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Sage Input Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="table.html">Tables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="html.html">HTML Fragments</a></li>
<li class="toctree-l1"><a class="reference internal" href="mathml.html">MathML output support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sagetex.html">Installing and using SageTeX</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex.html">LaTeX printing support</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex_macros.html">LaTeX macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex_standalone.html">Standalone LaTeX Document class and TikzPicture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="func_persist.html">Support for persistent functions in .sage files</a></li>
<li class="toctree-l1"><a class="reference internal" href="persist.html">Object persistence</a></li>
<li class="toctree-l1"><a class="reference internal" href="fpickle.html">Function pickling</a></li>
<li class="toctree-l1"><a class="reference internal" href="explain_pickle.html">A tool for inspecting Python pickles</a></li>
<li class="toctree-l1"><a class="reference internal" href="nested_class.html">Fixing pickle for nested classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="session.html">Loading and saving sessions and listing all variables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="banner.html">SageMath version and banner info</a></li>
<li class="toctree-l1"><a class="reference internal" href="reset.html">Interpreter reset</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Determination of programs for viewing web pages, etc.</a></li>
<li class="toctree-l1"><a class="reference internal" href="pager.html">Pager for showing strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="sagedoc.html">Format Sage documentation for viewing with IPython and the notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="sagedoc_conf.html">Sphinx configuration shared by sage.misc.sphinxify and sage_docbuild</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinxify.html">Process docstrings with Sphinx</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="package.html">Listing Sage packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="dist.html">Installing shortcut scripts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Dependency usage tracking for citations</a></li>
<li class="toctree-l1"><a class="reference internal" href="copying.html">License</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sage_unittest.html">Unit testing for Sage objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="random_testing.html">Random testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="test_nested_class.html">Test for nested class Parent</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_timeit.html">Accurate timing information for Sage commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_timeit_class.html">The <code class="docutils literal notranslate"><span class="pre">timeit</span></code> command</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiler.html">Simple profiling tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="gperftools.html">C Function Profiler Using Google Perftools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docs/instancedoc.html">Dynamic documentation for instances of classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="sageinspect.html">Inspect Python, Sage, and Cython objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="edit_module.html">Edit the source code of Sage interactively</a></li>
<li class="toctree-l1"><a class="reference internal" href="classgraph.html">Class inheritance graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_tools.html">Some tools for developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="function_mangling.html">Function Mangling</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest_index_of_methods.html">ReST index of functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ext/memory.html">Low-level memory allocation functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="c3.html">The C3 algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="c3_controlled.html">The C3 algorithm, under control of a total order</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="sage-input-formatting">
<span id="sage-misc-sage-input"></span><h1>Sage Input Formatting<a class="headerlink" href="#sage-input-formatting" title="Permalink to this heading">#</a></h1>
<span class="target" id="module-sage.misc.sage_input"></span><p>This module provides the function <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> that takes an
arbitrary sage value and produces a sequence of commands that, if typed
at the <code class="docutils literal notranslate"><span class="pre">sage:</span></code> prompt, will recreate the value. If this is not
implemented for a particular value, then an exception is raised instead.
This might be useful in understanding a part of Sage, or for debugging.
For instance, if you have a value produced in a complicated way in the
middle of a debugging session, you could use <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> to find
a simple way to produce the same value. We attempt to produce commands
that are readable and idiomatic.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">((</span><span class="n">polygen</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span> <span class="o">+</span> <span class="n">RR</span><span class="p">(</span><span class="n">pi</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>                             <span class="c1"># optional - sage.symbolic</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = RR[]</span>
<span class="go">x^2 + 6.2831853071795862*x + 9.869604401089358</span>
</pre></div>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">verify=True</span></code>, <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> also verifies the results, by
calling <a class="reference internal" href="sage_eval.html#sage.misc.sage_eval.sage_eval" title="sage.misc.sage_eval.sage_eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_eval()</span></code></a> on the result and
verifying that it is equal to the input.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">1</span><span class="p">),</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">GF(2)(1)</span>
</pre></div>
</div>
<p>We can generate code that works without the preparser, with
<code class="docutils literal notranslate"><span class="pre">preparse=False</span></code>; or we can generate code that will work whether or
not the preparser is enabled, with <code class="docutils literal notranslate"><span class="pre">preparse=None</span></code>.  Generating code
with <code class="docutils literal notranslate"><span class="pre">preparse=False</span></code> may be useful to see how to create a certain
value in a Python or Cython source file.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">preparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">ZZ(5)</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">preparse</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="go">ZZ(5)</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">5</span><span class="n">r</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">5r</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">5</span><span class="n">r</span><span class="p">,</span> <span class="n">preparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">5</span><span class="n">r</span><span class="p">,</span> <span class="n">preparse</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="go">int(5)</span>
</pre></div>
</div>
<p>Adding <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> support to your own classes is
straightforward.  You need to add a <code class="xref py py-func docutils literal notranslate"><span class="pre">_sage_input_()</span></code> method which
returns a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> (henceforth abbreviated as SIE)
which will reconstruct this instance of your class.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">_sage_input_</span></code> method takes two parameters, conventionally named
<code class="docutils literal notranslate"><span class="pre">sib</span></code> and <code class="docutils literal notranslate"><span class="pre">coerced</span></code>.  The first argument is a
<a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder" title="sage.misc.sage_input.SageInputBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputBuilder</span></code></a>; it has methods to build SIEs.  The second
argument, <code class="docutils literal notranslate"><span class="pre">coerced</span></code>, is a boolean.  This is only useful if your class
is a subclass of <code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code> (although it is always present).  If
<code class="docutils literal notranslate"><span class="pre">coerced</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, then your method must generate an expression
which will evaluate to a value of the correct type with the correct
parent.  If <code class="docutils literal notranslate"><span class="pre">coerced</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then your method may generate an
expression of a type that has a canonical coercion to your type; and if
<code class="docutils literal notranslate"><span class="pre">coerced</span></code> is 2, then your method may generate an expression of a type
that has a conversion to your type.</p>
<p>Let’s work through some examples.  We’ll build a sequence of functions
that would be acceptable as <code class="docutils literal notranslate"><span class="pre">_sage_input_</span></code> methods for the
<a class="reference external" href="../../../rings_standard/sage/rings/rational.html#sage.rings.rational.Rational" title="(in Standard Commutative Rings v10.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Rational</span></code></a> class.</p>
<p>Here’s the first and simplest version.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">qq_sage_input_v1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sib</span><span class="p">,</span> <span class="n">coerced</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">sib</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numerator</span><span class="p">())</span><span class="o">/</span><span class="n">sib</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">denominator</span><span class="p">())</span>
</pre></div>
</div>
<p>We see that given a <a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder" title="sage.misc.sage_input.SageInputBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputBuilder</span></code></a> <code class="docutils literal notranslate"><span class="pre">sib</span></code>, you can construct
a SIE for a value <code class="docutils literal notranslate"><span class="pre">v</span></code> simply with <code class="docutils literal notranslate"><span class="pre">sib(v)</span></code>, and you can construct a
SIE for a quotient with the division operator.  Of course, the other
operators also work, and so do function calls, method calls, subscripts,
etc.</p>
<p>We’ll test with the following code, which you don’t need to understand.
(It produces a list of 8 results, showing the formatted versions of -5/7
and 3, with the preparser either enabled or disabled and either with or
without an automatic coercion to QQ.):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">test_qq_formatter</span><span class="p">(</span><span class="n">fmt</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">....: </span>    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="o">/</span><span class="mi">7</span><span class="p">,</span> <span class="n">QQ</span><span class="p">(</span><span class="mi">3</span><span class="p">)]:</span>
<span class="gp">....: </span>        <span class="k">for</span> <span class="n">pp</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]:</span>
<span class="gp">....: </span>            <span class="k">for</span> <span class="n">coerced</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]:</span>
<span class="gp">....: </span>                <span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">(</span><span class="n">preparse</span><span class="o">=</span><span class="n">pp</span><span class="p">)</span>
<span class="gp">....: </span>                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">fmt</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">sib</span><span class="p">,</span> <span class="n">coerced</span><span class="p">)))</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">results</span>

<span class="gp">sage: </span><span class="n">test_qq_formatter</span><span class="p">(</span><span class="n">qq_sage_input_v1</span><span class="p">)</span>
<span class="go">[-ZZ(5)/ZZ(7), -ZZ(5)/ZZ(7), -5/7, -5/7, ZZ(3)/ZZ(1), ZZ(3)/ZZ(1), 3/1, 3/1]</span>
</pre></div>
</div>
<p>Let’s try for some shorter, perhaps nicer-looking output.  We’ll start
by getting rid of the <code class="docutils literal notranslate"><span class="pre">ZZ</span></code> in the denominators; even without the
preparser, <code class="docutils literal notranslate"><span class="pre">-ZZ(5)/7</span> <span class="pre">==</span> <span class="pre">-ZZ(5)/ZZ(7)</span></code>.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">qq_sage_input_v2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sib</span><span class="p">,</span> <span class="n">coerced</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">sib</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numerator</span><span class="p">())</span><span class="o">/</span><span class="n">sib</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">denominator</span><span class="p">())</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">int</span></code> method on <a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder" title="sage.misc.sage_input.SageInputBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputBuilder</span></code></a> returns a SIE for an
integer that is always represented in the simple way, without coercions.
(So, depending on the preparser mode, it might read in as an
<a class="reference external" href="../../../rings_standard/sage/rings/integer.html#sage.rings.integer.Integer" title="(in Standard Commutative Rings v10.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integer</span></code></a> or an <code class="docutils literal notranslate"><span class="pre">int</span></code>.):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">test_qq_formatter</span><span class="p">(</span><span class="n">qq_sage_input_v2</span><span class="p">)</span>
<span class="go">[-ZZ(5)/7, -ZZ(5)/7, -5/7, -5/7, ZZ(3)/1, ZZ(3)/1, 3/1, 3/1]</span>
</pre></div>
</div>
<p>Next let us get rid of the divisions by 1.  These are more complicated,
since if we are not careful we will get results in <span class="math notranslate nohighlight">\(\ZZ\)</span> instead of <span class="math notranslate nohighlight">\(\QQ\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">qq_sage_input_v3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sib</span><span class="p">,</span> <span class="n">coerced</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">denominator</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="n">coerced</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="n">sib</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numerator</span><span class="p">())</span>
<span class="gp">....: </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;QQ&#39;</span><span class="p">)(</span><span class="n">sib</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numerator</span><span class="p">()))</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">sib</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numerator</span><span class="p">())</span><span class="o">/</span><span class="n">sib</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">denominator</span><span class="p">())</span>
</pre></div>
</div>
<p>We see that the method{name} method gives an SIE representing a sage
constant or function.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">test_qq_formatter</span><span class="p">(</span><span class="n">qq_sage_input_v3</span><span class="p">)</span>
<span class="go">[-ZZ(5)/7, -ZZ(5)/7, -5/7, -5/7, QQ(3), 3, QQ(3), 3]</span>
</pre></div>
</div>
<p>This is the prettiest output we’re going to get, but let’s make one
further refinement.  Other <code class="xref py py-class docutils literal notranslate"><span class="pre">_sage_input_</span></code> methods, like the one
for polynomials, analyze the structure of SIEs; they work better (give
prettier output) if negations are at the outside.  If the above code
were used for rationals, then <code class="docutils literal notranslate"><span class="pre">sage_input(polygen(QQ)</span> <span class="pre">-</span> <span class="pre">2/3)</span></code> would
produce <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">(-2/3)</span></code>; if we change to the following code, then we
would get <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">2/3</span></code> instead.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">qq_sage_input_v4</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sib</span><span class="p">,</span> <span class="n">coerced</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">numerator</span><span class="p">()</span>
<span class="gp">....: </span>    <span class="n">neg</span> <span class="o">=</span> <span class="p">(</span><span class="n">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">if</span> <span class="n">neg</span><span class="p">:</span> <span class="n">num</span> <span class="o">=</span> <span class="o">-</span><span class="n">num</span>
<span class="gp">....: </span>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">denominator</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="n">coerced</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="n">v</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="n">v</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;QQ&#39;</span><span class="p">)(</span><span class="n">sib</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
<span class="gp">....: </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">....: </span>        <span class="n">v</span> <span class="o">=</span> <span class="n">sib</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">/</span><span class="n">sib</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">denominator</span><span class="p">())</span>
<span class="gp">....: </span>    <span class="k">if</span> <span class="n">neg</span><span class="p">:</span> <span class="n">v</span> <span class="o">=</span> <span class="o">-</span><span class="n">v</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">v</span>

<span class="gp">sage: </span><span class="n">test_qq_formatter</span><span class="p">(</span><span class="n">qq_sage_input_v4</span><span class="p">)</span>
<span class="go">[-ZZ(5)/7, -ZZ(5)/7, -5/7, -5/7, QQ(3), 3, QQ(3), 3]</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Carl Witty (2008-04): new file</p></li>
<li><p>Vincent Delecroix (2015-02): documentation formatting</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_assign">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_assign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lhs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_assign" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>This class represents an assignment command.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;pi&#39;</span><span class="p">))</span>
<span class="go">{assign: {getattr: {atomic:foo}.x} {atomic:pi}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_binary">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_binary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lhs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_binary" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>This class represents an arithmetic expression with a binary operator
and its two arguments, in a <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> expression tree.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="mi">5</span>
<span class="go">{binop:+ {atomic:3} {atomic:5}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_call">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_call" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>This class represents a function-call node in a <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a>
expression tree.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sie</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;GF&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sie</span><span class="p">(</span><span class="mi">49</span><span class="p">)</span>
<span class="go">{call: {atomic:GF}({atomic:49})}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_dict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entries</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>This class represents a dict node in a <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a>
expression tree.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">dict</span><span class="p">([(</span><span class="s1">&#39;TeX&#39;</span><span class="p">,</span> <span class="n">RR</span><span class="p">(</span><span class="n">pi</span><span class="p">)),</span> <span class="p">(</span><span class="s1">&#39;Metafont&#39;</span><span class="p">,</span> <span class="n">RR</span><span class="p">(</span><span class="n">e</span><span class="p">))])</span>
<span class="go">{dict: {{atomic:&#39;TeX&#39;}:{call: {atomic:RR}({atomic:3.1415926535897931})}, {atomic:&#39;Metafont&#39;}:{call: {atomic:RR}({atomic:2.7182818284590451})}}}</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">dict</span><span class="p">({</span><span class="o">-</span><span class="mi">40</span><span class="p">:</span><span class="o">-</span><span class="mi">40</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">32</span><span class="p">,</span> <span class="mi">100</span><span class="p">:</span><span class="mi">212</span><span class="p">})</span>
<span class="go">{dict: {{unop:- {atomic:40}}:{unop:- {atomic:40}}, {atomic:0}:{atomic:32}, {atomic:100}:{atomic:212}}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_gen">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_gen" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>This class represents a named generator of a parent with named
generators.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
<span class="go">{gen:x {constr_parent: {subscr: {atomic:ZZ}[{atomic:&#39;x&#39;}]} with gens: (&#39;x&#39;,)}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_gens_constructor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_gens_constructor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gen_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gens_syntax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_gens_constructor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>This class represents an expression that can create a sage parent
with named generators, optionally using the sage preparser
generators syntax (like <code class="docutils literal notranslate"><span class="pre">K.&lt;x&gt;</span> <span class="pre">=</span> <span class="pre">QQ[]</span></code>).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">qq</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;QQ&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">parent_with_gens</span><span class="p">(</span><span class="s2">&quot;some parent&quot;</span><span class="p">,</span> <span class="n">qq</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="gp">....: </span>                     <span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,),</span> <span class="s1">&#39;QQx&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                     <span class="n">gens_syntax</span><span class="o">=</span><span class="n">sib</span><span class="o">.</span><span class="n">empty_subscript</span><span class="p">(</span><span class="n">qq</span><span class="p">))</span>
<span class="go">{constr_parent: {subscr: {atomic:QQ}[{atomic:&#39;x&#39;}]} with gens: (&#39;x&#39;,)}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_getattr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_getattr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_getattr" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>This class represents a getattr node in a <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a>
expression tree.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sie</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;CC&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sie</span>
<span class="go">{call: {getattr: {atomic:CC}.gen}()}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_import_name">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_import_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alt_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_import_name" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>This class represents a name which has been imported from a module.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">import_name</span><span class="p">(</span><span class="s1">&#39;sage.rings.integer&#39;</span><span class="p">,</span> <span class="s1">&#39;make_integer&#39;</span><span class="p">)</span>
<span class="go">{import:sage.rings.integer/make_integer}</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">import_name</span><span class="p">(</span><span class="s1">&#39;sage.foo&#39;</span><span class="p">,</span> <span class="s1">&#39;happy&#39;</span><span class="p">,</span> <span class="s1">&#39;sad&#39;</span><span class="p">)</span>
<span class="go">{import:sage.foo/happy as sad}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_literal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_literal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_literal" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>An abstract base class for <code class="docutils literal notranslate"><span class="pre">literals</span></code> (basically, values which
consist of a single token).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span><span class="p">,</span> <span class="n">SIE_literal</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sie</span> <span class="o">=</span> <span class="n">sib</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sie</span>
<span class="go">{atomic:3}</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sie</span><span class="p">,</span> <span class="n">SIE_literal</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_literal_stringrep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_literal_stringrep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_literal_stringrep" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SIE_literal" title="sage.misc.sage_input.SIE_literal"><code class="xref py py-class docutils literal notranslate"><span class="pre">SIE_literal</span></code></a></p>
<p>Values in this class are leaves in a <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> expression
tree.  Typically they represent a single token, and consist of the
string representation of that token.  They are used for integer,
floating-point, and string literals, and for name expressions.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span><span class="p">,</span> <span class="n">SIE_literal_stringrep</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">SIE_literal_stringrep</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="mf">3.14159</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span> <span class="n">SIE_literal_stringrep</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;pi&#39;</span><span class="p">),</span> <span class="n">SIE_literal_stringrep</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="kc">False</span><span class="p">),</span> <span class="n">SIE_literal_stringrep</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="go">{atomic:False}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_subscript">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_subscript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coll</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_subscript" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>This class represents a subscript node in a <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a>
expression tree.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sie</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;QQ&#39;</span><span class="p">)[</span><span class="s1">&#39;x,y&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">sie</span>
<span class="go">{subscr: {atomic:QQ}[{atomic:&#39;x,y&#39;}]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_tuple">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_tuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_tuple" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>This class represents a tuple or list node in a <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a>
expression tree.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;howdy&#39;</span><span class="p">))</span>
<span class="go">{tuple: ({atomic:1}, {atomic:&#39;howdy&#39;})}</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="p">([</span><span class="s2">&quot;lists&quot;</span><span class="p">])</span>
<span class="go">{list: ({atomic:&#39;lists&#39;})}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SIE_unary">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SIE_unary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operand</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SIE_unary" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p>
<p>This class represents an arithmetic expression with a unary operator
and its argument, in a <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> expression tree.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="o">-</span><span class="n">sib</span><span class="p">(</span><span class="mi">256</span><span class="p">)</span>
<span class="go">{unop:- {atomic:256}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputAnswer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SageInputAnswer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputAnswer" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<p>This class inherits from tuple, so it acts like a tuple when passed
to <a class="reference internal" href="sage_eval.html#sage.misc.sage_eval.sage_eval" title="sage.misc.sage_eval.sage_eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_eval()</span></code></a>; but it prints as a sequence of commands.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputAnswer</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">SageInputAnswer</span><span class="p">(</span><span class="s1">&#39;x = 22</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;x/7&#39;</span><span class="p">);</span> <span class="n">v</span>
<span class="go">x = 22</span>
<span class="go">x/7</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;x = 22\n&#39;</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&#39;x/7&#39;</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">SageInputAnswer</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;sin(3.14)&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;sin&#39;</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">});</span> <span class="n">v</span>
<span class="go">LOCALS:</span>
<span class="go">  sin: &lt;built-in function sin&gt;</span>
<span class="go">sin(3.14)</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&#39;sin(3.14)&#39;</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">{&#39;sin&#39;: &lt;built-in function sin&gt;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SageInputBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allow_locals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An instance of this class is passed to <code class="docutils literal notranslate"><span class="pre">_sage_input_</span></code> methods.
It keeps track of the current state of the <code class="docutils literal notranslate"><span class="pre">_sage_input_</span></code> process,
and contains many utility methods for building <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a>
objects.</p>
<p>In normal use, instances of <a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder" title="sage.misc.sage_input.SageInputBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputBuilder</span></code></a> are created
internally by <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a>, but it may be useful to create
an instance directly for testing or doctesting.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>
</pre></div>
</div>
<p>We can create a <a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder" title="sage.misc.sage_input.SageInputBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputBuilder</span></code></a>, use it to create some
<a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> s, and get a result.  (As mentioned
above, this is only useful for testing or doctesting; normally
you would just use <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a>.):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">((</span><span class="n">sib</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="n">sib</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="n">sib</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span>
<span class="go">(3 + 4)*(5 + 6)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.assign">
<span class="sig-name descname"><span class="pre">assign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.assign" title="Permalink to this definition">#</a></dt>
<dd><p>Constructs a command that performs the assignment <code class="docutils literal notranslate"><span class="pre">e=val</span></code>.</p>
<p>Can only be used as an argument to the <code class="docutils literal notranslate"><span class="pre">command</span></code> method.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">e</span></code>, <code class="docutils literal notranslate"><span class="pre">val</span></code> – SageInputExpression</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">circular</span> <span class="o">=</span> <span class="n">sib</span><span class="p">([</span><span class="kc">None</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">circular</span><span class="p">,</span> <span class="n">sib</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">circular</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">circular</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">circular</span><span class="p">)</span>
<span class="go">si = [None]</span>
<span class="go">si[0] = si</span>
<span class="go">si</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.cache">
<span class="sig-name descname"><span class="pre">cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sie</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.cache" title="Permalink to this definition">#</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> - an arbitrary value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sie</span></code> - a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - a requested variable name</p></li>
</ul>
<p>Enters <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">sie</span></code> in a cache, so that subsequent calls
<code class="docutils literal notranslate"><span class="pre">self(x)</span></code> will directly return <code class="docutils literal notranslate"><span class="pre">sie</span></code>.  Also, marks the
requested name of this <code class="docutils literal notranslate"><span class="pre">sie</span></code> to be <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p>This should almost always be called as part of the
method{_sage_input_} method of a parent.  It may also be called
on values of an arbitrary type, which may be useful if the values
are both large and likely to be used multiple times in a single
expression.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sie42</span> <span class="o">=</span> <span class="n">sib</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">101</span><span class="p">)(</span><span class="mi">42</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">cache</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">101</span><span class="p">)(</span><span class="mi">42</span><span class="p">),</span> <span class="n">sie42</span><span class="p">,</span> <span class="s1">&#39;the_ultimate_answer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">101</span><span class="p">)(</span><span class="mi">42</span><span class="p">))</span> <span class="o">+</span> <span class="n">sib</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">101</span><span class="p">)(</span><span class="mi">42</span><span class="p">)))</span>
<span class="go">the_ultimate_answer = GF(101)(42)</span>
<span class="go">the_ultimate_answer + the_ultimate_answer</span>
</pre></div>
</div>
<p>Note that we don’t assign the result to a variable if the value
is only used once.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sie42</span> <span class="o">=</span> <span class="n">sib</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">101</span><span class="p">)(</span><span class="mi">42</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">cache</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">101</span><span class="p">)(</span><span class="mi">42</span><span class="p">),</span> <span class="n">sie42</span><span class="p">,</span> <span class="s1">&#39;the_ultimate_answer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">101</span><span class="p">)(</span><span class="mi">42</span><span class="p">))</span> <span class="o">+</span> <span class="n">sib</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">101</span><span class="p">)(</span><span class="mi">43</span><span class="p">)))</span>
<span class="go">GF_101 = GF(101)</span>
<span class="go">GF_101(42) + GF_101(43)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.command">
<span class="sig-name descname"><span class="pre">command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.command" title="Permalink to this definition">#</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>, <code class="docutils literal notranslate"><span class="pre">cmd</span></code> – SageInputExpression</p></li>
</ul>
<p>Attaches a command to v, which will be executed before v is used.
Multiple commands will be executed in the order added.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">incr_list</span> <span class="o">=</span> <span class="n">sib</span><span class="p">([])</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">incr_list</span><span class="p">,</span> <span class="n">incr_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">incr_list</span><span class="p">,</span> <span class="n">incr_list</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">incr_list</span><span class="p">)</span>
<span class="go">si = []</span>
<span class="go">si.append(1)</span>
<span class="go">si.extend([2, 3])</span>
<span class="go">si</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.dict">
<span class="sig-name descname"><span class="pre">dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.dict" title="Permalink to this definition">#</a></dt>
<dd><p>Given a dictionary, or a list of (key, value) pairs,
produces a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> representing
the dictionary.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">dict</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">100</span><span class="o">/</span><span class="mi">3</span><span class="p">}))</span>
<span class="go">{1:1, 2:5/2, 3:100/3}</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">dict</span><span class="p">([(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;sunshine&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;goodbye&#39;</span><span class="p">,</span> <span class="s1">&#39;rain&#39;</span><span class="p">)]))</span>
<span class="go">{&#39;hello&#39;:&#39;sunshine&#39;, &#39;goodbye&#39;:&#39;rain&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.empty_subscript">
<span class="sig-name descname"><span class="pre">empty_subscript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.empty_subscript" title="Permalink to this definition">#</a></dt>
<dd><p>Given a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> representing <code class="docutils literal notranslate"><span class="pre">foo</span></code>,
produces a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> representing <code class="docutils literal notranslate"><span class="pre">foo[]</span></code>.
Since this is not legal Python syntax, it is useful only for
producing the sage generator syntax for a polynomial ring.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">empty_subscript</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">sib</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">(2 + 3)[]</span>
</pre></div>
</div>
<p>The following calls this method indirectly.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">polygen</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]))</span>
<span class="go">R.&lt;x&gt; = ZZ[&#39;y&#39;][]</span>
<span class="go">x</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.float_str">
<span class="sig-name descname"><span class="pre">float_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.float_str" title="Permalink to this definition">#</a></dt>
<dd><p>Given a string representing a floating-point number,
produces a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> that formats as that
string.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">float_str</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">RR</span><span class="p">(</span><span class="n">e</span><span class="p">))))</span>
<span class="go">2.71828182845905</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.gen">
<span class="sig-name descname"><span class="pre">gen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.gen" title="Permalink to this definition">#</a></dt>
<dd><p>Given a parent, returns a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> for
the <span class="math notranslate nohighlight">\(n\)</span>-th (default 0) generator of the parent.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]))</span>
<span class="go">R.&lt;y&gt; = ZZ[]</span>
<span class="go">y</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.getattr">
<span class="sig-name descname"><span class="pre">getattr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sie</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.getattr" title="Permalink to this definition">#</a></dt>
<dd><p>Given a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> representing <code class="docutils literal notranslate"><span class="pre">foo</span></code>
and an attribute name bar, produce a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a>
representing <code class="docutils literal notranslate"><span class="pre">foo.bar</span></code>.  Normally, you could just use
attribute-access syntax, but that doesn’t work if bar
is some attribute that bypasses __getattr__ (such as if
bar is ‘__getattr__’ itself).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">getattr</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s1">&#39;__getattr__&#39;</span><span class="p">)</span>
<span class="go">{getattr: {atomic:ZZ}.__getattr__}</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">getattr</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">),</span> <span class="s1">&#39;__new__&#39;</span><span class="p">)</span>
<span class="go">{getattr: {atomic:foo}.__new__}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.id_cache">
<span class="sig-name descname"><span class="pre">id_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sie</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.id_cache" title="Permalink to this definition">#</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> - an arbitrary value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sie</span></code> - a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - a requested variable name</p></li>
</ul>
<p>Enters <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">sie</span></code> in a cache, so that subsequent calls
<code class="docutils literal notranslate"><span class="pre">self(x)</span></code> will directly return <code class="docutils literal notranslate"><span class="pre">sie</span></code>.  Also, marks the
requested name of this <code class="docutils literal notranslate"><span class="pre">sie</span></code> to be <code class="docutils literal notranslate"><span class="pre">name</span></code>.  Differs from
the method{cache} method in that the cache is keyed by
<code class="docutils literal notranslate"><span class="pre">id(x)</span></code> instead of by <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>This may be called on values of an arbitrary type, which may
be useful if the values are both large and likely to be used
multiple times in a single expression; it should be preferred to
method{cache} if equality on the values is difficult or impossible
to compute.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">my_42</span> <span class="o">=</span> <span class="mi">42</span><span class="o">*</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">sie42</span> <span class="o">=</span> <span class="n">sib</span><span class="p">(</span><span class="n">my_42</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">id_cache</span><span class="p">(</span><span class="n">my_42</span><span class="p">,</span> <span class="n">sie42</span><span class="p">,</span> <span class="s1">&#39;the_ultimate_answer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="n">my_42</span><span class="p">)</span> <span class="o">+</span> <span class="n">sib</span><span class="p">(</span><span class="n">my_42</span><span class="p">))</span>
<span class="go">R.&lt;x&gt; = ZZ[]</span>
<span class="go">the_ultimate_answer = 42*x</span>
<span class="go">the_ultimate_answer + the_ultimate_answer</span>
</pre></div>
</div>
<p>Since id_cache keys off of object identity (“is”), the
following does not trigger the cache.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="mi">42</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">sib</span><span class="p">(</span><span class="mi">42</span><span class="o">*</span><span class="n">x</span><span class="p">))</span>
<span class="go">42*x + 42*x</span>
</pre></div>
</div>
<p>Note that we don’t assign the result to a variable if the value
is only used once.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">my_42</span> <span class="o">=</span> <span class="mi">42</span><span class="o">*</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">sie42</span> <span class="o">=</span> <span class="n">sib</span><span class="p">(</span><span class="n">my_42</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">id_cache</span><span class="p">(</span><span class="n">my_42</span><span class="p">,</span> <span class="n">sie42</span><span class="p">,</span> <span class="s1">&#39;the_ultimate_answer&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="n">my_42</span><span class="p">)</span> <span class="o">+</span> <span class="n">sib</span><span class="p">(</span><span class="mi">43</span><span class="o">*</span><span class="n">x</span><span class="p">))</span>
<span class="go">R.&lt;x&gt; = ZZ[]</span>
<span class="go">42*x + 43*x</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.import_name">
<span class="sig-name descname"><span class="pre">import_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alt_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.import_name" title="Permalink to this definition">#</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">module</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">alt_name</span></code> – strings</p></li>
</ul>
<p>Creates an expression that will import a name from a module and
then use that name.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v1</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">import_name</span><span class="p">(</span><span class="s1">&#39;sage.foo.bar&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v2</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">import_name</span><span class="p">(</span><span class="s1">&#39;sage.foo.bar&#39;</span><span class="p">,</span> <span class="s1">&#39;ZZ&#39;</span><span class="p">,</span> <span class="s1">&#39;not_the_real_ZZ&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">v1</span><span class="o">+</span><span class="n">v2</span><span class="p">)</span>
<span class="go">from sage.foo.bar import baz</span>
<span class="go">from sage.foo.bar import ZZ as not_the_real_ZZ</span>
<span class="go">baz + not_the_real_ZZ</span>
</pre></div>
</div>
<p>We adjust the names if there is a conflict.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v1</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">import_name</span><span class="p">(</span><span class="s1">&#39;sage.foo&#39;</span><span class="p">,</span> <span class="s1">&#39;poly&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v2</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">import_name</span><span class="p">(</span><span class="s1">&#39;sage.bar&#39;</span><span class="p">,</span> <span class="s1">&#39;poly&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">v1</span><span class="o">+</span><span class="n">v2</span><span class="p">)</span>
<span class="go">from sage.foo import poly as poly1</span>
<span class="go">from sage.bar import poly as poly2</span>
<span class="go">poly1 + poly2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.int">
<span class="sig-name descname"><span class="pre">int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.int" title="Permalink to this definition">#</a></dt>
<dd><p>Return a raw SIE from the integer <code class="docutils literal notranslate"><span class="pre">n</span></code></p>
<p>As it is raw, it may read back as a Sage Integer or a Python int,
depending on its size and whether the preparser is enabled.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> – a Sage Integer or a Python int</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">^</span><span class="mi">50</span><span class="p">))</span>
<span class="go">-717897987691852588770249</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">int</span><span class="p">(</span><span class="o">-</span><span class="mi">42</span><span class="n">r</span><span class="p">))</span>
<span class="go">-42</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.name" title="Permalink to this definition">#</a></dt>
<dd><p>Given a string representing a Python name,
produces a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> for that name.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;pi&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">))</span>
<span class="go">pi + e</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.parent_with_gens">
<span class="sig-name descname"><span class="pre">parent_with_gens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sie</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gen_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gens_syntax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.parent_with_gens" title="Permalink to this definition">#</a></dt>
<dd><p>This method is used for parents with generators, to manage the
sage preparser generator syntax (like <code class="docutils literal notranslate"><span class="pre">K.&lt;x&gt;</span> <span class="pre">=</span> <span class="pre">QQ[]</span></code>).</p>
<p>The method{_sage_input_} method of a parent class with
generators should construct a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> for
the parent, and then call this method with the parent itself,
the constructed SIE, a sequence containing the names of the
generators, and (optionally) another SIE to use if the sage
generator syntax is used; typically this will be the same as
the first SIE except omitting a <code class="docutils literal notranslate"><span class="pre">names</span></code> parameter.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>


<span class="gp">sage: </span><span class="k">def</span> <span class="nf">test_setup</span><span class="p">(</span><span class="n">use_gens</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">preparse</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">(</span><span class="n">preparse</span><span class="o">=</span><span class="n">preparse</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="n">gen_names</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="n">parent</span> <span class="o">=</span> <span class="s2">&quot;some parent&quot;</span>
<span class="gp">....: </span>    <span class="n">normal_sie</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;make_a_parent&#39;</span><span class="p">)(</span><span class="n">names</span><span class="o">=</span><span class="n">gen_names</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">if</span> <span class="n">use_gens</span><span class="p">:</span>
<span class="gp">....: </span>        <span class="n">gens_sie</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;make_a_parent&#39;</span><span class="p">)()</span>
<span class="gp">....: </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">....: </span>        <span class="n">gens_sie</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">....: </span>    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;the_thing&#39;</span>
<span class="gp">....: </span>    <span class="n">result</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">parent_with_gens</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">normal_sie</span><span class="p">,</span>
<span class="gp">....: </span>                                  <span class="n">gen_names</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span>
<span class="gp">....: </span>                                  <span class="n">gens_syntax</span><span class="o">=</span><span class="n">gens_sie</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">sib</span><span class="p">,</span> <span class="n">result</span>

<span class="gp">sage: </span><span class="n">sib</span><span class="p">,</span> <span class="n">par_sie</span> <span class="o">=</span> <span class="n">test_setup</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">par_sie</span><span class="p">)</span>
<span class="go">make_a_parent(names=(&#39;foo&#39;, &#39;bar&#39;))</span>

<span class="gp">sage: </span><span class="n">sib</span><span class="p">,</span> <span class="n">par_sie</span> <span class="o">=</span> <span class="n">test_setup</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">sib</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="s2">&quot;some parent&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="go">the_thing.&lt;foo,bar&gt; = make_a_parent()</span>
<span class="go">3*foo</span>

<span class="gp">sage: </span><span class="n">sib</span><span class="p">,</span> <span class="n">par_sie</span> <span class="o">=</span> <span class="n">test_setup</span><span class="p">(</span><span class="n">preparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">par_sie</span><span class="p">)</span>
<span class="go">make_a_parent(names=(&#39;foo&#39;, &#39;bar&#39;))</span>

<span class="gp">sage: </span><span class="n">sib</span><span class="p">,</span> <span class="n">par_sie</span> <span class="o">=</span> <span class="n">test_setup</span><span class="p">(</span><span class="n">preparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">sib</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="s2">&quot;some parent&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="go">the_thing = make_a_parent(names=(&#39;foo&#39;, &#39;bar&#39;))</span>
<span class="go">foo,bar = the_thing.gens()</span>
<span class="go">ZZ(3)*foo</span>

<span class="gp">sage: </span><span class="n">sib</span><span class="p">,</span> <span class="n">par_sie</span> <span class="o">=</span> <span class="n">test_setup</span><span class="p">(</span><span class="n">use_gens</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">par_sie</span><span class="p">)</span>
<span class="go">make_a_parent(names=(&#39;foo&#39;, &#39;bar&#39;))</span>

<span class="gp">sage: </span><span class="n">sib</span><span class="p">,</span> <span class="n">par_sie</span> <span class="o">=</span> <span class="n">test_setup</span><span class="p">(</span><span class="n">use_gens</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">sib</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="s2">&quot;some parent&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="go">the_thing = make_a_parent(names=(&#39;foo&#39;, &#39;bar&#39;))</span>
<span class="go">foo,bar = the_thing.gens()</span>
<span class="go">3*foo</span>

<span class="gp">sage: </span><span class="n">sib</span><span class="p">,</span> <span class="n">par_sie</span> <span class="o">=</span> <span class="n">test_setup</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">par_sie</span> <span class="o">-</span> <span class="n">sib</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="s2">&quot;some parent&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="go">the_thing.&lt;foo,bar&gt; = make_a_parent()</span>
<span class="go">the_thing - bar</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.preparse">
<span class="sig-name descname"><span class="pre">preparse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.preparse" title="Permalink to this definition">#</a></dt>
<dd><p>Checks the preparse status.</p>
<p>It returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the preparser will be enabled, <code class="docutils literal notranslate"><span class="pre">False</span></code> if it
will be disabled, and <code class="docutils literal notranslate"><span class="pre">None</span></code> if the result must work whether or not
the preparser is enabled.</p>
<p>For example, this is useful in the method{_sage_input_}
methods of <a class="reference external" href="../../../rings_standard/sage/rings/integer.html#sage.rings.integer.Integer" title="(in Standard Commutative Rings v10.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integer</span></code></a> and <a class="reference external" href="../../../rings_numerical/sage/rings/real_mpfr.html#sage.rings.real_mpfr.RealNumber" title="(in Fixed and Arbitrary Precision Numerical Fields v10.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RealNumber</span></code></a>; but most
method{_sage_input_} methods will not need to examine this.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>
<span class="gp">sage: </span><span class="n">SageInputBuilder</span><span class="p">()</span><span class="o">.</span><span class="n">preparse</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">SageInputBuilder</span><span class="p">(</span><span class="n">preparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">preparse</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.prod">
<span class="sig-name descname"><span class="pre">prod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simplify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.prod" title="Permalink to this definition">#</a></dt>
<dd><p>Given a sequence, returns a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a>
for the product of the elements.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">simplify=True</span></code>, performs some simplifications
first.  If any element is formatted as a string <code class="docutils literal notranslate"><span class="pre">'0'</span></code>,
then that element is returned directly.  If any element is
formatted as a string <code class="docutils literal notranslate"><span class="pre">'1'</span></code>, then it is removed
from the sequence (unless it is the only element in the sequence).
And any negations are removed from the elements and moved to the
outside of the product.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">prod</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">]))</span>
<span class="go">-1*0*1*-2</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">prod</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">simplify</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">prod</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">simplify</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">-2*3*4</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">prod</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">simplify</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">-1</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">prod</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">simplify</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.result">
<span class="sig-name descname"><span class="pre">result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.result" title="Permalink to this definition">#</a></dt>
<dd><p>Given a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> constructed using <code class="docutils literal notranslate"><span class="pre">self</span></code>,
returns a tuple of a list of commands and an expression
(and possibly a dictionary of local variables) suitable for
<a class="reference internal" href="sage_eval.html#sage.misc.sage_eval.sage_eval" title="sage.misc.sage_eval.sage_eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_eval()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">*</span> <span class="n">sib</span><span class="p">(</span><span class="mi">7</span><span class="p">));</span> <span class="n">r</span>
<span class="go">6*7</span>
<span class="gp">sage: </span><span class="nb">tuple</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;6*7&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.share">
<span class="sig-name descname"><span class="pre">share</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sie</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.share" title="Permalink to this definition">#</a></dt>
<dd><p>Mark the given expression as sharable, so that it will be replaced
by a variable if it occurs multiple times in the expression.
(Most non-single-token expressions are already sharable.)</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>
</pre></div>
</div>
<p>Without explicitly using .share(), string literals are not shared:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">sib</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="p">((</span><span class="n">e</span><span class="p">,</span> <span class="n">e</span><span class="p">)))</span>
<span class="go">(&#39;hello&#39;, &#39;hello&#39;)</span>
</pre></div>
</div>
<p>See the difference if we use .share():</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">sib</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">share</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="p">((</span><span class="n">e</span><span class="p">,</span> <span class="n">e</span><span class="p">)))</span>
<span class="go">si = &#39;hello&#39;</span>
<span class="go">(si, si)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.sum">
<span class="sig-name descname"><span class="pre">sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">terms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simplify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.sum" title="Permalink to this definition">#</a></dt>
<dd><p>Given a sequence, returns a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a>
for the product of the elements.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">simplify=True</span></code>, performs some simplifications
first.  If any element is formatted as a string <code class="docutils literal notranslate"><span class="pre">'0'</span></code>,
then it is removed from the sequence (unless it is the only
element in the sequence); and any instances of <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">+</span> <span class="pre">-b</span></code>
are changed to <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">-</span> <span class="pre">b</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
<span class="go">-1 + 0 + 1 + 0 + -1</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">simplify</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">-1 + 1 - 1</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">sib</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">simplify</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputBuilder.use_variable">
<span class="sig-name descname"><span class="pre">use_variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sie</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputBuilder.use_variable" title="Permalink to this definition">#</a></dt>
<dd><p>Marks the <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> <code class="docutils literal notranslate"><span class="pre">sie</span></code> to use a variable
even if it is only referenced once.  (If <code class="docutils literal notranslate"><span class="pre">sie</span></code> is the final
top-level expression, though, it will not use a variable.)</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;MatrixSpace&#39;</span><span class="p">)(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">use_variable</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="s1">&#39;MS&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">zero_matrix</span><span class="p">())</span>
<span class="go">MS = MatrixSpace(ZZ, 10, 10)</span>
<span class="go">MS.zero_matrix()</span>
</pre></div>
</div>
<p>Without the call to use_variable, we get this instead:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;MatrixSpace&#39;</span><span class="p">)(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">zero_matrix</span><span class="p">())</span>
<span class="go">MatrixSpace(ZZ, 10, 10).zero_matrix()</span>
</pre></div>
</div>
<p>And even with the call to use_variable, we don’t use a variable here:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;MatrixSpace&#39;</span><span class="p">)(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">use_variable</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="s1">&#39;MS&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="go">MatrixSpace(ZZ, 10, 10)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputExpression">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SageInputExpression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sib</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputExpression" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Subclasses of this class represent expressions for <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a>.
sage classes should define a method{_sage_input_} method, which
will return an instance of <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a>, created using
methods of <a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder" title="sage.misc.sage_input.SageInputBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputBuilder</span></code></a>.</p>
<p>To the extent possible, operations on <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> objects
construct a new <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> representing that operation.
That is, if <code class="docutils literal notranslate"><span class="pre">a</span></code> is a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a>, then <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">+</span> <span class="pre">b</span></code>
constructs a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> representing this sum.
This also works for attribute access, function calls, subscripts, etc.
Since arbitrary attribute accesses might be used to construct a new
attribute-access expression, all internal attributes and methods
have names that begin with <code class="docutils literal notranslate"><span class="pre">_sie_</span></code> to reduce the chance of
collisions.</p>
<p>It is expected that instances of this class will not be directly
created outside this module; instead, instances will be created
using methods of <a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder" title="sage.misc.sage_input.SageInputBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputBuilder</span></code></a> and <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a>.</p>
<p>Values of type <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a> print in a fairly ugly
way, that reveals the internal structure of the expression tree.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputFormatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">SageInputFormatter</span></span><a class="headerlink" href="#sage.misc.sage_input.SageInputFormatter" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An instance of this class is used to keep track of variable names
and a sequence of generated commands during the <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a>
formatting process.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputFormatter.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputFormatter.format" title="Permalink to this definition">#</a></dt>
<dd><p>Format a Sage input expression into a string.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">e</span></code> - a <a class="reference internal" href="#sage.misc.sage_input.SageInputExpression" title="sage.misc.sage_input.SageInputExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prec</span></code> - an integer representing a precedence level</p></li>
</ul>
<p>First, we check to see if <code class="docutils literal notranslate"><span class="pre">e</span></code> should be replaced by a variable.
If so, we generate the command to assign the variable, and return
the name of the variable.</p>
<p>Otherwise, we format the expression by calling its method{_sie_format}
method, and add parentheses if necessary.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span><span class="p">,</span> <span class="n">SageInputFormatter</span>

<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sif</span> <span class="o">=</span> <span class="n">SageInputFormatter</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sie</span> <span class="o">=</span> <span class="n">sib</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<p>Here we <code class="docutils literal notranslate"><span class="pre">cheat</span></code> by calling method{_sie_prepare} twice, to make it
use a variable.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sie</span><span class="o">.</span><span class="n">_sie_prepare</span><span class="p">(</span><span class="n">sif</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sie</span><span class="o">.</span><span class="n">_sie_prepare</span><span class="p">(</span><span class="n">sif</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">_commands</span>
<span class="go">&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sie</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;GF_5&#39;</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">_commands</span>
<span class="go">&#39;GF_5 = GF(5)\n&#39;</span>
</pre></div>
</div>
<p>We demonstrate the use of commands, by showing how to construct
code that will produce a random matrix:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sif</span> <span class="o">=</span> <span class="n">SageInputFormatter</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sie</span> <span class="o">=</span> <span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;matrix&#39;</span><span class="p">)(</span><span class="n">sib</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;ZZ&#39;</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sib</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">sie</span><span class="p">,</span> <span class="n">sie</span><span class="o">.</span><span class="n">randomize</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">sie</span><span class="o">.</span><span class="n">_sie_prepare</span><span class="p">(</span><span class="n">sif</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">_commands</span>
<span class="go">&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sie</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;si&#39;</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">_commands</span>
<span class="go">&#39;si = matrix(ZZ, 10, 10)\nsi.randomize()\n&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputFormatter.get_name">
<span class="sig-name descname"><span class="pre">get_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputFormatter.get_name" title="Permalink to this definition">#</a></dt>
<dd><p>Return a name corresponding to a given requested name.
If only one request for a name is received, then we will use the
requested name; otherwise, we will add numbers to the end of the
name to make it unique.</p>
<p>If the input name is <code class="docutils literal notranslate"><span class="pre">None</span></code>, then it is treated as a name of
<code class="docutils literal notranslate"><span class="pre">'si'</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputFormatter</span>

<span class="gp">sage: </span><span class="n">sif</span> <span class="o">=</span> <span class="n">SageInputFormatter</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">names</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span> <span class="n">sif</span><span class="o">.</span><span class="n">register_name</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span> <span class="n">sif</span><span class="o">.</span><span class="n">get_name</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">&#39;x1&#39;</span>
<span class="go">&#39;x2&#39;</span>
<span class="go">&#39;y&#39;</span>
<span class="go">&#39;z&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_input.SageInputFormatter.register_name">
<span class="sig-name descname"><span class="pre">register_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.SageInputFormatter.register_name" title="Permalink to this definition">#</a></dt>
<dd><p>Register that some value would like to use a given name.
If only one request for a name is received, then we will use the
requested name; otherwise, we will add numbers to the end of the
name to make it unique.</p>
<p>If the input name is <code class="docutils literal notranslate"><span class="pre">None</span></code>, then it is treated as a name of
<code class="docutils literal notranslate"><span class="pre">'si'</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputFormatter</span>

<span class="gp">sage: </span><span class="n">sif</span> <span class="o">=</span> <span class="n">SageInputFormatter</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">_names</span><span class="p">,</span> <span class="n">sif</span><span class="o">.</span><span class="n">_dup_names</span>
<span class="go">(set(), {})</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">register_name</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">register_name</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">_names</span><span class="p">,</span> <span class="n">sif</span><span class="o">.</span><span class="n">_dup_names</span>
<span class="go">({&#39;x&#39;, &#39;y&#39;}, {})</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">register_name</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sif</span><span class="o">.</span><span class="n">_names</span><span class="p">,</span> <span class="n">sif</span><span class="o">.</span><span class="n">_dup_names</span>
<span class="go">({&#39;x&#39;, &#39;y&#39;}, {&#39;x&#39;: 0})</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.misc.sage_input.sage_input">
<span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">sage_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_locals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.sage_input" title="Permalink to this definition">#</a></dt>
<dd><p>Return a sequence of commands that can be used to rebuild the object <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> - the value we want to find an input form for</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">preparse</span></code> - (default <code class="docutils literal notranslate"><span class="pre">True</span></code>) Whether to generate code that requires
the preparser.  With <code class="docutils literal notranslate"><span class="pre">True</span></code>, generated code requires the preparser.
With <code class="docutils literal notranslate"><span class="pre">False</span></code>, generated code requires that the preparser not be used.
With <code class="docutils literal notranslate"><span class="pre">None</span></code>, generated code will work whether or not the preparser is
used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">verify</span></code> - (default <code class="docutils literal notranslate"><span class="pre">False</span></code>) If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then the answer will be
evaluated with <a class="reference internal" href="sage_eval.html#sage.misc.sage_eval.sage_eval" title="sage.misc.sage_eval.sage_eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_eval()</span></code></a>, and an exception will be raised if the
result is not equal to the original value.  (In fact, for <code class="docutils literal notranslate"><span class="pre">verify=True</span></code>,
<a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> is effectively run three times, with <code class="docutils literal notranslate"><span class="pre">preparse</span></code> set
to <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">False</span></code>, and <code class="docutils literal notranslate"><span class="pre">None</span></code>, and all three results are checked.)
This is particularly useful for doctests.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">allow_locals</span></code> - (default <code class="docutils literal notranslate"><span class="pre">False</span></code>) If <code class="docutils literal notranslate"><span class="pre">True</span></code>, then values that
<a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> cannot handle are returned in a dictionary, and the
returned code assumes that this dictionary is passed as the <code class="docutils literal notranslate"><span class="pre">locals</span></code>
parameter of <a class="reference internal" href="sage_eval.html#sage.misc.sage_eval.sage_eval" title="sage.misc.sage_eval.sage_eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_eval()</span></code></a>.  (Otherwise, if <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> cannot
handle a value, an exception is raised.)</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">GF(2)(1)</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">((</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">0</span><span class="p">),</span> <span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">1</span><span class="p">)),</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">GF_2 = GF(2)</span>
<span class="go">(GF_2(0), GF_2(1))</span>
</pre></div>
</div>
<p>When the preparser is enabled, we use the sage generator syntax.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = GF(5)[]</span>
<span class="go">x^3 + 2*x</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">preparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">R = GF(5)[&#39;x&#39;]</span>
<span class="go">x = R.gen()</span>
<span class="go">x**3 + 2*x</span>
</pre></div>
</div>
<p>The result of <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> is actually a pair of strings with a
special <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> method to print nicely.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">sage_input</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">20</span><span class="p">)(</span><span class="n">pi</span><span class="p">),</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span>
<span class="go"># Verified</span>
<span class="go">RealField(20)(3.1415939)</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="nb">tuple</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">(&#39;# Verified\n&#39;, &#39;RealField(20)(3.1415939)&#39;)</span>
</pre></div>
</div>
<p>We cannot find an input form for a function.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage_input</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: cannot convert &lt;function &lt;lambda&gt; at 0x...&gt; to sage_input form</span>
</pre></div>
</div>
<p>But we can have <a class="reference internal" href="#sage.misc.sage_input.sage_input" title="sage.misc.sage_input.sage_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage_input()</span></code></a> continue anyway, and return an input form
for the rest of the expression, with <code class="docutils literal notranslate"><span class="pre">allow_locals=True</span></code>.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">sage_input</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">),</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">allow_locals</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span>
<span class="go">LOCALS:</span>
<span class="go">    _sil1: &lt;function &lt;lambda&gt; at 0x...&gt;</span>
<span class="go"># Verified</span>
<span class="go">(3, _sil1)</span>
<span class="gp">sage: </span><span class="nb">tuple</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">(&#39;# Verified\n&#39;, &#39;(3, _sil1)&#39;, {&#39;_sil1&#39;: &lt;function &lt;lambda&gt; at 0x...&gt;})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.misc.sage_input.verify_same">
<span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">verify_same</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.verify_same" title="Permalink to this definition">#</a></dt>
<dd><p>Verify that two Sage values are the same.  This is an extended equality
test; it checks that the values are equal and that their parents are equal.
(For values which are not Elements, the types are checked instead.)</p>
<p>If the values are the same, we return <code class="docutils literal notranslate"><span class="pre">None</span></code>; otherwise,
we raise an exception.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">verify_same</span>
<span class="gp">sage: </span><span class="n">verify_same</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">verify_same</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AssertionError: Expected 1 == 2</span>
<span class="gp">sage: </span><span class="n">verify_same</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="n">r</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AttributeError: &#39;int&#39; object has no attribute &#39;parent&#39;</span>
<span class="gp">sage: </span><span class="n">verify_same</span><span class="p">(</span><span class="mi">1</span><span class="n">r</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">    assert(type(a) == type(b))</span>
<span class="go">AssertionError</span>
<span class="gp">sage: </span><span class="n">verify_same</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">)(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">    assert(a.parent() == b.parent())</span>
<span class="go">AssertionError</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.misc.sage_input.verify_si_answer">
<span class="sig-prename descclassname"><span class="pre">sage.misc.sage_input.</span></span><span class="sig-name descname"><span class="pre">verify_si_answer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">answer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preparse</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_input.verify_si_answer" title="Permalink to this definition">#</a></dt>
<dd><p>Verify that evaluating <code class="docutils literal notranslate"><span class="pre">answer</span></code> gives a value equal to <code class="docutils literal notranslate"><span class="pre">x</span></code>
(with the same parent/type).  If <code class="docutils literal notranslate"><span class="pre">preparse</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> or
<code class="docutils literal notranslate"><span class="pre">False</span></code>, then we evaluate <code class="docutils literal notranslate"><span class="pre">answer</span></code> with the preparser
enabled or disabled, respectively; if <code class="docutils literal notranslate"><span class="pre">preparse</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>,
then we evaluate <code class="docutils literal notranslate"><span class="pre">answer</span></code> both with the preparser enabled and
disabled and check both results.</p>
<p>On success, we return <code class="docutils literal notranslate"><span class="pre">None</span></code>; on failure, we raise an exception.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> - an arbitrary Sage value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">answer</span></code> - a string, or a <a class="reference internal" href="#sage.misc.sage_input.SageInputAnswer" title="sage.misc.sage_input.SageInputAnswer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageInputAnswer</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">preparse</span></code> – <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">False</span></code>, or <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">verify_si_answer</span>
<span class="gp">sage: </span><span class="n">verify_si_answer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">verify_si_answer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AttributeError: &#39;int&#39; object has no attribute &#39;parent&#39;</span>
<span class="gp">sage: </span><span class="n">verify_si_answer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ZZ(1)&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="table.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Tables</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="repr.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Repr formatting support</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2023, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Sage Input Formatting</a><ul>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_assign"><code class="docutils literal notranslate"><span class="pre">SIE_assign</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_binary"><code class="docutils literal notranslate"><span class="pre">SIE_binary</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_call"><code class="docutils literal notranslate"><span class="pre">SIE_call</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_dict"><code class="docutils literal notranslate"><span class="pre">SIE_dict</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_gen"><code class="docutils literal notranslate"><span class="pre">SIE_gen</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_gens_constructor"><code class="docutils literal notranslate"><span class="pre">SIE_gens_constructor</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_getattr"><code class="docutils literal notranslate"><span class="pre">SIE_getattr</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_import_name"><code class="docutils literal notranslate"><span class="pre">SIE_import_name</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_literal"><code class="docutils literal notranslate"><span class="pre">SIE_literal</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_literal_stringrep"><code class="docutils literal notranslate"><span class="pre">SIE_literal_stringrep</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_subscript"><code class="docutils literal notranslate"><span class="pre">SIE_subscript</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_tuple"><code class="docutils literal notranslate"><span class="pre">SIE_tuple</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SIE_unary"><code class="docutils literal notranslate"><span class="pre">SIE_unary</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputAnswer"><code class="docutils literal notranslate"><span class="pre">SageInputAnswer</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder"><code class="docutils literal notranslate"><span class="pre">SageInputBuilder</span></code></a><ul>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.assign"><code class="docutils literal notranslate"><span class="pre">assign()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.cache"><code class="docutils literal notranslate"><span class="pre">cache()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.command"><code class="docutils literal notranslate"><span class="pre">command()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.dict"><code class="docutils literal notranslate"><span class="pre">dict()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.empty_subscript"><code class="docutils literal notranslate"><span class="pre">empty_subscript()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.float_str"><code class="docutils literal notranslate"><span class="pre">float_str()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.gen"><code class="docutils literal notranslate"><span class="pre">gen()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.getattr"><code class="docutils literal notranslate"><span class="pre">getattr()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.id_cache"><code class="docutils literal notranslate"><span class="pre">id_cache()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.import_name"><code class="docutils literal notranslate"><span class="pre">import_name()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.int"><code class="docutils literal notranslate"><span class="pre">int()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.name"><code class="docutils literal notranslate"><span class="pre">name()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.parent_with_gens"><code class="docutils literal notranslate"><span class="pre">parent_with_gens()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.preparse"><code class="docutils literal notranslate"><span class="pre">preparse()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.prod"><code class="docutils literal notranslate"><span class="pre">prod()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.result"><code class="docutils literal notranslate"><span class="pre">result()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.share"><code class="docutils literal notranslate"><span class="pre">share()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.sum"><code class="docutils literal notranslate"><span class="pre">sum()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputBuilder.use_variable"><code class="docutils literal notranslate"><span class="pre">use_variable()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputExpression"><code class="docutils literal notranslate"><span class="pre">SageInputExpression</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputFormatter"><code class="docutils literal notranslate"><span class="pre">SageInputFormatter</span></code></a><ul>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputFormatter.format"><code class="docutils literal notranslate"><span class="pre">format()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputFormatter.get_name"><code class="docutils literal notranslate"><span class="pre">get_name()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.SageInputFormatter.register_name"><code class="docutils literal notranslate"><span class="pre">register_name()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.misc.sage_input.sage_input"><code class="docutils literal notranslate"><span class="pre">sage_input()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.verify_same"><code class="docutils literal notranslate"><span class="pre">verify_same()</span></code></a></li>
<li><a class="reference internal" href="#sage.misc.sage_input.verify_si_answer"><code class="docutils literal notranslate"><span class="pre">verify_si_answer()</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"ZZ": "\\Bold{Z}", "NN": "\\Bold{N}", "RR": "\\Bold{R}", "CC": "\\Bold{C}", "QQ": "\\Bold{Q}", "QQbar": "\\overline{\\QQ}", "GF": ["\\Bold{F}_{#1}", 1], "Zp": ["\\Bold{Z}_{#1}", 1], "Qp": ["\\Bold{Q}_{#1}", 1], "Zmod": ["\\ZZ/#1\\ZZ", 1], "CDF": "\\Bold{C}", "CIF": "\\Bold{C}", "CLF": "\\Bold{C}", "RDF": "\\Bold{R}", "RIF": "\\Bold{I} \\Bold{R}", "RLF": "\\Bold{R}", "SL": "\\mathrm{SL}", "PSL": "\\mathrm{PSL}", "lcm": "\\mathop{\\operatorname{lcm}}", "Bold": ["\\mathbf{#1}", 1]}, "inlineMath": [["$", "$"], ["\\(", "\\)"]], "maxBuffer": 51200, "autoload": {"color": [], "colorv2": ["color"]}}}</script>
    <script defer="defer" src="../../../_static/mathjax/tex-chtml.js"></script>
    </body>
</html>