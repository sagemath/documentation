<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Random testing" href="random_testing.html" /><link rel="prev" title="License" href="copying.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.06.21"/>
        <title>Unit testing for Sage objects - Utilities</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-furo.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZGD13B5572"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ZGD13B5572');
</script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Utilities</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 9.7 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../index.html">Home - Utilities</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="defaults.html">Default Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="functional.html">Functional notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="randstate.html">Random Number States</a></li>
<li class="toctree-l1"><a class="reference internal" href="prandom.html">Random Numbers with Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="unknown.html">The Unknown truth value</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="abstract_method.html">Abstract methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="bindable_class.html">Bindable classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="decorators.html">Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="constant_function.html">Constant functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="classcall_metaclass.html">Special Methods for Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="inherit_comparison.html">Metaclass for inheriting comparison functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="method_decorator.html">Base Class to Support Method Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="object_multiplexer.html">Multiplex calls to one object to calls to many objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="fast_methods.html">Fast methods via Cython</a></li>
<li class="toctree-l1"><a class="reference internal" href="call.html">Attribute and method calling</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="callable_dict.html">Callable dictionaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="converting_dict.html">Converting Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="flatten.html">Flatten nested lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="search.html">Searching a sorted list</a></li>
<li class="toctree-l1"><a class="reference internal" href="mrange.html">Multidimensional enumeration</a></li>
<li class="toctree-l1"><a class="reference internal" href="multireplace.html">multi_replace</a></li>
<li class="toctree-l1"><a class="reference internal" href="map_threaded.html">Threaded map function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arith/srange.html">Ranges and the <code class="docutils literal notranslate"><span class="pre">[1,2,..,n]</span></code> notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="element_with_label.html">Elements with labels.</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="temporary_file.html">Temporary file handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="remote_file.html">get_remote_file</a></li>
<li class="toctree-l1"><a class="reference internal" href="messaging.html">Message delivery</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_ostools.html">Miscellaneous operating system functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../databases/sql_db.html">Relational (sqlite) Databases Module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../structure/graphics_file.html">Wrapper for Graphics Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../media/wav.html">Work with WAV files</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="stopgap.html">Stopgaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="superseded.html">Handling Superseded Functionality</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc_c.html">Miscellaneous functions (Cython)</a></li>
<li class="toctree-l1"><a class="reference internal" href="verbose.html">Verbosity System and Logging in SageMath</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="lazy_attribute.html">Lazy attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_format.html">Lazy format strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_import.html">Lazy imports</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_import_cache.html">Lazy import cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_list.html">Lazy lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_string.html">Lazy strings</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cachefunc.html">Cached Functions and Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="weak_dict.html">Fast and safe weak value dictionary</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ext/fast_callable.html">Fast Expression Evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ext/fast_eval.html">Fast Numerical Evaluation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Testing for features of the environment at runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/join_feature.html">Join features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/all.html">Enumeration of all defined features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/sagemath.html">Features for testing the presence of Python modules in the Sage library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/pkg_systems.html">Features for testing the presence of package systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/bliss.html">Features for testing the presence of <code class="docutils literal notranslate"><span class="pre">bliss</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/csdp.html">Feature for testing the presence of <code class="docutils literal notranslate"><span class="pre">csdp</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/databases.html">Features for testing the presence of various databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/dvipng.html">Feature for testing the presence of <code class="docutils literal notranslate"><span class="pre">dvipng</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/fes.html">Features for testing the presence of <code class="docutils literal notranslate"><span class="pre">fes</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/ffmpeg.html">Feature for testing the presence of <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/four_ti_2.html">Features for testing the presence of <code class="docutils literal notranslate"><span class="pre">4ti2</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/gap.html">Features for testing the presence of GAP packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/graph_generators.html">Features for testing the presence of various graph generator programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/graphviz.html">Features for testing the presence of <code class="docutils literal notranslate"><span class="pre">graphviz</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/imagemagick.html">Feature for testing the presence of <code class="docutils literal notranslate"><span class="pre">imagemagick</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/interfaces.html">Features for testing whether interpreter interfaces are functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/internet.html">Feature for testing if the Internet is available</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/kenzo.html">Feature for testing the presence of <code class="docutils literal notranslate"><span class="pre">kenzo</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/latex.html">Features for testing the presence of <code class="docutils literal notranslate"><span class="pre">latex</span></code> and equivalent programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/latte.html">Features for testing the presence of <code class="docutils literal notranslate"><span class="pre">latte_int</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/lrs.html">Feature for testing the presence of <code class="docutils literal notranslate"><span class="pre">lrslib</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/mcqd.html">Features for testing the presence of <code class="docutils literal notranslate"><span class="pre">mcqd</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/meataxe.html">Feature for testing the presence of <code class="docutils literal notranslate"><span class="pre">meataxe</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/mip_backends.html">Features for testing the presence of <code class="xref py py-class docutils literal notranslate"><span class="pre">MixedIntegerLinearProgram</span></code> backends</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/normaliz.html">Feature for testing the presence of <code class="docutils literal notranslate"><span class="pre">pynormaliz</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/pandoc.html">Feature for testing the presence of <code class="docutils literal notranslate"><span class="pre">pandoc</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/pdf2svg.html">Feature for testing the presence of <code class="docutils literal notranslate"><span class="pre">pdf2svg</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/polymake.html">Feature for testing the presence of the Python interface to polymake</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/rubiks.html">Features for testing the presence of <code class="docutils literal notranslate"><span class="pre">rubiks</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/tdlib.html">Features for testing the presence of <code class="docutils literal notranslate"><span class="pre">tdlib</span></code></a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cython.html">Cython support functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="inline_fortran.html">Fortran compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="parser.html">A parser for symbolic equations and expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="python.html">Evaluating Python code without any preparsing</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_eval.html">Evaluating a String in Sage</a></li>
<li class="toctree-l1"><a class="reference internal" href="sh.html">Evaluating shell scripts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../typeset/symbols.html">Symbols for Character Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/character_art.html">Base Class for Character-Based Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/character_art_factory.html">Factory for Character-Based Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/ascii_art.html">ASCII Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/unicode_art.html">Unicode Art</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typeset/unicode_characters.html">Unicode Characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="repr.html">Repr formatting support</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_input.html">Sage Input Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="table.html">Tables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="html.html">HTML Fragments</a></li>
<li class="toctree-l1"><a class="reference internal" href="mathml.html">MathML output support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sagetex.html">Installing and using SageTeX</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex.html">LaTeX printing support</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex_macros.html">LaTeX macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex_standalone.html">Standalone LaTeX Document class and TikzPicture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="func_persist.html">Support for persistent functions in .sage files</a></li>
<li class="toctree-l1"><a class="reference internal" href="persist.html">Object persistence</a></li>
<li class="toctree-l1"><a class="reference internal" href="fpickle.html">Function pickling</a></li>
<li class="toctree-l1"><a class="reference internal" href="explain_pickle.html">A tool for inspecting Python pickles</a></li>
<li class="toctree-l1"><a class="reference internal" href="nested_class.html">Fixing pickle for nested classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="session.html">Loading and saving sessions and listing all variables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="banner.html">SageMath version and banner info</a></li>
<li class="toctree-l1"><a class="reference internal" href="reset.html">Interpreter reset</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Determination of programs for viewing web pages, etc.</a></li>
<li class="toctree-l1"><a class="reference internal" href="pager.html">Pager for showing strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="sagedoc.html">Format Sage documentation for viewing with IPython and the notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="sagedoc_conf.html">Sphinx configuration shared by sage.misc.sphinxify and sage_docbuild</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinxify.html">Process docstrings with Sphinx</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="package.html">Listing Sage packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="dist.html">Installing shortcut scripts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Dependency usage tracking for citations</a></li>
<li class="toctree-l1"><a class="reference internal" href="copying.html">License</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Unit testing for Sage objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="random_testing.html">Random testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="test_nested_class.html">Test for nested class Parent</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_timeit.html">Accurate timing information for Sage commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="sage_timeit_class.html">The <code class="docutils literal notranslate"><span class="pre">timeit</span></code> command</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiler.html">Simple profiling tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="gperftools.html">C Function Profiler Using Google Perftools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../docs/instancedoc.html">Dynamic documentation for instances of classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="sageinspect.html">Inspect Python, Sage, and Cython objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="edit_module.html">Edit the source code of Sage interactively</a></li>
<li class="toctree-l1"><a class="reference internal" href="classgraph.html">Class inheritance graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_tools.html">Some tools for developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="function_mangling.html">Function Mangling</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest_index_of_methods.html">ReST index of functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ext/memory.html">Low-level memory allocation functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="c3.html">The C3 algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="c3_controlled.html">The C3 algorithm, under control of a total order</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="unit-testing-for-sage-objects">
<span id="sage-misc-sage-unittest"></span><h1>Unit testing for Sage objects<a class="headerlink" href="#unit-testing-for-sage-objects" title="Permalink to this headline">#</a></h1>
<span class="target" id="module-sage.misc.sage_unittest"></span><dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_unittest.InstanceTester">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_unittest.</span></span><span class="sig-name descname"><span class="pre">InstanceTester</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_runs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4096</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_unittest.InstanceTester" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.case.TestCase</span></code></p>
<p>A gadget attached to an instance providing it with testing utilities.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_unittest</span> <span class="kn">import</span> <span class="n">InstanceTester</span>
<span class="gp">sage: </span><span class="n">InstanceTester</span><span class="p">(</span><span class="n">instance</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">,</span> <span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">Testing utilities for Integer Ring</span>
</pre></div>
</div>
<p>This is used by <code class="docutils literal notranslate"><span class="pre">SageObject._tester</span></code>, which see:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQ</span><span class="o">.</span><span class="n">_tester</span><span class="p">()</span>
<span class="go">Testing utilities for Rational Field</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_unittest.InstanceTester.info">
<span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_unittest.InstanceTester.info" title="Permalink to this definition">#</a></dt>
<dd><p>Display user information</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_unittest</span> <span class="kn">import</span> <span class="n">InstanceTester</span>
<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">tester</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">);</span> <span class="n">tester</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>
<span class="go">hello</span>
<span class="go">world</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">verbose</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tester</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">);</span> <span class="n">tester</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tester</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="n">newline</span> <span class="o">=</span> <span class="kc">False</span><span class="p">);</span> <span class="n">tester</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot; world&quot;</span><span class="p">)</span>
<span class="go">hello world</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_unittest.InstanceTester.runTest">
<span class="sig-name descname"><span class="pre">runTest</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_unittest.InstanceTester.runTest" title="Permalink to this definition">#</a></dt>
<dd><p>Trivial implementation of <code class="xref py py-meth docutils literal notranslate"><span class="pre">unittest.TestCase.runTest()</span></code> to
please the super class <code class="xref py py-class docutils literal notranslate"><span class="pre">TestCase</span></code>. That’s the price to
pay for abusively inheriting from it.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_unittest</span> <span class="kn">import</span> <span class="n">InstanceTester</span>
<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tester</span><span class="o">.</span><span class="n">runTest</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_unittest.InstanceTester.some_elements">
<span class="sig-name descname"><span class="pre">some_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_unittest.InstanceTester.some_elements" title="Permalink to this definition">#</a></dt>
<dd><p>Return a list (or iterable) of elements of the instance on which
the tests should be run.</p>
<p>This is only meaningful for container objects like parents.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code> – a set of elements to select from.  By default this
will use the elements passed to this tester at creation
time, or the result of <a class="reference internal" href="#sage.misc.sage_unittest.InstanceTester.some_elements" title="sage.misc.sage_unittest.InstanceTester.some_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">some_elements()</span></code></a> if no elements
were specified.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">repeat</span></code> – integer (default: None).  If given, instead returns
a list of tuples of length <code class="docutils literal notranslate"><span class="pre">repeat</span></code> from <code class="docutils literal notranslate"><span class="pre">S</span></code>.</p></li>
</ul>
<p>OUTPUT:</p>
<p>A list of at most <code class="docutils literal notranslate"><span class="pre">self._max_runs</span></code> elements of <code class="docutils literal notranslate"><span class="pre">S^r</span></code>,
or a sample of at most <code class="docutils literal notranslate"><span class="pre">self._max_samples</span></code> if that is not <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>EXAMPLES:</p>
<p>By default, this calls <a class="reference internal" href="#sage.misc.sage_unittest.InstanceTester.some_elements" title="sage.misc.sage_unittest.InstanceTester.some_elements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">some_elements()</span></code></a> on the instance:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_unittest</span> <span class="kn">import</span> <span class="n">InstanceTester</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyParent</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">some_elements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="go">...</span>
<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">MyParent</span><span class="p">())</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[1, 2, 3, 4, 5]</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">MyParent</span><span class="p">(),</span> <span class="n">max_runs</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[1, 2, 3]</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">MyParent</span><span class="p">(),</span> <span class="n">max_runs</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[1, 2, 3, 4, 5]</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">MyParent</span><span class="p">(),</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[1, 3, 5]</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">MyParent</span><span class="p">(),</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">max_runs</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[1, 3]</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">FiniteEnumeratedSet</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">]),</span> <span class="n">max_runs</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">()</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">FiniteEnumeratedSet</span><span class="p">([]))</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[]</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ZZ</span><span class="o">.</span><span class="n">some_elements</span><span class="p">()</span>             <span class="c1"># yikes, shamelessly trivial ...</span>
<span class="go">&lt;generator object ..._some_elements_from_iterator at 0x...&gt;</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[0, 1, -1, 2, -2, ..., 49, -49, 50]</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">,</span> <span class="n">max_runs</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[0, 1, -1, 2, -2]</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="n">srange</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">max_runs</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[0, 1, 2, 3, 4]</span>

<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="n">srange</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">max_runs</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[0, 1, 2]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">repeat</span></code> keyword can give pairs or triples from <code class="docutils literal notranslate"><span class="pre">S</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[(0, 0), (0, 1), (0, 2), (1, 0), (1, 1)]</span>
</pre></div>
</div>
<p>You can use <code class="docutils literal notranslate"><span class="pre">max_samples</span></code> to sample at random, instead of in order:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="n">srange</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="n">max_samples</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">t</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">s</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="ow">and</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span><span class="p">,</span><span class="n">t</span> <span class="ow">in</span> <span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">(</span><span class="n">repeat</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Test for <a class="reference external" href="https://trac.sagemath.org/15919">trac ticket #15919</a>, <a class="reference external" href="https://trac.sagemath.org/16244">trac ticket #16244</a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Z</span> <span class="o">=</span> <span class="n">IntegerModRing</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span> <span class="c1"># random.sample, which was used pre #16244, has a threshold at 21!</span>
<span class="gp">sage: </span><span class="n">Z</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>                   <span class="c1"># since #8389, indexed access is used for ring extensions</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: variable name &#39;1&#39; does not start with a letter</span>
<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">Z</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="n">Z</span><span class="p">,</span> <span class="n">max_runs</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[0, 1, 2, 3, 4]</span>

<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">cartesian_product</span><span class="p">([</span><span class="n">Z</span><span class="p">]</span><span class="o">*</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="go">390625</span>
<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">InstanceTester</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">elements</span> <span class="o">=</span> <span class="n">C</span><span class="p">,</span> <span class="n">max_runs</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">tester</span><span class="o">.</span><span class="n">some_elements</span><span class="p">())</span>
<span class="go">[(0, 0, 0, 0), (0, 0, 0, 1), (0, 0, 0, 2), (0, 0, 0, 3)]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_unittest.PythonObjectWithTests">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_unittest.</span></span><span class="sig-name descname"><span class="pre">PythonObjectWithTests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_unittest.PythonObjectWithTests" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Utility class for running basis tests on a plain Python object
(that is not in SageObject). More test methods can be added here.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="s2">&quot;bla&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.misc.sage_unittest.TestSuite">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_unittest.</span></span><span class="sig-name descname"><span class="pre">TestSuite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_unittest.TestSuite" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test suites for Sage objects.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>No output means that all tests passed. Which tests?
In practice this calls all the methods <code class="docutils literal notranslate"><span class="pre">._test_*</span></code> of this
object, in alphabetic order:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="go">running ._test_category() . . . pass</span>
<span class="go">running ._test_eq() . . . pass</span>
<span class="go">running ._test_new() . . . pass</span>
<span class="go">running ._test_nonzero_equal() . . . pass</span>
<span class="go">running ._test_not_implemented_methods() . . . pass</span>
<span class="go">running ._test_pickling() . . . pass</span>
</pre></div>
</div>
<p>Those methods are typically implemented by abstract
super classes, in particular via categories, in order to
enforce standard behavior and API, or provide mathematical
sanity checks. For example if <code class="docutils literal notranslate"><span class="pre">self</span></code> is in the category of
finite semigroups, this checks that the multiplication is
associative (at least on some elements):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">FiniteSemigroups</span><span class="p">()</span><span class="o">.</span><span class="n">example</span><span class="p">(</span><span class="n">alphabet</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">S</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="go">running ._test_an_element() . . . pass</span>
<span class="go">running ._test_associativity() . . . pass</span>
<span class="go">running ._test_cardinality() . . . pass</span>
<span class="go">running ._test_category() . . . pass</span>
<span class="go">running ._test_construction() . . . pass</span>
<span class="go">running ._test_elements() . . .</span>
<span class="go">  Running the test suite of self.an_element()</span>
<span class="go">  running ._test_category() . . . pass</span>
<span class="go">  running ._test_eq() . . . pass</span>
<span class="go">  running ._test_new() . . . pass</span>
<span class="go">  running ._test_not_implemented_methods() . . . pass</span>
<span class="go">  running ._test_pickling() . . . pass</span>
<span class="go">  pass</span>
<span class="go">running ._test_elements_eq_reflexive() . . . pass</span>
<span class="go">running ._test_elements_eq_symmetric() . . . pass</span>
<span class="go">running ._test_elements_eq_transitive() . . . pass</span>
<span class="go">running ._test_elements_neq() . . . pass</span>
<span class="go">running ._test_enumerated_set_contains() . . . pass</span>
<span class="go">running ._test_enumerated_set_iter_cardinality() . . . pass</span>
<span class="go">running ._test_enumerated_set_iter_list() . . . pass</span>
<span class="go">running ._test_eq() . . . pass</span>
<span class="go">running ._test_new() . . . pass</span>
<span class="go">running ._test_not_implemented_methods() . . . pass</span>
<span class="go">running ._test_pickling() . . . pass</span>
<span class="go">running ._test_some_elements() . . . pass</span>
</pre></div>
</div>
<p>The different test methods can be called independently:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">_test_associativity</span><span class="p">()</span>
</pre></div>
</div>
<p>Debugging tip: in case of failure of some test, use <code class="docutils literal notranslate"><span class="pre">%pdb</span> <span class="pre">on</span></code> to
turn on automatic debugging on error. Run the failing test
independently: the debugger will stop right where the first
assertion fails. Then, introspection can be used to analyse what
exactly the problem is. See also the <code class="docutils literal notranslate"><span class="pre">catch</span> <span class="pre">=</span> <span class="pre">False</span></code> option to
<a class="reference internal" href="#sage.misc.sage_unittest.TestSuite.run" title="sage.misc.sage_unittest.TestSuite.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>.</p>
<p>When meaningful, one can further customize on which elements
the tests are run. Here, we use it to <em>prove</em> that the
multiplication is indeed associative, by running the test on
all the elements:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">_test_associativity</span><span class="p">(</span><span class="n">elements</span> <span class="o">=</span> <span class="n">S</span><span class="p">)</span>
</pre></div>
</div>
<p>Adding a new test boils down to adding a new method in the class
of the object or any super class (e.g. in a category). This method
should use the utility <code class="xref py py-meth docutils literal notranslate"><span class="pre">_tester()</span></code> to handle standard options
and report test failures. See the code of
<code class="xref py py-meth docutils literal notranslate"><span class="pre">_test_an_element()</span></code> for an example. Note: Python’s testunit
convention is to look for methods called <code class="docutils literal notranslate"><span class="pre">.test*</span></code>; we use instead
<code class="docutils literal notranslate"><span class="pre">._test_*</span></code> so as not to pollute the object’s interface.</p>
<p>Eventually, every implementation of a <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Parents and Elements v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageObject</span></code></a> should
run a <a class="reference internal" href="#sage.misc.sage_unittest.TestSuite" title="sage.misc.sage_unittest.TestSuite"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestSuite</span></code></a> on one of its instances in its doctest
(replacing the current <code class="docutils literal notranslate"><span class="pre">loads(dumps(x))</span></code> tests).</p>
<p>Finally, running <code class="docutils literal notranslate"><span class="pre">TestSuite</span></code> on a standard Python object does
some basic sanity checks:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="go">running ._test_new() . . . pass</span>
<span class="go">running ._test_pickling() . . . pass</span>
</pre></div>
</div>
<p>TODO:</p>
<blockquote>
<div><ul class="simple">
<li><p>Allow for customized behavior in case of failing assertion
(warning, error, statistic accounting).
This involves reimplementing the methods fail / failIf / …
of unittest.TestCase in InstanceTester</p></li>
<li><p>Don’t catch the exceptions if <code class="docutils literal notranslate"><span class="pre">TestSuite(..).run()</span></code> is called
under the debugger, or with <code class="docutils literal notranslate"><span class="pre">%pdb</span></code> on (how to detect this? see
<code class="docutils literal notranslate"><span class="pre">get_ipython()</span></code>, <code class="docutils literal notranslate"><span class="pre">IPython.Magic.shell.call_pdb</span></code>, …)
In the mean time, see the <code class="docutils literal notranslate"><span class="pre">catch=False</span></code> option.</p></li>
<li><p>Run the tests according to the inheritance order, from most
generic to most specific, rather than alphabetically. Then, the
first failure will be the most relevant, the others being
usually consequences.</p></li>
<li><p>Improve integration with doctests (statistics on failing/passing tests)</p></li>
<li><p>Add proper support for nested testsuites.</p></li>
<li><p>Integration with unittest:
Make TestSuite inherit from unittest.TestSuite?
Make <code class="docutils literal notranslate"><span class="pre">.run(...)</span></code> accept a result object</p></li>
<li><p>Add some standard option <code class="docutils literal notranslate"><span class="pre">proof</span> <span class="pre">=</span> <span class="pre">True</span></code>, asking for the
test method to choose appropriately the elements so as to
prove the desired property. The test method may assume that
a parent implements properly all the super categories. For
example, the <code class="docutils literal notranslate"><span class="pre">_test_commutative</span></code> method of the category
<code class="docutils literal notranslate"><span class="pre">CommutativeSemigroups()</span></code> may just check that the
provided generators commute, implicitly assuming that
generators indeed generate the semigroup (as required by
<code class="docutils literal notranslate"><span class="pre">Semigroups()</span></code>).</p></li>
</ul>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="sage.misc.sage_unittest.TestSuite.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_on_failure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_unittest.TestSuite.run" title="Permalink to this definition">#</a></dt>
<dd><p>Run all the tests from this test suite:</p>
<p>INPUT:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">category</span></code>         - a category; reserved for future use</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">skip</span></code>             - a string or list (or iterable) of strings</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">raise_on_failure</span></code> - a boolean (default: False)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">catch</span></code>            - a boolean (default: True)</p></li>
</ul>
</div></blockquote>
<p>All other options are passed down to the individual tests.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>We now use the <code class="docutils literal notranslate"><span class="pre">verbose</span></code> option:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="go">running ._test_category() . . . pass</span>
<span class="go">running ._test_eq() . . . pass</span>
<span class="go">running ._test_new() . . . pass</span>
<span class="go">running ._test_nonzero_equal() . . . pass</span>
<span class="go">running ._test_not_implemented_methods() . . . pass</span>
<span class="go">running ._test_pickling() . . . pass</span>
</pre></div>
</div>
<p>Some tests may be skipped using the <code class="docutils literal notranslate"><span class="pre">skip</span></code> option:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">skip</span> <span class="o">=</span><span class="s2">&quot;_test_pickling&quot;</span><span class="p">)</span>
<span class="go">running ._test_category() . . . pass</span>
<span class="go">running ._test_eq() . . . pass</span>
<span class="go">running ._test_new() . . . pass</span>
<span class="go">running ._test_nonzero_equal() . . . pass</span>
<span class="go">running ._test_not_implemented_methods() . . . pass</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">skip</span> <span class="o">=</span><span class="p">[</span><span class="s2">&quot;_test_pickling&quot;</span><span class="p">,</span> <span class="s2">&quot;_test_category&quot;</span><span class="p">])</span>
<span class="go">running ._test_eq() . . . pass</span>
<span class="go">running ._test_new() . . . pass</span>
<span class="go">running ._test_nonzero_equal() . . . pass</span>
<span class="go">running ._test_not_implemented_methods() . . . pass</span>
</pre></div>
</div>
<p>We now show (and test) some standard error reports:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">Blah</span><span class="p">(</span><span class="n">SageObject</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_test_a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tester</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_test_b</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tester</span><span class="p">):</span> <span class="n">tester</span><span class="o">.</span><span class="n">fail</span><span class="p">()</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_test_c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tester</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_test_d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tester</span><span class="p">):</span> <span class="n">tester</span><span class="o">.</span><span class="n">fail</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">Blah</span><span class="p">())</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="go">Failure in _test_b:</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">  ...</span>
<span class="go">AssertionError: None</span>
<span class="gt">------------------------------------------------------------</span>
<span class="n">Failure</span> <span class="ow">in</span> <span class="n">_test_d</span><span class="p">:</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="o">...</span>
<span class="ne">AssertionError</span>: None
<span class="gt">------------------------------------------------------------</span>
<span class="n">Failure</span> <span class="ow">in</span> <span class="n">_test_pickling</span><span class="p">:</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="o">...</span>
<span class="o">...</span><span class="n">PicklingError</span><span class="p">:</span> <span class="n">Can</span><span class="s1">&#39;t pickle &lt;class &#39;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Blah</span><span class="s1">&#39;&gt;: attribute</span>
<span class="n">lookup</span> <span class="o">...</span><span class="n">Blah</span><span class="o">...</span> <span class="n">failed</span>
<span class="gt">------------------------------------------------------------</span>
<span class="n">The</span> <span class="n">following</span> <span class="n">tests</span> <span class="n">failed</span><span class="p">:</span> <span class="n">_test_b</span><span class="p">,</span> <span class="n">_test_d</span><span class="p">,</span> <span class="n">_test_pickling</span>

<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">Blah</span><span class="p">())</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="go">running ._test_a() . . . pass</span>
<span class="go">running ._test_b() . . . fail</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">  ...</span>
<span class="go">AssertionError: None</span>
<span class="gt">------------------------------------------------------------</span>
<span class="n">running</span> <span class="o">.</span><span class="n">_test_c</span><span class="p">()</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="k">pass</span>
<span class="n">running</span> <span class="o">.</span><span class="n">_test_category</span><span class="p">()</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="k">pass</span>
<span class="n">running</span> <span class="o">.</span><span class="n">_test_d</span><span class="p">()</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="n">fail</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="o">...</span>
<span class="ne">AssertionError</span>: None
<span class="gt">------------------------------------------------------------</span>
<span class="n">running</span> <span class="o">.</span><span class="n">_test_new</span><span class="p">()</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="k">pass</span>
<span class="n">running</span> <span class="o">.</span><span class="n">_test_not_implemented_methods</span><span class="p">()</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="k">pass</span>
<span class="n">running</span> <span class="o">.</span><span class="n">_test_pickling</span><span class="p">()</span> <span class="o">.</span> <span class="o">.</span> <span class="o">.</span> <span class="n">fail</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="o">...</span>
<span class="o">...</span><span class="n">PicklingError</span><span class="p">:</span> <span class="n">Can</span><span class="s1">&#39;t pickle &lt;class &#39;</span><span class="n">__main__</span><span class="o">.</span><span class="n">Blah</span><span class="s1">&#39;&gt;: attribute</span>
<span class="n">lookup</span> <span class="o">...</span><span class="n">Blah</span><span class="o">...</span> <span class="n">failed</span>
<span class="gt">------------------------------------------------------------</span>
<span class="n">The</span> <span class="n">following</span> <span class="n">tests</span> <span class="n">failed</span><span class="p">:</span> <span class="n">_test_b</span><span class="p">,</span> <span class="n">_test_d</span><span class="p">,</span> <span class="n">_test_pickling</span>

<span class="n">File</span> <span class="s2">&quot;/opt/sage/local/lib/python/site-packages/sage/misc/sage_unittest.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">183</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run</span>
<span class="n">test_method</span><span class="p">(</span><span class="n">tester</span> <span class="o">=</span> <span class="n">tester</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">catch=False</span></code> option prevents <code class="docutils literal notranslate"><span class="pre">TestSuite</span></code> from
catching exceptions:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">Blah</span><span class="p">())</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">catch</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">  ...</span>
<span class="go">  File ..., in _test_b</span>
<span class="go">    def _test_b(self, tester): tester.fail()</span>
<span class="go">  ...</span>
<span class="go">AssertionError: None</span>
</pre></div>
</div>
<p>In conjunction with <code class="docutils literal notranslate"><span class="pre">%pdb</span> <span class="pre">on</span></code>, this allows for the debugger
to jump directly to the first failure location.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="sage.misc.sage_unittest.TestSuiteFailure">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.misc.sage_unittest.</span></span><span class="sig-name descname"><span class="pre">TestSuiteFailure</span></span><a class="headerlink" href="#sage.misc.sage_unittest.TestSuiteFailure" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssertionError</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.misc.sage_unittest.instance_tester">
<span class="sig-prename descclassname"><span class="pre">sage.misc.sage_unittest.</span></span><span class="sig-name descname"><span class="pre">instance_tester</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tester</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.misc.sage_unittest.instance_tester" title="Permalink to this definition">#</a></dt>
<dd><p>Return a gadget attached to <code class="docutils literal notranslate"><span class="pre">instance</span></code> providing testing utilities.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_unittest</span> <span class="kn">import</span> <span class="n">instance_tester</span>
<span class="gp">sage: </span><span class="n">tester</span> <span class="o">=</span> <span class="n">instance_tester</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">tester</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="mi">1</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tester</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="mi">1</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AssertionError: False is not true</span>
<span class="gp">sage: </span><span class="n">tester</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="mi">1</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;this is expected to fail&quot;</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AssertionError: this is expected to fail</span>

<span class="gp">sage: </span><span class="n">tester</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tester</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AssertionError: 1 != 0</span>
</pre></div>
</div>
<p>The available assertion testing facilities are the same as in
<a class="reference external" href="https://docs.python.org/library/unittest.html#unittest.TestCase" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.TestCase</span></code></a> <a class="reference internal" href="../../../references/index.html#unittest" id="id1"><span>[UNITTEST]</span></a>, which see (actually, by a slight
abuse, tester is currently an instance of this class).</p>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="random_testing.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Random testing</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="copying.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">License</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2022, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    </body>
</html>