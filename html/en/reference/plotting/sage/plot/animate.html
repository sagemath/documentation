<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Complex plots" href="complex_plot.html" /><link rel="prev" title="Colors" href="colors.html" />

    <meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>Animated plots - 2D Graphics</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-furo.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-codemirror-monokai.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">2D Graphics</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 10.2 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../index.html">Home - 2D Graphics</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="plot.html">2D plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="text.html">Text in plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="colors.html">Colors</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Animated plots</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="complex_plot.html">Complex plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="contour_plot.html">Contour plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="density_plot.html">Density plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot_field.html">Plotting fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="streamline_plot.html">Streamline plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="scatter_plot.html">Scatter plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="step.html">Step function plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="histogram.html">Histograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="bar_chart.html">Bar charts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../graphs/graph_plot.html">Graph plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_plot.html">Matrix plots</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="arc.html">Arcs of circles and ellipses</a></li>
<li class="toctree-l1"><a class="reference internal" href="arrow.html">Arrows</a></li>
<li class="toctree-l1"><a class="reference internal" href="bezier_path.html">Bezier paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="circle.html">Circles</a></li>
<li class="toctree-l1"><a class="reference internal" href="disk.html">Disks</a></li>
<li class="toctree-l1"><a class="reference internal" href="ellipse.html">Ellipses</a></li>
<li class="toctree-l1"><a class="reference internal" href="line.html">Line plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="point.html">Points</a></li>
<li class="toctree-l1"><a class="reference internal" href="polygon.html">Polygons</a></li>
<li class="toctree-l1"><a class="reference internal" href="hyperbolic_arc.html">Arcs in hyperbolic geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="hyperbolic_polygon.html">Polygons and triangles in hyperbolic geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="hyperbolic_regular_polygon.html">Regular polygons in the upper half model for hyperbolic plane</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="graphics.html">Graphics objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="multigraphics.html">Graphics arrays and insets</a></li>
<li class="toctree-l1"><a class="reference internal" href="primitive.html">Plotting primitives</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Plotting utilities</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="animated-plots">
<span id="sage-plot-animate"></span><h1>Animated plots<a class="headerlink" href="#animated-plots" title="Permalink to this heading">#</a></h1>
<span class="target" id="module-sage.plot.animate"></span><p>Animations are generated from a list (or other iterable) of graphics
objects.
Images are produced by calling the <code class="docutils literal notranslate"><span class="pre">save_image</span></code> method on each input
object, creating a sequence of PNG files.
These are then assembled to various target formats using different
tools.
In particular, the <code class="docutils literal notranslate"><span class="pre">convert</span></code> program from <a class="reference external" href="https://www.imagemagick.org">ImageMagick</a> can be used to
generate an animated GIF file.
<a class="reference external" href="https://www.ffmpeg.org">FFmpeg</a> (with the command line program <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code>) provides support for
various video formats, but also an alternative method of generating
animated GIFs.
For <a class="reference external" href="https://caniuse.com/#feat=apng">browsers which support it</a>, <a class="reference external" href="https://wiki.mozilla.org/APNG_Specification">APNG</a> can be used as another
alternative which works without any extra dependencies.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">ImageMagick</span></code> and <code class="docutils literal notranslate"><span class="pre">FFmpeg</span></code> are not included with Sage, and
must be installed by the user.  On unix systems, type <code class="docutils literal notranslate"><span class="pre">which</span>
<span class="pre">convert</span></code> at a command prompt to see if <code class="docutils literal notranslate"><span class="pre">convert</span></code> (part of the
<code class="docutils literal notranslate"><span class="pre">ImageMagick</span></code> suite) is installed.  If it is, you will be given its
location.  Similarly, you can check for <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> with <code class="docutils literal notranslate"><span class="pre">which</span>
<span class="pre">ffmpeg</span></code>.  See the websites of <a class="reference external" href="https://www.imagemagick.org">ImageMagick</a> or <a class="reference external" href="https://www.ffmpeg.org">FFmpeg</a> for
installation instructions.</p>
</div>
<p>EXAMPLES:</p>
<p>The sine function:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sines</span> <span class="o">=</span> <span class="p">[</span><span class="n">plot</span><span class="p">(</span><span class="n">c</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="n">Color</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">ymin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">....: </span>         <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">sxrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">.2</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">(</span><span class="n">sines</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">Animation with 5 frames</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                  <span class="c1"># long time  # optional -- ImageMagick</span>
</pre></div>
</div>
<p>Animate using <a class="reference external" href="https://www.ffmpeg.org">FFmpeg</a> instead of ImageMagick:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">use_ffmpeg</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>   <span class="c1"># long time  # optional -- FFmpeg</span>
</pre></div>
</div>
<p>Animate as an <a class="reference external" href="https://wiki.mozilla.org/APNG_Specification">APNG</a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">apng</span><span class="p">(</span><span class="n">show_path</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>    <span class="c1"># long time</span>
<span class="go">Animation saved to ....png.</span>
</pre></div>
</div>
<p>An animated <a class="reference internal" href="multigraphics.html#sage.plot.multigraphics.GraphicsArray" title="sage.plot.multigraphics.GraphicsArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.plot.multigraphics.GraphicsArray</span></code></a> of rotating ellipses:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">animate</span><span class="p">((</span><span class="n">graphics_array</span><span class="p">([[</span><span class="n">ellipse</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">....: </span>                               <span class="o">+</span> <span class="n">circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="gp">....: </span>                              <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="gp">....: </span>                             <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span>
<span class="gp">....: </span>             <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">sxrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mf">.15</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="nb">str</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>    <span class="c1"># animations produced from a generator do not have a known length</span>
<span class="go">&#39;Animation with unknown number of frames&#39;</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                  <span class="c1"># long time  # optional -- ImageMagick</span>
</pre></div>
</div>
<p>A simple animation of a circle shooting up to the right:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">circle</span><span class="p">((</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">),</span> <span class="mi">1</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">hue</span><span class="o">=</span><span class="n">i</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">....: </span>             <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)],</span>
<span class="gp">....: </span>            <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                  <span class="c1"># long time  # optional -- ImageMagick</span>
</pre></div>
</div>
<p>Animations of 3d objects:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span><span class="p">,</span><span class="n">t</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;s,t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">sphere_and_plane</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="p">(</span><span class="n">sphere</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>
<span class="gp">....: </span>             <span class="o">+</span> <span class="n">parametric_plot3d</span><span class="p">([</span><span class="n">t</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">s</span><span class="p">],</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">....: </span>                                 <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">.7</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">sp</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">sphere_and_plane</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">....: </span>              <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sxrange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">.3</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">sp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>      <span class="c1"># first frame</span>
<span class="go">Graphics3d Object</span>
<span class="gp">sage: </span><span class="n">sp</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>     <span class="c1"># last frame</span>
<span class="go">Graphics3d Object</span>
<span class="gp">sage: </span><span class="n">sp</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                 <span class="c1"># long time  # optional -- ImageMagick</span>

<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x,y,z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">frame</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">implicit_plot3d</span><span class="p">((</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">....: </span>                           <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
<span class="gp">....: </span>                           <span class="n">plot_points</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">contour</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span>
<span class="gp">....: </span>                           <span class="n">region</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">:</span> <span class="n">x</span><span class="o">&lt;=</span><span class="n">t</span> <span class="ow">or</span> <span class="n">y</span><span class="o">&gt;=</span><span class="n">t</span> <span class="ow">or</span> <span class="n">z</span><span class="o">&lt;=</span><span class="n">t</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">frame</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mf">.01</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">.2</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                      <span class="c1"># long time</span>
<span class="go">Graphics3d Object</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                  <span class="c1"># long time  # optional -- ImageMagick</span>
</pre></div>
</div>
<p>If the input objects do not have a <code class="docutils literal notranslate"><span class="pre">save_image</span></code> method, then the
animation object attempts to make an image by calling its internal
method <a class="reference internal" href="#sage.plot.animate.Animation.make_image" title="sage.plot.animate.Animation.make_image"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sage.plot.animate.Animation.make_image()</span></code></a>.  This is
illustrated by the following example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">((</span><span class="n">sin</span><span class="p">(</span><span class="n">c</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">sxrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">.2</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                  <span class="c1"># long time  # optional -- ImageMagick</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>William Stein</p></li>
<li><p>John Palmieri</p></li>
<li><p>Niles Johnson (2013-12): Expand to animate more graphics objects</p></li>
<li><p>Martin von Gagern (2014-12): Added APNG support</p></li>
<li><p>Joshua Campbell (2020): interactive animation via Three.js viewer</p></li>
</ul>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.imagemagick.org">ImageMagick</a></p></li>
<li><p><a class="reference external" href="https://www.ffmpeg.org">FFmpeg</a></p></li>
<li><p><a class="reference external" href="https://wiki.mozilla.org/APNG_Specification">APNG</a></p></li>
<li><p><a class="reference external" href="https://caniuse.com/#feat=apng">browsers which support it</a></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="sage.plot.animate.APngAssembler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.plot.animate.</span></span><span class="sig-name descname"><span class="pre">APngAssembler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_frames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_plays</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay_denominator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.APngAssembler" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Builds an <a class="reference external" href="https://wiki.mozilla.org/APNG_Specification">APNG</a> (Animated PNG) from a sequence of PNG files.
This is used by the <a class="reference internal" href="#sage.plot.animate.Animation.apng" title="sage.plot.animate.Animation.apng"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sage.plot.animate.Animation.apng()</span></code></a> method.</p>
<p>This code is quite simple; it does little more than copying chunks
from input PNG files to the output file. There is no optimization
involved. This does not depend on external programs or libraries.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">out</span></code> – a file opened for binary writing to which the data
will be written</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_frames</span></code> – the number of frames in the animation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_plays</span></code> – how often to iterate, 0 means infinitely</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delay</span></code> – numerator of the delay fraction in seconds</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delay_denominator</span></code> – denominator of the delay in seconds</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.plot.animate</span> <span class="kn">import</span> <span class="n">APngAssembler</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">assembleAPNG</span><span class="p">():</span>
<span class="gp">....: </span>    <span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="p">))</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span><span class="mf">0.7</span><span class="p">)],</span>
<span class="gp">....: </span>                <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">....: </span>    <span class="n">pngdir</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">png</span><span class="p">()</span>
<span class="gp">....: </span>    <span class="n">outfile</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">temporary_file</span><span class="o">.</span><span class="n">tmp_filename</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s1">&#39;.png&#39;</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">....: </span>        <span class="n">apng</span> <span class="o">=</span> <span class="n">APngAssembler</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="gp">....: </span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
<span class="gp">....: </span>            <span class="n">png</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pngdir</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{:08d}</span><span class="s2">.png&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="gp">....: </span>            <span class="n">apng</span><span class="o">.</span><span class="n">add_frame</span><span class="p">(</span><span class="n">png</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">10</span><span class="o">*</span><span class="n">i</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">outfile</span>
<span class="gp">sage: </span><span class="n">assembleAPNG</span><span class="p">()</span>  <span class="c1"># long time</span>
<span class="go">&#39;...png&#39;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.animate.APngAssembler.add_frame">
<span class="sig-name descname"><span class="pre">add_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pngfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay_denominator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.APngAssembler.add_frame" title="Permalink to this definition">#</a></dt>
<dd><p>Adds a single frame to the APNG file.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pngfile</span></code> – file name of the PNG file with data for this frame</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delay</span></code> – numerator of the delay fraction in seconds</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delay_denominator</span></code> – denominator of the delay in seconds</p></li>
</ul>
<p>If the delay is not specified, the default from the constructor
applies.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.plot.animate.APngAssembler.magic">
<span class="sig-name descname"><span class="pre">magic</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">b'\x89PNG\r\n\x1a\n'</span></em><a class="headerlink" href="#sage.plot.animate.APngAssembler.magic" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.plot.animate.APngAssembler.mustmatch">
<span class="sig-name descname"><span class="pre">mustmatch</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">frozenset({b'IHDR',</span> <span class="pre">b'PLTE',</span> <span class="pre">b'bKGD',</span> <span class="pre">b'cHRM',</span> <span class="pre">b'gAMA',</span> <span class="pre">b'pHYs',</span> <span class="pre">b'sBIT',</span> <span class="pre">b'tRNS'})</span></em><a class="headerlink" href="#sage.plot.animate.APngAssembler.mustmatch" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.animate.APngAssembler.set_default">
<span class="sig-name descname"><span class="pre">set_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pngfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.APngAssembler.set_default" title="Permalink to this definition">#</a></dt>
<dd><p>Adds a default image for the APNG file.</p>
<p>This image is used as a fallback in case some application does
not understand the APNG format.  This method must be called
prior to any calls to the <code class="docutils literal notranslate"><span class="pre">add_frame</span></code> method, if it is called
at all.  If it is not called, then the first frame of the
animation will be the default.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pngfile</span></code> – file name of the PNG file with data
for the default image</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.plot.animate.Animation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.plot.animate.</span></span><span class="sig-name descname"><span class="pre">Animation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.Animation" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../misc/sage/misc/fast_methods.html#sage.misc.fast_methods.WithEqualityById" title="(in Utilities v10.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">WithEqualityById</span></code></a>, <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Parents and Elements v10.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SageObject</span></code></a></p>
<p>Return an animation of a sequence of plots of objects.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code> – iterable of Sage objects. These should preferably be
graphics objects, but if they aren’t, then <a class="reference internal" href="#sage.plot.animate.Animation.make_image" title="sage.plot.animate.Animation.make_image"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_image()</span></code></a> is
called on them.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xmin,</span> <span class="pre">xmax,</span> <span class="pre">ymin,</span> <span class="pre">ymax</span></code> – the ranges of the x and y axes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**kwds</span></code> – all additional inputs are passed onto the rendering
command. E.g., use <code class="docutils literal notranslate"><span class="pre">figsize</span></code> to adjust the resolution and aspect
ratio.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="p">))</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)],</span>
<span class="gp">....: </span>            <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">Animation with 21 frames</span>
<span class="gp">sage: </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[:</span><span class="mi">5</span><span class="p">])</span>
<span class="go">Animation with 5 frames</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>              <span class="c1"># long time  # optional -- ImageMagick</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>          <span class="c1"># long time  # optional -- ImageMagick</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="#sage.plot.animate.Animation.show" title="sage.plot.animate.Animation.show"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show()</span></code></a> method takes arguments to specify the
delay between frames (measured in hundredths of a second, default
value 20) and the number of iterations (default value 0, which
means to iterate forever). To iterate 4 times with half a second
between each frame:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># long time  # optional -- ImageMagick</span>
</pre></div>
</div>
<p>An animation of drawing a parabola:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">step</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">Graphics</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">L</span> <span class="o">+=</span> <span class="n">line</span><span class="p">([(</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="o">^</span><span class="mi">2</span><span class="p">),(</span><span class="n">i</span><span class="o">+</span><span class="n">step</span><span class="p">,(</span><span class="n">i</span><span class="o">+</span><span class="n">step</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)],</span> <span class="n">rgbcolor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">thickness</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="n">v</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>              <span class="c1"># long time  # optional -- ImageMagick</span>
<span class="gp">sage: </span><span class="n">show</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.animate.Animation.apng">
<span class="sig-name descname"><span class="pre">apng</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.Animation.apng" title="Permalink to this definition">#</a></dt>
<dd><p>Creates an animated PNG composed from rendering the graphics
objects in self. Return the absolute path to that file.</p>
<p>Notice that not all web browsers are capable of displaying APNG
files, though they should still present the first frame of the
animation as a fallback.</p>
<p>The generated file is not optimized, so it may be quite large.</p>
<p>Input:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">delay</span></code> - (default: 20) delay in hundredths of a
second between frames</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">savefile</span></code> - file that the animated gif gets saved
to</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iterations</span></code> - integer (default: 0); number of
iterations of animation. If 0, loop forever.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">show_path</span></code> - boolean (default: False); if True,
print the path to the saved file</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
<span class="gp">....: </span>             <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span><span class="mf">0.7</span><span class="p">)],</span>
<span class="gp">....: </span>            <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">dir</span> <span class="o">=</span> <span class="n">tmp_dir</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">apng</span><span class="p">(</span><span class="n">show_path</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># long time</span>
<span class="go">Animation saved to ....png.</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">apng</span><span class="p">(</span><span class="n">savefile</span><span class="o">=</span><span class="nb">dir</span> <span class="o">+</span> <span class="s1">&#39;my_animation.png&#39;</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># long time</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">apng</span><span class="p">(</span><span class="n">savefile</span><span class="o">=</span><span class="nb">dir</span> <span class="o">+</span> <span class="s1">&#39;my_animation.png&#39;</span><span class="p">,</span> <span class="n">show_path</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># long time</span>
<span class="go">Animation saved to .../my_animation.png.</span>
</pre></div>
</div>
<p>If the individual frames have different sizes, an error will be raised:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">plot</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">k</span><span class="p">))</span>
<span class="gp">....: </span>             <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)],</span>
<span class="gp">....: </span>            <span class="n">ymin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">aspect_ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">apng</span><span class="p">()</span>  <span class="c1"># long time</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Chunk IHDR mismatch</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.animate.Animation.ffmpeg">
<span class="sig-name descname"><span class="pre">ffmpeg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffmpeg_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pix_fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rgb24'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.Animation.ffmpeg" title="Permalink to this definition">#</a></dt>
<dd><p>Return a movie showing an animation composed from rendering
the frames in <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This method will only work if <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> is installed.  See
<a class="reference external" href="https://www.ffmpeg.org">https://www.ffmpeg.org</a> for information about <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">savefile</span></code> – file that the mpeg gets saved to.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This will overwrite <code class="docutils literal notranslate"><span class="pre">savefile</span></code> if it already exists.</p>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">show_path</span></code> – boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>); if <code class="docutils literal notranslate"><span class="pre">True</span></code>,
print the path to the saved file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_format</span></code> - string (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>); format and
suffix to use for the video.  This may be <code class="docutils literal notranslate"><span class="pre">'mpg'</span></code>, <code class="docutils literal notranslate"><span class="pre">'mpeg'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'avi'</span></code>, <code class="docutils literal notranslate"><span class="pre">'gif'</span></code>, or any other format that <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> can handle.
If this is <code class="docutils literal notranslate"><span class="pre">None</span></code> and the user specifies <code class="docutils literal notranslate"><span class="pre">savefile</span></code> with a
suffix, say <code class="docutils literal notranslate"><span class="pre">savefile='animation.avi'</span></code>, try to determine the
format (<code class="docutils literal notranslate"><span class="pre">'avi'</span></code> in this case) from that file name.  If no file
is specified or if the suffix cannot be determined, <code class="docutils literal notranslate"><span class="pre">'mpg'</span></code> is
used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ffmpeg_options</span></code> - string (default: <code class="docutils literal notranslate"><span class="pre">''</span></code>); this string is
passed directly to ffmpeg.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delay</span></code> - integer (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>); delay in hundredths of a
second between frames.  The framerate is 100/delay.
This is not supported for mpeg files: for mpegs, the frame
rate is always 25 fps.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iterations</span></code> - integer (default: 0); number of iterations
of animation. If 0, loop forever.  This is only supported
for animated gif output and requires <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> version 0.9 or
later.  For older versions, set <code class="docutils literal notranslate"><span class="pre">iterations=None</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pix_fmt</span></code> - string (default: ‘rgb24’); used only for gif
output.  Different values such as ‘rgb8’ or ‘pal8’ may be
necessary depending on how ffmpeg was installed.  Set
<code class="docutils literal notranslate"><span class="pre">pix_fmt=None</span></code> to disable this option.</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">savefile</span></code> is not specified: in notebook mode, display
the animation; otherwise, save it to a default file name.  Use
<a class="reference external" href="../../../misc/sage/misc/verbose.html#sage.misc.verbose.set_verbose" title="(in Utilities v10.2)"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage.misc.verbose.set_verbose()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">level=1</span></code> to see
additional output.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
<span class="gp">....: </span>             <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)],</span>
<span class="gp">....: </span>            <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">td</span> <span class="o">=</span> <span class="n">tmp_dir</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">ffmpeg</span><span class="p">(</span><span class="n">savefile</span><span class="o">=</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;new.mpg&#39;</span><span class="p">)</span>                  <span class="c1"># long time  # optional -- FFmpeg</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">ffmpeg</span><span class="p">(</span><span class="n">savefile</span><span class="o">=</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;new.avi&#39;</span><span class="p">)</span>                  <span class="c1"># long time  # optional -- FFmpeg</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">ffmpeg</span><span class="p">(</span><span class="n">savefile</span><span class="o">=</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;new.gif&#39;</span><span class="p">)</span>                  <span class="c1"># long time  # optional -- FFmpeg</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">ffmpeg</span><span class="p">(</span><span class="n">savefile</span><span class="o">=</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;new.mpg&#39;</span><span class="p">,</span> <span class="n">show_path</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># long time  # optional -- FFmpeg</span>
<span class="go">Animation saved to .../new.mpg.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If ffmpeg is not installed, you will get an error message
like this:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">FeatureNotPresentError: ffmpeg is not available.</span>
<span class="go">Executable &#39;ffmpeg&#39; not found on PATH.</span>
<span class="go">Further installation instructions might be available at https://www.ffmpeg.org/.</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.animate.Animation.gif">
<span class="sig-name descname"><span class="pre">gif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_ffmpeg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.Animation.gif" title="Permalink to this definition">#</a></dt>
<dd><p>Returns an animated gif composed from rendering the graphics
objects in self.</p>
<p>This method will only work if either (a) the ImageMagick
software suite is installed, i.e., you have the <code class="docutils literal notranslate"><span class="pre">convert</span></code>
command or (b) <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> is installed.  See the web sites of
<a class="reference external" href="https://www.imagemagick.org">ImageMagick</a> and <a class="reference external" href="https://www.ffmpeg.org">FFmpeg</a> for more details.  By default, this
produces the gif using <code class="docutils literal notranslate"><span class="pre">convert</span></code> if it is present.  If this
can’t find <code class="docutils literal notranslate"><span class="pre">convert</span></code> or if <code class="docutils literal notranslate"><span class="pre">use_ffmpeg</span></code> is True, then it
uses <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> instead.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">delay</span></code> - (default: 20) delay in hundredths of a
second between frames</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">savefile</span></code> - file that the animated gif gets saved
to</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iterations</span></code> - integer (default: 0); number of
iterations of animation. If 0, loop forever.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">show_path</span></code> - boolean (default: False); if True,
print the path to the saved file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">use_ffmpeg</span></code> - boolean (default: False); if True, use
‘ffmpeg’ by default instead of ‘convert’.</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">savefile</span></code> is not specified: in notebook mode, display the
animation; otherwise, save it to a default file name.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
<span class="gp">....: </span>             <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span><span class="mf">0.7</span><span class="p">)],</span>
<span class="gp">....: </span>            <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">td</span> <span class="o">=</span> <span class="n">tmp_dir</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">gif</span><span class="p">()</span>              <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">gif</span><span class="p">(</span><span class="n">savefile</span><span class="o">=</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;my_animation.gif&#39;</span><span class="p">,</span>               <span class="c1"># long time  # optional -- ImageMagick</span>
<span class="gp">....: </span>      <span class="n">delay</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;my_animation.gif&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>        <span class="c1"># long time  # optional -- ImageMagick</span>
<span class="gp">....: </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;GIF8&#39;</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">gif</span><span class="p">(</span><span class="n">savefile</span><span class="o">=</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;my_animation.gif&#39;</span><span class="p">,</span>               <span class="c1"># long time  # optional -- ImageMagick</span>
<span class="gp">....: </span>      <span class="n">show_path</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Animation saved to .../my_animation.gif.</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">gif</span><span class="p">(</span><span class="n">savefile</span><span class="o">=</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;my_animation_2.gif&#39;</span><span class="p">,</span>             <span class="c1"># long time  # optional -- FFmpeg</span>
<span class="gp">....: </span>      <span class="n">show_path</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_ffmpeg</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Animation saved to .../my_animation_2.gif.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If neither ffmpeg nor ImageMagick is installed, you will
get an error message like this:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">Error: Neither ImageMagick nor ffmpeg appears to be installed. Saving an</span>
<span class="go">animation to a GIF file or displaying an animation requires one of these</span>
<span class="go">packages, so please install one of them and try again.</span>

<span class="go">See www.imagemagick.org and www.ffmpeg.org for more information.</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.animate.Animation.graphics_array">
<span class="sig-name descname"><span class="pre">graphics_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ncols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.Animation.graphics_array" title="Permalink to this definition">#</a></dt>
<dd><p>Return a <a class="reference internal" href="multigraphics.html#sage.plot.multigraphics.GraphicsArray" title="sage.plot.multigraphics.GraphicsArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.plot.multigraphics.GraphicsArray</span></code></a> with plots of the
frames of this animation, using the given number of columns.
The frames must be acceptable inputs for
<a class="reference internal" href="multigraphics.html#sage.plot.multigraphics.GraphicsArray" title="sage.plot.multigraphics.GraphicsArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.plot.multigraphics.GraphicsArray</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.schemes</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">EllipticCurve</span><span class="p">(</span><span class="s1">&#39;37a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">E</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="n">p</span><span class="p">))</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pointsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">....: </span>     <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">97</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">103</span><span class="p">]]</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">Animation with 3 frames</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                      <span class="c1"># optional -- ImageMagick</span>
</pre></div>
</div>
<p>Modify the default arrangement of array:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">graphics_array</span><span class="p">();</span> <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>                                      <span class="c1"># needs sage.schemes</span>
<span class="go">Graphics Array of size 1 x 3</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>                                                 <span class="c1"># needs sage.schemes</span>
</pre></div>
</div>
<p>Specify different arrangement of array and save it with a given file name:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">graphics_array</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">);</span> <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>                               <span class="c1"># needs sage.schemes</span>
<span class="go">Graphics Array of size 2 x 2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">tmp_filename</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s1">&#39;.png&#39;</span><span class="p">);</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>                                <span class="c1"># needs sage.schemes</span>
<span class="go">...png</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>                                                             <span class="c1"># needs sage.schemes</span>
</pre></div>
</div>
<p>Frames can be specified as a generator too; it is internally converted to a list:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">animate</span><span class="p">((</span><span class="n">plot</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">c</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="p">))</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">sxrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">.2</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">graphics_array</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Graphics Array of size 2 x 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.animate.Animation.interactive">
<span class="sig-name descname"><span class="pre">interactive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.Animation.interactive" title="Permalink to this definition">#</a></dt>
<dd><p>Create an interactive depiction of the animation.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">**kwds</span></code> – any of the viewing options accepted by show() are valid
as keyword arguments to this function and they will behave in the same
way. Those that are animation-related and recognized by the Three.js
viewer are: <code class="docutils literal notranslate"><span class="pre">animate</span></code>, <code class="docutils literal notranslate"><span class="pre">animation_controls</span></code>, <code class="docutils literal notranslate"><span class="pre">auto_play</span></code>,
<code class="docutils literal notranslate"><span class="pre">delay</span></code>, and <code class="docutils literal notranslate"><span class="pre">loop</span></code>.</p></li>
</ul>
<p>OUTPUT:</p>
<p>A 3D graphics object which, by default, will use the Three.js viewer.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">point3d</span><span class="p">((</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">))</span>
<span class="gp">....: </span>          <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">16</span><span class="p">,</span> <span class="o">..</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">animate</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="n">online</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
<p>Works with frames that are 2D or 3D graphics objects or convertible to
2D or 3D graphics objects via a <code class="docutils literal notranslate"><span class="pre">plot</span></code> or <code class="docutils literal notranslate"><span class="pre">plot3d</span></code> method:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">dodecahedron</span><span class="p">(),</span> <span class="n">circle</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">radius</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">animate</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="n">online</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="../../../plot3d/threejs.html#threejs-viewer" title="(in 3D Graphics v10.2)"><span>Three.js JavaScript WebGL Renderer</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.animate.Animation.make_image">
<span class="sig-name descname"><span class="pre">make_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.Animation.make_image" title="Permalink to this definition">#</a></dt>
<dd><p>Given a frame which has no <code class="docutils literal notranslate"><span class="pre">save_image()</span></code> method, make a graphics
object and save it as an image with the given filename.  By default, this is
<a class="reference internal" href="plot.html#sage.plot.plot.plot" title="sage.plot.plot.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sage.plot.plot.plot()</span></code></a>.  To make animations of other objects,
override this method in a subclass.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.plot.animate</span> <span class="kn">import</span> <span class="n">Animation</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyAnimation</span><span class="p">(</span><span class="n">Animation</span><span class="p">):</span>
<span class="gp">....: </span>   <span class="k">def</span> <span class="nf">make_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
<span class="gp">....: </span>       <span class="n">P</span> <span class="o">=</span> <span class="n">parametric_plot</span><span class="p">(</span><span class="n">frame</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">frame</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">**</span><span class="n">frame</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">....: </span>       <span class="n">P</span><span class="o">.</span><span class="n">save_image</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">,</span><span class="n">t</span><span class="p">:</span> <span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">/</span><span class="n">n</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">MyAnimation</span><span class="p">([([</span><span class="n">x</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="n">y</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">t</span><span class="p">)],</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">....: </span>                  <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="n">Color</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="o">/</span><span class="mi">4</span><span class="p">)),</span> <span class="s1">&#39;aspect_ratio&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;ymax&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})</span>
<span class="gp">....: </span>                 <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>

<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">png</span><span class="p">();</span> <span class="n">v</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">d</span><span class="p">);</span> <span class="n">v</span><span class="o">.</span><span class="n">sort</span><span class="p">();</span> <span class="n">v</span>  <span class="c1"># long time</span>
<span class="go">[&#39;00000000.png&#39;, &#39;00000001.png&#39;, &#39;00000002.png&#39;, &#39;00000003.png&#39;]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  <span class="c1"># not tested</span>

<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyAnimation</span><span class="p">(</span><span class="n">Animation</span><span class="p">):</span>
<span class="gp">....: </span>   <span class="k">def</span> <span class="nf">make_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
<span class="gp">....: </span>       <span class="n">G</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="gp">....: </span>       <span class="n">G</span><span class="o">.</span><span class="n">set_axes_range</span><span class="p">(</span><span class="n">floor</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">xmin</span><span class="p">()),</span> <span class="n">ceil</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">xmax</span><span class="p">()),</span>
<span class="gp">....: </span>                        <span class="n">floor</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">ymin</span><span class="p">()),</span> <span class="n">ceil</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">ymax</span><span class="p">()))</span>
<span class="gp">....: </span>       <span class="n">G</span><span class="o">.</span><span class="n">save_image</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">MyAnimation</span><span class="p">([</span><span class="n">graphs</span><span class="o">.</span><span class="n">CompleteGraph</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">)],</span> <span class="n">figsize</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">png</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">d</span><span class="p">);</span> <span class="n">v</span><span class="o">.</span><span class="n">sort</span><span class="p">();</span> <span class="n">v</span>
<span class="go">[&#39;00000000.png&#39;, &#39;00000001.png&#39;, &#39;00000002.png&#39;, &#39;00000003.png&#39;]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  <span class="c1"># not tested</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.animate.Animation.png">
<span class="sig-name descname"><span class="pre">png</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.Animation.png" title="Permalink to this definition">#</a></dt>
<dd><p>Render PNG images of the frames in this animation, saving them
in <code class="docutils literal notranslate"><span class="pre">dir</span></code>.  Return the absolute path to that directory.  If
the frames have been previously rendered and <code class="docutils literal notranslate"><span class="pre">dir</span></code> is
<code class="docutils literal notranslate"><span class="pre">None</span></code>, just return the directory in which they are stored.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">dir</span></code> is other than <code class="docutils literal notranslate"><span class="pre">None</span></code>, force re-rendering of
frames.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dir</span></code> – Directory in which to store frames.  Default
<code class="docutils literal notranslate"><span class="pre">None</span></code>; in this case, a temporary directory will be
created for storing the frames.</p></li>
</ul>
<p>OUTPUT:</p>
<p>Absolute path to the directory containing the PNG images</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)],</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">png</span><span class="p">();</span> <span class="n">v</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">d</span><span class="p">);</span> <span class="n">v</span><span class="o">.</span><span class="n">sort</span><span class="p">();</span> <span class="n">v</span>  <span class="c1"># long time</span>
<span class="go">[&#39;00000000.png&#39;, &#39;00000001.png&#39;, &#39;00000002.png&#39;, &#39;00000003.png&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.animate.Animation.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_ffmpeg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.Animation.save" title="Permalink to this definition">#</a></dt>
<dd><p>Save this animation.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">filename</span></code> - (default: None) name of save file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">show_path</span></code> - boolean (default: False); if True,
print the path to the saved file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">use_ffmpeg</span></code> - boolean (default: False); if True, use
‘ffmpeg’ by default instead of ‘convert’ when creating GIF
files.</p></li>
</ul>
<p>If filename is None, then in notebook mode, display the
animation; otherwise, save the animation to a GIF file. If
filename ends in ‘.html’, save an <a class="reference internal" href="#sage.plot.animate.Animation.interactive" title="sage.plot.animate.Animation.interactive"><code class="xref py py-meth docutils literal notranslate"><span class="pre">interactive()</span></code></a> version of
the animation to an HTML file that uses the Three.js viewer.  If
filename ends in ‘.sobj’, save to an sobj file.  Otherwise,
try to determine the format from the filename extension
(‘.mpg’, ‘.gif’, ‘.avi’, etc.).  If the format cannot be
determined, default to GIF.</p>
<p>For GIF files, either ffmpeg or the ImageMagick suite must be
installed.  For other movie formats, ffmpeg must be installed.
sobj and HTML files can be saved with no extra software installed.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
<span class="gp">....: </span>             <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)],</span>
<span class="gp">....: </span>            <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">td</span> <span class="o">=</span> <span class="n">tmp_dir</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>         <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;wave.gif&#39;</span><span class="p">)</span>                   <span class="c1"># long time  # optional -- ImageMagick</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;wave.gif&#39;</span><span class="p">,</span> <span class="n">show_path</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>   <span class="c1"># long time  # optional -- ImageMagick</span>
<span class="go">Animation saved to file .../wave.gif.</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;wave.avi&#39;</span><span class="p">,</span> <span class="n">show_path</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>   <span class="c1"># long time  # optional -- FFmpeg</span>
<span class="go">Animation saved to file .../wave.avi.</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;wave0.sobj&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;wave1.sobj&#39;</span><span class="p">,</span> <span class="n">show_path</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Animation saved to file .../wave1.sobj.</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;wave0.html&#39;</span><span class="p">,</span> <span class="n">online</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">td</span> <span class="o">+</span> <span class="s1">&#39;wave1.html&#39;</span><span class="p">,</span> <span class="n">show_path</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">online</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Animation saved to file .../wave1.html.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.plot.animate.Animation.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.Animation.show" title="Permalink to this definition">#</a></dt>
<dd><p>Show this animation immediately.</p>
<p>This method attempts to display the graphics immediately,
without waiting for the currently running code (if any) to
return to the command line. Be careful, calling it from within
a loop will potentially launch a large number of external
viewer programs.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">delay</span></code> – (default: 20) delay in hundredths of a
second between frames.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iterations</span></code> – integer (default: 0); number of
iterations of animation. If 0, loop forever.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> - (default: gif) format to use for output.
Currently supported formats are: gif,
ogg, webm, mp4, flash, matroska, avi, wmv, quicktime.</p></li>
</ul>
<p>OUTPUT:</p>
<p>This method does not return anything. Use <a class="reference internal" href="#sage.plot.animate.Animation.save" title="sage.plot.animate.Animation.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> if you
want to save the figure as an image.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently this is done using an animated gif, though this
could change in the future. This requires that either
ffmpeg or the ImageMagick suite (in particular, the
<code class="docutils literal notranslate"><span class="pre">convert</span></code> command) is installed.</p>
</div>
<p>See also the <a class="reference internal" href="#sage.plot.animate.Animation.ffmpeg" title="sage.plot.animate.Animation.ffmpeg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ffmpeg()</span></code></a> method.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">([</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">k</span><span class="p">))</span>
<span class="gp">....: </span>             <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">srange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span><span class="mf">0.7</span><span class="p">)],</span>
<span class="gp">....: </span>            <span class="n">xmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                              <span class="c1"># long time  # optional -- ImageMagick</span>
</pre></div>
</div>
<p>The preceding will loop the animation forever. If you want to show
only three iterations instead:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">iterations</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>                  <span class="c1"># long time  # optional -- ImageMagick</span>
</pre></div>
</div>
<p>To put a half-second delay between frames:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>                      <span class="c1"># long time  # optional -- ImageMagick</span>
</pre></div>
</div>
<p>You can also make use of the HTML5 video element in the Sage Notebook:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># long time, optional -- FFmpeg</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ogg&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;webm&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;mp4&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;webm&quot;</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Other backends may support other file formats as well:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># long time, optional -- FFmpeg</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;flash&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;matroska&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;avi&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;wmv&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;quicktime&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you don’t have ffmpeg or ImageMagick installed, you will
get an error message like this:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">Error: Neither ImageMagick nor ffmpeg appears to be installed. Saving an</span>
<span class="go">animation to a GIF file or displaying an animation requires one of these</span>
<span class="go">packages, so please install one of them and try again.</span>

<span class="go">See www.imagemagick.org and www.ffmpeg.org for more information.</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.plot.animate.animate">
<span class="sig-prename descclassname"><span class="pre">sage.plot.animate.</span></span><span class="sig-name descname"><span class="pre">animate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frames</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.plot.animate.animate" title="Permalink to this definition">#</a></dt>
<dd><p>Animate a list of frames by creating a
<a class="reference internal" href="#sage.plot.animate.Animation" title="sage.plot.animate.Animation"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.plot.animate.Animation</span></code></a> object.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">animate</span><span class="p">((</span><span class="n">cos</span><span class="p">(</span><span class="n">c</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">sxrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">.2</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>              <span class="c1"># long time  # optional -- ImageMagick</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#module-sage.plot.animate" title="sage.plot.animate"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.plot.animate</span></code></a> for more examples.</p>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="complex_plot.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Complex plots</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="colors.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Colors</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2023, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Animated plots</a><ul>
<li><a class="reference internal" href="#sage.plot.animate.APngAssembler"><code class="docutils literal notranslate"><span class="pre">APngAssembler</span></code></a><ul>
<li><a class="reference internal" href="#sage.plot.animate.APngAssembler.add_frame"><code class="docutils literal notranslate"><span class="pre">add_frame()</span></code></a></li>
<li><a class="reference internal" href="#sage.plot.animate.APngAssembler.magic"><code class="docutils literal notranslate"><span class="pre">magic</span></code></a></li>
<li><a class="reference internal" href="#sage.plot.animate.APngAssembler.mustmatch"><code class="docutils literal notranslate"><span class="pre">mustmatch</span></code></a></li>
<li><a class="reference internal" href="#sage.plot.animate.APngAssembler.set_default"><code class="docutils literal notranslate"><span class="pre">set_default()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.plot.animate.Animation"><code class="docutils literal notranslate"><span class="pre">Animation</span></code></a><ul>
<li><a class="reference internal" href="#sage.plot.animate.Animation.apng"><code class="docutils literal notranslate"><span class="pre">apng()</span></code></a></li>
<li><a class="reference internal" href="#sage.plot.animate.Animation.ffmpeg"><code class="docutils literal notranslate"><span class="pre">ffmpeg()</span></code></a></li>
<li><a class="reference internal" href="#sage.plot.animate.Animation.gif"><code class="docutils literal notranslate"><span class="pre">gif()</span></code></a></li>
<li><a class="reference internal" href="#sage.plot.animate.Animation.graphics_array"><code class="docutils literal notranslate"><span class="pre">graphics_array()</span></code></a></li>
<li><a class="reference internal" href="#sage.plot.animate.Animation.interactive"><code class="docutils literal notranslate"><span class="pre">interactive()</span></code></a></li>
<li><a class="reference internal" href="#sage.plot.animate.Animation.make_image"><code class="docutils literal notranslate"><span class="pre">make_image()</span></code></a></li>
<li><a class="reference internal" href="#sage.plot.animate.Animation.png"><code class="docutils literal notranslate"><span class="pre">png()</span></code></a></li>
<li><a class="reference internal" href="#sage.plot.animate.Animation.save"><code class="docutils literal notranslate"><span class="pre">save()</span></code></a></li>
<li><a class="reference internal" href="#sage.plot.animate.Animation.show"><code class="docutils literal notranslate"><span class="pre">show()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.plot.animate.animate"><code class="docutils literal notranslate"><span class="pre">animate()</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../../_static/jupyter-sphinx-furo.js"></script>
    </body>
</html>