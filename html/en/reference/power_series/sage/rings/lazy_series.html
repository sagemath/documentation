
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Lazy Series &#8212; Power Series Rings and Laurent Series Rings</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sage.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <script async="async" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Lazy Series Rings" href="lazy_series_ring.html" />
    <link rel="prev" title="Laurent Series" href="laurent_series_ring_element.html" />
  <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
  <!-- <script src="../../../_static/thebe.js" type="text/javascript"></script> -->
  <!-- <script src="../../../_static/thebe-sage.js" type="text/javascript"></script> -->

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lazy_series_ring.html" title="Lazy Series Rings"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="laurent_series_ring_element.html" title="Laurent Series"
             accesskey="P">previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="../../../_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../../../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="../../../index.html">Reference Manual</a> &#187;
      
      <a href="../../index.html">Power Series Rings and Laurent Series Rings</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Lazy Series</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="lazy-series">
<span id="sage-rings-lazy-series"></span><h1>Lazy Series<a class="headerlink" href="#lazy-series" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.rings.lazy_series"></span><p>A lazy series is a series whose coefficients are computed on demand.
Therefore, unlike the usual Laurent/power/etc. series in Sage,
lazy series have infinite precision.</p>
<p>EXAMPLES:</p>
<p>Laurent series over the integer ring are particularly useful as
generating functions for sequences arising in combinatorics.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
</pre></div>
</div>
<p>The generating function of the Fibonacci sequence is:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span> <span class="o">-</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + z + 2*z^2 + 3*z^3 + 5*z^4 + 8*z^5 + 13*z^6 + O(z^7)</span>
</pre></div>
</div>
<p>In principle, we can now compute any coefficient of <span class="math notranslate nohighlight">\(f\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">573147844013817084101</span>
</pre></div>
</div>
<p>Which coefficients are actually computed depends on the type of
implementation.  For the sparse implementation, only the coefficients
which are needed are computed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">s</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">_coeff_stream</span><span class="o">.</span><span class="n">_cache</span>
<span class="go">{0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 10: 10}</span>
</pre></div>
</div>
<p>Using the dense implementation, all coefficients up to the required
coefficient are computed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">s</span>
<span class="go">x + 2*x^2 + 3*x^3 + 4*x^4 + 5*x^5 + 6*x^6 + O(x^7)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">_coeff_stream</span><span class="o">.</span><span class="n">_cache</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</pre></div>
</div>
<p>We can do arithmetic with lazy power series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + z + 2*z^2 + 3*z^3 + 5*z^4 + 8*z^5 + 13*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">1 - z - z^2 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">+</span> <span class="n">f</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">2 + z^2 + 3*z^3 + 5*z^4 + 8*z^5 + 13*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span> <span class="o">+</span> <span class="n">f</span><span class="o">^-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">f</span> <span class="o">-</span> <span class="n">f</span><span class="o">^-</span><span class="mi">1</span><span class="p">);</span> <span class="n">g</span>
<span class="go">4*z + 6*z^2 + 8*z^3 + 19*z^4 + 38*z^5 + 71*z^6 + O(z^7)</span>
</pre></div>
</div>
<p>We can change the base ring:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Laurent Series Ring in z over Rational Field</span>
<span class="gp">sage: </span><span class="n">h</span>
<span class="go">4*z + 6*z^2 + 8*z^3 + 19*z^4 + 38*z^5 + 71*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">hinv</span> <span class="o">=</span> <span class="n">h</span><span class="o">^-</span><span class="mi">1</span><span class="p">;</span> <span class="n">hinv</span>
<span class="go">1/4*z^-1 - 3/8 + 1/16*z - 17/32*z^2 + 5/64*z^3 - 29/128*z^4 + 165/256*z^5 + O(z^6)</span>
<span class="gp">sage: </span><span class="n">hinv</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Kwankyu Lee (2019-02-24): initial version</p></li>
<li><p>Tejasvi Chebrolu, Martin Rubey, Travis Scrimshaw (2021-08):
refactored and expanded functionality</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyCauchyProductSeries">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazyCauchyProductSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyCauchyProductSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement" title="sage.rings.lazy_series.LazyModuleElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.lazy_series.LazyModuleElement</span></code></a></p>
<p>A class for series where multiplication is the Cauchy product.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + z + z^2 + z^3 + z^4 + z^5 + z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="go">1 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + z + z^2 + z^3 + z^4 + z^5 + z^6 + O(z^7)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyCauchyProductSeries.valuation">
<span class="sig-name descname"><span class="pre">valuation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyCauchyProductSeries.valuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the valuation of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This method determines the valuation of the series by looking for a
nonzero coefficient. Hence if the series happens to be zero, then it
may run forever.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">z</span> <span class="o">-</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">+Infinity</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">M</span> <span class="o">-</span> <span class="n">M</span><span class="p">)</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyDirichletSeries">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazyDirichletSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyDirichletSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement" title="sage.rings.lazy_series.LazyModuleElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.lazy_series.LazyModuleElement</span></code></a></p>
<p>A Dirichlet series where the coefficients are computed lazily.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span>
<span class="go">1 + 2/2^z + 2/3^z + 3/4^z + 2/5^z + 4/6^z + 2/7^z + O(1/(8^z))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">==</span> <span class="n">number_of_divisors</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Lazy Dirichlet series is picklable:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">1 + 2/2^z + 2/3^z + 3/4^z + 2/5^z + 4/6^z + 2/7^z + O(1/(8^z))</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">==</span> <span class="n">f</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyDirichletSeries.valuation">
<span class="sig-name descname"><span class="pre">valuation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyDirichletSeries.valuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the valuation of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This method determines the valuation of the series by looking for a
nonzero coefficient. Hence if the series happens to be zero, then it
may run forever.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">mu</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">moebius</span><span class="p">);</span> <span class="n">mu</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">mu</span> <span class="o">-</span> <span class="n">mu</span><span class="p">)</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">+Infinity</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">log(2)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">g</span><span class="o">*</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">2*log(2)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazyLaurentSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.lazy_series.LazyCauchyProductSeries" title="sage.rings.lazy_series.LazyCauchyProductSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.lazy_series.LazyCauchyProductSeries</span></code></a></p>
<p>A Laurent series where the coefficients are computed lazily.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
</pre></div>
</div>
<p>We can build a series from a function and specify if the series
eventually takes a constant value:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span> <span class="n">constant</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">-3*z^-3 - 2*z^-2 - z^-1 + z + 2*z^2 - z^3 - z^4 - z^5 + O(z^6)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="go">-2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=-</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">-3*z^-3 - 2*z^-2 - z^-1 + z + 2*z^2 + 3*z^3 + O(z^4)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span>
<span class="go">20</span>
</pre></div>
</div>
<p>Anything that converts into a polynomial can be input, where
we can also specify the valuation or if the series eventually
takes a constant value:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="go">-5 + 2*z + 5*z^3</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">constant</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="go">-5 + 2*z + 5*z^3 + 6*z^4 + 6*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">degree</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="go">-5 + 2*z + 5*z^3 + 6*z^6 + 6*z^7 + 6*z^8 + O(z^9)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="go">-5*z^-2 + 2*z^-1 + 5*z + 6*z^3 + 6*z^4 + 6*z^5 + O(z^6)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">-5*z^5 + 2*z^6 + 5*z^8</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">({</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">},</span> <span class="n">constant</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">9*z^-2 + 4*z^3 + 2*z^5 + 2*z^6 + 2*z^7 + O(z^8)</span>
</pre></div>
</div>
<p>We can also perform arithmetic:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span> <span class="o">-</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + z + 2*z^2 + 3*z^3 + 5*z^4 + 8*z^5 + 13*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">573147844013817084101</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">z</span><span class="o">^-</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">z^-1 - z^2 - z^4 + 3*z^5 + O(z^6)</span>
</pre></div>
</div>
<p>However, we may not always be able to know when a result is
exactly a polynomial:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">*</span> <span class="p">(</span><span class="n">z</span><span class="o">^-</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">z^-2 - 1 + 2*z + O(z^5)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries.approximate_series">
<span class="sig-name descname"><span class="pre">approximate_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries.approximate_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Laurent series with absolute precision <code class="docutils literal notranslate"><span class="pre">prec</span></code> approximated
from this series.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">prec</span></code> – an integer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> – name of the variable; if it is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the name of
the variable of the series is used</p></li>
</ul>
<p>OUTPUT: a Laurent series with absolute precision <code class="docutils literal notranslate"><span class="pre">prec</span></code></p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">z</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">z^5 + 2*z^6 - 6*z^7 - 12*z^8 + 16*z^9 + 32*z^10 - 16*z^11 + O(z^12)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">approximate_series</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">z^5 + 2*z^6 - 6*z^7 - 12*z^8 + 16*z^9 + O(z^10)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Power Series Ring in z over Integer Ring</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="o">^-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">approximate_series</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span>
<span class="go">z^-5 - 2*z^-4 + 10*z^-3 - 20*z^-2 + 60*z^-1 - 120 + 280*z - 560*z^2 + O(z^3)</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Laurent Series Ring in z over Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries.compose">
<span class="sig-name descname"><span class="pre">compose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries.compose" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the composition of <code class="docutils literal notranslate"><span class="pre">self</span></code> with <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<p>Given two Laurent Series <span class="math notranslate nohighlight">\(f\)</span> and <span class="math notranslate nohighlight">\(g\)</span> over the same base ring, the
composition <span class="math notranslate nohighlight">\((f \circ g)(z) = f(g(z))\)</span> is defined if and only if:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(g = 0\)</span> and <span class="math notranslate nohighlight">\(val(f) &gt;= 0\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(g\)</span> is non-zero and <span class="math notranslate nohighlight">\(f\)</span> has only finitely many non-zero coefficients,</p></li>
<li><p><span class="math notranslate nohighlight">\(g\)</span> is non-zero and <span class="math notranslate nohighlight">\(val(g) &gt; 0\)</span>.</p></li>
</ul>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code> – other series</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">L</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">3 + 3*z + 4*z^2 + 2*z^3 + z^4</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">);</span> <span class="n">g</span>
<span class="go">z^-3 + 2*z^-2 + 4*z^-1 + 8 + 16*z + 32*z^2 + 64*z^3 + O(z^4)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">z^-6 + 4*z^-5 + 12*z^-4 + 33*z^-3 + 82*z^-2 + 196*z^-1 + 457 + O(z)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">g</span>
<span class="go">z^-6 + 4*z^-5 + 12*z^-4 + 33*z^-3 + 82*z^-2 + 196*z^-1 + 457 + O(z)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">7</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">4*z^-6 + 12*z^-3 + z^-2 + 48*z^-1 + 12 + O(z)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="n">f</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">f</span><span class="o">^</span><span class="mi">3</span>
<span class="go">4*z^-6 + 12*z^-3 + z^-2 + 48*z^-1 + 12 + O(z)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">4*z^-9 + 24*z^-8 + 96*z^-7 + 320*z^-6 + 960*z^-5 + 2688*z^-4 + 7169*z^-3 + O(z^-2)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="n">g</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">g</span><span class="o">^</span><span class="mi">3</span>
<span class="go">4*z^-9 + 24*z^-8 + 96*z^-7 + 320*z^-6 + 960*z^-5 + 2688*z^-4 + 7169*z^-3 + O(z^-2)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">f</span>
<span class="go">z^-3 + z^-2 + 1 - z^2 + O(z^4)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">3</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span> <span class="o">-</span> <span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="p">);</span> <span class="n">g</span>
<span class="go">z^3 - z^4 + z^5 - z^7 + 2*z^8 - 2*z^9 + O(z^10)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">z^-9 + 3*z^-8 + 3*z^-7 - z^-6 - 4*z^-5 - 2*z^-4 + z^-3 + O(z^-2)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">g</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">z^-9 + 3*z^-8 + 3*z^-7 - z^-6 - 4*z^-5 - 2*z^-4 + z^-3 + O(z^-2)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="go">z^6 - 3*z^7 + 6*z^8 - 10*z^9 + 15*z^10 - 21*z^11 + 28*z^12 + O(z^13)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">z^6 - 3*z^7 + 6*z^8 - 10*z^9 + 15*z^10 - 21*z^11 + 28*z^12 + O(z^13)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">f</span><span class="o">^-</span><span class="mi">2</span>
<span class="go">z^-6 - 3*z^-5 + 7*z^-4 - 12*z^-3 + 18*z^-2 - 25*z^-1 + 33 + O(z)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">z^-6 - 3*z^-5 + 7*z^-4 - 12*z^-3 + 18*z^-2 - 25*z^-1 + 33 + O(z)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">3</span>
<span class="go">z^-9 + 3*z^-8 + 3*z^-7 + 2*z^-6 + 2*z^-5 + z^-4</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">z^-9 + 3*z^-8 + 3*z^-7 + 2*z^-6 + 2*z^-5 + z^-4</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">f</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">z^2 + 2*z^4 + 3*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=-</span><span class="mi">2</span><span class="p">);</span> <span class="n">f</span>
<span class="go">-2*z^-2 - z^-1 + z + 2*z^2 + 3*z^3 + 4*z^4 + O(z^5)</span>
<span class="gp">sage: </span><span class="n">f3</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="p">);</span> <span class="n">f3</span>
<span class="go">-2*z^-6 - z^-3 + O(z)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">f3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">13</span><span class="p">)]</span>
<span class="go">[-2, 0, 0, -1, 0, 0, 0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4]</span>
</pre></div>
</div>
<p>We compose a Laurent polynomial with a generic element:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">(x^6 + 3*x^5 + 12*x^4 + 19*x^3 + 37*x^2 + 28*x + 31)/(x^2 + x + 3)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="o">==</span> <span class="n">g</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We compose with another lazy Laurent series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">LS</span><span class="o">.&lt;</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">fy</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">);</span> <span class="n">fy</span>
<span class="go">y^-1 + 1 + y^2</span>
<span class="gp">sage: </span><span class="n">fy</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">LS</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="n">y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ZeroDivisionError: the valuation of the series must be nonnegative</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">3 - y + 2*y^2 + y^3 + y^4 + y^5 + O(y^6)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">3 - y + 2*y^2 + y^3 + y^4 + y^5 + O(y^6)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">f</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">y + 2*y^2 + 3*y^3 + 4*y^4 + 5*y^5 + 6*y^6 + O(y^7)</span>
<span class="gp">sage: </span><span class="n">fp</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fp</span> <span class="o">==</span> <span class="mi">0</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">fp</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">LS</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>With both of them sparse:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">LS</span><span class="o">.&lt;</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">f</span>
<span class="go">1 + z + z^2 + z^3 + z^4 + z^5 + z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1 + y^2 + y^4 + y^6 + O(y^7)</span>

<span class="gp">sage: </span><span class="n">fp</span> <span class="o">=</span> <span class="n">f</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span><span class="p">;</span> <span class="n">fp</span>
<span class="go">z^-2 + z + z^2 + z^3 + z^4 + O(z^5)</span>
<span class="gp">sage: </span><span class="n">fpy</span> <span class="o">=</span> <span class="n">fp</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">fpy</span>
<span class="go">y^-4 + y^2 + O(y^3)</span>
<span class="gp">sage: </span><span class="n">fpy</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">LS</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">fpy</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>
<span class="go">[1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1]</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">LS</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span> <span class="n">g</span>
<span class="go">y^2 + y^3 + y^4 + O(y^5)</span>
<span class="gp">sage: </span><span class="n">fg</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">);</span> <span class="n">fg</span>
<span class="go">1 + y^2 + y^3 + 2*y^4 + 3*y^5 + 5*y^6 + O(y^7)</span>
<span class="gp">sage: </span><span class="mi">1</span> <span class="o">+</span> <span class="n">g</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">6</span>
<span class="go">1 + y^2 + y^3 + 2*y^4 + 3*y^5 + 5*y^6 + O(y^7)</span>

<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">LS</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">);</span> <span class="n">h</span>
<span class="go">y^3 + y^5 + y^7 + O(y^9)</span>
<span class="gp">sage: </span><span class="n">fgh</span> <span class="o">=</span> <span class="n">fg</span><span class="p">(</span><span class="n">h</span><span class="p">);</span> <span class="n">fgh</span>
<span class="go">1 + y^6 + O(y^7)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">fgh</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">)]</span>
<span class="go">[1, 0, 0, 0, 0, 0, 1, 0, 2, 1, 3, 3, 6, 6, 13]</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">h</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">h</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">h</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">h</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">h</span><span class="o">^</span><span class="mi">6</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">)]</span>
<span class="go">[1, 0, 0, 0, 0, 0, 1, 0, 2, 1, 3, 3, 6, 6, 13]</span>
</pre></div>
</div>
<p>We look at mixing the sparse and the dense:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">f</span>
<span class="go">1 + z + z^2 + z^3 + z^4 + z^5 + z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">LS</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span> <span class="n">g</span>
<span class="go">y + y^2 + y^3 + y^4 + y^5 + y^6 + y^7 + O(y^8)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">1 + y + 2*y^2 + 4*y^3 + 8*y^4 + 16*y^5 + 32*y^6 + O(y^7)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">y</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">));</span> <span class="n">g</span>
<span class="go">y^-1 + 1 + y + y^2 + y^3 + y^4 + y^5 + O(y^6)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">y^-1 + 2 + y + 2*y^2 - y^3 + 2*y^4 + y^5 + O(y^6)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">g</span>
<span class="go">y^-1 + 2 + y + 2*y^2 - y^3 + 2*y^4 + y^5 + O(y^6)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">));</span> <span class="n">g</span>
<span class="go">y^-2 + y^-1 + 1 + y + y^2 + y^3 + y^4 + O(y^5)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">1 + y^4 - 2*y^5 + 2*y^6 + O(y^7)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">g</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
<span class="go">1 + y^4 - 2*y^5 + 2*y^6 + O(y^7)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">y</span>
</pre></div>
</div>
<p>We look at cases where the composition does not exist.
<span class="math notranslate nohighlight">\(g = 0\)</span> and <span class="math notranslate nohighlight">\(val(f) &lt; 0\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">0</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ZeroDivisionError: the valuation of the series must be nonnegative</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(g \neq 0\)</span> and <span class="math notranslate nohighlight">\(val(g) \leq 0\)</span> and <span class="math notranslate nohighlight">\(f\)</span> has infinitely many
non-zero coefficients`:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">0</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: can only compose with a positive valuation series</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: can only compose with a positive valuation series</span>
</pre></div>
</div>
<p>We compose the exponential with a Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">D</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">g</span>
<span class="go">1/(2^s) + 1/(3^s) + 1/(4^s) + O(1/(5^s))</span>

<span class="gp">sage: </span><span class="n">e</span><span class="p">(</span><span class="n">g</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 1, 1, 1, 3/2, 1, 2, 1, 13/6, 3/2]</span>

<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">g</span><span class="o">^</span><span class="n">k</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 1, 1, 1, 3/2, 1, 2, 1, 13/6, 3/2]</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">D</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">g</span>
<span class="go">1/(2^s) + 1/(4^s) + 1/(5^s) + 2/6^s</span>
<span class="gp">sage: </span><span class="n">e</span><span class="p">(</span><span class="n">g</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 1, 1, 0, 3/2, 1, 2, 0, 7/6, 0]</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">g</span><span class="o">^</span><span class="n">k</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 1, 1, 0, 3/2, 1, 2, 0, 7/6, 0]</span>

<span class="gp">sage: </span><span class="n">e</span><span class="p">(</span><span class="n">D</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: can only compose with a positive valuation series</span>

<span class="gp">sage: </span><span class="n">e5</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">5</span><span class="p">);</span> <span class="n">e5</span>
<span class="go">1 + z + 1/2*z^2 + 1/6*z^3 + 1/24*z^4</span>
<span class="gp">sage: </span><span class="n">e5</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">1 + 1/(2^s) + 3/2/4^s + 1/(5^s) + 2/6^s + O(1/(8^s))</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">e5</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">*</span> <span class="n">g</span><span class="o">^</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">1 + 1/(2^s) + 3/2/4^s + 1/(5^s) + 2/6^s + O(1/(8^s))</span>
</pre></div>
</div>
<p>The output parent is always the common parent between the base ring
of <span class="math notranslate nohighlight">\(f\)</span> and the parent of <span class="math notranslate nohighlight">\(g\)</span> or extended to the corresponding
lazy series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">z</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">z</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">zero</span><span class="p">()))</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">z</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1 + x + x^2 + x^3 + x^4 + x^5 + x^6 + O(x^7)</span>
<span class="gp">sage: </span><span class="n">three</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="mi">3</span><span class="p">)(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">three</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">three</span><span class="p">)</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries.polynomial">
<span class="sig-name descname"><span class="pre">polynomial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degree</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries.polynomial" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self</span></code> as a Laurent polynomial if <code class="docutils literal notranslate"><span class="pre">self</span></code> is actually so.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">degree</span></code> – <code class="docutils literal notranslate"><span class="pre">None</span></code> or an integer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> – name of the variable; if it is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the name of
the variable of the series is used</p></li>
</ul>
<p>OUTPUT:</p>
<p>A Laurent polynomial if the valuation of the series is negative or
a polynomial otherwise.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">degree</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, the terms of the series of degree
greater than <code class="docutils literal notranslate"><span class="pre">degree</span></code> are truncated first. If <code class="docutils literal notranslate"><span class="pre">degree</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>
and the series is not a polynomial or a Laurent polynomial, a
<code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">5</span><span class="p">);</span> <span class="n">f</span>
<span class="go">z^5 + 2*z^8 + 3*z^12</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">()</span>
<span class="go">3*z^12 + 2*z^8 + z^5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries.revert">
<span class="sig-name descname"><span class="pre">revert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries.revert" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the compositional inverse of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Given a Laurent Series <span class="math notranslate nohighlight">\(f\)</span>. the compositional inverse is a
Laurent Series <span class="math notranslate nohighlight">\(g\)</span> over the same base ring, such that
<span class="math notranslate nohighlight">\((f \circ g)(z) = f(g(z)) = z\)</span>.</p>
<p>The compositional inverse exists if and only if:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(val(f) = 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(f = a + b z\)</span> with <span class="math notranslate nohighlight">\(a b \neq 0\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(f = a/z\)</span> with <span class="math notranslate nohighlight">\(a \neq 0\)</span></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">z + O(z^8)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">z^-1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">z</span><span class="o">-</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">z + z^2 + 2*z^3 + 5*z^4 + 14*z^5 + 42*z^6 + 132*z^7 + O(z^8)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazyModuleElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/element.html#sage.structure.element.Element" title="(in Parents and Elements v9.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.Element</span></code></a></p>
<p>A lazy sequence with a module structure given by term-wise
addition and scalar multiplication.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[1, 1, 1, 1, 1, 1, 1, 1, 1, 1]</span>
</pre></div>
</div>
<p>Two sequences can be added:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">O</span> <span class="o">=</span> <span class="n">M</span> <span class="o">+</span> <span class="n">N</span>
<span class="gp">sage: </span><span class="n">O</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</pre></div>
</div>
<p>Two sequences can be subtracted:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">M</span> <span class="o">-</span> <span class="n">N</span>
<span class="gp">sage: </span><span class="n">P</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[-1, 0, 1, 2, 3, 4, 5, 6, 7, 8]</span>
</pre></div>
</div>
<p>A sequence can be multiplied by a scalar:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">M</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 2, 4, 6, 8, 10, 12, 14, 16, 18]</span>
</pre></div>
</div>
<p>The negation of a sequence can also be found:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="o">-</span><span class="n">M</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, -1, -2, -3, -4, -5, -6, -7, -8, -9]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arccos">
<span class="sig-name descname"><span class="pre">arccos</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arccos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the arccos of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arccos</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1.57079632679490 - 1.00000000000000*z + 0.000000000000000*z^2</span>
<span class="go"> - 0.166666666666667*z^3 + 0.000000000000000*z^4</span>
<span class="go"> - 0.0750000000000000*z^5 + O(1.00000000000000*z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">SR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arccos</span><span class="p">(</span><span class="n">z</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">))</span>
<span class="go">1/2*pi - z - z^2 - 7/6*z^3 - 3/2*z^4 - 83/40*z^5 - 73/24*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">SR</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">arccos</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># not tested</span>
<span class="go">1/2*pi + (-x) + (-x*y) + ((-1/6)*x^3-x*y^2) + ((-1/2)*x^3*y-x*y^3)</span>
<span class="go"> + ((-3/40)*x^5-x^3*y^2-x*y^4) + ((-3/8)*x^5*y+(-5/3)*x^3*y^3-x*y^5) + O(x,y)^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arccot">
<span class="sig-name descname"><span class="pre">arccot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arccot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the arctangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arccot</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1.57079632679490 - 1.00000000000000*z + 0.000000000000000*z^2</span>
<span class="go"> + 0.333333333333333*z^3 + 0.000000000000000*z^4</span>
<span class="go"> - 0.200000000000000*z^5 + O(1.00000000000000*z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">SR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arccot</span><span class="p">(</span><span class="n">z</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">))</span>
<span class="go">1/2*pi - z - z^2 - 2/3*z^3 + 4/5*z^5 + 4/3*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">SR</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">acot</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># not tested</span>
<span class="go">1/2*pi + (-x) + (-x*y) + (1/3*x^3-x*y^2) + (x^3*y-x*y^3)</span>
<span class="go"> + ((-1/5)*x^5+2*x^3*y^2-x*y^4) + (-x^5*y+10/3*x^3*y^3-x*y^5) + O(x,y)^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arcsin">
<span class="sig-name descname"><span class="pre">arcsin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arcsin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the arcsin of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arcsin</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z + 1/6*z^3 + 3/40*z^5 + 5/112*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">asin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># not tested</span>
<span class="go">x + x*y + (1/6*x^3+x*y^2) + (1/2*x^3*y+x*y^3)</span>
<span class="go"> + (3/40*x^5+x^3*y^2+x*y^4) + (3/8*x^5*y+5/3*x^3*y^3+x*y^5)</span>
<span class="go"> + (5/112*x^7+9/8*x^5*y^2+5/2*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arcsinh">
<span class="sig-name descname"><span class="pre">arcsinh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arcsinh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inverse of the hyperbolic sine of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">asinh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z - 1/6*z^3 + 3/40*z^5 - 5/112*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">asinh</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># not tested</span>
<span class="go">x + x*y + ((-1/6)*x^3+x*y^2) + ((-1/2)*x^3*y+x*y^3)</span>
<span class="go"> + (3/40*x^5-x^3*y^2+x*y^4) + (3/8*x^5*y+(-5/3)*x^3*y^3+x*y^5)</span>
<span class="go"> + ((-5/112)*x^7+9/8*x^5*y^2+(-5/2)*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arctan">
<span class="sig-name descname"><span class="pre">arctan</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arctan" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the arctangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arctan</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z - 1/3*z^3 + 1/5*z^5 - 1/7*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">atan</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># not tested</span>
<span class="go">x + x*y + ((-1/3)*x^3+x*y^2) + (-x^3*y+x*y^3)</span>
<span class="go"> + (1/5*x^5+(-2)*x^3*y^2+x*y^4) + (x^5*y+(-10/3)*x^3*y^3+x*y^5)</span>
<span class="go"> + ((-1/7)*x^7+3*x^5*y^2+(-5)*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arctanh">
<span class="sig-name descname"><span class="pre">arctanh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arctanh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the inverse of the hyperbolic tangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z + 1/3*z^3 + 1/5*z^5 + 1/7*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># not tested</span>
<span class="go">x + x*y + (1/3*x^3+x*y^2) + (x^3*y+x*y^3) + (1/5*x^5+2*x^3*y^2+x*y^4)</span>
<span class="go"> + (x^5*y+10/3*x^3*y^3+x*y^5) + (1/7*x^7+3*x^5*y^2+5*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.change_ring">
<span class="sig-name descname"><span class="pre">change_ring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.change_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self</span></code> with coefficients converted to elements of <code class="docutils literal notranslate"><span class="pre">ring</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> – a ring</p></li>
</ul>
<p>EXAMPLES:</p>
<p>Dense Implementation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">1/2 - 1/4*z + 1/8*z^2 - 1/16*z^3 + 1/32*z^4 - 1/64*z^5 + 1/128*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">M</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Laurent Series Ring in z over Rational Field</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Laurent Series Ring in z over Integer Ring</span>
</pre></div>
</div>
<p>Sparse Implementation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">M</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Laurent Series Ring in z over Integer Ring</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Laurent Series Ring in z over Rational Field</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">z^-1 - 2 + z + O(z^6)</span>
</pre></div>
</div>
<p>A Dirichlet series example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Dirichlet Series Ring in z over Rational Field</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">1/2 - 1/2/2^z - 1/2/3^z - 1/2/5^z + 1/2/6^z - 1/2/7^z + O(1/(8^z))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.coefficient">
<span class="sig-name descname"><span class="pre">coefficient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coefficient of the term with exponent <code class="docutils literal notranslate"><span class="pre">n</span></code> of the series.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> – integer; the exponent</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="go">[0, 1, 0, 0, 2, 0, 0, 4, 0, 0, 8, 0, 0, 16, 0, 0, 32, 0, 0, 64]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span>
<span class="go">[0, 1, 0, 0, 2, 0, 0, 4, 0, 0, 8, 0, 0, 16, 0, 0, 32, 0, 0, 64]</span>

<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">M</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">M</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</span>
</pre></div>
</div>
<p>Similarly for Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)]</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>

<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">M</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)]</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">M</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)]</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.cos">
<span class="sig-name descname"><span class="pre">cos</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.cos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cosine of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 - 1/2*z^2 + 1/24*z^4 - 1/720*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">finite_part</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="go">1/24*x^4 + (-3/2)*x^2*y^2 - x^2*y + (-1/2)*x^2 + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.cosh">
<span class="sig-name descname"><span class="pre">cosh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.cosh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cosh of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cosh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 + 1/2*z^2 + 1/24*z^4 + 1/720*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">cosh</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># not tested</span>
<span class="go">1 + 1/2*x^2 + x^2*y + (1/24*x^4+3/2*x^2*y^2) + (1/6*x^4*y+2*x^2*y^3)</span>
<span class="go"> + (1/720*x^6+5/12*x^4*y^2+5/2*x^2*y^4) + O(x,y)^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.cot">
<span class="sig-name descname"><span class="pre">cot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.cot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cotangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cot</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z^-1 - 1/3*z - 1/45*z^3 - 2/945*z^5 + O(z^6)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cot</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">x^-1 - 1 - 1/3*x - 1/3*x^2 - 16/45*x^3 - 2/5*x^4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.coth">
<span class="sig-name descname"><span class="pre">coth</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.coth" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the hyperbolic cotangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">coth</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z^-1 + 1/3*z - 1/45*z^3 + 2/945*z^5 + O(z^6)</span>

<span class="gp">sage: </span><span class="n">coth</span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">z^-1 - 1 + 4/3*z - 2/3*z^2 + 44/45*z^3 - 16/15*z^4 + 884/945*z^5 + O(z^6)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.csc">
<span class="sig-name descname"><span class="pre">csc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.csc" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cosecant of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">csc</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z^-1 + 1/6*z + 7/360*z^3 + 31/15120*z^5 + O(z^6)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">csc</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">x^-1 - 1 + 1/6*x + 1/6*x^2 + 67/360*x^3 + 9/40*x^4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.csch">
<span class="sig-name descname"><span class="pre">csch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.csch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the hyperbolic cosecant of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">csch</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z^-1 - 1/6*z + 7/360*z^3 - 31/15120*z^5 + O(z^6)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">csch</span><span class="p">(</span><span class="n">z</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">))</span>
<span class="go">z^-1 - 1 - 1/6*z - 1/6*z^2 - 53/360*z^3 - 13/120*z^4 - 787/15120*z^5 + O(z^6)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.define">
<span class="sig-name descname"><span class="pre">define</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.define" title="Permalink to this definition">¶</a></dt>
<dd><p>Define an equation by <code class="docutils literal notranslate"><span class="pre">self</span> <span class="pre">=</span> <span class="pre">s</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">s</span></code> – a Laurent polynomial</p></li>
</ul>
<p>EXAMPLES:</p>
<p>We begin by constructing the Catalan numbers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">C</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span>
<span class="go">1 + z + 2*z^2 + 5*z^3 + 14*z^4 + 42*z^5 + 132*z^6 + O(z^7)</span>
</pre></div>
</div>
<p>The Catalan numbers but with a valuation 1:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="n">B</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">z + z^2 + 2*z^3 + 5*z^4 + 14*z^5 + 42*z^6 + 132*z^7 + O(z^8)</span>
</pre></div>
</div>
<p>We can define multiple series that are linked:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">s</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="p">[:</span><span class="mi">9</span><span class="p">]</span>
<span class="go">[1, 1, 3, 9, 34, 132, 546, 2327, 10191]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="p">[:</span><span class="mi">9</span><span class="p">]</span>
<span class="go">[1, 1, 2, 7, 24, 95, 386, 1641, 7150]</span>
</pre></div>
</div>
<p>A bigger example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">B</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">C</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">C</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">A</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
<span class="go">[0, 0, 0, 0, 0, 1, 0, 0, 1, 2, 5, 4, 14, 10, 48]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
<span class="go">[0, 0, 0, 0, 1, 1, 2, 0, 5, 0, 14, 0, 44, 0, 138]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
<span class="go">[0, 0, 1, 0, 1, 0, 2, 0, 5, 0, 15, 0, 44, 2, 142]</span>
</pre></div>
</div>
<p>Counting binary trees:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="p">(</span><span class="n">s</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">s</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)]</span>
<span class="go">[0, 1, 1, 1, 2, 3, 6, 11, 23]</span>
</pre></div>
</div>
<p>The <span class="math notranslate nohighlight">\(q\)</span>-Catalan numbers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">q</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">z</span><span class="o">*</span><span class="n">s</span><span class="o">*</span><span class="n">s</span><span class="p">(</span><span class="n">q</span><span class="o">*</span><span class="n">z</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">s</span>
<span class="go">1 + z + (q + 1)*z^2 + (q^3 + q^2 + 2*q + 1)*z^3</span>
<span class="go"> + (q^6 + q^5 + 2*q^4 + 3*q^3 + 3*q^2 + 3*q + 1)*z^4</span>
<span class="go"> + (q^10 + q^9 + 2*q^8 + 3*q^7 + 5*q^6 + 5*q^5 + 7*q^4 + 7*q^3 + 6*q^2 + 4*q + 1)*z^5</span>
<span class="go"> + (q^15 + q^14 + 2*q^13 + 3*q^12 + 5*q^11 + 7*q^10 + 9*q^9 + 11*q^8</span>
<span class="go">    + 14*q^7 + 16*q^6 + 16*q^5 + 17*q^4 + 14*q^3 + 10*q^2 + 5*q + 1)*z^6 + O(z^7)</span>
</pre></div>
</div>
<p>We count unlabeled ordered trees by total number of nodes
and number of internal nodes:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">q</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">leaf</span> <span class="o">=</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">internal_node</span> <span class="o">=</span> <span class="n">q</span> <span class="o">*</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">Q</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Q</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">leaf</span> <span class="o">+</span> <span class="n">internal_node</span> <span class="o">*</span> <span class="n">L</span><span class="p">(</span><span class="n">T</span><span class="p">))</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="go">[0, 1, q, q^2 + q, q^3 + 3*q^2 + q, q^4 + 6*q^3 + 6*q^2 + q]</span>
</pre></div>
</div>
<p>Similarly for Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="kc">None</span><span class="p">);</span> <span class="n">F</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">*</span><span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">F</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">)]</span>
<span class="go">[1, 1, 1, 2, 1, 3, 1, 4, 2, 3, 1, 8, 1, 3, 3]</span>
<span class="gp">sage: </span><span class="n">oeis</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>                                                       <span class="c1"># optional, internet</span>
<span class="go">0: A002033: Number of perfect partitions of n.</span>
<span class="go">1: A074206: Kalmár&#39;s [Kalmar&#39;s] problem: number of ordered factorizations of n.</span>
<span class="go">...</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="kc">None</span><span class="p">);</span> <span class="n">F</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">*</span><span class="n">F</span><span class="o">*</span><span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">F</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">)]</span>
<span class="go">[1, 1, 1, 3, 1, 5, 1, 10, 3, 5, 1, 24, 1, 5, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.exp">
<span class="sig-name descname"><span class="pre">exp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the exponential series of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 + z + 1/2*z^2 + 1/6*z^3 + 1/24*z^4 + 1/120*z^5 + 1/720*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1 + z + 3/2*z^2 + 7/6*z^3 + 25/24*z^4 + 27/40*z^5 + 331/720*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: can only compose with a positive valuation series</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>  <span class="c1"># not tested</span>
<span class="go">(1/24) * (x + y)^4</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">finite_part</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="go">1/6*x^3 + x^2*y + x*y^2 + 1/2*x^2 + x*y + x + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.hypergeometric">
<span class="sig-name descname"><span class="pre">hypergeometric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.hypergeometric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <span class="math notranslate nohighlight">\({}_{p}F_{q}\)</span>-hypergeometric function
<span class="math notranslate nohighlight">\(\,_pF_{q}\)</span> where <span class="math notranslate nohighlight">\((p,q)\)</span> is the parameterization of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code> – the first parameter of the hypergeometric function</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code> – the second parameter of the hypergeometric function</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">hypergeometric</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">1 + z + z^2 + z^3 + z^4 + z^5 + z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">hypergeometric</span><span class="p">([],</span> <span class="p">[])</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">O(z^7)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the series for the natural logarithm of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">))</span>
<span class="go">z + 1/2*z^2 + 1/3*z^3 + 1/4*z^4 + 1/5*z^5 + 1/6*z^6 + 1/7*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">log</span><span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">)))</span><span class="o">.</span><span class="n">finite_part</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="go">1/3*x^3 - x^2*y + x*y^2 + (-1/2)*x^2 + x*y + x</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.map_coefficients">
<span class="sig-name descname"><span class="pre">map_coefficients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.map_coefficients" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the series with <code class="docutils literal notranslate"><span class="pre">func</span></code> applied to each nonzero
coefficient of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">func</span></code> – function that takes in a coefficient and returns
a new coefficient</p></li>
</ul>
<p>EXAMPLES:</p>
<p>Dense Implementation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">z</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">map_coefficients</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span>
<span class="go">z + 2*z^3 + 4*z^5 + 8*z^7 + O(z^8)</span>
<span class="gp">sage: </span><span class="n">t</span>
<span class="go">2*z + 3*z^3 + 5*z^5 + 9*z^7 + O(z^8)</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">m</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">map_coefficients</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2*z + 3*z^2 + 4*z^3 + 5*z^4 + 6*z^5 + 7*z^6 + O(z^7)</span>
</pre></div>
</div>
<p>Sparse Implementation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">m</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">map_coefficients</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2*z + 3*z^2 + 4*z^3 + 5*z^4 + 6*z^5 + 7*z^6 + O(z^7)</span>
</pre></div>
</div>
<p>An example where the series is known to be exact:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">map_coefficients</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2*z + 2*z^2 + 2*z^3</span>
</pre></div>
</div>
<p>Similarly for Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span> <span class="n">s</span>
<span class="go">1/(2^z) + 2/3^z + 3/4^z + 4/5^z + 5/6^z + 6/7^z + O(1/(8^z))</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">map_coefficients</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2/2^z + 3/3^z + 4/4^z + 5/5^z + 6/6^z + 7/7^z + O(1/(8^z))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.prec">
<span class="sig-name descname"><span class="pre">prec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.prec" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the precision of the series, which is infinity.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">prec</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.sec">
<span class="sig-name descname"><span class="pre">sec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.sec" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the secant of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sec</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 + 1/2*z^2 + 5/24*z^4 + 61/720*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">sec</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">finite_part</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="go">5/24*x^4 + 3/2*x^2*y^2 + x^2*y + 1/2*x^2 + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.sech">
<span class="sig-name descname"><span class="pre">sech</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.sech" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the hyperbolic secant of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sech</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 - 1/2*z^2 + 5/24*z^4 - 61/720*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">sech</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># not tested</span>
<span class="go">1 + ((-1/2)*x^2) + (-x^2*y) + (5/24*x^4+(-3/2)*x^2*y^2)</span>
<span class="go"> + (5/6*x^4*y+(-2)*x^2*y^3) + ((-61/720)*x^6+25/12*x^4*y^2+(-5/2)*x^2*y^4)</span>
<span class="go"> + O(x,y)^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.shift">
<span class="sig-name descname"><span class="pre">shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self</span></code> with the indices shifted by <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
<p>For example, a Laurent series is multiplied by the power <span class="math notranslate nohighlight">\(z^n\)</span>,
where <span class="math notranslate nohighlight">\(z\)</span> is the variable of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 - 2*z + 4*z^2 - 8*z^3 + 16*z^4 - 32*z^5 + 64*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">z^3 - 2*z^4 + 4*z^5 - 8*z^6 + 16*z^7 - 32*z^8 + 64*z^9 + O(z^10)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="mi">3</span>  <span class="c1"># shorthand</span>
<span class="go">z^-3 - 2*z^-2 + 4*z^-1 - 8 + 16*z - 32*z^2 + 64*z^3 + O(z^4)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">z^2 + 3*z^5 + z^7</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="mi">2</span>
<span class="go">2 + 3*z^2 + z^5 + z^6 + z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">D</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">f</span>
<span class="go">1/(2^t) + 2/3^t</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1/(5^t) + 2/6^t</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.sin">
<span class="sig-name descname"><span class="pre">sin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.sin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sine of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z - 1/6*z^3 + 1/120*z^5 - 1/5040*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: can only compose with a positive valuation series</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">finite_part</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="go">(-1/6)*x^3 + x*y^2 + x*y + x</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.sinh">
<span class="sig-name descname"><span class="pre">sinh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.sinh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sinh of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sinh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z + 1/6*z^3 + 1/120*z^5 + 1/5040*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">sinh</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># not tested</span>
<span class="go">x + x*y + (1/6*x^3+x*y^2) + (1/2*x^3*y+x*y^3)</span>
<span class="go"> + (1/120*x^5+x^3*y^2+x*y^4) + (1/24*x^5*y+5/3*x^3*y^3+x*y^5)</span>
<span class="go"> + (1/5040*x^7+1/8*x^5*y^2+5/2*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.sqrt">
<span class="sig-name descname"><span class="pre">sqrt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.sqrt" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self^(1/2)</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 + 1/2*z - 1/8*z^2 + 1/16*z^3 - 5/128*z^4 + 7/256*z^5 - 21/1024*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># not tested</span>
<span class="go">1 + 1/2*x + ((-1/8)*x^2+1/2*x*y) + (1/16*x^3+(-1/4)*x^2*y+1/2*x*y^2)</span>
<span class="go"> + ((-5/128)*x^4+3/16*x^3*y+(-3/8)*x^2*y^2+1/2*x*y^3)</span>
<span class="go"> + (7/256*x^5+(-5/32)*x^4*y+3/8*x^3*y^2+(-1/2)*x^2*y^3+1/2*x*y^4)</span>
<span class="go"> + ((-21/1024)*x^6+35/256*x^5*y+(-25/64)*x^4*y^2+5/8*x^3*y^3+(-5/8)*x^2*y^4+1/2*x*y^5)</span>
<span class="go"> + O(x,y)^7</span>
</pre></div>
</div>
<p>This also works for Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">SR</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Z</span> <span class="o">=</span> <span class="n">D</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + 1/2/2^s + 1/2/3^s + 3/8/4^s + 1/2/5^s + 1/4/6^s + 1/2/7^s + O(1/(8^s))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">*</span><span class="n">f</span> <span class="o">-</span> <span class="n">Z</span>
<span class="go">O(1/(8^s))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.tan">
<span class="sig-name descname"><span class="pre">tan</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.tan" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<blockquote>
<div><p>sage: L.&lt;z&gt; = LazyLaurentSeriesRing(QQ)
sage: tan(z)
z + 1/3*z^3 + 2/15*z^5 + 17/315*z^7 + O(z^8)</p>
<p>sage: L.&lt;x,y&gt; = LazyTaylorSeriesRing(QQ)  # not tested
sage: tan(x/(1-y)).finite_part(5)  # not tested
2/15*x^5 + 2*x^3*y^2 + x*y^4 + x^3*y + x*y^3 + 1/3*x^3 + x*y^2 + x*y + x</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.tanh">
<span class="sig-name descname"><span class="pre">tanh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.tanh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tanh of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tanh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z - 1/3*z^3 + 2/15*z^5 - 17/315*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyTaylorSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>  <span class="c1"># not tested</span>
<span class="gp">sage: </span><span class="n">tanh</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>  <span class="c1"># not tested</span>
<span class="go">x + x*y + ((-1/3)*x^3+x*y^2) + (-x^3*y+x*y^3)</span>
<span class="go"> + (2/15*x^5+(-2)*x^3*y^2+x*y^4) + (2/3*x^5*y+(-10/3)*x^3*y^3+x*y^5)</span>
<span class="go"> + ((-17/315)*x^7+2*x^5*y^2+(-5)*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.truncate">
<span class="sig-name descname"><span class="pre">truncate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.truncate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return this series with its terms of degree &gt;= <code class="docutils literal notranslate"><span class="pre">d</span></code> truncated.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code> – integer; the degree from which the series is truncated</p></li>
</ul>
<p>EXAMPLES:</p>
<p>Dense Implementation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">alpha</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">alpha</span>
<span class="go">1 + z + z^2 + z^3 + z^4 + z^5 + z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">beta</span> <span class="o">=</span> <span class="n">alpha</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">beta</span>
<span class="go">1 + z + z^2 + z^3 + z^4</span>
<span class="gp">sage: </span><span class="n">alpha</span> <span class="o">-</span> <span class="n">beta</span>
<span class="go">z^5 + z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">M</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">z + 2*z^2 + 3*z^3</span>
</pre></div>
</div>
<p>Sparse Implementation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">M</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">z + 2*z^2 + 3*z^3</span>
</pre></div>
</div>
<p>Series which are known to be exact can also be truncated:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">z</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">4</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">z + z^2 + z^3</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="laurent_series_ring_element.html"
                          title="previous chapter">Laurent Series</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="lazy_series_ring.html"
                          title="next chapter">Lazy Series Rings</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/rings/lazy_series.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lazy_series_ring.html" title="Lazy Series Rings"
             >next</a> |</li>
        <li class="right" >
          <a href="laurent_series_ring_element.html" title="Laurent Series"
             >previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://www.sagemath.org"><img src="../../../_static/logo_sagemath_black.svg" class="sage-logo" title="Sage Logo"></a>
    
      <a href="../../../../index.html">Sage 9.6 Documentation</a> &#187;
      
      <a href="../../../index.html">Reference Manual</a> &#187;
      
      <a href="../../index.html">Power Series Rings and Laurent Series Rings</a> &#187;
    
  </li>

        <li class="nav-item nav-item-this"><a href="">Lazy Series</a></li> 
      </ul>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2022, The Sage Development Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* The sidebar toggle adapts its height to the bodywrapper height. */
    const resizeObserver = new ResizeObserver(entries => {
        tog.height(bod.height());
    });
    resizeObserver.observe(bod[0]);

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
  </script>
  <script type="text/javascript">
/* detex the document title by removing "\(", "\)", "\", "$" */
document.title = document.title.replace(/\\\(/g, '').replace(/\\\)/g, '').replace(/\\/g, '').replace(/\$/g, '');
  </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>