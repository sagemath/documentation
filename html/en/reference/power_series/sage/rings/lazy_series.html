<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Lazy Series Rings" href="lazy_series_ring.html" /><link rel="prev" title="Laurent Series" href="laurent_series_ring_element.html" />

    <meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>Lazy Series - Power Series Rings and Laurent Series Rings</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-furo.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZGD13B5572"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ZGD13B5572');
</script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Power Series Rings and Laurent Series Rings</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 9.8 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../index.html">Home - Power Series Rings and Laurent Series Rings</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="power_series_ring.html">Power Series Rings</a></li>
<li class="toctree-l1"><a class="reference internal" href="power_series_ring_element.html">Power Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="power_series_poly.html">Power Series Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="power_series_pari.html">Power series implemented using PARI</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_power_series_ring.html">Multivariate Power Series Rings</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_power_series_ring_element.html">Multivariate Power Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="laurent_series_ring.html">Laurent Series Rings</a></li>
<li class="toctree-l1"><a class="reference internal" href="laurent_series_ring_element.html">Laurent Series</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Lazy Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="lazy_series_ring.html">Lazy Series Rings</a></li>
<li class="toctree-l1"><a class="reference internal" href="puiseux_series_ring.html">Puiseux Series Ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="puiseux_series_ring_element.html">Puiseux Series Ring Element</a></li>
<li class="toctree-l1"><a class="reference internal" href="tate_algebra.html">Tate algebras</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="lazy-series">
<span id="sage-rings-lazy-series"></span><h1>Lazy Series<a class="headerlink" href="#lazy-series" title="Permalink to this heading">#</a></h1>
<span class="target" id="module-sage.rings.lazy_series"></span><p>Coefficients of lazy series are computed on demand.  They have
infinite precision, although equality can only be decided in special
cases.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Kwankyu Lee (2019-02-24): initial version</p></li>
<li><p>Tejasvi Chebrolu, Martin Rubey, Travis Scrimshaw (2021-08):
refactored and expanded functionality</p></li>
</ul>
<p>EXAMPLES:</p>
<p>Laurent series over the integer ring are particularly useful as
generating functions for sequences arising in combinatorics.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
</pre></div>
</div>
<p>The generating function of the Fibonacci sequence is:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span> <span class="o">-</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + z + 2*z^2 + 3*z^3 + 5*z^4 + 8*z^5 + 13*z^6 + O(z^7)</span>
</pre></div>
</div>
<p>In principle, we can now compute any coefficient of <span class="math notranslate nohighlight">\(f\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">573147844013817084101</span>
</pre></div>
</div>
<p>Which coefficients are actually computed depends on the type of
implementation.  For the sparse implementation, only the coefficients
which are needed are computed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">s</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">_coeff_stream</span><span class="o">.</span><span class="n">_cache</span>
<span class="go">{0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 10: 10}</span>
</pre></div>
</div>
<p>Using the dense implementation, all coefficients up to the required
coefficient are computed.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">s</span>
<span class="go">x + 2*x^2 + 3*x^3 + 4*x^4 + 5*x^5 + 6*x^6 + O(x^7)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">_coeff_stream</span><span class="o">.</span><span class="n">_cache</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</pre></div>
</div>
<p>We can do arithmetic with lazy power series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + z + 2*z^2 + 3*z^3 + 5*z^4 + 8*z^5 + 13*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">1 - z - z^2 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">+</span> <span class="n">f</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">2 + z^2 + 3*z^3 + 5*z^4 + 8*z^5 + 13*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span> <span class="o">+</span> <span class="n">f</span><span class="o">^-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">f</span> <span class="o">-</span> <span class="n">f</span><span class="o">^-</span><span class="mi">1</span><span class="p">);</span> <span class="n">g</span>
<span class="go">4*z + 6*z^2 + 8*z^3 + 19*z^4 + 38*z^5 + 71*z^6 + O(z^7)</span>
</pre></div>
</div>
<p>We call lazy power series whose coefficients are known to be
eventually constant ‘exact’.  In some cases, computations with such
series are much faster.  Moreover, these are the series where
equality can be decided.  For example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span>
<span class="go">0</span>
</pre></div>
</div>
<p>However, multivariate Taylor series are actually represented as
streams of multivariate polynomials.  Therefore, the only exact
series in this case are polynomials:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">)</span>
<span class="go">1 + x + x^2 + x^3 + x^4 + x^5 + x^6 + O(x,y)^7</span>
</pre></div>
</div>
<p>A similar statement is true for lazy symmetric functions:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">h</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
<span class="gp">sage: </span><span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">L</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="go">h[] + h[1] + (h[1,1]) + (h[1,1,1]) + (h[1,1,1,1]) + (h[1,1,1,1,1]) + (h[1,1,1,1,1,1]) + O^7</span>
</pre></div>
</div>
<p>We can change the base ring:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Laurent Series Ring in z over Rational Field</span>
<span class="gp">sage: </span><span class="n">h</span>
<span class="go">4*z + 6*z^2 + 8*z^3 + 19*z^4 + 38*z^5 + 71*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">hinv</span> <span class="o">=</span> <span class="n">h</span><span class="o">^-</span><span class="mi">1</span><span class="p">;</span> <span class="n">hinv</span>
<span class="go">1/4*z^-1 - 3/8 + 1/16*z - 17/32*z^2 + 5/64*z^3 - 29/128*z^4 + 165/256*z^5 + O(z^6)</span>
<span class="gp">sage: </span><span class="n">hinv</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyCauchyProductSeries">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazyCauchyProductSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyCauchyProductSeries" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement" title="sage.rings.lazy_series.LazyModuleElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazyModuleElement</span></code></a></p>
<p>A class for series where multiplication is the Cauchy product.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + z + z^2 + O(z^3)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="go">1</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + z + z^2 + O(z^3)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyCauchyProductSeries.exp">
<span class="sig-name descname"><span class="pre">exp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyCauchyProductSeries.exp" title="Permalink to this definition">#</a></dt>
<dd><p>Return the exponential series of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>We use the identity</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\exp(s) = 1 + \int s' \exp(s).\]</div>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 + z + 1/2*z^2 + 1/6*z^3 + 1/24*z^4 + 1/120*z^5 + 1/720*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1 + z + 3/2*z^2 + 7/6*z^3 + 25/24*z^4 + 27/40*z^5 + 331/720*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: can only compose with a positive valuation series</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">(1/24) * (x + y)^4</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1/6*x^3 + x^2*y + x*y^2 + 1/2*x^2 + x*y + x + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyCauchyProductSeries.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyCauchyProductSeries.log" title="Permalink to this definition">#</a></dt>
<dd><p>Return the series for the natural logarithm of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>We use the identity</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\log(s) = \int s' / s.\]</div>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">))</span>
<span class="go">z + 1/2*z^2 + 1/3*z^3 + 1/4*z^4 + 1/5*z^5 + 1/6*z^6 + 1/7*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">log</span><span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">)))</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1/3*x^3 - x^2*y + x*y^2 - 1/2*x^2 + x*y + x</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyCauchyProductSeries.valuation">
<span class="sig-name descname"><span class="pre">valuation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyCauchyProductSeries.valuation" title="Permalink to this definition">#</a></dt>
<dd><p>Return the valuation of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This method determines the valuation of the series by looking for a
nonzero coefficient. Hence if the series happens to be zero, then it
may run forever.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">z</span> <span class="o">-</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">+Infinity</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">M</span> <span class="o">-</span> <span class="n">M</span><span class="p">)</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyCompletionGradedAlgebraElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazyCompletionGradedAlgebraElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyCompletionGradedAlgebraElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.lazy_series.LazyCauchyProductSeries" title="sage.rings.lazy_series.LazyCauchyProductSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazyCauchyProductSeries</span></code></a></p>
<p>An element of a completion of a graded algebra that is computed lazily.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyDirichletSeries">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazyDirichletSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyDirichletSeries" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement" title="sage.rings.lazy_series.LazyModuleElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazyModuleElement</span></code></a></p>
<p>A Dirichlet series where the coefficients are computed lazily.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span>
<span class="go">1 + 2/2^z + 2/3^z + 3/4^z + 2/5^z + 4/6^z + 2/7^z + O(1/(8^z))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">==</span> <span class="n">number_of_divisors</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Lazy Dirichlet series is picklable:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">1 + 2/2^z + 2/3^z + 3/4^z + 2/5^z + 4/6^z + 2/7^z + O(1/(8^z))</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">==</span> <span class="n">f</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyDirichletSeries.is_unit">
<span class="sig-name descname"><span class="pre">is_unit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyDirichletSeries.is_unit" title="Permalink to this definition">#</a></dt>
<dd><p>Return whether this element is a unit in the ring.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">D</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">D</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyDirichletSeries.valuation">
<span class="sig-name descname"><span class="pre">valuation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyDirichletSeries.valuation" title="Permalink to this definition">#</a></dt>
<dd><p>Return the valuation of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This method determines the valuation of the series by looking for a
nonzero coefficient. Hence if the series happens to be zero, then it
may run forever.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">mu</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">moebius</span><span class="p">);</span> <span class="n">mu</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">mu</span> <span class="o">-</span> <span class="n">mu</span><span class="p">)</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">+Infinity</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">log(2)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">g</span><span class="o">*</span><span class="n">g</span><span class="p">)</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span>
<span class="go">2*log(2)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazyLaurentSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.lazy_series.LazyCauchyProductSeries" title="sage.rings.lazy_series.LazyCauchyProductSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazyCauchyProductSeries</span></code></a></p>
<p>A Laurent series where the coefficients are computed lazily.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
</pre></div>
</div>
<p>We can build a series from a function and specify if the series
eventually takes a constant value:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span> <span class="n">constant</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">-3*z^-3 - 2*z^-2 - z^-1 + z + 2*z^2 - z^3 - z^4 - z^5 + O(z^6)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="go">-2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=-</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">-3*z^-3 - 2*z^-2 - z^-1 + z + 2*z^2 + 3*z^3 + O(z^4)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span>
<span class="go">20</span>
</pre></div>
</div>
<p>Anything that converts into a polynomial can be input, where
we can also specify the valuation or if the series eventually
takes a constant value:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="go">-5 + 2*z + 5*z^3</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">constant</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="go">-5 + 2*z + 5*z^3 + 6*z^4 + 6*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">degree</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="go">-5 + 2*z + 5*z^3 + 6*z^6 + 6*z^7 + 6*z^8 + O(z^9)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="go">-5*z^-2 + 2*z^-1 + 5*z + 6*z^3 + 6*z^4 + 6*z^5 + O(z^6)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">-5*z^5 + 2*z^6 + 5*z^8</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">({</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">},</span> <span class="n">constant</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">9*z^-2 + 4*z^3 + 2*z^5 + 2*z^6 + 2*z^7 + O(z^8)</span>
</pre></div>
</div>
<p>We can also perform arithmetic:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span> <span class="o">-</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + z + 2*z^2 + 3*z^3 + 5*z^4 + 8*z^5 + 13*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">573147844013817084101</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">z</span><span class="o">^-</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">z^-1 - z^2 - z^4 + 3*z^5 + O(z^6)</span>
</pre></div>
</div>
<p>However, we may not always be able to know when a result is
exactly a polynomial:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">f</span> <span class="o">*</span> <span class="p">(</span><span class="n">z</span><span class="o">^-</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">z^-2 - 1 + 2*z + O(z^5)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries.approximate_series">
<span class="sig-name descname"><span class="pre">approximate_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries.approximate_series" title="Permalink to this definition">#</a></dt>
<dd><p>Return the Laurent series with absolute precision <code class="docutils literal notranslate"><span class="pre">prec</span></code> approximated
from this series.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">prec</span></code> – an integer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> – name of the variable; if it is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the name of
the variable of the series is used</p></li>
</ul>
<p>OUTPUT: a Laurent series with absolute precision <code class="docutils literal notranslate"><span class="pre">prec</span></code></p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">z</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">z^5 + 2*z^6 - 6*z^7 - 12*z^8 + 16*z^9 + 32*z^10 - 16*z^11 + O(z^12)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">approximate_series</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">z^5 + 2*z^6 - 6*z^7 - 12*z^8 + 16*z^9 + O(z^10)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Power Series Ring in z over Integer Ring</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="o">^-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">approximate_series</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span>
<span class="go">z^-5 - 2*z^-4 + 10*z^-3 - 20*z^-2 + 60*z^-1 - 120 + 280*z - 560*z^2 + O(z^3)</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Laurent Series Ring in z over Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries.compose">
<span class="sig-name descname"><span class="pre">compose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries.compose" title="Permalink to this definition">#</a></dt>
<dd><p>Return the composition of <code class="docutils literal notranslate"><span class="pre">self</span></code> with <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<p>Given two Laurent series <span class="math notranslate nohighlight">\(f\)</span> and <span class="math notranslate nohighlight">\(g\)</span> over the same base ring, the
composition <span class="math notranslate nohighlight">\((f \circ g)(z) = f(g(z))\)</span> is defined if and only if:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(g = 0\)</span> and <span class="math notranslate nohighlight">\(val(f) &gt;= 0\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(g\)</span> is non-zero and <span class="math notranslate nohighlight">\(f\)</span> has only finitely many non-zero coefficients,</p></li>
<li><p><span class="math notranslate nohighlight">\(g\)</span> is non-zero and <span class="math notranslate nohighlight">\(val(g) &gt; 0\)</span>.</p></li>
</ul>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code> – other series</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">L</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">3 + 3*z + 4*z^2 + 2*z^3 + z^4</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">);</span> <span class="n">g</span>
<span class="go">z^-3 + 2*z^-2 + 4*z^-1 + 8 + 16*z + 32*z^2 + 64*z^3 + O(z^4)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">z^-6 + 4*z^-5 + 12*z^-4 + 33*z^-3 + 82*z^-2 + 196*z^-1 + 457 + O(z)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">g</span>
<span class="go">z^-6 + 4*z^-5 + 12*z^-4 + 33*z^-3 + 82*z^-2 + 196*z^-1 + 457 + O(z)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">7</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">4*z^-6 + 12*z^-3 + z^-2 + 48*z^-1 + 12 + O(z)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="n">f</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">f</span><span class="o">^</span><span class="mi">3</span>
<span class="go">4*z^-6 + 12*z^-3 + z^-2 + 48*z^-1 + 12 + O(z)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">4*z^-9 + 24*z^-8 + 96*z^-7 + 320*z^-6 + 960*z^-5 + 2688*z^-4 + 7169*z^-3 + O(z^-2)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="n">g</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">g</span><span class="o">^</span><span class="mi">3</span>
<span class="go">4*z^-9 + 24*z^-8 + 96*z^-7 + 320*z^-6 + 960*z^-5 + 2688*z^-4 + 7169*z^-3 + O(z^-2)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">f</span>
<span class="go">z^-3 + z^-2 + 1 - z^2 + O(z^4)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">3</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span> <span class="o">-</span> <span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="p">);</span> <span class="n">g</span>
<span class="go">z^3 - z^4 + z^5 - z^7 + 2*z^8 - 2*z^9 + O(z^10)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">z^-9 + 3*z^-8 + 3*z^-7 - z^-6 - 4*z^-5 - 2*z^-4 + z^-3 + O(z^-2)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">g</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">z^-9 + 3*z^-8 + 3*z^-7 - z^-6 - 4*z^-5 - 2*z^-4 + z^-3 + O(z^-2)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="go">z^6 - 3*z^7 + 6*z^8 - 10*z^9 + 15*z^10 - 21*z^11 + 28*z^12 + O(z^13)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">z^6 - 3*z^7 + 6*z^8 - 10*z^9 + 15*z^10 - 21*z^11 + 28*z^12 + O(z^13)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">f</span><span class="o">^-</span><span class="mi">2</span>
<span class="go">z^-6 - 3*z^-5 + 7*z^-4 - 12*z^-3 + 18*z^-2 - 25*z^-1 + 33 + O(z)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">z^-6 - 3*z^-5 + 7*z^-4 - 12*z^-3 + 18*z^-2 - 25*z^-1 + 33 + O(z)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">3</span>
<span class="go">z^-9 + 3*z^-8 + 3*z^-7 + 2*z^-6 + 2*z^-5 + z^-4</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">z^-9 + 3*z^-8 + 3*z^-7 + 2*z^-6 + 2*z^-5 + z^-4</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">f</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">z^2 + 2*z^4 + 3*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=-</span><span class="mi">2</span><span class="p">);</span> <span class="n">f</span>
<span class="go">-2*z^-2 - z^-1 + z + 2*z^2 + 3*z^3 + 4*z^4 + O(z^5)</span>
<span class="gp">sage: </span><span class="n">f3</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="p">);</span> <span class="n">f3</span>
<span class="go">-2*z^-6 - z^-3 + O(z)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">f3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="mi">13</span><span class="p">)]</span>
<span class="go">[-2, 0, 0, -1, 0, 0, 0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4]</span>
</pre></div>
</div>
<p>We compose a Laurent polynomial with a generic element:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">(x^6 + 3*x^5 + 12*x^4 + 19*x^3 + 37*x^2 + 28*x + 31)/(x^2 + x + 3)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="o">==</span> <span class="n">g</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We compose with another lazy Laurent series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">LS</span><span class="o">.&lt;</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">fy</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">);</span> <span class="n">fy</span>
<span class="go">y^-1 + 1 + y^2</span>
<span class="gp">sage: </span><span class="n">fy</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">LS</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="n">y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ZeroDivisionError: the valuation of the series must be nonnegative</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">y</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">3 - y + 2*y^2 + y^3 + y^4 + y^5 + O(y^6)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">3 - y + 2*y^2 + y^3 + y^4 + y^5 + O(y^6)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">f</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">y + 2*y^2 + 3*y^3 + 4*y^4 + 5*y^5 + 6*y^6 + O(y^7)</span>
<span class="gp">sage: </span><span class="n">fp</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fp</span> <span class="o">==</span> <span class="mi">0</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">fp</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">LS</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>With both of them sparse:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">LS</span><span class="o">.&lt;</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">f</span>
<span class="go">1 + z + z^2 + z^3 + z^4 + z^5 + z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1 + y^2 + y^4 + y^6 + O(y^7)</span>

<span class="gp">sage: </span><span class="n">fp</span> <span class="o">=</span> <span class="n">f</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span><span class="p">;</span> <span class="n">fp</span>
<span class="go">z^-2 + z + z^2 + z^3 + z^4 + O(z^5)</span>
<span class="gp">sage: </span><span class="n">fpy</span> <span class="o">=</span> <span class="n">fp</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">fpy</span>
<span class="go">y^-4 + y^2 + O(y^3)</span>
<span class="gp">sage: </span><span class="n">fpy</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">LS</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">fpy</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>
<span class="go">[1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1]</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">LS</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span> <span class="n">g</span>
<span class="go">y^2 + y^3 + y^4 + O(y^5)</span>
<span class="gp">sage: </span><span class="n">fg</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">);</span> <span class="n">fg</span>
<span class="go">1 + y^2 + y^3 + 2*y^4 + 3*y^5 + 5*y^6 + O(y^7)</span>
<span class="gp">sage: </span><span class="mi">1</span> <span class="o">+</span> <span class="n">g</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">g</span><span class="o">^</span><span class="mi">6</span>
<span class="go">1 + y^2 + y^3 + 2*y^4 + 3*y^5 + 5*y^6 + O(y^7)</span>

<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">LS</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">);</span> <span class="n">h</span>
<span class="go">y^3 + y^5 + y^7 + O(y^9)</span>
<span class="gp">sage: </span><span class="n">fgh</span> <span class="o">=</span> <span class="n">fg</span><span class="p">(</span><span class="n">h</span><span class="p">);</span> <span class="n">fgh</span>
<span class="go">1 + y^6 + O(y^7)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">fgh</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">)]</span>
<span class="go">[1, 0, 0, 0, 0, 0, 1, 0, 2, 1, 3, 3, 6, 6, 13]</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">h</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">h</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">h</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">h</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">h</span><span class="o">^</span><span class="mi">6</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">)]</span>
<span class="go">[1, 0, 0, 0, 0, 0, 1, 0, 2, 1, 3, 3, 6, 6, 13]</span>
</pre></div>
</div>
<p>We look at mixing the sparse and the dense:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">f</span>
<span class="go">1 + z + z^2 + z^3 + z^4 + z^5 + z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">LS</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span> <span class="n">g</span>
<span class="go">y + y^2 + y^3 + y^4 + y^5 + y^6 + y^7 + O(y^8)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">1 + y + 2*y^2 + 4*y^3 + 8*y^4 + 16*y^5 + 32*y^6 + O(y^7)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">y</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">));</span> <span class="n">g</span>
<span class="go">y^-1 + 1 + y + O(y^2)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">y^-1 + 2 + y + 2*y^2 - y^3 + 2*y^4 + y^5 + y^6 + y^7 + O(y^8)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">g</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">));</span> <span class="n">g</span>
<span class="go">y^-2 + y^-1 + 1 + O(y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">1 + y^4 - 2*y^5 + 2*y^6 - 3*y^7 + 3*y^8 - y^9</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="n">g</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">z</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">y</span>
</pre></div>
</div>
<p>We look at cases where the composition does not exist.
<span class="math notranslate nohighlight">\(g = 0\)</span> and <span class="math notranslate nohighlight">\(val(f) &lt; 0\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">0</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ZeroDivisionError: the valuation of the series must be nonnegative</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(g \neq 0\)</span> and <span class="math notranslate nohighlight">\(val(g) \leq 0\)</span> and <span class="math notranslate nohighlight">\(f\)</span> has infinitely many
non-zero coefficients:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">valuation</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">0</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: can only compose with a positive valuation series</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: can only compose with a positive valuation series</span>
</pre></div>
</div>
<p>We compose the exponential with a Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">D</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">g</span>
<span class="go">1/(2^s) + 1/(3^s) + 1/(4^s) + O(1/(5^s))</span>

<span class="gp">sage: </span><span class="n">e</span><span class="p">(</span><span class="n">g</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 1, 1, 1, 3/2, 1, 2, 1, 13/6, 3/2]</span>

<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">g</span><span class="o">^</span><span class="n">k</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 1, 1, 1, 3/2, 1, 2, 1, 13/6, 3/2]</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">D</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">g</span>
<span class="go">1/(2^s) + 1/(4^s) + 1/(5^s) + 2/6^s</span>
<span class="gp">sage: </span><span class="n">e</span><span class="p">(</span><span class="n">g</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 1, 1, 0, 3/2, 1, 2, 0, 7/6, 0]</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">g</span><span class="o">^</span><span class="n">k</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 1, 1, 0, 3/2, 1, 2, 0, 7/6, 0]</span>

<span class="gp">sage: </span><span class="n">e</span><span class="p">(</span><span class="n">D</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: can only compose with a positive valuation series</span>

<span class="gp">sage: </span><span class="n">e5</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">5</span><span class="p">);</span> <span class="n">e5</span>
<span class="go">1 + z + 1/2*z^2 + 1/6*z^3 + 1/24*z^4</span>
<span class="gp">sage: </span><span class="n">e5</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">1 + 1/(2^s) + 3/2/4^s + 1/(5^s) + 2/6^s + O(1/(8^s))</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">e5</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">*</span> <span class="n">g</span><span class="o">^</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">1 + 1/(2^s) + 3/2/4^s + 1/(5^s) + 2/6^s + O(1/(8^s))</span>
</pre></div>
</div>
<p>The output parent is always the common parent between the base ring
of <span class="math notranslate nohighlight">\(f\)</span> and the parent of <span class="math notranslate nohighlight">\(g\)</span> or extended to the corresponding
lazy series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">z</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">z</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">zero</span><span class="p">()))</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">z</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">1 + x + x^2 + x^3 + x^4 + x^5 + x^6 + O(x^7)</span>
<span class="gp">sage: </span><span class="n">three</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="mi">3</span><span class="p">)(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">three</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">three</span><span class="p">)</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
</pre></div>
</div>
<p>Consistency check when <span class="math notranslate nohighlight">\(g\)</span> is an uninitialized series between a
polynomial <span class="math notranslate nohighlight">\(f\)</span> as both a polynomial and a lazy series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">()(</span><span class="n">g</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries.compositional_inverse">
<span class="sig-name descname"><span class="pre">compositional_inverse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries.compositional_inverse" title="Permalink to this definition">#</a></dt>
<dd><p>Return the compositional inverse of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Given a Laurent series <span class="math notranslate nohighlight">\(f\)</span>, the compositional inverse is a
Laurent series <span class="math notranslate nohighlight">\(g\)</span> over the same base ring, such that
<span class="math notranslate nohighlight">\((f \circ g)(z) = f(g(z)) = z\)</span>.</p>
<p>The compositional inverse exists if and only if:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(val(f) = 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(f = a + b z\)</span> with <span class="math notranslate nohighlight">\(a, b \neq 0\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(f = a/z\)</span> with <span class="math notranslate nohighlight">\(a \neq 0\)</span></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">1/2*z</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">2*z^-1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">z</span><span class="o">-</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">z + z^2 + 2*z^3 + 5*z^4 + 14*z^5 + 42*z^6 + 132*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">constant</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">-z - z^2 - z^3 + O(z^4)</span>

<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">z - z^2 + z^3 - z^4 + z^5 - z^6 + z^7 + O(z^8)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries.derivative">
<span class="sig-name descname"><span class="pre">derivative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries.derivative" title="Permalink to this definition">#</a></dt>
<dd><p>Return the derivative of the Laurent series.</p>
<p>Multiple variables and iteration counts may be supplied; see
the documentation of
<a class="reference external" href="../../../calculus/sage/calculus/functional.html#sage.calculus.functional.derivative" title="(in Symbolic Calculus v9.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage.calculus.functional.derivative()</span></code></a> function for
details.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">derivative</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">z</span><span class="o">+</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">derivative</span><span class="p">()</span>
<span class="go">-z^-2</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 + 2*z + 3*z^2 + 4*z^3 + 5*z^4 + 6*z^5 + 7*z^6 + O(z^7)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries.is_unit">
<span class="sig-name descname"><span class="pre">is_unit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries.is_unit" title="Permalink to this definition">#</a></dt>
<dd><p>Return whether this element is a unit in the ring.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="o">^-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">-</span> <span class="n">z</span><span class="o">^-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries.polynomial">
<span class="sig-name descname"><span class="pre">polynomial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degree</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries.polynomial" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self</span></code> as a Laurent polynomial if <code class="docutils literal notranslate"><span class="pre">self</span></code> is actually so.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">degree</span></code> – <code class="docutils literal notranslate"><span class="pre">None</span></code> or an integer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> – name of the variable; if it is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the name of
the variable of the series is used</p></li>
</ul>
<p>OUTPUT:</p>
<p>A Laurent polynomial if the valuation of the series is negative or
a polynomial otherwise.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">degree</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, the terms of the series of
degree greater than <code class="docutils literal notranslate"><span class="pre">degree</span></code> are first truncated.  If
<code class="docutils literal notranslate"><span class="pre">degree</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and the series is not a polynomial or
a Laurent polynomial, a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">5</span><span class="p">);</span> <span class="n">f</span>
<span class="go">z^5 + 2*z^8 + 3*z^12</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">()</span>
<span class="go">3*z^12 + 2*z^8 + z^5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyLaurentSeries.revert">
<span class="sig-name descname"><span class="pre">revert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyLaurentSeries.revert" title="Permalink to this definition">#</a></dt>
<dd><p>Return the compositional inverse of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Given a Laurent series <span class="math notranslate nohighlight">\(f\)</span>, the compositional inverse is a
Laurent series <span class="math notranslate nohighlight">\(g\)</span> over the same base ring, such that
<span class="math notranslate nohighlight">\((f \circ g)(z) = f(g(z)) = z\)</span>.</p>
<p>The compositional inverse exists if and only if:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(val(f) = 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(f = a + b z\)</span> with <span class="math notranslate nohighlight">\(a, b \neq 0\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(f = a/z\)</span> with <span class="math notranslate nohighlight">\(a \neq 0\)</span></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">1/2*z</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">2*z^-1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">z</span><span class="o">-</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">z + z^2 + 2*z^3 + 5*z^4 + 14*z^5 + 42*z^6 + 132*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">constant</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">-z - z^2 - z^3 + O(z^4)</span>

<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">z - z^2 + z^3 - z^4 + z^5 - z^6 + z^7 + O(z^8)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazyModuleElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/element.html#sage.structure.element.Element" title="(in Parents and Elements v9.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a></p>
<p>A lazy sequence with a module structure given by term-wise
addition and scalar multiplication.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[1, 1, 1, 1, 1, 1, 1, 1, 1, 1]</span>
</pre></div>
</div>
<p>Two sequences can be added:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">O</span> <span class="o">=</span> <span class="n">M</span> <span class="o">+</span> <span class="n">N</span>
<span class="gp">sage: </span><span class="n">O</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</pre></div>
</div>
<p>Two sequences can be subtracted:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">M</span> <span class="o">-</span> <span class="n">N</span>
<span class="gp">sage: </span><span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[-1, 0, 1, 2, 3, 4, 5, 6, 7, 8]</span>
</pre></div>
</div>
<p>A sequence can be multiplied by a scalar:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">M</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, 2, 4, 6, 8, 10, 12, 14, 16, 18]</span>
</pre></div>
</div>
<p>The negation of a sequence can also be found:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="o">-</span><span class="n">M</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="go">[0, -1, -2, -3, -4, -5, -6, -7, -8, -9]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arccos">
<span class="sig-name descname"><span class="pre">arccos</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arccos" title="Permalink to this definition">#</a></dt>
<dd><p>Return the arccos of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arccos</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1.57079632679490 - 1.00000000000000*z + 0.000000000000000*z^2</span>
<span class="go"> - 0.166666666666667*z^3 + 0.000000000000000*z^4</span>
<span class="go"> - 0.0750000000000000*z^5 + O(1.00000000000000*z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">SR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arccos</span><span class="p">(</span><span class="n">z</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">))</span>
<span class="go">1/2*pi - z - z^2 - 7/6*z^3 - 3/2*z^4 - 83/40*z^5 - 73/24*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">SR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arccos</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">1/2*pi + (-x) + (-x*y) + ((-1/6)*x^3-x*y^2) + ((-1/2)*x^3*y-x*y^3)</span>
<span class="go"> + ((-3/40)*x^5-x^3*y^2-x*y^4) + ((-3/8)*x^5*y+(-5/3)*x^3*y^3-x*y^5) + O(x,y)^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arccot">
<span class="sig-name descname"><span class="pre">arccot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arccot" title="Permalink to this definition">#</a></dt>
<dd><p>Return the arctangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arccot</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1.57079632679490 - 1.00000000000000*z + 0.000000000000000*z^2</span>
<span class="go"> + 0.333333333333333*z^3 + 0.000000000000000*z^4</span>
<span class="go"> - 0.200000000000000*z^5 + O(1.00000000000000*z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">SR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arccot</span><span class="p">(</span><span class="n">z</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">))</span>
<span class="go">1/2*pi - z - z^2 - 2/3*z^3 + 4/5*z^5 + 4/3*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">SR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">acot</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">1/2*pi + (-x) + (-x*y) + (1/3*x^3-x*y^2) + (x^3*y-x*y^3)</span>
<span class="go"> + ((-1/5)*x^5+2*x^3*y^2-x*y^4) + (-x^5*y+10/3*x^3*y^3-x*y^5) + O(x,y)^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arcsin">
<span class="sig-name descname"><span class="pre">arcsin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arcsin" title="Permalink to this definition">#</a></dt>
<dd><p>Return the arcsin of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arcsin</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z + 1/6*z^3 + 3/40*z^5 + 5/112*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">asin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">x + x*y + (1/6*x^3+x*y^2) + (1/2*x^3*y+x*y^3)</span>
<span class="go"> + (3/40*x^5+x^3*y^2+x*y^4) + (3/8*x^5*y+5/3*x^3*y^3+x*y^5)</span>
<span class="go"> + (5/112*x^7+9/8*x^5*y^2+5/2*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arcsinh">
<span class="sig-name descname"><span class="pre">arcsinh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arcsinh" title="Permalink to this definition">#</a></dt>
<dd><p>Return the inverse of the hyperbolic sine of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">asinh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z - 1/6*z^3 + 3/40*z^5 - 5/112*z^7 + O(z^8)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">arcsinh</span></code> is an alias:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arcsinh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z - 1/6*z^3 + 3/40*z^5 - 5/112*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">asinh</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">x + x*y + (-1/6*x^3+x*y^2) + (-1/2*x^3*y+x*y^3) + (3/40*x^5-x^3*y^2+x*y^4)</span>
<span class="go"> + (3/8*x^5*y-5/3*x^3*y^3+x*y^5) + (-5/112*x^7+9/8*x^5*y^2-5/2*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arctan">
<span class="sig-name descname"><span class="pre">arctan</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arctan" title="Permalink to this definition">#</a></dt>
<dd><p>Return the arctangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">arctan</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z - 1/3*z^3 + 1/5*z^5 - 1/7*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">atan</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">x + x*y + (-1/3*x^3+x*y^2) + (-x^3*y+x*y^3) + (1/5*x^5-2*x^3*y^2+x*y^4)</span>
<span class="go"> + (x^5*y-10/3*x^3*y^3+x*y^5) + (-1/7*x^7+3*x^5*y^2-5*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.arctanh">
<span class="sig-name descname"><span class="pre">arctanh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.arctanh" title="Permalink to this definition">#</a></dt>
<dd><p>Return the inverse of the hyperbolic tangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z + 1/3*z^3 + 1/5*z^5 + 1/7*z^7 + O(z^8)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">arctanh</span></code> is an alias:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">arctanh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z + 1/3*z^3 + 1/5*z^5 + 1/7*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">atanh</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">x + x*y + (1/3*x^3+x*y^2) + (x^3*y+x*y^3) + (1/5*x^5+2*x^3*y^2+x*y^4)</span>
<span class="go"> + (x^5*y+10/3*x^3*y^3+x*y^5) + (1/7*x^7+3*x^5*y^2+5*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.change_ring">
<span class="sig-name descname"><span class="pre">change_ring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.change_ring" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self</span></code> with coefficients converted to elements of <code class="docutils literal notranslate"><span class="pre">ring</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> – a ring</p></li>
</ul>
<p>EXAMPLES:</p>
<p>Dense Implementation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">1/2 - 1/4*z + 1/8*z^2 - 1/16*z^3 + 1/32*z^4 - 1/64*z^5 + 1/128*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">M</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Laurent Series Ring in z over Rational Field</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Laurent Series Ring in z over Integer Ring</span>
</pre></div>
</div>
<p>Sparse Implementation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">M</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Laurent Series Ring in z over Integer Ring</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Laurent Series Ring in z over Rational Field</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">z^-1 - 2 + z + O(z^6)</span>
</pre></div>
</div>
<p>A Dirichlet series example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Dirichlet Series Ring in z over Rational Field</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">1/2 - 1/2/2^z - 1/2/3^z - 1/2/5^z + 1/2/6^z - 1/2/7^z + O(1/(8^z))</span>
</pre></div>
</div>
<p>A Taylor series example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">^-</span><span class="mi">1</span>
<span class="go">1/2 - 1/4*z + 1/8*z^2 - 1/16*z^3 + 1/32*z^4 - 1/64*z^5 + 1/128*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Lazy Taylor Series Ring in z over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.coefficient">
<span class="sig-name descname"><span class="pre">coefficient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.coefficient" title="Permalink to this definition">#</a></dt>
<dd><p>Return the homogeneous degree <code class="docutils literal notranslate"><span class="pre">n</span></code> part of the series.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> – integer; the degree</p></li>
</ul>
<p>For a series <code class="docutils literal notranslate"><span class="pre">f</span></code>, the slice <code class="docutils literal notranslate"><span class="pre">f[start:stop]</span></code> produces the following:</p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">stop</span></code> are integers, return the list of
terms with given degrees</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">start</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, return the list of terms
beginning with the valuation</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">stop</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, return a
<a class="reference external" href="../../../misc/sage/misc/lazy_list.html#sage.misc.lazy_list.lazy_list_generic" title="(in Utilities v9.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lazy_list_generic</span></code></a> instead.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">z</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">f</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="go">[0, 1, 0, 0, 2, 0, 0, 4, 0, 0, 8, 0, 0, 16, 0, 0, 32, 0, 0, 64]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">]</span>
<span class="go">[0, 1, 0, 0, 2, 0, 0, 4, 0, 0, 8, 0, 0, 16, 0, 0, 32, 0, 0, 64]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span>
<span class="go">[1, 0, 0, 2, 0, 0, 4, 0, 0, 8, 0, 0, 16, 0, 0, 32, 0, 0, 64]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">[::</span><span class="mi">3</span><span class="p">]</span>
<span class="go">lazy list [1, 2, 4, ...]</span>

<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">M</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">M</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</span>
</pre></div>
</div>
<p>Similarly for multivariate series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)[:</span><span class="mi">11</span><span class="p">]</span>
<span class="go">[x*y, 0, 0, 0, -1/6*x^3*y^3, 0, 0, 0, 1/120*x^5*y^5]</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)[</span><span class="mi">2</span><span class="p">::</span><span class="mi">4</span><span class="p">]</span>
<span class="go">lazy list [x*y, -1/6*x^3*y^3, 1/120*x^5*y^5, ...]</span>
</pre></div>
</div>
<p>Similarly for Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.coefficients">
<span class="sig-name descname"><span class="pre">coefficients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.coefficients" title="Permalink to this definition">#</a></dt>
<dd><p>Return the first <span class="math notranslate nohighlight">\(n\)</span> non-zero coefficients of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> – (optional) the number of non-zero coefficients to return</p></li>
</ul>
<p>If the series has fewer than <span class="math notranslate nohighlight">\(n\)</span> non-zero coefficients, only
these are returned.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">n</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, a
<a class="reference external" href="../../../misc/sage/misc/lazy_list.html#sage.misc.lazy_list.lazy_list_generic" title="(in Utilities v9.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">lazy_list_generic</span></code></a> with all
non-zero coefficients is returned instead.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If there are fewer than <span class="math notranslate nohighlight">\(n\)</span> non-zero coefficients, but
this cannot be detected, this method will not return.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficients</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">doctest:...: DeprecationWarning: the method coefficients now only returns the non-zero coefficients. Use __getitem__ instead.</span>
<span class="go">See https://trac.sagemath.org/32367 for details.</span>
<span class="go">[1, 2, 3]</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficients</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[1, -1/6, 1/120, -1/5040, 1/362880]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficients</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[1, 1, -1/6, -1/2, -1/2]</span>

<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficients</span><span class="p">()</span>
<span class="go">lazy list [1, 1, -1/6, ...]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficients</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[1, 1, 1, 1, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.cos">
<span class="sig-name descname"><span class="pre">cos</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.cos" title="Permalink to this definition">#</a></dt>
<dd><p>Return the cosine of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 - 1/2*z^2 + 1/24*z^4 - 1/720*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">1/24*x^4 - 3/2*x^2*y^2 - x^2*y - 1/2*x^2 + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.cosh">
<span class="sig-name descname"><span class="pre">cosh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.cosh" title="Permalink to this definition">#</a></dt>
<dd><p>Return the cosh of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cosh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 + 1/2*z^2 + 1/24*z^4 + 1/720*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cosh</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">1 + 1/2*x^2 + x^2*y + (1/24*x^4+3/2*x^2*y^2) + (1/6*x^4*y+2*x^2*y^3)</span>
<span class="go"> + (1/720*x^6+5/12*x^4*y^2+5/2*x^2*y^4) + O(x,y)^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.cot">
<span class="sig-name descname"><span class="pre">cot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.cot" title="Permalink to this definition">#</a></dt>
<dd><p>Return the cotangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cot</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z^-1 - 1/3*z - 1/45*z^3 - 2/945*z^5 + O(z^6)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cot</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">x^-1 - 1 - 1/3*x - 1/3*x^2 - 16/45*x^3 - 2/5*x^4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.coth">
<span class="sig-name descname"><span class="pre">coth</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.coth" title="Permalink to this definition">#</a></dt>
<dd><p>Return the hyperbolic cotangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">coth</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z^-1 + 1/3*z - 1/45*z^3 + 2/945*z^5 + O(z^6)</span>

<span class="gp">sage: </span><span class="n">coth</span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">z^-1 - 1 + 4/3*z - 2/3*z^2 + 44/45*z^3 - 16/15*z^4 + 884/945*z^5 + O(z^6)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.csc">
<span class="sig-name descname"><span class="pre">csc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.csc" title="Permalink to this definition">#</a></dt>
<dd><p>Return the cosecant of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">csc</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z^-1 + 1/6*z + 7/360*z^3 + 31/15120*z^5 + O(z^6)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">csc</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">x^-1 - 1 + 1/6*x + 1/6*x^2 + 67/360*x^3 + 9/40*x^4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.csch">
<span class="sig-name descname"><span class="pre">csch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.csch" title="Permalink to this definition">#</a></dt>
<dd><p>Return the hyperbolic cosecant of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">csch</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z^-1 - 1/6*z + 7/360*z^3 - 31/15120*z^5 + O(z^6)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">csch</span><span class="p">(</span><span class="n">z</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">))</span>
<span class="go">z^-1 - 1 - 1/6*z - 1/6*z^2 - 53/360*z^3 - 13/120*z^4 - 787/15120*z^5 + O(z^6)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.define">
<span class="sig-name descname"><span class="pre">define</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.define" title="Permalink to this definition">#</a></dt>
<dd><p>Define an equation by <code class="docutils literal notranslate"><span class="pre">self</span> <span class="pre">=</span> <span class="pre">s</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">s</span></code> – a lazy series</p></li>
</ul>
<p>EXAMPLES:</p>
<p>We begin by constructing the Catalan numbers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">C</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span>
<span class="go">1 + z + 2*z^2 + 5*z^3 + 14*z^4 + 42*z^5 + 132*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">binomial</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">/</span> <span class="n">C</span><span class="p">[</span><span class="mi">1000</span><span class="p">]</span>
<span class="go">1001</span>
</pre></div>
</div>
<p>The Catalan numbers but with a valuation 1:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="n">B</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">z + z^2 + 2*z^3 + 5*z^4 + 14*z^5 + 42*z^6 + 132*z^7 + O(z^8)</span>
</pre></div>
</div>
<p>We can define multiple series that are linked:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">s</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span>
<span class="go">[1, 1, 3, 9, 34, 132, 546, 2327, 10191]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span>
<span class="go">[1, 1, 2, 7, 24, 95, 386, 1641, 7150]</span>
</pre></div>
</div>
<p>A bigger example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">B</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">C</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">C</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">A</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
<span class="go">[0, 0, 0, 0, 0, 1, 0, 0, 1, 2, 5, 4, 14, 10, 48]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
<span class="go">[0, 0, 0, 0, 1, 1, 2, 0, 5, 0, 14, 0, 44, 0, 138]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
<span class="go">[0, 0, 1, 0, 1, 0, 2, 0, 5, 0, 15, 0, 44, 2, 142]</span>
</pre></div>
</div>
<p>Counting binary trees:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="p">(</span><span class="n">s</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">s</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span>
<span class="go">[0, 1, 1, 1, 2, 3, 6, 11, 23]</span>
</pre></div>
</div>
<p>The <span class="math notranslate nohighlight">\(q\)</span>-Catalan numbers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">q</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">z</span><span class="o">*</span><span class="n">s</span><span class="o">*</span><span class="n">s</span><span class="p">(</span><span class="n">q</span><span class="o">*</span><span class="n">z</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">s</span>
<span class="go">1 + z + (q + 1)*z^2 + (q^3 + q^2 + 2*q + 1)*z^3</span>
<span class="go"> + (q^6 + q^5 + 2*q^4 + 3*q^3 + 3*q^2 + 3*q + 1)*z^4</span>
<span class="go"> + (q^10 + q^9 + 2*q^8 + 3*q^7 + 5*q^6 + 5*q^5 + 7*q^4 + 7*q^3 + 6*q^2 + 4*q + 1)*z^5</span>
<span class="go"> + (q^15 + q^14 + 2*q^13 + 3*q^12 + 5*q^11 + 7*q^10 + 9*q^9 + 11*q^8</span>
<span class="go">    + 14*q^7 + 16*q^6 + 16*q^5 + 17*q^4 + 14*q^3 + 10*q^2 + 5*q + 1)*z^6 + O(z^7)</span>
</pre></div>
</div>
<p>We count unlabeled ordered trees by total number of nodes
and number of internal nodes:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">q</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">leaf</span> <span class="o">=</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">internal_node</span> <span class="o">=</span> <span class="n">q</span> <span class="o">*</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">Q</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">leaf</span> <span class="o">+</span> <span class="n">internal_node</span> <span class="o">*</span> <span class="n">L</span><span class="p">(</span><span class="n">T</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
<span class="go">[0, 1, q, q^2 + q, q^3 + 3*q^2 + q, q^4 + 6*q^3 + 6*q^2 + q]</span>
</pre></div>
</div>
<p>Similarly for Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">*</span><span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">[:</span><span class="mi">16</span><span class="p">]</span>
<span class="go">[1, 1, 1, 2, 1, 3, 1, 4, 2, 3, 1, 8, 1, 3, 3]</span>
<span class="gp">sage: </span><span class="n">oeis</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>                                                       <span class="c1"># optional, internet</span>
<span class="go">0: A002033: Number of perfect partitions of n.</span>
<span class="go">1: A074206: Kalmár&#39;s [Kalmar&#39;s] problem: number of ordered factorizations of n.</span>
<span class="go">...</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">*</span><span class="n">F</span><span class="o">*</span><span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">[:</span><span class="mi">16</span><span class="p">]</span>
<span class="go">[1, 1, 1, 3, 1, 5, 1, 10, 3, 5, 1, 24, 1, 5, 5]</span>
</pre></div>
</div>
<p>We can compute the Frobenius character of unlabeled trees:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">m</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">s</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">X</span><span class="o">*</span><span class="n">E</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
<span class="go">[m[1],</span>
<span class="go"> 2*m[1, 1] + m[2],</span>
<span class="go"> 9*m[1, 1, 1] + 5*m[2, 1] + 2*m[3],</span>
<span class="go"> 64*m[1, 1, 1, 1] + 34*m[2, 1, 1] + 18*m[2, 2] + 13*m[3, 1] + 4*m[4],</span>
<span class="go"> 625*m[1, 1, 1, 1, 1] + 326*m[2, 1, 1, 1] + 171*m[2, 2, 1] + 119*m[3, 1, 1] + 63*m[3, 2] + 35*m[4, 1] + 9*m[5]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.euler">
<span class="sig-name descname"><span class="pre">euler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.euler" title="Permalink to this definition">#</a></dt>
<dd><p>Return the Euler function evaluated at <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>The <em>Euler function</em> is defined as</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\phi(z) = (z; z)_{\infty}
= \sum_{n=0}^{\infty} (-1)^n q^{(3n^2-n)/2}.\]</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="lazy_series_ring.html#sage.rings.lazy_series_ring.LazyLaurentSeriesRing.euler" title="sage.rings.lazy_series_ring.LazyLaurentSeriesRing.euler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sage.rings.lazy_series_ring.LazyLaurentSeriesRing.euler()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">q</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">euler</span><span class="p">()</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">q</span> <span class="o">+</span> <span class="n">q</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">euler</span><span class="p">()</span> <span class="o">-</span> <span class="n">phi</span><span class="p">(</span><span class="n">q</span> <span class="o">+</span> <span class="n">q</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">O(q^7)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.exp">
<span class="sig-name descname"><span class="pre">exp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.exp" title="Permalink to this definition">#</a></dt>
<dd><p>Return the exponential series of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Z</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">exp</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
<span class="go">1 + 1/(2^s) + 1/(3^s) + 3/2/4^s + 1/(5^s) + 2/6^s + 1/(7^s) + O(1/(8^s))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.hypergeometric">
<span class="sig-name descname"><span class="pre">hypergeometric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.hypergeometric" title="Permalink to this definition">#</a></dt>
<dd><p>Return the <span class="math notranslate nohighlight">\({}_{p}F_{q}\)</span>-hypergeometric function
<span class="math notranslate nohighlight">\(\,_pF_{q}\)</span> where <span class="math notranslate nohighlight">\((p,q)\)</span> is the parameterization of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code> – the first parameter of the hypergeometric function</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code> – the second parameter of the hypergeometric function</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">hypergeometric</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">1 + z + z^2 + z^3 + z^4 + z^5 + z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">hypergeometric</span><span class="p">([],</span> <span class="p">[])</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">hypergeometric</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">x^4 + 4*x^3*y + 6*x^2*y^2 + 4*x*y^3 + y^4 + x^3 + 3*x^2*y</span>
<span class="go"> + 3*x*y^2 + y^3 + x^2 + 2*x*y + y^2 + x + y + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.lift_to_precision">
<span class="sig-name descname"><span class="pre">lift_to_precision</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">absprec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.lift_to_precision" title="Permalink to this definition">#</a></dt>
<dd><p>Return another element of the same parent with absolute
precision at least <code class="docutils literal notranslate"><span class="pre">absprec</span></code>, congruent to this element
modulo the precision of this element.</p>
<p>Since the precision of a lazy series is infinity, this method
returns the series itself, and the argument is ignored.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">default_prec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">R</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">t</span><span class="p">)</span><span class="o">^</span><span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + ((1+t+O(t^2))*z) + ((1+2*t+O(t^2))*z^2)</span>
<span class="go">  + ((1+3*t+O(t^2))*z^3)</span>
<span class="go">  + ((1+4*t+O(t^2))*z^4)</span>
<span class="go">  + ((1+5*t+O(t^2))*z^5)</span>
<span class="go">  + ((1+6*t+O(t^2))*z^6) + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">lift_to_precision</span><span class="p">()</span>
<span class="go">1 + ((1+t+O(t^2))*z) + ((1+2*t+O(t^2))*z^2)</span>
<span class="go">  + ((1+3*t+O(t^2))*z^3)</span>
<span class="go">  + ((1+4*t+O(t^2))*z^4)</span>
<span class="go">  + ((1+5*t+O(t^2))*z^5)</span>
<span class="go">  + ((1+6*t+O(t^2))*z^6) + O(z^7)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.log" title="Permalink to this definition">#</a></dt>
<dd><p>Return the series for the natural logarithm of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Z</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">log</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
<span class="go">1/(2^s) + 1/(3^s) + 1/2/4^s + 1/(5^s) + 1/(7^s) + O(1/(8^s))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.map_coefficients">
<span class="sig-name descname"><span class="pre">map_coefficients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.map_coefficients" title="Permalink to this definition">#</a></dt>
<dd><p>Return the series with <code class="docutils literal notranslate"><span class="pre">f</span></code> applied to each nonzero
coefficient of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">func</span></code> – function that takes in a coefficient and returns
a new coefficient</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">m</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">map_coefficients</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2*z + 3*z^2 + 4*z^3 + 5*z^4 + 6*z^5 + 7*z^6 + O(z^7)</span>
</pre></div>
</div>
<p>Similarly for Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span> <span class="n">s</span>
<span class="go">1/(2^z) + 2/3^z + 3/4^z + 4/5^z + 5/6^z + 6/7^z + O(1/(8^z))</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">map_coefficients</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2/2^z + 3/3^z + 4/4^z + 5/5^z + 6/6^z + 7/7^z + O(1/(8^z))</span>
</pre></div>
</div>
<p>Similarly for multivariate power series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">));</span> <span class="n">f</span>
<span class="go">1 + (x+y) + (x^2+2*x*y+y^2) + (x^3+3*x^2*y+3*x*y^2+y^3)</span>
<span class="go"> + (x^4+4*x^3*y+6*x^2*y^2+4*x*y^3+y^4)</span>
<span class="go"> + (x^5+5*x^4*y+10*x^3*y^2+10*x^2*y^3+5*x*y^4+y^5)</span>
<span class="go"> + (x^6+6*x^5*y+15*x^4*y^2+20*x^3*y^3+15*x^2*y^4+6*x*y^5+y^6)</span>
<span class="go"> + O(x,y)^7</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">map_coefficients</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1 + (x+y) + (x^2+4*x*y+y^2) + (x^3+9*x^2*y+9*x*y^2+y^3)</span>
<span class="go"> + (x^4+16*x^3*y+36*x^2*y^2+16*x*y^3+y^4)</span>
<span class="go"> + (x^5+25*x^4*y+100*x^3*y^2+100*x^2*y^3+25*x*y^4+y^5)</span>
<span class="go"> + (x^6+36*x^5*y+225*x^4*y^2+400*x^3*y^3+225*x^2*y^4+36*x*y^5+y^6)</span>
<span class="go"> + O(x,y)^7</span>
</pre></div>
</div>
<p>Similarly for lazy symmetric functions:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">p</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">L</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span> <span class="n">f</span>
<span class="go">p[] + 2*p[1] + (4*p[1,1]) + (8*p[1,1,1]) + (16*p[1,1,1,1])</span>
<span class="go"> + (32*p[1,1,1,1,1]) + (64*p[1,1,1,1,1,1]) + O^7</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">map_coefficients</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">log</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">p[1] + (2*p[1,1]) + (3*p[1,1,1]) + (4*p[1,1,1,1])</span>
<span class="go"> + (5*p[1,1,1,1,1]) + (6*p[1,1,1,1,1,1]) + O^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.prec">
<span class="sig-name descname"><span class="pre">prec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.prec" title="Permalink to this definition">#</a></dt>
<dd><p>Return the precision of the series, which is infinity.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">prec</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.q_pochhammer">
<span class="sig-name descname"><span class="pre">q_pochhammer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.q_pochhammer" title="Permalink to this definition">#</a></dt>
<dd><p>Return the infinite <code class="docutils literal notranslate"><span class="pre">q</span></code>-Pochhammer symbol <span class="math notranslate nohighlight">\((a; q)_{\infty}\)</span>,
where <span class="math notranslate nohighlight">\(a\)</span> is <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This is also one version of the quantum dilogarithm or
the <span class="math notranslate nohighlight">\(q\)</span>-Exponential function.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="lazy_series_ring.html#sage.rings.lazy_series_ring.LazyLaurentSeriesRing.q_pochhammer" title="sage.rings.lazy_series_ring.LazyLaurentSeriesRing.q_pochhammer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sage.rings.lazy_series_ring.LazyLaurentSeriesRing.q_pochhammer()</span></code></a></p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code> – (default: <span class="math notranslate nohighlight">\(q \in \QQ(q)\)</span>) the parameter <span class="math notranslate nohighlight">\(q\)</span></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;q&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fraction_field</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">parent</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">qp</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">q_pochhammer</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">q_pochhammer</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">-</span> <span class="n">qp</span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">O(z^7)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.sec">
<span class="sig-name descname"><span class="pre">sec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.sec" title="Permalink to this definition">#</a></dt>
<dd><p>Return the secant of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sec</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 + 1/2*z^2 + 5/24*z^4 + 61/720*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sec</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">5/24*x^4 + 3/2*x^2*y^2 + x^2*y + 1/2*x^2 + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.sech">
<span class="sig-name descname"><span class="pre">sech</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.sech" title="Permalink to this definition">#</a></dt>
<dd><p>Return the hyperbolic secant of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sech</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 - 1/2*z^2 + 5/24*z^4 - 61/720*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sech</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">1 + (-1/2*x^2) + (-x^2*y) + (5/24*x^4-3/2*x^2*y^2) + (5/6*x^4*y-2*x^2*y^3)</span>
<span class="go"> + (-61/720*x^6+25/12*x^4*y^2-5/2*x^2*y^4) + O(x,y)^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.set" title="Permalink to this definition">#</a></dt>
<dd><p>Define an equation by <code class="docutils literal notranslate"><span class="pre">self</span> <span class="pre">=</span> <span class="pre">s</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">s</span></code> – a lazy series</p></li>
</ul>
<p>EXAMPLES:</p>
<p>We begin by constructing the Catalan numbers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">C</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span>
<span class="go">1 + z + 2*z^2 + 5*z^3 + 14*z^4 + 42*z^5 + 132*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">binomial</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">/</span> <span class="n">C</span><span class="p">[</span><span class="mi">1000</span><span class="p">]</span>
<span class="go">1001</span>
</pre></div>
</div>
<p>The Catalan numbers but with a valuation 1:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="n">B</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">z + z^2 + 2*z^3 + 5*z^4 + 14*z^5 + 42*z^6 + 132*z^7 + O(z^8)</span>
</pre></div>
</div>
<p>We can define multiple series that are linked:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">s</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span>
<span class="go">[1, 1, 3, 9, 34, 132, 546, 2327, 10191]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span>
<span class="go">[1, 1, 2, 7, 24, 95, 386, 1641, 7150]</span>
</pre></div>
</div>
<p>A bigger example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">B</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">C</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">C</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">A</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
<span class="go">[0, 0, 0, 0, 0, 1, 0, 0, 1, 2, 5, 4, 14, 10, 48]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
<span class="go">[0, 0, 0, 0, 1, 1, 2, 0, 5, 0, 14, 0, 44, 0, 138]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span>
<span class="go">[0, 0, 1, 0, 1, 0, 2, 0, 5, 0, 15, 0, 44, 2, 142]</span>
</pre></div>
</div>
<p>Counting binary trees:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">z</span> <span class="o">+</span> <span class="p">(</span><span class="n">s</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">s</span><span class="p">(</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span>
<span class="go">[0, 1, 1, 1, 2, 3, 6, 11, 23]</span>
</pre></div>
</div>
<p>The <span class="math notranslate nohighlight">\(q\)</span>-Catalan numbers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">q</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">z</span><span class="o">*</span><span class="n">s</span><span class="o">*</span><span class="n">s</span><span class="p">(</span><span class="n">q</span><span class="o">*</span><span class="n">z</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">s</span>
<span class="go">1 + z + (q + 1)*z^2 + (q^3 + q^2 + 2*q + 1)*z^3</span>
<span class="go"> + (q^6 + q^5 + 2*q^4 + 3*q^3 + 3*q^2 + 3*q + 1)*z^4</span>
<span class="go"> + (q^10 + q^9 + 2*q^8 + 3*q^7 + 5*q^6 + 5*q^5 + 7*q^4 + 7*q^3 + 6*q^2 + 4*q + 1)*z^5</span>
<span class="go"> + (q^15 + q^14 + 2*q^13 + 3*q^12 + 5*q^11 + 7*q^10 + 9*q^9 + 11*q^8</span>
<span class="go">    + 14*q^7 + 16*q^6 + 16*q^5 + 17*q^4 + 14*q^3 + 10*q^2 + 5*q + 1)*z^6 + O(z^7)</span>
</pre></div>
</div>
<p>We count unlabeled ordered trees by total number of nodes
and number of internal nodes:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">q</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">leaf</span> <span class="o">=</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">internal_node</span> <span class="o">=</span> <span class="n">q</span> <span class="o">*</span> <span class="n">z</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">Q</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">leaf</span> <span class="o">+</span> <span class="n">internal_node</span> <span class="o">*</span> <span class="n">L</span><span class="p">(</span><span class="n">T</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>
<span class="go">[0, 1, q, q^2 + q, q^3 + 3*q^2 + q, q^4 + 6*q^3 + 6*q^2 + q]</span>
</pre></div>
</div>
<p>Similarly for Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">*</span><span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">[:</span><span class="mi">16</span><span class="p">]</span>
<span class="go">[1, 1, 1, 2, 1, 3, 1, 4, 2, 3, 1, 8, 1, 3, 3]</span>
<span class="gp">sage: </span><span class="n">oeis</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>                                                       <span class="c1"># optional, internet</span>
<span class="go">0: A002033: Number of perfect partitions of n.</span>
<span class="go">1: A074206: Kalmár&#39;s [Kalmar&#39;s] problem: number of ordered factorizations of n.</span>
<span class="go">...</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">g</span><span class="o">*</span><span class="n">F</span><span class="o">*</span><span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">[:</span><span class="mi">16</span><span class="p">]</span>
<span class="go">[1, 1, 1, 3, 1, 5, 1, 10, 3, 5, 1, 24, 1, 5, 5]</span>
</pre></div>
</div>
<p>We can compute the Frobenius character of unlabeled trees:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">m</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">s</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">undefined</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="n">X</span><span class="o">*</span><span class="n">E</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>
<span class="go">[m[1],</span>
<span class="go"> 2*m[1, 1] + m[2],</span>
<span class="go"> 9*m[1, 1, 1] + 5*m[2, 1] + 2*m[3],</span>
<span class="go"> 64*m[1, 1, 1, 1] + 34*m[2, 1, 1] + 18*m[2, 2] + 13*m[3, 1] + 4*m[4],</span>
<span class="go"> 625*m[1, 1, 1, 1, 1] + 326*m[2, 1, 1, 1] + 171*m[2, 2, 1] + 119*m[3, 1, 1] + 63*m[3, 2] + 35*m[4, 1] + 9*m[5]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.shift">
<span class="sig-name descname"><span class="pre">shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.shift" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self</span></code> with the indices shifted by <code class="docutils literal notranslate"><span class="pre">n</span></code>.</p>
<p>For example, a Laurent series is multiplied by the power <span class="math notranslate nohighlight">\(z^n\)</span>,
where <span class="math notranslate nohighlight">\(z\)</span> is the variable of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 - 2*z + 4*z^2 - 8*z^3 + 16*z^4 - 32*z^5 + 64*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">z^3 - 2*z^4 + 4*z^5 - 8*z^6 + 16*z^7 - 32*z^8 + 64*z^9 + O(z^10)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="mi">3</span>  <span class="c1"># shorthand</span>
<span class="go">z^-3 - 2*z^-2 + 4*z^-1 - 8 + 16*z - 32*z^2 + 64*z^3 + O(z^4)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z</span><span class="o">^-</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">z^2 + 3*z^5 + z^7</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="mi">2</span>
<span class="go">2 + 3*z^2 + z^5 + z^6 + z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">D</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">f</span>
<span class="go">1/(2^t) + 2/3^t</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1/(5^t) + 2/6^t</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.sin">
<span class="sig-name descname"><span class="pre">sin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.sin" title="Permalink to this definition">#</a></dt>
<dd><p>Return the sine of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z - 1/6*z^3 + 1/120*z^5 - 1/5040*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: can only compose with a positive valuation series</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">-1/6*x^3 + x*y^2 + x*y + x</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.sinh">
<span class="sig-name descname"><span class="pre">sinh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.sinh" title="Permalink to this definition">#</a></dt>
<dd><p>Return the sinh of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sinh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z + 1/6*z^3 + 1/120*z^5 + 1/5040*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sinh</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">x + x*y + (1/6*x^3+x*y^2) + (1/2*x^3*y+x*y^3)</span>
<span class="go"> + (1/120*x^5+x^3*y^2+x*y^4) + (1/24*x^5*y+5/3*x^3*y^3+x*y^5)</span>
<span class="go"> + (1/5040*x^7+1/8*x^5*y^2+5/2*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.sqrt">
<span class="sig-name descname"><span class="pre">sqrt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.sqrt" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self^(1/2)</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">z</span><span class="p">)</span>
<span class="go">1 + 1/2*z - 1/8*z^2 + 1/16*z^3 - 5/128*z^4 + 7/256*z^5 - 21/1024*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">1 + 1/2*x + (-1/8*x^2+1/2*x*y) + (1/16*x^3-1/4*x^2*y+1/2*x*y^2)</span>
<span class="go"> + (-5/128*x^4+3/16*x^3*y-3/8*x^2*y^2+1/2*x*y^3)</span>
<span class="go"> + (7/256*x^5-5/32*x^4*y+3/8*x^3*y^2-1/2*x^2*y^3+1/2*x*y^4)</span>
<span class="go"> + (-21/1024*x^6+35/256*x^5*y-25/64*x^4*y^2+5/8*x^3*y^3-5/8*x^2*y^4+1/2*x*y^5)</span>
<span class="go"> + O(x,y)^7</span>
</pre></div>
</div>
<p>This also works for Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">SR</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Z</span> <span class="o">=</span> <span class="n">D</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">1 + 1/2/2^s + 1/2/3^s + 3/8/4^s + 1/2/5^s + 1/4/6^s + 1/2/7^s + O(1/(8^s))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">*</span><span class="n">f</span> <span class="o">-</span> <span class="n">Z</span>
<span class="go">O(1/(8^s))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.tan">
<span class="sig-name descname"><span class="pre">tan</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.tan" title="Permalink to this definition">#</a></dt>
<dd><p>Return the tangent of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tan</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z + 1/3*z^3 + 2/15*z^5 + 17/315*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tan</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">polynomial</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">2/15*x^5 + 2*x^3*y^2 + x*y^4 + x^3*y + x*y^3 + 1/3*x^3 + x*y^2 + x*y + x</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.tanh">
<span class="sig-name descname"><span class="pre">tanh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.tanh" title="Permalink to this definition">#</a></dt>
<dd><p>Return the tanh of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tanh</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">z - 1/3*z^3 + 2/15*z^5 - 17/315*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tanh</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">))</span>
<span class="go">x + x*y + (-1/3*x^3+x*y^2) + (-x^3*y+x*y^3) + (2/15*x^5-2*x^3*y^2+x*y^4)</span>
<span class="go"> + (2/3*x^5*y-10/3*x^3*y^3+x*y^5) + (-17/315*x^7+2*x^5*y^2-5*x^3*y^4+x*y^6) + O(x,y)^8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyModuleElement.truncate">
<span class="sig-name descname"><span class="pre">truncate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyModuleElement.truncate" title="Permalink to this definition">#</a></dt>
<dd><p>Return this series with its terms of degree &gt;= <code class="docutils literal notranslate"><span class="pre">d</span></code> truncated.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code> – integer; the degree from which the series is truncated</p></li>
</ul>
<p>EXAMPLES:</p>
<p>Dense implementation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">alpha</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">alpha</span>
<span class="go">1 + z + z^2 + O(z^3)</span>
<span class="gp">sage: </span><span class="n">beta</span> <span class="o">=</span> <span class="n">alpha</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">beta</span>
<span class="go">1 + z + z^2 + z^3 + z^4</span>
<span class="gp">sage: </span><span class="n">alpha</span> <span class="o">-</span> <span class="n">beta</span>
<span class="go">z^5 + z^6 + z^7 + O(z^8)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">M</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">z + 2*z^2 + 3*z^3</span>
</pre></div>
</div>
<p>Sparse Implementation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span> <span class="n">M</span>
<span class="go">z + 2*z^2 + 3*z^3 + 4*z^4 + 5*z^5 + 6*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">z + 2*z^2 + 3*z^3</span>
</pre></div>
</div>
<p>Series which are known to be exact can also be truncated:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">z</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">4</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">truncate</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">z + z^2 + z^3</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazyPowerSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.lazy_series.LazyCauchyProductSeries" title="sage.rings.lazy_series.LazyCauchyProductSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazyCauchyProductSeries</span></code></a></p>
<p>A Taylor series where the coefficients are computed lazily.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">);</span> <span class="n">f</span>
<span class="go">1 + x^2 + (-y^3) + x^4 + (-2*x^2*y^3) + (x^6+y^6) + O(x,y)^7</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">default_prec</span><span class="o">=</span><span class="mi">101</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">);</span> <span class="n">f</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span> <span class="o">-</span> <span class="n">g</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Lazy Taylor series is picklable:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">1 + x^2 + (-y^3) + x^4 + (-2*x^2*y^3) + (x^6+y^6) + O(x,y)^7</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">==</span> <span class="n">f</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries.compose">
<span class="sig-name descname"><span class="pre">compose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">check</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">g</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries.compose" title="Permalink to this definition">#</a></dt>
<dd><p>Return the composition of <code class="docutils literal notranslate"><span class="pre">self</span></code> with <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<p>The arity of <code class="docutils literal notranslate"><span class="pre">self</span></code> must be equal to the number of
arguments provided.</p>
<p>Given a Taylor series <span class="math notranslate nohighlight">\(f\)</span> of arity <span class="math notranslate nohighlight">\(n\)</span> and a tuple of Taylor
series <span class="math notranslate nohighlight">\(g = (g_1,\dots, g_n)\)</span> over the same base ring, the
composition <span class="math notranslate nohighlight">\(f \circ g\)</span> is defined if and only if for each
<span class="math notranslate nohighlight">\(1\leq k\leq n\)</span>:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(g_i\)</span> is zero, or</p></li>
<li><p>setting all variables except the <span class="math notranslate nohighlight">\(i`th in `f\)</span> to zero
yields a polynomial, or</p></li>
<li><p><span class="math notranslate nohighlight">\(val(g_i) &gt; 0\)</span>.</p></li>
</ul>
<p>If <span class="math notranslate nohighlight">\(f\)</span> is a univariate ‘exact’ series, we can check whether
<span class="math notranslate nohighlight">\(f\)</span> is a actually a polynomial.  However, if <span class="math notranslate nohighlight">\(f\)</span> is a
multivariate series, we have no way to test whether setting
all but one variable of <span class="math notranslate nohighlight">\(f\)</span> to zero yields a polynomial,
except if <span class="math notranslate nohighlight">\(f\)</span> itself is ‘exact’ and therefore a polynomial.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code> – other series, all can be coerced into the same parent</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g1</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g2</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">p</span><span class="p">(</span><span class="n">g1</span><span class="p">,</span> <span class="n">g2</span><span class="p">)</span> <span class="o">-</span> <span class="n">g1</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">g2</span> <span class="o">-</span> <span class="mi">1</span>
<span class="go">O(x,y,z)^7</span>
</pre></div>
</div>
<p>The number of mappings from a set with <span class="math notranslate nohighlight">\(m\)</span> elements to a set
with <span class="math notranslate nohighlight">\(n\)</span> elements:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Ea</span> <span class="o">=</span> <span class="n">M</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">Ex</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">n</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Ea</span><span class="p">(</span><span class="n">Ex</span><span class="o">*</span><span class="n">y</span><span class="p">)[</span><span class="mi">5</span><span class="p">]</span>
<span class="go">1/24*x^4*y + 2/3*x^3*y^2 + 3/4*x^2*y^3 + 1/6*x*y^4 + 1/120*y^5</span>
</pre></div>
</div>
<p>So, there are <span class="math notranslate nohighlight">\(3! 2! 2/3 = 8\)</span> mappings from a three element
set to a two element set.</p>
<p>We perform the composition with a lazy Laurent series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">N</span><span class="o">.&lt;</span><span class="n">w</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyLaurentSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f1</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">w</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f2</span> <span class="o">=</span> <span class="n">cot</span><span class="p">(</span><span class="n">w</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">w</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">p</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">)</span>
<span class="go">w^-1 + 1 + 5/3*w + 8/3*w^2 + 164/45*w^3 + 23/5*w^4 + 5227/945*w^5 + O(w^6)</span>
</pre></div>
</div>
<p>We perform the composition with a lazy Dirichlet series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">LazyDirichletSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s2">&quot;s&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">D</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="n">g</span>
<span class="go">1/(2^s) + 1/(3^s) + 1/(4^s) + O(1/(5^s))</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="o">*</span><span class="n">z</span><span class="p">);</span> <span class="n">f</span>
<span class="go">1 + x + (x^2+y*z) + (x^3+2*x*y*z) + (x^4+3*x^2*y*z+y^2*z^2)</span>
<span class="go"> + (x^5+4*x^3*y*z+3*x*y^2*z^2)</span>
<span class="go"> + (x^6+5*x^4*y*z+6*x^2*y^2*z^2+y^3*z^3)</span>
<span class="go"> + O(x,y,z)^7</span>
<span class="gp">sage: </span><span class="n">fog</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="p">);</span> <span class="n">fog</span>
<span class="go">1 + 1/(2^s) + 1/(3^s) + 3/4^s + 1/(5^s) + 5/6^s + O(1/(7^s))</span>
<span class="gp">sage: </span><span class="n">fg</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">g</span> <span class="o">-</span> <span class="n">g</span><span class="o">*</span><span class="n">g</span><span class="p">);</span> <span class="n">fg</span>
<span class="go">1 + 1/(2^s) + 1/(3^s) + 3/4^s + 1/(5^s) + 5/6^s + 1/(7^s) + O(1/(8^s))</span>
<span class="gp">sage: </span><span class="n">fog</span> <span class="o">-</span> <span class="n">fg</span>
<span class="go">O(1/(7^s))</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">1 + 2/2^s + 2/3^s + 6/4^s + 2/5^s + 10/6^s + 2/7^s + O(1/(8^s))</span>
<span class="gp">sage: </span><span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">g</span><span class="p">)</span>
<span class="go">1 + 2/2^s + 2/3^s + 6/4^s + 2/5^s + 10/6^s + 2/7^s + O(1/(8^s))</span>
</pre></div>
</div>
<p>The output parent is always the common parent between the base ring
of <span class="math notranslate nohighlight">\(f\)</span> and the parent of <span class="math notranslate nohighlight">\(g\)</span> or extended to the corresponding
lazy series:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">v</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LaurentPolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
<span class="go">Multivariate Polynomial Ring in a, b, c over Rational Field</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="n">CC</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">a</span><span class="p">))</span>
<span class="go">Multivariate Polynomial Ring in a, b, c over Complex Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">);</span> <span class="n">f</span>
<span class="go">1 + (x+y) + (x^2+2*x*y+y^2) + (x^3+3*x^2*y+3*x*y^2+y^3)</span>
<span class="go"> + (x^4+4*x^3*y+6*x^2*y^2+4*x*y^3+y^4)</span>
<span class="go"> + (x^5+5*x^4*y+10*x^3*y^2+10*x^2*y^3+5*x*y^4+y^5)</span>
<span class="go"> + (x^6+6*x^5*y+15*x^4*y^2+20*x^3*y^3+15*x^2*y^4+6*x*y^5+y^6)</span>
<span class="go"> + O(x,y)^7</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="o">*</span><span class="n">c</span><span class="p">)</span>
<span class="go">1 + (a^2+b*c) + (a^4+2*a^2*b*c+b^2*c^2) + (a^6+3*a^4*b*c+3*a^2*b^2*c^2+b^3*c^3) + O(a,b,c)^7</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">v</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1 + v + 2*v^2 + 3*v^3 + 5*v^4 + 8*v^5 + 13*v^6 + O(v^7)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
<span class="go">1 + 2*z + 5*z^2 + 12*z^3 + 29*z^4 + 70*z^5 + 169*z^6 + O(z^7)</span>
<span class="gp">sage: </span><span class="n">three</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="mi">3</span><span class="p">)(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span> <span class="n">three</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">three</span><span class="p">)</span>
<span class="go">Multivariate Polynomial Ring in a, b, c over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries.compositional_inverse">
<span class="sig-name descname"><span class="pre">compositional_inverse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries.compositional_inverse" title="Permalink to this definition">#</a></dt>
<dd><p>Return the compositional inverse of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Given a Taylor series <span class="math notranslate nohighlight">\(f\)</span>, the compositional inverse is a
Laurent series <span class="math notranslate nohighlight">\(g\)</span> over the same base ring, such that
<span class="math notranslate nohighlight">\((f \circ g)(z) = f(g(z)) = z\)</span>.</p>
<p>The compositional inverse exists if and only if:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(val(f) = 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(f = a + b z\)</span> with <span class="math notranslate nohighlight">\(a, b \neq 0\)</span></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">1/2*z</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">z</span><span class="o">-</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">z + z^2 + 2*z^3 + 5*z^4 + 14*z^5 + 42*z^6 + 132*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">constant</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">-z - z^2 - z^3 + O(z^4)</span>

<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">z - z^2 + z^3 - z^4 + z^5 - z^6 + z^7 + O(z^8)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries.compute_coefficients">
<span class="sig-name descname"><span class="pre">compute_coefficients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries.compute_coefficients" title="Permalink to this definition">#</a></dt>
<dd><p>Computes all the coefficients of self up to i.</p>
<p>This method is deprecated, it has no effect anymore.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries.derivative">
<span class="sig-name descname"><span class="pre">derivative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries.derivative" title="Permalink to this definition">#</a></dt>
<dd><p>Return the derivative of the Taylor series.</p>
<p>Multiple variables and iteration counts may be supplied; see
the documentation of
<a class="reference external" href="../../../calculus/sage/calculus/functional.html#sage.calculus.functional.derivative" title="(in Symbolic Calculus v9.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">sage.calculus.functional.derivative()</span></code></a> function for
details.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">derivative</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">z</span><span class="o">+</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">))</span><span class="o">.</span><span class="n">derivative</span><span class="p">()</span>
<span class="go">1 + 2*z + 3*z^2 + 4*z^3 + 5*z^4 + 6*z^5 + 7*z^6 + O(z^7)</span>

<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">q</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">q</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">);</span> <span class="n">f</span>
<span class="go">1 + (q*x-y) + (q^2*x^2+(-2*q)*x*y+y^2)</span>
<span class="go"> + (q^3*x^3+(-3*q^2)*x^2*y+3*q*x*y^2-y^3)</span>
<span class="go"> + (q^4*x^4+(-4*q^3)*x^3*y+6*q^2*x^2*y^2+(-4*q)*x*y^3+y^4)</span>
<span class="go"> + (q^5*x^5+(-5*q^4)*x^4*y+10*q^3*x^3*y^2+(-10*q^2)*x^2*y^3+5*q*x*y^4-y^5)</span>
<span class="go"> + (q^6*x^6+(-6*q^5)*x^5*y+15*q^4*x^4*y^2+(-20*q^3)*x^3*y^3+15*q^2*x^2*y^4+(-6*q)*x*y^5+y^6)</span>
<span class="go"> + O(x,y)^7</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">derivative</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">x + (2*q*x^2+(-2)*x*y) + (3*q^2*x^3+(-6*q)*x^2*y+3*x*y^2)</span>
<span class="go"> + (4*q^3*x^4+(-12*q^2)*x^3*y+12*q*x^2*y^2+(-4)*x*y^3)</span>
<span class="go"> + (5*q^4*x^5+(-20*q^3)*x^4*y+30*q^2*x^3*y^2+(-20*q)*x^2*y^3+5*x*y^4)</span>
<span class="go"> + (6*q^5*x^6+(-30*q^4)*x^5*y+60*q^3*x^4*y^2+(-60*q^2)*x^3*y^3+30*q*x^2*y^4+(-6)*x*y^5)</span>
<span class="go"> + O(x,y)^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries.exponential">
<span class="sig-name descname"><span class="pre">exponential</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries.exponential" title="Permalink to this definition">#</a></dt>
<dd><p>Return the exponential series of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This method is deprecated, use <code class="xref py py-meth docutils literal notranslate"><span class="pre">exp()</span></code> instead.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries.is_unit">
<span class="sig-name descname"><span class="pre">is_unit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries.is_unit" title="Permalink to this definition">#</a></dt>
<dd><p>Return whether this element is a unit in the ring.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries.polynomial">
<span class="sig-name descname"><span class="pre">polynomial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degree</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries.polynomial" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self</span></code> as a polynomial if <code class="docutils literal notranslate"><span class="pre">self</span></code> is actually so.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">degree</span></code> – <code class="docutils literal notranslate"><span class="pre">None</span></code> or an integer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">names</span></code> – names of the variables; if it is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the name of
the variables of the series is used</p></li>
</ul>
<p>OUTPUT:</p>
<p>If <code class="docutils literal notranslate"><span class="pre">degree</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, the terms of the series of
degree greater than <code class="docutils literal notranslate"><span class="pre">degree</span></code> are first truncated.  If
<code class="docutils literal notranslate"><span class="pre">degree</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and the series is not a polynomial
polynomial, a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span> <span class="n">f</span>
<span class="go">2 + (-x) + (x^2+x*y)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">polynomial</span><span class="p">()</span>
<span class="go">x^2 + x*y - x + 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries.revert">
<span class="sig-name descname"><span class="pre">revert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries.revert" title="Permalink to this definition">#</a></dt>
<dd><p>Return the compositional inverse of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Given a Taylor series <span class="math notranslate nohighlight">\(f\)</span>, the compositional inverse is a
Laurent series <span class="math notranslate nohighlight">\(g\)</span> over the same base ring, such that
<span class="math notranslate nohighlight">\((f \circ g)(z) = f(g(z)) = z\)</span>.</p>
<p>The compositional inverse exists if and only if:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(val(f) = 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(f = a + b z\)</span> with <span class="math notranslate nohighlight">\(a, b \neq 0\)</span></p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">1/2*z</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">z</span><span class="o">-</span><span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">z + z^2 + 2*z^3 + 5*z^4 + 14*z^5 + 42*z^6 + 132*z^7 + O(z^8)</span>

<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">constant</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">-z - z^2 - z^3 + O(z^4)</span>

<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
<span class="go">z - z^2 + z^3 - z^4 + z^5 - z^6 + z^7 + O(z^8)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries_gcd_mixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazyPowerSeries_gcd_mixin</span></span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries_gcd_mixin" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A lazy power series that also implements the GCD algorithm.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries_gcd_mixin.gcd">
<span class="sig-name descname"><span class="pre">gcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries_gcd_mixin.gcd" title="Permalink to this definition">#</a></dt>
<dd><p>Return the greatest common divisor of <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">other</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">16</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">22</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">8</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">x^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazyPowerSeries_gcd_mixin.xgcd">
<span class="sig-name descname"><span class="pre">xgcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazyPowerSeries_gcd_mixin.xgcd" title="Permalink to this definition">#</a></dt>
<dd><p>Return the extended gcd of <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">f</span></code>.</p>
<p>OUTPUT:</p>
<p>A triple <code class="docutils literal notranslate"><span class="pre">(g,</span> <span class="pre">s,</span> <span class="pre">t)</span></code> such that <code class="docutils literal notranslate"><span class="pre">g</span></code> is the gcd of <code class="docutils literal notranslate"><span class="pre">self</span></code>
and <code class="docutils literal notranslate"><span class="pre">f</span></code>, and <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">t</span></code> are cofactors satisfying the
Bezout identity</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[g = s \cdot \mathrm{self} + t \cdot f.\]</div>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">16</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">22</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">8</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">xgcd</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">x^3</span>
<span class="gp">sage: </span><span class="n">s</span>
<span class="go">1/22 - 41/242*x^2 - 8/121*x^3 + 120/1331*x^4 + 1205/5324*x^5 + 316/14641*x^6 + O(x^7)</span>
<span class="gp">sage: </span><span class="n">t</span>
<span class="go">1/22 - 41/242*x^2 - 8/121*x^3 + 120/1331*x^4 + 1205/5324*x^5 + 316/14641*x^6 + O(x^7)</span>

<span class="gp">sage: </span><span class="n">LazyPowerSeriesRing</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">halting_precision</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>  <span class="c1"># verify up to degree 20</span>

<span class="gp">sage: </span><span class="n">g</span> <span class="o">==</span> <span class="n">s</span> <span class="o">*</span> <span class="n">a</span> <span class="o">+</span> <span class="n">t</span> <span class="o">*</span> <span class="n">b</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">16</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">16</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">8</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">xgcd</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">x^5</span>
<span class="gp">sage: </span><span class="n">s</span>
<span class="go">1/16 - 1/16*x - 3/16*x^2 + 1/8*x^3 - 17/256*x^4 + 9/128*x^5 + 1/128*x^6 + O(x^7)</span>
<span class="gp">sage: </span><span class="n">t</span>
<span class="go">1/16*x - 1/16*x^2 - 3/16*x^3 + 1/8*x^4 - 17/256*x^5 + 9/128*x^6 + 1/128*x^7 + O(x^8)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">==</span> <span class="n">s</span> <span class="o">*</span> <span class="n">a</span> <span class="o">+</span> <span class="n">t</span> <span class="o">*</span> <span class="n">b</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LazyPowerSeriesRing</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">a</span>
<span class="go">x^3 + x^5 + x^7 + x^9 + O(x^10)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">b</span>
<span class="go">x^3 + x^6 + x^7 + O(x^10)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">xgcd</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span>
<span class="go">x^3</span>
<span class="gp">sage: </span><span class="n">s</span>
<span class="go">1 + x + x^3 + x^4 + x^5 + O(x^7)</span>
<span class="gp">sage: </span><span class="n">t</span>
<span class="go">x + x^2 + x^4 + x^5 + x^6 + O(x^8)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">==</span> <span class="n">s</span> <span class="o">*</span> <span class="n">a</span> <span class="o">+</span> <span class="n">t</span> <span class="o">*</span> <span class="n">b</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">LazyPowerSeriesRing</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">_reset</span><span class="p">()</span>  <span class="c1"># reset the options</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazySymmetricFunction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.rings.lazy_series.</span></span><span class="sig-name descname"><span class="pre">LazySymmetricFunction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazySymmetricFunction" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.lazy_series.LazyCompletionGradedAlgebraElement" title="sage.rings.lazy_series.LazyCompletionGradedAlgebraElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">LazyCompletionGradedAlgebraElement</span></code></a></p>
<p>A symmetric function where each degree is computed lazily.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span><span class="o">.</span><span class="n">s</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazySymmetricFunction.arithmetic_product">
<span class="sig-name descname"><span class="pre">arithmetic_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">check</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazySymmetricFunction.arithmetic_product" title="Permalink to this definition">#</a></dt>
<dd><p>Return the arithmetic product of <code class="docutils literal notranslate"><span class="pre">self</span></code> with <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<p>The arithmetic product is a binary operation <span class="math notranslate nohighlight">\(\boxdot\)</span> on the
ring of symmetric functions which is bilinear in its two
arguments and satisfies</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[p_{\lambda} \boxdot p_{\mu} = \prod\limits_{i \geq 1, j \geq 1}
p_{\mathrm{lcm}(\lambda_i, \mu_j)}^{\mathrm{gcd}(\lambda_i, \mu_j)}\]</div>
</div>
<p>for any two partitions <span class="math notranslate nohighlight">\(\lambda = (\lambda_1, \lambda_2, \lambda_3,
\dots )\)</span> and <span class="math notranslate nohighlight">\(\mu = (\mu_1, \mu_2, \mu_3, \dots )\)</span> (where <span class="math notranslate nohighlight">\(p_{\nu}\)</span>
denotes the power-sum symmetric function indexed by the partition
<span class="math notranslate nohighlight">\(\nu\)</span>, and <span class="math notranslate nohighlight">\(p_i\)</span> denotes the <span class="math notranslate nohighlight">\(i\)</span>-th power-sum symmetric function).
This is enough to define the arithmetic product if the base ring
is torsion-free as a <span class="math notranslate nohighlight">\(\ZZ\)</span>-module; for all other cases the
arithmetic product is uniquely determined by requiring it to be
functorial in the base ring. See
<a class="reference external" href="http://mathoverflow.net/questions/138148/">http://mathoverflow.net/questions/138148/</a> for a discussion of
this arithmetic product.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The operation <span class="math notranslate nohighlight">\(f \boxdot g\)</span> was originally defined only
for symmetric functions <span class="math notranslate nohighlight">\(f\)</span> and <span class="math notranslate nohighlight">\(g\)</span> without constant
term.  We extend this definition using the convention
that the least common multiple of any integer with <span class="math notranslate nohighlight">\(0\)</span> is
<span class="math notranslate nohighlight">\(0\)</span>.</p>
</div>
<p>If <span class="math notranslate nohighlight">\(f\)</span> and <span class="math notranslate nohighlight">\(g\)</span> are two symmetric functions which are homogeneous
of degrees <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(b\)</span>, respectively, then <span class="math notranslate nohighlight">\(f \boxdot g\)</span> is
homogeneous of degree <span class="math notranslate nohighlight">\(ab\)</span>.</p>
<p>The arithmetic product is commutative and associative and has
unity <span class="math notranslate nohighlight">\(e_1 = p_1 = h_1\)</span>.</p>
<p>For species <span class="math notranslate nohighlight">\(M\)</span> and <span class="math notranslate nohighlight">\(N\)</span> such that <span class="math notranslate nohighlight">\(M[\varnothing] =
N[\varnothing] = \varnothing\)</span>, their arithmetic product is
the species <span class="math notranslate nohighlight">\(M \boxdot N\)</span> of “<span class="math notranslate nohighlight">\(M\)</span>-assemblies of cloned
<span class="math notranslate nohighlight">\(N\)</span>-structures”.  This operation is defined and several
examples are given in <a class="reference internal" href="../../../references/index.html#mm2008" id="id1"><span>[MM2008]</span></a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code> – a cycle index series having the same parent as <code class="docutils literal notranslate"><span class="pre">self</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>) a Boolean which, when set
to <code class="docutils literal notranslate"><span class="pre">False</span></code>, will cause input checks to be skipped</p></li>
</ul>
<p>OUTPUT:</p>
<p>The arithmetic product of <code class="docutils literal notranslate"><span class="pre">self</span></code> with <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="../../../combinat/sage/combinat/sf/sfa.html#sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.arithmetic_product" title="(in Combinatorics v9.8)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sage.combinat.sf.sfa.SymmetricFunctionAlgebra_generic_Element.arithmetic_product()</span></code></a></p>
</div>
<p>EXAMPLES:</p>
<p>For <span class="math notranslate nohighlight">\(C\)</span> the species of (oriented) cycles and <span class="math notranslate nohighlight">\(L_{+}\)</span> the
species of nonempty linear orders, <span class="math notranslate nohighlight">\(C \boxdot L_{+}\)</span>
corresponds to the species of “regular octopuses”; a <span class="math notranslate nohighlight">\((C
\boxdot L_{+})\)</span>-structure is a cycle of some length, each of
whose elements is an ordered list of a length which is
consistent for all the lists in the structure.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">q</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">.</span><span class="n">p</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">.</span><span class="n">m</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">species</span><span class="o">.</span><span class="n">CycleSpecies</span><span class="p">()</span><span class="o">.</span><span class="n">cycle_index_series</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">C</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Lplus</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">p</span><span class="p">([</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">n</span><span class="p">),</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">arithmetic_product</span><span class="p">(</span><span class="n">Lplus</span><span class="p">);</span> <span class="n">r</span>
<span class="go">m[1] + (3*m[1,1]+2*m[2])</span>
<span class="go"> + (8*m[1,1,1]+4*m[2,1]+2*m[3])</span>
<span class="go"> + (42*m[1,1,1,1]+21*m[2,1,1]+12*m[2,2]+7*m[3,1]+3*m[4])</span>
<span class="go"> + (144*m[1,1,1,1,1]+72*m[2,1,1,1]+36*m[2,2,1]+24*m[3,1,1]+12*m[3,2]+6*m[4,1]+2*m[5])</span>
<span class="go"> + ...</span>
<span class="go"> + O^7</span>
</pre></div>
</div>
<p>In particular, the number of regular octopuses is:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">r</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">coefficient</span><span class="p">([</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)]</span>
<span class="go">[0, 1, 3, 8, 42, 144, 1440, 5760]</span>
</pre></div>
</div>
<p>It is shown in <a class="reference internal" href="../../../references/index.html#mm2008" id="id2"><span>[MM2008]</span></a> that the exponential generating
function for regular octopuses satisfies <span class="math notranslate nohighlight">\((C \boxdot L_{+})
(x) = \sum_{n \geq 1} \sigma (n) (n - 1)! \frac{x^{n}}{n!}\)</span>
(where <span class="math notranslate nohighlight">\(\sigma (n)\)</span> is the sum of the divisors of <span class="math notranslate nohighlight">\(n\)</span>).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="nb">sum</span><span class="p">(</span><span class="n">divisors</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">)]</span>
<span class="go">[1, 3, 8, 42, 144, 1440, 5760]</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Andrew Gainer-Dewar (2013)</p></li>
</ul>
<p>REFERENCES:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../references/index.html#mm2008" id="id3"><span>[MM2008]</span></a></p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazySymmetricFunction.compositional_inverse">
<span class="sig-name descname"><span class="pre">compositional_inverse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazySymmetricFunction.compositional_inverse" title="Permalink to this definition">#</a></dt>
<dd><p>Return the compositional inverse of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Given a symmetric function <span class="math notranslate nohighlight">\(f\)</span>, the compositional inverse is
a symmetric function <span class="math notranslate nohighlight">\(g\)</span> over the same base ring, such that
<span class="math notranslate nohighlight">\(f \circ g = p_1\)</span>.  Thus, it is the inverse with respect to
plethystic substitution.</p>
<p>The compositional inverse exists if and only if:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(val(f) = 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(f = a + b p_1\)</span> with <span class="math notranslate nohighlight">\(a, b \neq 0\)</span>.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">h</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">h</span><span class="p">[</span><span class="n">n</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">revert</span><span class="p">())</span>
<span class="go">h[1] + O^7</span>
</pre></div>
</div>
<p>ALGORITHM:</p>
<p>Let <span class="math notranslate nohighlight">\(F\)</span> be a symmetric function with valuation <span class="math notranslate nohighlight">\(1\)</span>, i.e.,
whose constant term vanishes and whose degree one term equals
<span class="math notranslate nohighlight">\(b p_1\)</span>.  Then</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[(F - b p_1) \circ G = F \circ G - b p_1 \circ G = p_1 - b G,\]</div>
</div>
<p>and therefore <span class="math notranslate nohighlight">\(G = (p_1 - (F - b p_1) \circ G) / b\)</span>, which
allows recursive computation of <span class="math notranslate nohighlight">\(G\)</span>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>The compositional inverse <span class="math notranslate nohighlight">\(\Omega\)</span> of the symmetric
function <span class="math notranslate nohighlight">\(h_1 + h_2 + \dots\)</span> can be handled much more
efficiently using specialized methods. See
<a class="reference external" href="../../../combinat/sage/combinat/species/generating_series.html#sage.combinat.species.generating_series.LogarithmCycleIndexSeries" title="(in Combinatorics v9.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">LogarithmCycleIndexSeries()</span></code></a></p>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Andrew Gainer-Dewar</p></li>
<li><p>Martin Rubey</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazySymmetricFunction.derivative_with_respect_to_p1">
<span class="sig-name descname"><span class="pre">derivative_with_respect_to_p1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazySymmetricFunction.derivative_with_respect_to_p1" title="Permalink to this definition">#</a></dt>
<dd><p>Return the symmetric function obtained by taking the
derivative of <code class="docutils literal notranslate"><span class="pre">self</span></code> with respect to the power-sum
symmetric function <span class="math notranslate nohighlight">\(p_1\)</span> when the expansion of <code class="docutils literal notranslate"><span class="pre">self</span></code> in
the power-sum basis is considered as a polynomial in <span class="math notranslate nohighlight">\(p_k\)</span>’s
(with <span class="math notranslate nohighlight">\(k \geq 1\)</span>).</p>
<p>This is the same as skewing <code class="docutils literal notranslate"><span class="pre">self</span></code> by the first power-sum
symmetric function <span class="math notranslate nohighlight">\(p_1\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> – (default: 1) nonnegative integer which determines
which power of the derivative is taken</p></li>
</ul>
<p>EXAMPLES:</p>
<p>The species <span class="math notranslate nohighlight">\(E\)</span> of sets satisfies the relationship <span class="math notranslate nohighlight">\(E' = E\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">h</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">h</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">-</span> <span class="n">E</span><span class="o">.</span><span class="n">derivative_with_respect_to_p1</span><span class="p">()</span>
<span class="go">O^6</span>
</pre></div>
</div>
<p>The species <span class="math notranslate nohighlight">\(C\)</span> of cyclic orderings and the species <span class="math notranslate nohighlight">\(L\)</span> of linear
orderings satisfy the relationship <span class="math notranslate nohighlight">\(C' = L\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">p</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">euler_phi</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">p</span><span class="p">([</span><span class="n">k</span><span class="p">])</span><span class="o">**</span><span class="p">(</span><span class="n">n</span><span class="o">//</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">divisors</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">/</span><span class="n">n</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">p</span><span class="p">([</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">n</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">-</span> <span class="n">C</span><span class="o">.</span><span class="n">derivative_with_respect_to_p1</span><span class="p">()</span>
<span class="go">O^6</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazySymmetricFunction.functorial_composition">
<span class="sig-name descname"><span class="pre">functorial_composition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazySymmetricFunction.functorial_composition" title="Permalink to this definition">#</a></dt>
<dd><p>Return the functorial composition of <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<p>Let <span class="math notranslate nohighlight">\(X\)</span> be a finite set of cardinality <span class="math notranslate nohighlight">\(m\)</span>.  For a group
action of the symmetric group <span class="math notranslate nohighlight">\(g: S_n \to S_X\)</span> and a
(possibly virtual) representation of the symmetric group on
<span class="math notranslate nohighlight">\(X\)</span>, <span class="math notranslate nohighlight">\(f: S_X \to GL(V)\)</span>, the functorial composition is the
(virtual) representation of the symmetric group <span class="math notranslate nohighlight">\(f \Box g:
S_n \to GL(V)\)</span> given by <span class="math notranslate nohighlight">\(\sigma \mapsto f(g(\sigma))\)</span>.</p>
<p>This is more naturally phrased in the language of
combinatorial species.  Let <span class="math notranslate nohighlight">\(F\)</span> and <span class="math notranslate nohighlight">\(G\)</span> be species, then
their functorial composition is the species <span class="math notranslate nohighlight">\(F \Box G\)</span> with
<span class="math notranslate nohighlight">\((F \Box G) [A] = F[ G[A] ]\)</span>.  In other words, an <span class="math notranslate nohighlight">\((F \Box
G)\)</span>-structure on a set <span class="math notranslate nohighlight">\(A\)</span> of labels is an <span class="math notranslate nohighlight">\(F\)</span>-structure
whose labels are the set of all <span class="math notranslate nohighlight">\(G\)</span>-structures on <span class="math notranslate nohighlight">\(A\)</span>.</p>
<p>The Frobenius character (or cycle index series) of <span class="math notranslate nohighlight">\(F \Box G\)</span>
can be computed as follows, see section 2.2 of <a class="reference internal" href="../../../combinat/sage/combinat/species/generating_series.html#bll" id="id4"><span>[BLL]</span></a>):</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sum_{n \geq 0} \frac{1}{n!} \sum_{\sigma \in
\mathfrak{S}_{n}} \operatorname{fix} F[ (G[\sigma])_{1},
(G[\sigma])_{2}, \ldots ] \, p_{1}^{\sigma_{1}}
p_{2}^{\sigma_{2}} \cdots.\]</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The operation <span class="math notranslate nohighlight">\(f \Box g\)</span> only makes sense when <span class="math notranslate nohighlight">\(g\)</span>
corresponds to a permutation representation, i.e., a
group action.</p>
</div>
<p>EXAMPLES:</p>
<p>The species <span class="math notranslate nohighlight">\(G\)</span> of simple graphs can be expressed in terms of
a functorial composition: <span class="math notranslate nohighlight">\(G = \mathfrak{p} \Box
\mathfrak{p}_{2}\)</span>, where <span class="math notranslate nohighlight">\(\mathfrak{p}\)</span> is the
<a class="reference external" href="../../../combinat/sage/combinat/species/subset_species.html#sage.combinat.species.subset_species.SubsetSpecies" title="(in Combinatorics v9.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubsetSpecies</span></code></a>.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">q</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">.</span><span class="n">h</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">.</span><span class="n">m</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">q</span><span class="o">^</span><span class="n">k</span><span class="o">*</span><span class="n">h</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="n">h</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">h</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">h</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">functorial_composition</span><span class="p">(</span><span class="n">P2</span><span class="p">)[:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">[m[],</span>
<span class="go"> m[1],</span>
<span class="go"> (q+1)*m[1, 1] + (q+1)*m[2],</span>
<span class="go"> (q^3+3*q^2+3*q+1)*m[1, 1, 1] + (q^3+2*q^2+2*q+1)*m[2, 1] + (q^3+q^2+q+1)*m[3]]</span>
</pre></div>
</div>
<p>For example, there are:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">functorial_composition</span><span class="p">(</span><span class="n">P2</span><span class="p">)[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">coefficient</span><span class="p">([</span><span class="mi">4</span><span class="p">])[</span><span class="mi">3</span><span class="p">]</span>
<span class="go">3</span>
</pre></div>
</div>
<p>unlabelled graphs on 4 vertices and 3 edges, and:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">functorial_composition</span><span class="p">(</span><span class="n">P2</span><span class="p">)[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">coefficient</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])[</span><span class="mi">3</span><span class="p">]</span>
<span class="go">8</span>
</pre></div>
</div>
<p>labellings of their vertices with two 1’s and two 2’s.</p>
<p>The symmetric function <span class="math notranslate nohighlight">\(h_1 \sum_n h_n\)</span> is the neutral
element with respect to functorial composition:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">p</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">h</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">e</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">h</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Ep</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">E</span><span class="o">.</span><span class="n">derivative_with_respect_to_p1</span><span class="p">();</span> <span class="n">Ep</span>
<span class="go">h[1] + (h[1,1]) + (h[2,1]) + (h[3,1]) + (h[4,1]) + (h[5,1]) + O^7</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">h</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="n">n</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">//</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">-</span> <span class="n">Ep</span><span class="o">.</span><span class="n">functorial_composition</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">O^7</span>
</pre></div>
</div>
<p>The functorial composition distributes over the sum:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F1</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">h</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F2</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">e</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">f1</span> <span class="o">=</span> <span class="n">F1</span><span class="o">.</span><span class="n">functorial_composition</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f2</span> <span class="o">=</span> <span class="n">F2</span><span class="o">.</span><span class="n">functorial_composition</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">F1</span> <span class="o">+</span> <span class="n">F2</span><span class="p">)</span><span class="o">.</span><span class="n">functorial_composition</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="o">-</span> <span class="n">f1</span> <span class="o">-</span> <span class="n">f2</span>  <span class="c1"># long time</span>
<span class="go">O^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazySymmetricFunction.is_unit">
<span class="sig-name descname"><span class="pre">is_unit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazySymmetricFunction.is_unit" title="Permalink to this definition">#</a></dt>
<dd><p>Return whether this element is a unit in the ring.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span><span class="o">.</span><span class="n">m</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">L</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">L</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">m</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">L</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazySymmetricFunction.plethysm">
<span class="sig-name descname"><span class="pre">plethysm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">check</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazySymmetricFunction.plethysm" title="Permalink to this definition">#</a></dt>
<dd><p>Return the composition of <code class="docutils literal notranslate"><span class="pre">self</span></code> with <code class="docutils literal notranslate"><span class="pre">g</span></code>.</p>
<p>The arity of <code class="docutils literal notranslate"><span class="pre">self</span></code> must be equal to the number of
arguments provided.</p>
<p>Given a lazy symmetric function <span class="math notranslate nohighlight">\(f\)</span> of arity <span class="math notranslate nohighlight">\(n\)</span> and a tuple
of lazy symmetric functions <span class="math notranslate nohighlight">\(g = (g_1,\dots, g_n)\)</span> over the
same base ring, the composition (or plethysm) <span class="math notranslate nohighlight">\((f \circ g)\)</span>
is defined if and only if for each <span class="math notranslate nohighlight">\(1\leq k\leq n\)</span>:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(g_i = 0\)</span>, or</p></li>
<li><p>setting all alphabets except the <span class="math notranslate nohighlight">\(i`th in `f\)</span> to zero
yields a symmetric function with only finitely many
non-zero coefficients, or</p></li>
<li><p><span class="math notranslate nohighlight">\(val(g) &gt; 0\)</span>.</p></li>
</ul>
<p>If <span class="math notranslate nohighlight">\(f\)</span> is a univariate ‘exact’ lazy symmetric function, we
can check whether <span class="math notranslate nohighlight">\(f\)</span> has only finitely many non-zero
coefficients.  However, if <span class="math notranslate nohighlight">\(f\)</span> has larger arity, we have no
way to test whether setting all but one alphabets of <span class="math notranslate nohighlight">\(f\)</span> to
zero yields a polynomial, except if <span class="math notranslate nohighlight">\(f\)</span> itself is ‘exact’ and
therefore a symmetric function with only finitely many
non-zero coefficients.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code> – other (lazy) symmetric functions</p></li>
</ul>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<p>Allow specification of degree one elements.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">q</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">P</span><span class="p">)</span><span class="o">.</span><span class="n">s</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">(</span><span class="n">f</span><span class="p">)(</span><span class="n">L</span><span class="p">(</span><span class="n">g</span><span class="p">))</span> <span class="o">-</span> <span class="n">L</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">))</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">(</span><span class="n">f</span><span class="p">)(</span><span class="n">L</span><span class="p">(</span><span class="n">g</span><span class="p">))</span> <span class="o">-</span> <span class="n">L</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">))</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="n">L</span><span class="p">(</span><span class="n">f</span><span class="p">)(</span><span class="n">g</span><span class="p">)</span> <span class="o">-</span> <span class="n">L</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">g</span><span class="p">))</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">(</span><span class="n">f</span><span class="p">)(</span><span class="n">L</span><span class="p">(</span><span class="n">q</span><span class="o">*</span><span class="n">g</span><span class="p">))</span> <span class="o">-</span> <span class="n">L</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">q</span><span class="o">*</span><span class="n">g</span><span class="p">))</span>
<span class="go">0</span>
</pre></div>
</div>
<p>The Frobenius character of the permutation action on set
partitions is a plethysm:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">s</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E1</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">valuation</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">E1</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">E</span><span class="p">(</span><span class="n">E1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
<span class="go">[s[], s[1], 2*s[2], s[2, 1] + 3*s[3], 2*s[2, 2] + 2*s[3, 1] + 5*s[4]]</span>
</pre></div>
</div>
<p>The plethysm with a tensor product is also implemented:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">s</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">tensor</span><span class="p">([</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">s</span><span class="p">[[]]])</span>
<span class="gp">sage: </span><span class="n">Y</span> <span class="o">=</span> <span class="n">tensor</span><span class="p">([</span><span class="n">s</span><span class="p">[[]],</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S2</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">tensor</span><span class="p">([</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">S2</span><span class="p">(</span><span class="n">X</span><span class="o">+</span><span class="n">Y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="go">(s[]#s[1,1,1]+s[1]#s[1,1]+s[1,1]#s[1]+s[1,1,1]#s[])</span>

<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="n">n</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">H</span><span class="p">(</span><span class="n">S2</span><span class="p">(</span><span class="n">X</span><span class="o">*</span><span class="n">Y</span><span class="p">))</span>
<span class="go">(s[]#s[]) + (s[1]#s[1]) + (s[1,1]#s[1,1]+s[2]#s[2])</span>
<span class="go"> + (s[1,1,1]#s[1,1,1]+s[2,1]#s[2,1]+s[3]#s[3]) + O^7</span>
<span class="gp">sage: </span><span class="n">H</span><span class="p">(</span><span class="n">S2</span><span class="p">(</span><span class="n">X</span><span class="o">+</span><span class="n">Y</span><span class="p">))</span>
<span class="go">(s[]#s[]) + (s[]#s[1]+s[1]#s[]) + (s[]#s[2]+s[1]#s[1]+s[2]#s[])</span>
<span class="go"> + (s[]#s[3]+s[1]#s[2]+s[2]#s[1]+s[3]#s[])</span>
<span class="go"> + (s[]#s[4]+s[1]#s[3]+s[2]#s[2]+s[3]#s[1]+s[4]#s[])</span>
<span class="go"> + (s[]#s[5]+s[1]#s[4]+s[2]#s[3]+s[3]#s[2]+s[4]#s[1]+s[5]#s[])</span>
<span class="go"> + (s[]#s[6]+s[1]#s[5]+s[2]#s[4]+s[3]#s[3]+s[4]#s[2]+s[5]#s[1]+s[6]#s[])</span>
<span class="go"> + O^7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazySymmetricFunction.plethystic_inverse">
<span class="sig-name descname"><span class="pre">plethystic_inverse</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazySymmetricFunction.plethystic_inverse" title="Permalink to this definition">#</a></dt>
<dd><p>Return the compositional inverse of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Given a symmetric function <span class="math notranslate nohighlight">\(f\)</span>, the compositional inverse is
a symmetric function <span class="math notranslate nohighlight">\(g\)</span> over the same base ring, such that
<span class="math notranslate nohighlight">\(f \circ g = p_1\)</span>.  Thus, it is the inverse with respect to
plethystic substitution.</p>
<p>The compositional inverse exists if and only if:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(val(f) = 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(f = a + b p_1\)</span> with <span class="math notranslate nohighlight">\(a, b \neq 0\)</span>.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">h</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">h</span><span class="p">[</span><span class="n">n</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">revert</span><span class="p">())</span>
<span class="go">h[1] + O^7</span>
</pre></div>
</div>
<p>ALGORITHM:</p>
<p>Let <span class="math notranslate nohighlight">\(F\)</span> be a symmetric function with valuation <span class="math notranslate nohighlight">\(1\)</span>, i.e.,
whose constant term vanishes and whose degree one term equals
<span class="math notranslate nohighlight">\(b p_1\)</span>.  Then</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[(F - b p_1) \circ G = F \circ G - b p_1 \circ G = p_1 - b G,\]</div>
</div>
<p>and therefore <span class="math notranslate nohighlight">\(G = (p_1 - (F - b p_1) \circ G) / b\)</span>, which
allows recursive computation of <span class="math notranslate nohighlight">\(G\)</span>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>The compositional inverse <span class="math notranslate nohighlight">\(\Omega\)</span> of the symmetric
function <span class="math notranslate nohighlight">\(h_1 + h_2 + \dots\)</span> can be handled much more
efficiently using specialized methods. See
<a class="reference external" href="../../../combinat/sage/combinat/species/generating_series.html#sage.combinat.species.generating_series.LogarithmCycleIndexSeries" title="(in Combinatorics v9.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">LogarithmCycleIndexSeries()</span></code></a></p>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Andrew Gainer-Dewar</p></li>
<li><p>Martin Rubey</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazySymmetricFunction.revert">
<span class="sig-name descname"><span class="pre">revert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazySymmetricFunction.revert" title="Permalink to this definition">#</a></dt>
<dd><p>Return the compositional inverse of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Given a symmetric function <span class="math notranslate nohighlight">\(f\)</span>, the compositional inverse is
a symmetric function <span class="math notranslate nohighlight">\(g\)</span> over the same base ring, such that
<span class="math notranslate nohighlight">\(f \circ g = p_1\)</span>.  Thus, it is the inverse with respect to
plethystic substitution.</p>
<p>The compositional inverse exists if and only if:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(val(f) = 1\)</span>, or</p></li>
<li><p><span class="math notranslate nohighlight">\(f = a + b p_1\)</span> with <span class="math notranslate nohighlight">\(a, b \neq 0\)</span>.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">h</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">L</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="n">h</span><span class="p">[</span><span class="n">n</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">revert</span><span class="p">())</span>
<span class="go">h[1] + O^7</span>
</pre></div>
</div>
<p>ALGORITHM:</p>
<p>Let <span class="math notranslate nohighlight">\(F\)</span> be a symmetric function with valuation <span class="math notranslate nohighlight">\(1\)</span>, i.e.,
whose constant term vanishes and whose degree one term equals
<span class="math notranslate nohighlight">\(b p_1\)</span>.  Then</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[(F - b p_1) \circ G = F \circ G - b p_1 \circ G = p_1 - b G,\]</div>
</div>
<p>and therefore <span class="math notranslate nohighlight">\(G = (p_1 - (F - b p_1) \circ G) / b\)</span>, which
allows recursive computation of <span class="math notranslate nohighlight">\(G\)</span>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>The compositional inverse <span class="math notranslate nohighlight">\(\Omega\)</span> of the symmetric
function <span class="math notranslate nohighlight">\(h_1 + h_2 + \dots\)</span> can be handled much more
efficiently using specialized methods. See
<a class="reference external" href="../../../combinat/sage/combinat/species/generating_series.html#sage.combinat.species.generating_series.LogarithmCycleIndexSeries" title="(in Combinatorics v9.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">LogarithmCycleIndexSeries()</span></code></a></p>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Andrew Gainer-Dewar</p></li>
<li><p>Martin Rubey</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.rings.lazy_series.LazySymmetricFunction.symmetric_function">
<span class="sig-name descname"><span class="pre">symmetric_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degree</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.lazy_series.LazySymmetricFunction.symmetric_function" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self</span></code> as a symmetric function if <code class="docutils literal notranslate"><span class="pre">self</span></code> is actually so.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">degree</span></code> – <code class="docutils literal notranslate"><span class="pre">None</span></code> or an integer</p></li>
</ul>
<p>OUTPUT:</p>
<p>If <code class="docutils literal notranslate"><span class="pre">degree</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, the terms of the series of
degree greater than <code class="docutils literal notranslate"><span class="pre">degree</span></code> are first truncated.  If
<code class="docutils literal notranslate"><span class="pre">degree</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and the series is not a polynomial
polynomial, a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">s</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">LazySymmetricFunctions</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">elt</span> <span class="o">=</span> <span class="n">S</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">elt</span><span class="o">.</span><span class="n">symmetric_function</span><span class="p">()</span>
<span class="go">s[2]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="lazy_series_ring.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Lazy Series Rings</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="laurent_series_ring_element.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Laurent Series</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2023, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Lazy Series</a><ul>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyCauchyProductSeries"><code class="docutils literal notranslate"><span class="pre">LazyCauchyProductSeries</span></code></a><ul>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyCauchyProductSeries.exp"><code class="docutils literal notranslate"><span class="pre">exp()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyCauchyProductSeries.log"><code class="docutils literal notranslate"><span class="pre">log()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyCauchyProductSeries.valuation"><code class="docutils literal notranslate"><span class="pre">valuation()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyCompletionGradedAlgebraElement"><code class="docutils literal notranslate"><span class="pre">LazyCompletionGradedAlgebraElement</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyDirichletSeries"><code class="docutils literal notranslate"><span class="pre">LazyDirichletSeries</span></code></a><ul>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyDirichletSeries.is_unit"><code class="docutils literal notranslate"><span class="pre">is_unit()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyDirichletSeries.valuation"><code class="docutils literal notranslate"><span class="pre">valuation()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyLaurentSeries"><code class="docutils literal notranslate"><span class="pre">LazyLaurentSeries</span></code></a><ul>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyLaurentSeries.approximate_series"><code class="docutils literal notranslate"><span class="pre">approximate_series()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyLaurentSeries.compose"><code class="docutils literal notranslate"><span class="pre">compose()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyLaurentSeries.compositional_inverse"><code class="docutils literal notranslate"><span class="pre">compositional_inverse()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyLaurentSeries.derivative"><code class="docutils literal notranslate"><span class="pre">derivative()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyLaurentSeries.is_unit"><code class="docutils literal notranslate"><span class="pre">is_unit()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyLaurentSeries.polynomial"><code class="docutils literal notranslate"><span class="pre">polynomial()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyLaurentSeries.revert"><code class="docutils literal notranslate"><span class="pre">revert()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement"><code class="docutils literal notranslate"><span class="pre">LazyModuleElement</span></code></a><ul>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.arccos"><code class="docutils literal notranslate"><span class="pre">arccos()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.arccot"><code class="docutils literal notranslate"><span class="pre">arccot()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.arcsin"><code class="docutils literal notranslate"><span class="pre">arcsin()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.arcsinh"><code class="docutils literal notranslate"><span class="pre">arcsinh()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.arctan"><code class="docutils literal notranslate"><span class="pre">arctan()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.arctanh"><code class="docutils literal notranslate"><span class="pre">arctanh()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.change_ring"><code class="docutils literal notranslate"><span class="pre">change_ring()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.coefficient"><code class="docutils literal notranslate"><span class="pre">coefficient()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.coefficients"><code class="docutils literal notranslate"><span class="pre">coefficients()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.cos"><code class="docutils literal notranslate"><span class="pre">cos()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.cosh"><code class="docutils literal notranslate"><span class="pre">cosh()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.cot"><code class="docutils literal notranslate"><span class="pre">cot()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.coth"><code class="docutils literal notranslate"><span class="pre">coth()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.csc"><code class="docutils literal notranslate"><span class="pre">csc()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.csch"><code class="docutils literal notranslate"><span class="pre">csch()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.define"><code class="docutils literal notranslate"><span class="pre">define()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.euler"><code class="docutils literal notranslate"><span class="pre">euler()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.exp"><code class="docutils literal notranslate"><span class="pre">exp()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.hypergeometric"><code class="docutils literal notranslate"><span class="pre">hypergeometric()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.lift_to_precision"><code class="docutils literal notranslate"><span class="pre">lift_to_precision()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.log"><code class="docutils literal notranslate"><span class="pre">log()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.map_coefficients"><code class="docutils literal notranslate"><span class="pre">map_coefficients()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.prec"><code class="docutils literal notranslate"><span class="pre">prec()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.q_pochhammer"><code class="docutils literal notranslate"><span class="pre">q_pochhammer()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.sec"><code class="docutils literal notranslate"><span class="pre">sec()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.sech"><code class="docutils literal notranslate"><span class="pre">sech()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.set"><code class="docutils literal notranslate"><span class="pre">set()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.shift"><code class="docutils literal notranslate"><span class="pre">shift()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.sin"><code class="docutils literal notranslate"><span class="pre">sin()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.sinh"><code class="docutils literal notranslate"><span class="pre">sinh()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.sqrt"><code class="docutils literal notranslate"><span class="pre">sqrt()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.tan"><code class="docutils literal notranslate"><span class="pre">tan()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.tanh"><code class="docutils literal notranslate"><span class="pre">tanh()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyModuleElement.truncate"><code class="docutils literal notranslate"><span class="pre">truncate()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries"><code class="docutils literal notranslate"><span class="pre">LazyPowerSeries</span></code></a><ul>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries.compose"><code class="docutils literal notranslate"><span class="pre">compose()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries.compositional_inverse"><code class="docutils literal notranslate"><span class="pre">compositional_inverse()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries.compute_coefficients"><code class="docutils literal notranslate"><span class="pre">compute_coefficients()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries.derivative"><code class="docutils literal notranslate"><span class="pre">derivative()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries.exponential"><code class="docutils literal notranslate"><span class="pre">exponential()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries.is_unit"><code class="docutils literal notranslate"><span class="pre">is_unit()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries.polynomial"><code class="docutils literal notranslate"><span class="pre">polynomial()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries.revert"><code class="docutils literal notranslate"><span class="pre">revert()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries_gcd_mixin"><code class="docutils literal notranslate"><span class="pre">LazyPowerSeries_gcd_mixin</span></code></a><ul>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries_gcd_mixin.gcd"><code class="docutils literal notranslate"><span class="pre">gcd()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazyPowerSeries_gcd_mixin.xgcd"><code class="docutils literal notranslate"><span class="pre">xgcd()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazySymmetricFunction"><code class="docutils literal notranslate"><span class="pre">LazySymmetricFunction</span></code></a><ul>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazySymmetricFunction.arithmetic_product"><code class="docutils literal notranslate"><span class="pre">arithmetic_product()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazySymmetricFunction.compositional_inverse"><code class="docutils literal notranslate"><span class="pre">compositional_inverse()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazySymmetricFunction.derivative_with_respect_to_p1"><code class="docutils literal notranslate"><span class="pre">derivative_with_respect_to_p1()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazySymmetricFunction.functorial_composition"><code class="docutils literal notranslate"><span class="pre">functorial_composition()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazySymmetricFunction.is_unit"><code class="docutils literal notranslate"><span class="pre">is_unit()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazySymmetricFunction.plethysm"><code class="docutils literal notranslate"><span class="pre">plethysm()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazySymmetricFunction.plethystic_inverse"><code class="docutils literal notranslate"><span class="pre">plethystic_inverse()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazySymmetricFunction.revert"><code class="docutils literal notranslate"><span class="pre">revert()</span></code></a></li>
<li><a class="reference internal" href="#sage.rings.lazy_series.LazySymmetricFunction.symmetric_function"><code class="docutils literal notranslate"><span class="pre">symmetric_function()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"ZZ": "\\Bold{Z}", "NN": "\\Bold{N}", "RR": "\\Bold{R}", "CC": "\\Bold{C}", "QQ": "\\Bold{Q}", "QQbar": "\\overline{\\QQ}", "GF": ["\\Bold{F}_{#1}", 1], "Zp": ["\\Bold{Z}_{#1}", 1], "Qp": ["\\Bold{Q}_{#1}", 1], "Zmod": ["\\ZZ/#1\\ZZ", 1], "CDF": "\\Bold{C}", "CIF": "\\Bold{C}", "CLF": "\\Bold{C}", "RDF": "\\Bold{R}", "RIF": "\\Bold{I} \\Bold{R}", "RLF": "\\Bold{R}", "SL": "\\mathrm{SL}", "PSL": "\\mathrm{PSL}", "Bold": ["\\mathbf{#1}", 1]}, "inlineMath": [["$", "$"], ["\\(", "\\)"]], "maxBuffer": 51200, "autoload": {"color": [], "colorv2": ["color"]}}}</script>
    <script defer="defer" src="../../../_static/mathjax/tex-chtml.js"></script>
    </body>
</html>