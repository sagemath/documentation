<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Group, ring, etc. actions on objects" href="action.html" /><link rel="prev" title="Coerce maps" href="../structure/coerce_maps.html" />

    <meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>Coercion via construction functors - Coercion</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-furo.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-codemirror-monokai.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Coercion</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 10.2 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../index.html">Home - Coercion</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../structure/coerce.html">The coercion model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/coerce_actions.html">Coerce actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/coerce_maps.html">Coerce maps</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Coercion via construction functors</a></li>
<li class="toctree-l1"><a class="reference internal" href="action.html">Group, ring, etc. actions on objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/coerce_dict.html">Containers for storing coercion data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure/coerce_exceptions.html">Exceptions raised by the coercion model</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="coercion-via-construction-functors">
<span id="sage-categories-pushout"></span><h1>Coercion via construction functors<a class="headerlink" href="#coercion-via-construction-functors" title="Permalink to this heading">#</a></h1>
<span class="target" id="module-sage.categories.pushout"></span><dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.AlgebraicClosureFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">AlgebraicClosureFunctor</span></span><a class="headerlink" href="#sage.categories.pushout.AlgebraicClosureFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>Algebraic Closure.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.complex_double sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CDF</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">Algebraic Field</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>                                                                     <span class="c1"># needs sage.rings.real_mpfr</span>
<span class="go">Complex Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="n">QQ</span><span class="p">))</span> <span class="ow">is</span> <span class="n">F</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.AlgebraicClosureFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.AlgebraicClosureFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Mathematically, Algebraic Closure subsumes Algebraic Extension.
However, it seems that people do want to work with algebraic
extensions of <code class="docutils literal notranslate"><span class="pre">RR</span></code>. Therefore, we do not merge with algebraic extension.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.AlgebraicClosureFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#sage.categories.pushout.AlgebraicClosureFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.AlgebraicExtensionFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">AlgebraicExtensionFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embeddings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyclotomic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">implementations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">residue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latex_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.AlgebraicExtensionFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>Algebraic extension (univariate polynomial ring modulo principal ideal).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>                                        <span class="c1"># needs sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>                                                   <span class="c1"># needs sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">])</span>                                                                <span class="c1"># needs sage.rings.number_field</span>
<span class="go">Univariate Quotient Polynomial Ring in a</span>
<span class="go"> over Univariate Polynomial Ring in t over Integer Ring</span>
<span class="go"> with modulus a^3 + a^2 + 1</span>
</pre></div>
</div>
<p>Note that, even if a field is algebraically closed, the algebraic
extension will be constructed as the quotient of a univariate
polynomial ring:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">CC</span><span class="p">)</span>                                                                     <span class="c1"># needs sage.rings.number_field</span>
<span class="go">Univariate Quotient Polynomial Ring in a</span>
<span class="go"> over Complex Field with 53 bits of precision</span>
<span class="go"> with modulus a^3 + a^2 + 1.00000000000000</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>                                                                     <span class="c1"># needs sage.rings.number_field</span>
<span class="go">Univariate Quotient Polynomial Ring in a</span>
<span class="go"> over Real Field with 53 bits of precision</span>
<span class="go"> with modulus a^3 + a^2 + 1.00000000000000</span>
</pre></div>
</div>
<p>Note that the construction functor of a number field applied to
the integers returns an order (not necessarily maximal) of that
field, similar to the behaviour of <code class="docutils literal notranslate"><span class="pre">ZZ.extension(...)</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>                                                                     <span class="c1"># needs sage.rings.number_field</span>
<span class="go">Order in Number Field in a with defining polynomial x^3 + x^2 + 1</span>
</pre></div>
</div>
<p>This also holds for non-absolute number fields:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">O</span> <span class="o">=</span> <span class="n">F</span><span class="p">(</span><span class="n">ZZ</span><span class="p">);</span> <span class="n">O</span>
<span class="go">Relative Order in Number Field in a</span>
<span class="go"> with defining polynomial x^3 + x^2 + 1 over its base field</span>
<span class="gp">sage: </span><span class="n">O</span><span class="o">.</span><span class="n">ambient</span><span class="p">()</span> <span class="ow">is</span> <span class="n">K</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Special cases are made for cyclotomic fields and residue fields:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">CyclotomicField</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span>
<span class="go">AlgebraicExtensionFunctor</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">Cyclotomic Field of order 8 and degree 4</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="go">Maximal Order in Cyclotomic Field of order 8 and degree 4</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">CyclotomicField</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">factor</span><span class="p">(</span><span class="mi">17</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">residue_field</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="n">k</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span>
<span class="go">AlgebraicExtensionFunctor</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">Cyclotomic Field of order 7 and degree 6</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="ow">is</span> <span class="n">k</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="go">Residue field of Integers modulo 17</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">CyclotomicField</span><span class="p">(</span><span class="mi">49</span><span class="p">))</span>
<span class="go">Residue field in zbar of Fractional ideal (17)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.AlgebraicExtensionFunctor.expand">
<span class="sig-name descname"><span class="pre">expand</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.AlgebraicExtensionFunctor.expand" title="Permalink to this definition">#</a></dt>
<dd><p>Decompose the functor <span class="math notranslate nohighlight">\(F\)</span> into sub-functors, whose product returns <span class="math notranslate nohighlight">\(F\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">5</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">extension</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">prod</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">expand</span><span class="p">())(</span><span class="n">R</span><span class="p">)</span> <span class="o">==</span> <span class="n">L</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">3</span><span class="p">],</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span>
<span class="go">AlgebraicExtensionFunctor</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">expand</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[AlgebraicExtensionFunctor, AlgebraicExtensionFunctor]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">](</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">Number Field in a1 with defining polynomial x^2 - 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.AlgebraicExtensionFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.AlgebraicExtensionFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Merging with another <a class="reference internal" href="#sage.categories.pushout.AlgebraicExtensionFunctor" title="sage.categories.pushout.AlgebraicExtensionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlgebraicExtensionFunctor</span></code></a>.</p>
<p>INPUT:</p>
<p><code class="docutils literal notranslate"><span class="pre">other</span></code> – Construction Functor.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">self==other</span></code>, <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">other</span></code> are simple extensions
and both provide an embedding, then it is tested
whether one of the number fields provided by
the functors coerces into the other; the functor
associated with the target of the coercion is
returned. Otherwise, the construction functor
associated with the pushout of the codomains
of the two embeddings is returned, provided that
it is a number field.</p></li>
<li><p>If these two extensions are defined by Conway polynomials
over finite fields, merges them into a single extension of
degree the lcm of the two degrees.</p></li>
<li><p>Otherwise, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p></li>
</ul>
<p>REMARK:</p>
<p>Algebraic extension with embeddings currently only
works when applied to the rational field. This is
why we use the admittedly strange rule above for
merging.</p>
<p>EXAMPLES:</p>
<p>The following demonstrate coercions for finite fields using Conway or
pseudo-Conway polynomials:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">);</span> <span class="n">a</span> <span class="o">=</span> <span class="n">k</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>                                  <span class="c1"># needs sage.rings.finite_rings</span>
<span class="gp">sage: </span><span class="n">l</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>                                  <span class="c1"># needs sage.rings.finite_rings</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span>  <span class="c1"># indirect doctest                                             # needs sage.rings.finite_rings</span>
<span class="go">z6^5 + 2*z6^4 + 2*z6^3 + z6^2 + 2*z6 + 1</span>
</pre></div>
</div>
<p>Note that embeddings are compatible in lattices of such finite fields:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.finite_rings</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">5</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">);</span> <span class="n">c</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span> <span class="o">+</span> <span class="n">c</span> <span class="o">==</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="n">b</span> <span class="o">+</span> <span class="n">c</span><span class="p">)</span> <span class="c1"># indirect doctest</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">pushout</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">pushout</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">o</span> <span class="o">=</span> <span class="n">pushout</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">pushout</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">q</span><span class="p">(</span><span class="n">o</span><span class="p">(</span><span class="n">b</span><span class="p">))</span> <span class="o">==</span> <span class="n">q</span><span class="p">(</span><span class="n">n</span><span class="p">(</span><span class="n">b</span><span class="p">))</span> <span class="c1"># indirect doctest</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Coercion is also available for number fields:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">8</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="n">CDF</span><span class="mf">.0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="o">.&lt;</span><span class="n">c1</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="n">b</span><span class="o">^</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M2</span><span class="o">.&lt;</span><span class="n">c2</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=-</span><span class="n">b</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">M2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M2</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">M1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c1</span> <span class="o">+</span> <span class="n">c2</span><span class="p">;</span> <span class="n">parent</span><span class="p">(</span><span class="n">c1</span> <span class="o">+</span> <span class="n">c2</span><span class="p">)</span>    <span class="c1">#indirect doctest</span>
<span class="go">-b^6 + b^4 - 1</span>
<span class="go">Number Field in b with defining polynomial x^8 - x^4 + 1</span>
<span class="go"> with b = -0.2588190451025208? + 0.9659258262890683?*I</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">M1</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">M2</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>                                             <span class="c1"># needs sage.rings.finite_rings</span>
<span class="go">Univariate Polynomial Ring in x</span>
<span class="go"> over Number Field in b with defining polynomial x^8 - x^4 + 1</span>
<span class="go">  with b = -0.2588190451025208? + 0.9659258262890683?*I</span>
</pre></div>
</div>
<p>In the previous example, the number field <code class="docutils literal notranslate"><span class="pre">L</span></code> becomes the pushout
of <code class="docutils literal notranslate"><span class="pre">M1</span></code> and <code class="docutils literal notranslate"><span class="pre">M2</span></code> since both are provided with an embedding into
<code class="docutils literal notranslate"><span class="pre">L</span></code>, <em>and</em> since <code class="docutils literal notranslate"><span class="pre">L</span></code> is a number field. If two number fields
are embedded into a field that is not a numberfield, no merging
occurs:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.complex_double sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">cbrt2</span> <span class="o">=</span> <span class="n">CDF</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">zeta3</span> <span class="o">=</span> <span class="n">CDF</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="n">cbrt2</span> <span class="o">*</span> <span class="n">zeta3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">6</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="mf">1.1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">K</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.</span><span class="n">coerce_map_from</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">L</span><span class="p">)</span>                                                         <span class="c1"># needs sage.rings.finite_rings</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">CoercionException: (&#39;Ambiguous Base Extension&#39;, Number Field in a with</span>
<span class="go">defining polynomial x^3 - 2 with a = -0.6299605249474365? + 1.091123635971722?*I,</span>
<span class="go">Number Field in b with defining polynomial x^6 - 2 with b = 1.122462048309373?)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.AlgebraicExtensionFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#sage.categories.pushout.AlgebraicExtensionFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.BlackBoxConstructionFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">BlackBoxConstructionFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">box</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.BlackBoxConstructionFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>Construction functor obtained from any callable object.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">BlackBoxConstructionFunctor</span>
<span class="gp">sage: </span><span class="n">FG</span> <span class="o">=</span> <span class="n">BlackBoxConstructionFunctor</span><span class="p">(</span><span class="n">gap</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">FS</span> <span class="o">=</span> <span class="n">BlackBoxConstructionFunctor</span><span class="p">(</span><span class="n">singular</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">FG</span>
<span class="go">BlackBoxConstructionFunctor</span>
<span class="gp">sage: </span><span class="n">FG</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>                                                                    <span class="c1"># needs sage.libs.gap</span>
<span class="go">Integers</span>
<span class="gp">sage: </span><span class="n">FG</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>                                                           <span class="c1"># needs sage.libs.gap</span>
<span class="go">Gap</span>
<span class="gp">sage: </span><span class="n">FS</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">])</span>                                                               <span class="c1"># needs sage.libs.singular</span>
<span class="go">polynomial ring, over a field, global ordering</span>
<span class="go">//   coefficients: QQ</span>
<span class="go">//   number of vars : 1</span>
<span class="go">//        block   1 : ordering lp</span>
<span class="go">//                  : names    t</span>
<span class="go">//        block   2 : ordering C</span>
<span class="gp">sage: </span><span class="n">FG</span> <span class="o">==</span> <span class="n">FS</span>                                                                  <span class="c1"># needs sage.libs.gap sage.libs.singular</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">FG</span> <span class="o">==</span> <span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">FG</span><span class="p">))</span>                                                    <span class="c1"># needs sage.libs.gap</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.BlackBoxConstructionFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">100</span></em><a class="headerlink" href="#sage.categories.pushout.BlackBoxConstructionFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.CompletionFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">CompletionFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extras</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.CompletionFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>Completion of a ring with respect to a given prime (including infinity).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.padics</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">5-adic Ring with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">F1</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F1</span>
<span class="go">Completion[5, prec=20]</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span> <span class="ow">is</span> <span class="n">R</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">5-adic Field with capped relative precision 20</span>

<span class="gp">sage: </span><span class="n">F2</span> <span class="o">=</span> <span class="n">RR</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F2</span>
<span class="go">Completion[+Infinity, prec=53]</span>
<span class="gp">sage: </span><span class="n">F2</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span> <span class="ow">is</span> <span class="n">RR</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Px</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">completion</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># currently the only implemented completion of P</span>
<span class="gp">sage: </span><span class="n">Px</span>
<span class="go">Power Series Ring in x over Integer Ring</span>
<span class="gp">sage: </span><span class="n">F3</span> <span class="o">=</span> <span class="n">Px</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F3</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">)[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
<span class="go">Power Series Ring in x over Finite Field of size 3</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.CompletionFunctor.commutes">
<span class="sig-name descname"><span class="pre">commutes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.CompletionFunctor.commutes" title="Permalink to this definition">#</a></dt>
<dd><p>Completion commutes with fraction fields.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F1</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>                                          <span class="c1"># needs sage.rings.padics</span>
<span class="gp">sage: </span><span class="n">F2</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="o">.</span><span class="n">commutes</span><span class="p">(</span><span class="n">F2</span><span class="p">)</span>                                                       <span class="c1"># needs sage.rings.padics</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.CompletionFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.CompletionFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Two Completion functors are merged, if they are equal. If the precisions of
both functors coincide, then a Completion functor is returned that results
from updating the <code class="docutils literal notranslate"><span class="pre">extras</span></code> dictionary of <code class="docutils literal notranslate"><span class="pre">self</span></code> by <code class="docutils literal notranslate"><span class="pre">other.extras</span></code>.
Otherwise, if the completion is at infinity then merging does not increase
the set precision, and if the completion is at a finite prime, merging
does not decrease the capped precision.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.padics</span>
<span class="gp">sage: </span><span class="n">R1</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Zp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">20</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">R2</span> <span class="o">=</span> <span class="n">Qp</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R2</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">a</span>       <span class="c1"># indirect doctest</span>
<span class="go">(1 + O(5^20))*a + 1 + O(5^40)</span>
<span class="gp">sage: </span><span class="n">R3</span> <span class="o">=</span> <span class="n">RealField</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R4</span> <span class="o">=</span> <span class="n">RealField</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R3</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">R4</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="c1"># indirect doctest</span>
<span class="go">2.0000000</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">R3</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">R4</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Real Field with 30 bits of precision</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.CompletionFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#sage.categories.pushout.CompletionFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.CompositeConstructionFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">CompositeConstructionFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.CompositeConstructionFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>A Construction Functor composed by other Construction Functors.</p>
<p>INPUT:</p>
<p><code class="docutils literal notranslate"><span class="pre">F1,</span> <span class="pre">F2,...</span></code>: A list of Construction Functors. The result is the
composition <code class="docutils literal notranslate"><span class="pre">F1</span></code> followed by <code class="docutils literal notranslate"><span class="pre">F2</span></code> followed by …</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">CompositeConstructionFunctor</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CompositeConstructionFunctor</span><span class="p">(</span><span class="n">QQ</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>                                 <span class="n">QQ</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span>
<span class="go">Poly[y](FractionField(Poly[x](FractionField(...))))</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">==</span> <span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">F</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">==</span> <span class="n">CompositeConstructionFunctor</span><span class="p">(</span><span class="o">*</span><span class="n">F</span><span class="o">.</span><span class="n">all</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">)[</span><span class="s1">&#39;t&#39;</span><span class="p">])</span>                                                             <span class="c1"># needs sage.libs.ntl</span>
<span class="go">Univariate Polynomial Ring in y</span>
<span class="go"> over Fraction Field of Univariate Polynomial Ring in x</span>
<span class="go">  over Fraction Field of Univariate Polynomial Ring in t</span>
<span class="go">   over Finite Field of size 2 (using GF2X)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.CompositeConstructionFunctor.expand">
<span class="sig-name descname"><span class="pre">expand</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.CompositeConstructionFunctor.expand" title="Permalink to this definition">#</a></dt>
<dd><p>Return expansion of a CompositeConstructionFunctor.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The product over the list of components, as returned by
the <code class="docutils literal notranslate"><span class="pre">expand()</span></code> method, is equal to <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">CompositeConstructionFunctor</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CompositeConstructionFunctor</span><span class="p">(</span><span class="n">QQ</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>                                 <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>                                 <span class="n">QQ</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">....: </span>                                 <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span>
<span class="go">Poly[y](FractionField(Poly[x](FractionField(...))))</span>
<span class="gp">sage: </span><span class="n">prod</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">expand</span><span class="p">())</span> <span class="o">==</span> <span class="n">F</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.ConstructionFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">ConstructionFunctor</span></span><a class="headerlink" href="#sage.categories.pushout.ConstructionFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../categories/sage/categories/functor.html#sage.categories.functor.Functor" title="(in Category Framework v10.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Functor</span></code></a></p>
<p>Base class for construction functors.</p>
<p>A construction functor is a functorial algebraic construction,
such as the construction of a matrix ring over a given ring
or the fraction field of a given ring.</p>
<p>In addition to the class <a class="reference external" href="../../../categories/sage/categories/functor.html#sage.categories.functor.Functor" title="(in Category Framework v10.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Functor</span></code></a>,
construction functors provide rules for combining and merging
constructions. This is an important part of Sage’s coercion model,
namely the pushout of two constructions: When a polynomial <code class="docutils literal notranslate"><span class="pre">p</span></code> in
a variable <code class="docutils literal notranslate"><span class="pre">x</span></code> with integer coefficients is added to a rational
number <code class="docutils literal notranslate"><span class="pre">q</span></code>, then Sage finds that the parents <code class="docutils literal notranslate"><span class="pre">ZZ['x']</span></code> and
<code class="docutils literal notranslate"><span class="pre">QQ</span></code> are obtained from <code class="docutils literal notranslate"><span class="pre">ZZ</span></code> by applying a polynomial ring
construction respectively the fraction field construction. Each
construction functor has an attribute <code class="docutils literal notranslate"><span class="pre">rank</span></code>, and the rank of
the polynomial ring construction is higher than the rank of the
fraction field construction. This means that the pushout of <code class="docutils literal notranslate"><span class="pre">QQ</span></code>
and <code class="docutils literal notranslate"><span class="pre">ZZ['x']</span></code>, and thus a common parent in which <code class="docutils literal notranslate"><span class="pre">p</span></code> and <code class="docutils literal notranslate"><span class="pre">q</span></code>
can be added, is <code class="docutils literal notranslate"><span class="pre">QQ['x']</span></code>, since the construction functor with
a lower rank is applied first.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F1</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F1</span>
<span class="go">FractionField</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">Integer Ring</span>
<span class="gp">sage: </span><span class="n">F2</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F2</span>
<span class="go">Poly[x]</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">Integer Ring</span>
<span class="gp">sage: </span><span class="n">F3</span> <span class="o">=</span> <span class="n">F2</span><span class="o">.</span><span class="n">pushout</span><span class="p">(</span><span class="n">F1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F3</span>
<span class="go">Poly[x](FractionField(...))</span>
<span class="gp">sage: </span><span class="n">F3</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">pushout</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="n">P</span><span class="p">)</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
</pre></div>
</div>
<p>When composing two construction functors, they are sometimes
merged into one, as is the case in the Quotient construction:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Q15</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">.</span><span class="n">quo</span><span class="p">(</span><span class="mi">15</span><span class="o">*</span><span class="n">ZZ</span><span class="p">))</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Q15</span>
<span class="go">QuotientFunctor</span>
<span class="gp">sage: </span><span class="n">Q35</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">.</span><span class="n">quo</span><span class="p">(</span><span class="mi">35</span><span class="o">*</span><span class="n">ZZ</span><span class="p">))</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Q35</span>
<span class="go">QuotientFunctor</span>
<span class="gp">sage: </span><span class="n">Q15</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">Q35</span><span class="p">)</span>
<span class="go">QuotientFunctor</span>
<span class="gp">sage: </span><span class="n">Q15</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">Q35</span><span class="p">)(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="go">Ring of integers modulo 5</span>
</pre></div>
</div>
<p>Functors can not only be applied to objects, but also to morphisms in the
respective categories. For example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">];</span> <span class="n">F</span>
<span class="go">MPoly[x,y]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">],</span> <span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">Multivariate Polynomial Ring in x, y</span>
<span class="go"> over Multivariate Polynomial Ring in a, b over Finite Field of size 5</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">Ring endomorphism of Multivariate Polynomial Ring in x, y</span>
<span class="go"> over Multivariate Polynomial Ring in a, b over Finite Field of size 5</span>
<span class="go">  Defn: Induced from base ring by</span>
<span class="go">        Ring endomorphism of Multivariate Polynomial Ring in a, b</span>
<span class="go">         over Finite Field of size 5</span>
<span class="go">          Defn: a |--&gt; a + b</span>
<span class="go">                b |--&gt; a - b</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">f</span><span class="p">)(</span><span class="n">F</span><span class="p">(</span><span class="n">A</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
<span class="go">(a + b)*x</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.ConstructionFunctor.coercion_reversed">
<span class="sig-name descname"><span class="pre">coercion_reversed</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#sage.categories.pushout.ConstructionFunctor.coercion_reversed" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.ConstructionFunctor.common_base">
<span class="sig-name descname"><span class="pre">common_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other_functor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self_bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_bases</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.ConstructionFunctor.common_base" title="Permalink to this definition">#</a></dt>
<dd><p>This function is called by <a class="reference internal" href="#sage.categories.pushout.pushout" title="sage.categories.pushout.pushout"><code class="xref py py-func docutils literal notranslate"><span class="pre">pushout()</span></code></a> when no common parent
is found in the construction tower.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The main use is for multivariate construction functors,
which use this function to implement recursion for
<a class="reference internal" href="#sage.categories.pushout.pushout" title="sage.categories.pushout.pushout"><code class="xref py py-func docutils literal notranslate"><span class="pre">pushout()</span></code></a>.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">other_functor</span></code> – a construction functor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self_bases</span></code> – the arguments passed to this functor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">other_bases</span></code> – the arguments passed to the functor
<code class="docutils literal notranslate"><span class="pre">other_functor</span></code>.</p></li>
</ul>
<p>OUTPUT:</p>
<p>Nothing, since a
<a class="reference internal" href="../structure/coerce_exceptions.html#sage.structure.coerce_exceptions.CoercionException" title="sage.structure.coerce_exceptions.CoercionException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CoercionException</span></code></a>
is raised.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Overload this function in derived class, see
e.e. <a class="reference internal" href="#sage.categories.pushout.MultivariateConstructionFunctor" title="sage.categories.pushout.MultivariateConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultivariateConstructionFunctor</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.ConstructionFunctor.commutes">
<span class="sig-name descname"><span class="pre">commutes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.ConstructionFunctor.commutes" title="Permalink to this definition">#</a></dt>
<dd><p>Determine whether <code class="docutils literal notranslate"><span class="pre">self</span></code> commutes with another construction functor.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, <code class="docutils literal notranslate"><span class="pre">False</span></code> is returned in all cases (even if the two
functors are the same, since in this case <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor.merge" title="sage.categories.pushout.ConstructionFunctor.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">merge()</span></code></a> will apply
anyway). So far there is no construction functor that overloads
this method. Anyway, this method only becomes relevant if two
construction functors have the same rank.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">commutes</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">commutes</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">commutes</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.ConstructionFunctor.expand">
<span class="sig-name descname"><span class="pre">expand</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.ConstructionFunctor.expand" title="Permalink to this definition">#</a></dt>
<dd><p>Decompose <code class="docutils literal notranslate"><span class="pre">self</span></code> into a list of construction functors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default is to return the list only containing <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">[FractionField]</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">.</span><span class="n">quo</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">Q</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">[QuotientFunctor]</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">FP</span> <span class="o">=</span> <span class="n">F</span><span class="o">*</span><span class="n">P</span>
<span class="gp">sage: </span><span class="n">FP</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">[FractionField, Poly[t]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.ConstructionFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.ConstructionFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Merge <code class="docutils literal notranslate"><span class="pre">self</span></code> with another construction functor, or return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default is to merge only if the two functors coincide. But this
may be overloaded for subclasses, such as the quotient functor.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="go">FractionField</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="go">Poly[t]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.ConstructionFunctor.pushout">
<span class="sig-name descname"><span class="pre">pushout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.ConstructionFunctor.pushout" title="Permalink to this definition">#</a></dt>
<dd><p>Composition of two construction functors, ordered by their ranks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>This method seems not to be used in the coercion model.</p></li>
<li><p>By default, the functor with smaller rank is applied first.</p></li>
</ul>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.EquivariantSubobjectConstructionFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">EquivariantSubobjectConstructionFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">S</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action=&lt;built-in</span> <span class="pre">function</span> <span class="pre">mul&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">side='left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_action=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_side='left'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.EquivariantSubobjectConstructionFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>Constructor for subobjects invariant or equivariant under given semigroup actions.</p>
<p>Let <span class="math notranslate nohighlight">\(S\)</span> be a semigroup that
- acts on a parent <span class="math notranslate nohighlight">\(X\)</span> as <span class="math notranslate nohighlight">\(s \cdot x\)</span> (<code class="docutils literal notranslate"><span class="pre">action</span></code>, <code class="docutils literal notranslate"><span class="pre">side='left'</span></code>) or
- acts on <span class="math notranslate nohighlight">\(X\)</span> as <span class="math notranslate nohighlight">\(x \cdot s\)</span> (<code class="docutils literal notranslate"><span class="pre">action</span></code>, <code class="docutils literal notranslate"><span class="pre">side='right'</span></code>),
and (possibly trivially)
- acts on <span class="math notranslate nohighlight">\(X\)</span> as <span class="math notranslate nohighlight">\(s * x\)</span> (<code class="docutils literal notranslate"><span class="pre">other_action</span></code>, <code class="docutils literal notranslate"><span class="pre">other_side='left'</span></code>) or
- acts on <span class="math notranslate nohighlight">\(X\)</span> as <span class="math notranslate nohighlight">\(x * s\)</span> (<code class="docutils literal notranslate"><span class="pre">other_action</span></code>, <code class="docutils literal notranslate"><span class="pre">other_side='right'</span></code>).</p>
<p>The <span class="math notranslate nohighlight">\(S\)</span>-equivariant subobject is the subobject</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[X^S := \{x \in X : s \cdot x = s * x,\, \forall s \in S \}\]</div>
</div>
<p>when <code class="docutils literal notranslate"><span class="pre">side</span> <span class="pre">=</span> <span class="pre">other_side</span> <span class="pre">=</span> <span class="pre">'left'</span></code> and mutatis mutandis for the other values
of <code class="docutils literal notranslate"><span class="pre">side</span></code> and <code class="docutils literal notranslate"><span class="pre">other_side</span></code>.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">other_action</span></code> is trivial, <span class="math notranslate nohighlight">\(X^S\)</span> is called the <span class="math notranslate nohighlight">\(S\)</span>-invariant subobject.</p>
<p>EXAMPLES:</p>
<p>Monoterm symmetries of a tensor, here only for matrices: row (index 0),
column (index 1); the order of the extra element 2 in a permutation determines
whether it is a symmetry or an antisymmetry:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.groups sage.modules</span>
<span class="gp">sage: </span><span class="n">GSym01</span> <span class="o">=</span> <span class="n">PermutationGroup</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,),(</span><span class="mi">3</span><span class="p">,)]]);</span> <span class="n">GSym01</span>
<span class="go">Permutation Group with generators [(0,1)]</span>
<span class="gp">sage: </span><span class="n">GASym01</span> <span class="o">=</span> <span class="n">PermutationGroup</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)]]);</span> <span class="n">GASym01</span>
<span class="go">Permutation Group with generators [(0,1)(2,3)]</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.action</span> <span class="kn">import</span> <span class="n">Action</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">TensorIndexAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_act_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Matrix</span><span class="p">):</span>
<span class="gp">....: </span>            <span class="k">if</span> <span class="n">g</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="gp">....: </span>                <span class="k">if</span> <span class="n">g</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<span class="gp">....: </span>                    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="gp">....: </span>                <span class="k">else</span><span class="p">:</span>
<span class="gp">....: </span>                    <span class="k">return</span> <span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="gp">....: </span>            <span class="k">else</span><span class="p">:</span>
<span class="gp">....: </span>                <span class="k">return</span> <span class="n">x</span>
<span class="gp">....: </span>        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]);</span> <span class="n">M</span>
<span class="go">[1 2]</span>
<span class="go">[3 4]</span>
<span class="gp">sage: </span><span class="n">GSym01_action</span> <span class="o">=</span> <span class="n">TensorIndexAction</span><span class="p">(</span><span class="n">GSym01</span><span class="p">,</span> <span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">GASym01_action</span> <span class="o">=</span> <span class="n">TensorIndexAction</span><span class="p">(</span><span class="n">GASym01</span><span class="p">,</span> <span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">GSym01_action</span><span class="o">.</span><span class="n">act</span><span class="p">(</span><span class="n">GSym01</span><span class="mf">.0</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>
<span class="go">[1 3]</span>
<span class="go">[2 4]</span>
<span class="gp">sage: </span><span class="n">GASym01_action</span><span class="o">.</span><span class="n">act</span><span class="p">(</span><span class="n">GASym01</span><span class="mf">.0</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>
<span class="go">[-1 -3]</span>
<span class="go">[-2 -4]</span>
<span class="gp">sage: </span><span class="n">Sym01</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">invariant_module</span><span class="p">(</span><span class="n">GSym01</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">GSym01_action</span><span class="p">);</span> <span class="n">Sym01</span>
<span class="go">(Permutation Group with generators [(0,1)])-invariant submodule</span>
<span class="go"> of Full MatrixSpace of 2 by 2 dense matrices over Integer Ring</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">Sym01</span><span class="o">.</span><span class="n">basis</span><span class="p">())</span>
<span class="go">[B[0], B[1], B[2]]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">Sym01</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">Sym01</span><span class="o">.</span><span class="n">lift</span><span class="p">))</span>
<span class="go">[</span>
<span class="go">[1 0]  [0 1]  [0 0]</span>
<span class="go">[0 0], [1 0], [0 1]</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">ASym01</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">invariant_module</span><span class="p">(</span><span class="n">GASym01</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">GASym01_action</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ASym01</span>
<span class="go">(Permutation Group with generators [(0,1)(2,3)])-invariant submodule</span>
<span class="go"> of Full MatrixSpace of 2 by 2 dense matrices over Integer Ring</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">ASym01</span><span class="o">.</span><span class="n">basis</span><span class="p">())</span>
<span class="go">[B[0]]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">ASym01</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">ASym01</span><span class="o">.</span><span class="n">lift</span><span class="p">))</span>
<span class="go">[</span>
<span class="go">[ 0  1]</span>
<span class="go">[-1  0]</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">pushout</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">Sym01</span><span class="p">,</span> <span class="n">QQ</span><span class="p">)</span>
<span class="go">(Permutation Group with generators [(0,1)])-invariant submodule</span>
<span class="go"> of Full MatrixSpace of 2 by 2 dense matrices over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.FractionField">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">FractionField</span></span><a class="headerlink" href="#sage.categories.pushout.FractionField" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>Construction functor for fraction fields.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F</span>
<span class="go">FractionField</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">domain</span><span class="p">()</span>
<span class="go">Category of integral domains</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">codomain</span><span class="p">()</span>
<span class="go">Category of fields</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="ow">is</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">])</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in t over Integer Ring</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">],</span><span class="n">P</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">Ring endomorphism of</span>
<span class="go"> Fraction Field of Multivariate Polynomial Ring in x, y over Rational Field</span>
<span class="go">  Defn: x |--&gt; x + 2*y</span>
<span class="go">        y |--&gt; 3*x - y</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">f</span><span class="p">)(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="go">1/(x + 2*y)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">==</span> <span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">F</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.FractionField.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#sage.categories.pushout.FractionField.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.IdentityConstructionFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">IdentityConstructionFunctor</span></span><a class="headerlink" href="#sage.categories.pushout.IdentityConstructionFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>A construction functor that is the identity functor.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.IdentityConstructionFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-100</span></em><a class="headerlink" href="#sage.categories.pushout.IdentityConstructionFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.InfinitePolynomialFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">InfinitePolynomialFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">implementation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.InfinitePolynomialFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>A Construction Functor for Infinite Polynomial Rings (see <a class="reference external" href="../../../polynomial_rings/sage/rings/polynomial/infinite_polynomial_ring.html#module-sage.rings.polynomial.infinite_polynomial_ring" title="(in Reference Manual v10.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">infinite_polynomial_ring</span></code></a>).</p>
<p>AUTHOR:</p>
<p>– Simon King</p>
<p>This construction functor is used to provide uniqueness of infinite polynomial rings as parent structures.
As usual, the construction functor allows for constructing pushouts.</p>
<p>Another purpose is to avoid name conflicts of variables of the to-be-constructed infinite polynomial ring with
variables of the base ring, and moreover to keep the internal structure of an Infinite Polynomial Ring as simple
as possible: If variables <span class="math notranslate nohighlight">\(v_1,...,v_n\)</span> of the given base ring generate an <em>ordered</em> sub-monoid of the monomials
of the ambient Infinite Polynomial Ring, then they are removed from the base ring and merged with the generators
of the ambient ring. However, if the orders don’t match, an error is raised, since there was a name conflict
without merging.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">InfinitePolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="go">[InfPoly{[a,b], &quot;lex&quot;, &quot;dense&quot;},</span>
<span class="go"> Univariate Polynomial Ring in t over Integer Ring]</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">_</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">&lt;class &#39;sage.categories.pushout.InfinitePolynomialFunctor&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">a_3</span><span class="p">,</span><span class="n">a_1</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;lex&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="go">(MPoly[x,y,a_3,a_1], Rational Field)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">B</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">InfPoly{[a,b], &quot;lex&quot;, &quot;dense&quot;}(MPoly[x,y](...))</span>
</pre></div>
</div>
<p>Apparently the variables <span class="math notranslate nohighlight">\(a_1,a_3\)</span> of the polynomial ring are merged with the variables
<span class="math notranslate nohighlight">\(a_0, a_1, a_2, ...\)</span> of the infinite polynomial ring; indeed, they form an ordered sub-structure.
However, if the polynomial ring was given a different ordering, merging would not be allowed,
resulting in a name conflict:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;a_3&#39;</span><span class="p">,</span><span class="s1">&#39;a_1&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">R</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">CoercionException: Incompatible term orders lex, degrevlex</span>
</pre></div>
</div>
<p>In an infinite polynomial ring with generator <span class="math notranslate nohighlight">\(a_\ast\)</span>, the variable <span class="math notranslate nohighlight">\(a_3\)</span> will always be greater
than the variable <span class="math notranslate nohighlight">\(a_1\)</span>. Hence, the orders are incompatible in the next example as well:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;a_1&#39;</span><span class="p">,</span><span class="s1">&#39;a_3&#39;</span><span class="p">],</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;lex&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">R</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">CoercionException: Overlapping variables ((&#39;a&#39;, &#39;b&#39;),[&#39;a_1&#39;, &#39;a_3&#39;])</span>
<span class="go">are incompatible</span>
</pre></div>
</div>
<p>Another requirement is that after merging the order of the remaining variables must be unique.
This is not the case in the following example, since it is not clear whether the variables <span class="math notranslate nohighlight">\(x,y\)</span>
should be greater or smaller than the variables <span class="math notranslate nohighlight">\(b_\ast\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a_3&#39;</span><span class="p">,</span><span class="s1">&#39;a_1&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;lex&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">R</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">CoercionException: Overlapping variables ((&#39;a&#39;, &#39;b&#39;),[&#39;a_3&#39;, &#39;a_1&#39;])</span>
<span class="go">are incompatible</span>
</pre></div>
</div>
<p>Since the construction functors are actually used to construct infinite polynomial rings, the following
result is no surprise:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">InfinitePolynomialRing</span><span class="p">(</span><span class="n">B</span><span class="p">);</span> <span class="n">C</span>
<span class="go">Infinite polynomial ring in a, b</span>
<span class="go"> over Multivariate Polynomial Ring in x, y over Rational Field</span>
</pre></div>
</div>
<p>There is also an overlap in the next example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">w</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">InfinitePolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">InfinitePolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(Y\)</span> have an overlapping generators <span class="math notranslate nohighlight">\(x_\ast, y_\ast\)</span>. Since the default lexicographic order is
used in both rings, it gives rise to isomorphic sub-monoids in both <span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(Y\)</span>. They are merged in the
pushout, which also yields a common parent for doing arithmetic:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">categories</span><span class="o">.</span><span class="n">pushout</span><span class="o">.</span><span class="n">pushout</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">X</span><span class="p">);</span> <span class="n">P</span>
<span class="go">Infinite polynomial ring in w, x, y, z over Rational Field</span>
<span class="gp">sage: </span><span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">z</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="go">w_2 + z_3</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">P</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.InfinitePolynomialFunctor.expand">
<span class="sig-name descname"><span class="pre">expand</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.InfinitePolynomialFunctor.expand" title="Permalink to this definition">#</a></dt>
<dd><p>Decompose the functor <span class="math notranslate nohighlight">\(F\)</span> into sub-functors, whose product returns <span class="math notranslate nohighlight">\(F\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">InfinitePolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;degrevlex&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">];</span> <span class="n">F</span>
<span class="go">InfPoly{[x,y], &quot;degrevlex&quot;, &quot;dense&quot;}</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">[InfPoly{[y], &quot;degrevlex&quot;, &quot;dense&quot;}, InfPoly{[x], &quot;degrevlex&quot;, &quot;dense&quot;}]</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">InfinitePolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">],</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;degrevlex&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">];</span> <span class="n">F</span>
<span class="go">InfPoly{[x,y,z], &quot;degrevlex&quot;, &quot;dense&quot;}</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">[InfPoly{[z], &quot;degrevlex&quot;, &quot;dense&quot;},</span>
<span class="go"> InfPoly{[y], &quot;degrevlex&quot;, &quot;dense&quot;},</span>
<span class="go"> InfPoly{[x], &quot;degrevlex&quot;, &quot;dense&quot;}]</span>
<span class="gp">sage: </span><span class="n">prod</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">expand</span><span class="p">())</span><span class="o">==</span><span class="n">F</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.InfinitePolynomialFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.InfinitePolynomialFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Merge two construction functors of infinite polynomial rings, regardless of monomial order and implementation.</p>
<p>The purpose is to have a pushout (and thus, arithmetic) even in cases when the parents are isomorphic as
rings, but not as ordered rings.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">InfinitePolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">implementation</span><span class="o">=</span><span class="s1">&#39;sparse&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">InfinitePolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;degrevlex&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="go">[InfPoly{[x,y], &quot;lex&quot;, &quot;sparse&quot;}, Rational Field]</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="go">[InfPoly{[x,y], &quot;degrevlex&quot;, &quot;dense&quot;}, Rational Field]</span>
<span class="gp">sage: </span><span class="n">Y</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">Y</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">InfPoly{[x,y], &quot;degrevlex&quot;, &quot;dense&quot;}</span>
<span class="gp">sage: </span><span class="n">y</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="n">X</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">x_2 + y_3</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="go">[InfPoly{[x,y], &quot;degrevlex&quot;, &quot;dense&quot;}, Rational Field]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.InfinitePolynomialFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">9.5</span></em><a class="headerlink" href="#sage.categories.pushout.InfinitePolynomialFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.LaurentPolynomialFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">LaurentPolynomialFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_variate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.LaurentPolynomialFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>Construction functor for Laurent polynomial rings.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span><span class="o">.&lt;</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LaurentPolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F</span>
<span class="go">LaurentPolynomialFunctor</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">Univariate Laurent Polynomial Ring in t over Rational Field</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">LaurentPolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">K</span><span class="p">)</span>
<span class="go">Univariate Laurent Polynomial Ring in t</span>
<span class="go"> over Univariate Laurent Polynomial Ring in x over Integer Ring</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">],</span><span class="n">P</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">Ring endomorphism of Univariate Laurent Polynomial Ring in t</span>
<span class="go"> over Multivariate Polynomial Ring in x, y over Integer Ring</span>
<span class="go">  Defn: Induced from base ring by</span>
<span class="go">        Ring endomorphism of Multivariate Polynomial Ring in x, y over Integer Ring</span>
<span class="go">          Defn: x |--&gt; x + 2*y</span>
<span class="go">                y |--&gt; 3*x - y</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">f</span><span class="p">)(</span><span class="n">x</span><span class="o">*</span><span class="n">F</span><span class="p">(</span><span class="n">P</span><span class="p">)</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span><span class="o">^-</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">F</span><span class="p">(</span><span class="n">P</span><span class="p">)</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">(x + 2*y)*t^-2 + (3*x - y)*t^3</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.LaurentPolynomialFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.LaurentPolynomialFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Two Laurent polynomial construction functors merge if the variable names coincide.</p>
<p>The result is multivariate if one of the arguments is multivariate.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">LaurentPolynomialFunctor</span>
<span class="gp">sage: </span><span class="n">F1</span> <span class="o">=</span> <span class="n">LaurentPolynomialFunctor</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F2</span> <span class="o">=</span> <span class="n">LaurentPolynomialFunctor</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">multi_variate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F2</span><span class="p">)</span>
<span class="go">LaurentPolynomialFunctor</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F2</span><span class="p">)(</span><span class="n">LaurentPolynomialRing</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;a&#39;</span><span class="p">))</span>                       <span class="c1"># needs sage.modules</span>
<span class="go">Multivariate Laurent Polynomial Ring in a, t over Finite Field of size 2</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F1</span><span class="p">)(</span><span class="n">LaurentPolynomialRing</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;a&#39;</span><span class="p">))</span>                       <span class="c1"># needs sage.modules</span>
<span class="go">Univariate Laurent Polynomial Ring in t over</span>
<span class="go"> Univariate Laurent Polynomial Ring in a over Finite Field of size 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.LaurentPolynomialFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">9</span></em><a class="headerlink" href="#sage.categories.pushout.LaurentPolynomialFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.MatrixFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">MatrixFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nrows</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.MatrixFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>A construction functor for matrices over rings.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">MS</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">MS</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">];</span> <span class="n">F</span>
<span class="go">MatrixFunctor</span>
<span class="gp">sage: </span><span class="n">MS</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">MS</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">];</span> <span class="n">F</span>
<span class="go">MatrixFunctor</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">F</span><span class="p">(</span><span class="n">P</span><span class="p">);</span> <span class="n">R</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices</span>
<span class="go"> over Multivariate Polynomial Ring in x, y over Rational Field</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">],</span> <span class="n">P</span><span class="p">);</span> <span class="n">F</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">Ring endomorphism</span>
<span class="go"> of Full MatrixSpace of 2 by 2 dense matrices</span>
<span class="go">  over Multivariate Polynomial Ring in x, y over Rational Field</span>
<span class="go">  Defn: Induced from base ring by</span>
<span class="go">        Ring endomorphism</span>
<span class="go">         of Multivariate Polynomial Ring in x, y over Rational Field</span>
<span class="go">          Defn: x |--&gt; x + y</span>
<span class="go">                y |--&gt; x - y</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">R</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">f</span><span class="p">)(</span><span class="n">M</span><span class="p">)</span>
<span class="go">[    x + y     x - y]</span>
<span class="go">[x^2 - y^2       2*x]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.MatrixFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.MatrixFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Merging is only happening if both functors are matrix functors of the same dimension.</p>
<p>The result is sparse if and only if both given functors are sparse.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">F1</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F2</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F3</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F3</span><span class="p">)</span>
<span class="go">MatrixFunctor</span>
<span class="gp">sage: </span><span class="n">F13</span> <span class="o">=</span> <span class="n">F1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F13</span><span class="o">.</span><span class="n">is_sparse</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="o">.</span><span class="n">is_sparse</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F3</span><span class="o">.</span><span class="n">is_sparse</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F3</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F3</span><span class="p">)</span><span class="o">.</span><span class="n">is_sparse</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.MatrixFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#sage.categories.pushout.MatrixFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.MultiPolynomialFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">MultiPolynomialFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vars</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">term_order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.MultiPolynomialFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>A constructor for multivariate polynomial rings.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">];</span> <span class="n">F</span>
<span class="go">MPoly[x,y]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">Multivariate Polynomial Ring in x, y</span>
<span class="go"> over Multivariate Polynomial Ring in a, b over Finite Field of size 5</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="p">],</span> <span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">Ring endomorphism of Multivariate Polynomial Ring in x, y</span>
<span class="go"> over Multivariate Polynomial Ring in a, b over Finite Field of size 5</span>
<span class="go">  Defn: Induced from base ring by</span>
<span class="go">        Ring endomorphism of Multivariate Polynomial Ring in a, b over Finite Field of size 5</span>
<span class="go">          Defn: a |--&gt; a + b</span>
<span class="go">                b |--&gt; a - b</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">f</span><span class="p">)(</span><span class="n">F</span><span class="p">(</span><span class="n">A</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
<span class="go">(a + b)*x</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.MultiPolynomialFunctor.expand">
<span class="sig-name descname"><span class="pre">expand</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.MultiPolynomialFunctor.expand" title="Permalink to this definition">#</a></dt>
<dd><p>Decompose <code class="docutils literal notranslate"><span class="pre">self</span></code> into a list of construction functors.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x,y,z,t&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">];</span> <span class="n">F</span>
<span class="go">MPoly[x,y,z,t]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">expand</span><span class="p">()</span>
<span class="go">[MPoly[t], MPoly[z], MPoly[y], MPoly[x]]</span>
</pre></div>
</div>
<p>Now an actual use case:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">z</span><span class="p">,</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">+</span><span class="n">t</span>
<span class="go">x + t</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">t</span><span class="p">)</span>
<span class="go">Multivariate Polynomial Ring in x, y, z, t over Rational Field</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.&lt;</span><span class="n">y</span><span class="p">,</span><span class="n">s</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">+</span> <span class="n">s</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: unsupported operand parent(s) for +:</span>
<span class="go">&#39;Multivariate Polynomial Ring in x, y, z over Integer Ring&#39; and</span>
<span class="go">&#39;Multivariate Polynomial Ring in y, s over Rational Field&#39;</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">S</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">2*x0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.MultiPolynomialFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.MultiPolynomialFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Merge <code class="docutils literal notranslate"><span class="pre">self</span></code> with another construction functor, or return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">categories</span><span class="o">.</span><span class="n">pushout</span><span class="o">.</span><span class="n">MultiPolynomialFunctor</span><span class="p">([</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">categories</span><span class="o">.</span><span class="n">pushout</span><span class="o">.</span><span class="n">MultiPolynomialFunctor</span><span class="p">([</span><span class="s1">&#39;t&#39;</span><span class="p">],</span> <span class="kc">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">G</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="go">MPoly[x,y]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.MultiPolynomialFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">9</span></em><a class="headerlink" href="#sage.categories.pushout.MultiPolynomialFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.MultivariateConstructionFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">MultivariateConstructionFunctor</span></span><a class="headerlink" href="#sage.categories.pushout.MultivariateConstructionFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>An abstract base class for functors that take
multiple inputs (e.g. Cartesian products).</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.MultivariateConstructionFunctor.common_base">
<span class="sig-name descname"><span class="pre">common_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other_functor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">self_bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_bases</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.MultivariateConstructionFunctor.common_base" title="Permalink to this definition">#</a></dt>
<dd><p>This function is called by <a class="reference internal" href="#sage.categories.pushout.pushout" title="sage.categories.pushout.pushout"><code class="xref py py-func docutils literal notranslate"><span class="pre">pushout()</span></code></a> when no common parent
is found in the construction tower.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">other_functor</span></code> – a construction functor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self_bases</span></code> – the arguments passed to this functor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">other_bases</span></code> – the arguments passed to the functor
<code class="docutils literal notranslate"><span class="pre">other_functor</span></code>.</p></li>
</ul>
<p>OUTPUT:</p>
<p>A parent.</p>
<p>If no common base is found a <a class="reference internal" href="../structure/coerce_exceptions.html#sage.structure.coerce_exceptions.CoercionException" title="sage.structure.coerce_exceptions.CoercionException"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.coerce_exceptions.CoercionException</span></code></a>
is raised.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Overload this function in derived class, see
e.g. <a class="reference internal" href="#sage.categories.pushout.MultivariateConstructionFunctor" title="sage.categories.pushout.MultivariateConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultivariateConstructionFunctor</span></code></a>.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.PermutationGroupFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">PermutationGroupFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.PermutationGroupFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">PermutationGroupFunctor</span>
<span class="gp">sage: </span><span class="n">PF</span> <span class="o">=</span> <span class="n">PermutationGroupFunctor</span><span class="p">([</span><span class="n">PermutationGroupElement</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)])],</span>      <span class="c1"># needs sage.groups</span>
<span class="gp">....: </span>                             <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">PF</span>
<span class="go">PermutationGroupFunctor[(1,2)]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.PermutationGroupFunctor.gens">
<span class="sig-name descname"><span class="pre">gens</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.PermutationGroupFunctor.gens" title="Permalink to this definition">#</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P1</span> <span class="o">=</span> <span class="n">PermutationGroup</span><span class="p">([[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]])</span>                                      <span class="c1"># needs sage.groups</span>
<span class="gp">sage: </span><span class="n">PF</span><span class="p">,</span> <span class="n">P</span> <span class="o">=</span> <span class="n">P1</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>                                             <span class="c1"># needs sage.groups</span>
<span class="gp">sage: </span><span class="n">PF</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>                                                             <span class="c1"># needs sage.groups</span>
<span class="go">((1,2),)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.PermutationGroupFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.PermutationGroupFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Merge <code class="docutils literal notranslate"><span class="pre">self</span></code> with another construction functor, or return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.groups</span>
<span class="gp">sage: </span><span class="n">P1</span> <span class="o">=</span> <span class="n">PermutationGroup</span><span class="p">([[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]])</span>
<span class="gp">sage: </span><span class="n">PF1</span><span class="p">,</span> <span class="n">P</span> <span class="o">=</span> <span class="n">P1</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P2</span> <span class="o">=</span> <span class="n">PermutationGroup</span><span class="p">([[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)]])</span>
<span class="gp">sage: </span><span class="n">PF2</span><span class="p">,</span> <span class="n">P</span> <span class="o">=</span> <span class="n">P2</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">PF1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">PF2</span><span class="p">)</span>
<span class="go">PermutationGroupFunctor[(1,2), (1,3)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.PermutationGroupFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#sage.categories.pushout.PermutationGroupFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.PolynomialFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">PolynomialFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_variate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">implementation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.PolynomialFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>Construction functor for univariate polynomial rings.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">P</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">Univariate Polynomial Ring in t over Finite Field of size 3</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">==</span> <span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">P</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">hom</span><span class="p">([</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">],</span> <span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="p">(</span><span class="n">f</span><span class="p">)((</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="n">P</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="mf">.0</span><span class="p">)</span>
<span class="go">(-x + y)*t</span>
</pre></div>
</div>
<p>By <a class="reference external" href="https://github.com/sagemath/sage/issues/9944">github issue #9944</a>, the construction functor distinguishes sparse and
dense polynomial rings. Before, the following example failed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="ow">is</span> <span class="n">R</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">has_coerce_map_from</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">has_coerce_map_from</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">S</span><span class="mf">.0</span> <span class="o">+</span> <span class="n">R</span><span class="mf">.0</span>
<span class="go">2*x</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">S</span><span class="mf">.0</span> <span class="o">+</span> <span class="n">R</span><span class="mf">.0</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Univariate Polynomial Ring in x over Finite Field of size 5</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">S</span><span class="mf">.0</span> <span class="o">+</span> <span class="n">R</span><span class="mf">.0</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.PolynomialFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.PolynomialFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Merge <code class="docutils literal notranslate"><span class="pre">self</span></code> with another construction functor, or return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Internally, the merging is delegated to the merging of
multipolynomial construction functors. But in effect,
this does the same as the default implementation, that
returns <code class="docutils literal notranslate"><span class="pre">None</span></code> unless the to-be-merged functors coincide.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">P</span><span class="p">)</span> <span class="ow">is</span> <span class="n">P</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.PolynomialFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">9</span></em><a class="headerlink" href="#sage.categories.pushout.PolynomialFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.QuotientFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">QuotientFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">codomain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.QuotientFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>Construction functor for quotient rings.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The functor keeps track of variable names. Optionally, it may
keep track of additional properties of the quotient, such as
its category or its implementation.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">quo</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">P</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">Q</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
<span class="go">Quotient of Multivariate Polynomial Ring in x, y over Rational Field</span>
<span class="go"> by the ideal (x^2 + y^2)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">quo</span><span class="p">([</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">CoercionException: Cannot apply this quotient functor to</span>
<span class="go"> Multivariate Polynomial Ring in x, y, z over Rational Field</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">])</span>                                                            <span class="c1"># needs sage.rings.finite_rings</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: Could not find a mapping of the passed element to this ring.</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.QuotientFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.QuotientFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Two quotient functors with coinciding names are merged by taking the gcd
of their moduli, the meet of their domains, and the join of their codomains.</p>
<p>In particular, if one of the functors being merged knows that the quotient
is going to be a field, then the merged functor will return fields as
well.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.libs.pari</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">Q1</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">quo</span><span class="p">([(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">Q2</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">quo</span><span class="p">([(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="o">+</span><span class="mi">3</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">pushout</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">Q1</span><span class="p">,</span><span class="n">Q2</span><span class="p">)</span>    <span class="c1"># indirect doctest</span>
<span class="go">Univariate Quotient Polynomial Ring in xbar over Rational Field</span>
<span class="go"> with modulus x^4 + 2*x^2 + 1</span>
</pre></div>
</div>
<p>The following was fixed in <a class="reference external" href="https://github.com/sagemath/sage/issues/8800">github issue #8800</a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">Integers</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>                                           <span class="c1"># needs sage.libs.pari</span>
<span class="go">Finite Field of size 5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.QuotientFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4.5</span></em><a class="headerlink" href="#sage.categories.pushout.QuotientFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.SubspaceFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">SubspaceFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.SubspaceFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>Constructing a subspace of an ambient free module, given by a basis.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This construction functor keeps track of the basis. It can only be
applied to free modules into which this basis coerces.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)]);</span> <span class="n">S</span>
<span class="go">Free module of degree 3 and rank 2 over Integer Ring</span>
<span class="go">Echelon basis matrix:</span>
<span class="go">[1 2 3]</span>
<span class="go">[0 3 6]</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 2 over Finite Field of size 2</span>
<span class="go">User basis matrix:</span>
<span class="go">[1 0 1]</span>
<span class="go">[0 1 0]</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.SubspaceFunctor.coercion_reversed">
<span class="sig-name descname"><span class="pre">coercion_reversed</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#sage.categories.pushout.SubspaceFunctor.coercion_reversed" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.SubspaceFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.SubspaceFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Two Subspace Functors are merged into a construction functor of the sum of two subspaces.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">S1</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">S2</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">submodule</span><span class="p">([(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">F1</span> <span class="o">=</span> <span class="n">S1</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F2</span> <span class="o">=</span> <span class="n">S2</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F2</span><span class="p">)</span>
<span class="go">SubspaceFunctor</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F2</span><span class="p">)(</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">S1</span> <span class="o">+</span> <span class="n">S2</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">F2</span><span class="p">)(</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)[</span><span class="s1">&#39;t&#39;</span><span class="p">]</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">Free module of degree 3 and rank 3</span>
<span class="go"> over Univariate Polynomial Ring in t over Finite Field of size 5</span>
<span class="go">User basis matrix:</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 0 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.SubspaceFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">11</span></em><a class="headerlink" href="#sage.categories.pushout.SubspaceFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.categories.pushout.VectorFunctor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">VectorFunctor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inner_product_matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_basis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'standard'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basis_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latex_name_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.VectorFunctor" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor" title="sage.categories.pushout.ConstructionFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a></p>
<p>A construction functor for free modules over commutative rings.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">construction</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">F</span>
<span class="go">VectorFunctor</span>
<span class="gp">sage: </span><span class="n">F</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">)[</span><span class="s1">&#39;t&#39;</span><span class="p">])</span>                                                             <span class="c1"># needs sage.libs.ntl</span>
<span class="go">Ambient free module of rank 3</span>
<span class="go"> over the principal ideal domain Univariate Polynomial Ring in t</span>
<span class="go">  over Finite Field of size 2 (using GF2X)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sage.categories.pushout.VectorFunctor.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.VectorFunctor.merge" title="Permalink to this definition">#</a></dt>
<dd><p>Two constructors of free modules merge, if the module ranks and the inner products coincide. If both
have explicitly given inner product matrices, they must coincide as well.</p>
<p>EXAMPLES:</p>
<p>Two modules without explicitly given inner product allow coercion:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M1</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span>                                                             <span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">M2</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>                                                 <span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">M2</span><span class="p">([</span><span class="n">t</span><span class="p">,</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">t</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>     <span class="c1"># indirect doctest              # needs sage.modules</span>
<span class="go">(t + 1, t^2 + t + 1/2, 10/3)</span>
</pre></div>
</div>
<p>If only one summand has an explicit inner product, the result will be provided
with it:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M3</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">inner_product_matrix</span><span class="o">=</span><span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)))</span>    <span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">M1</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">M3</span><span class="p">([</span><span class="n">t</span><span class="p">,</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">t</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>                                     <span class="c1"># needs sage.modules</span>
<span class="go">(t + 1, t^2 + t + 1/2, 10/3)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">M1</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">M3</span><span class="p">([</span><span class="n">t</span><span class="p">,</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">t</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span>   <span class="c1"># needs sage.modules</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="go">[6 7 8]</span>
</pre></div>
</div>
<p>If both summands have an explicit inner product (even if it is the standard
inner product), then the products must coincide. The only difference between
<code class="docutils literal notranslate"><span class="pre">M1</span></code> and <code class="docutils literal notranslate"><span class="pre">M4</span></code> in the following example is the fact that the default
inner product was <em>explicitly</em> requested for <code class="docutils literal notranslate"><span class="pre">M4</span></code>. It is therefore not
possible to coerce with a different inner product:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">M4</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">inner_product_matrix</span><span class="o">=</span><span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">M4</span> <span class="o">==</span> <span class="n">M1</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M4</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span> <span class="o">==</span> <span class="n">M1</span><span class="o">.</span><span class="n">inner_product_matrix</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M4</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">])</span> <span class="o">+</span> <span class="n">M3</span><span class="p">([</span><span class="n">t</span><span class="p">,</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">t</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>      <span class="c1"># indirect doctest</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: unsupported operand parent(s) for +:</span>
<span class="go">&#39;Ambient quadratic space of dimension 3 over Rational Field</span>
<span class="go">Inner product matrix:</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 0 1]&#39; and</span>
<span class="go">&#39;Ambient free quadratic module of rank 3 over the integral domain</span>
<span class="go">Univariate Polynomial Ring in t over Integer Ring</span>
<span class="go">Inner product matrix:</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="go">[6 7 8]&#39;</span>
</pre></div>
</div>
<p>Names are removed when they conflict:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">VectorFunctor</span><span class="p">,</span> <span class="n">pushout</span>
<span class="gp">sage: </span><span class="n">M_ZZx</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="n">with_basis</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;M_ZZx&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N_ZZx</span> <span class="o">=</span> <span class="n">FreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="n">with_basis</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;N_ZZx&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">M_ZZx</span><span class="p">,</span> <span class="n">QQ</span><span class="p">)</span>
<span class="go">Rank-4 free module M_ZZx_base_ext</span>
<span class="go"> over the Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">M_ZZx</span><span class="p">,</span> <span class="n">N_ZZx</span><span class="p">)</span>
<span class="go">Rank-4 free module</span>
<span class="go"> over the Univariate Polynomial Ring in x over Integer Ring</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">pushout</span><span class="p">(</span><span class="n">M_ZZx</span><span class="p">,</span> <span class="n">N_ZZx</span><span class="p">),</span> <span class="n">QQ</span><span class="p">)</span>
<span class="go">Rank-4 free module</span>
<span class="go"> over the Univariate Polynomial Ring in x over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sage.categories.pushout.VectorFunctor.rank">
<span class="sig-name descname"><span class="pre">rank</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#sage.categories.pushout.VectorFunctor.rank" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.categories.pushout.construction_tower">
<span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">construction_tower</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">R</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.construction_tower" title="Permalink to this definition">#</a></dt>
<dd><p>An auxiliary function that is used in <a class="reference internal" href="#sage.categories.pushout.pushout" title="sage.categories.pushout.pushout"><code class="xref py py-func docutils literal notranslate"><span class="pre">pushout()</span></code></a> and <a class="reference internal" href="#sage.categories.pushout.pushout_lattice" title="sage.categories.pushout.pushout_lattice"><code class="xref py py-func docutils literal notranslate"><span class="pre">pushout_lattice()</span></code></a>.</p>
<p>INPUT:</p>
<p>An object</p>
<p>OUTPUT:</p>
<p>A constructive description of the object from scratch, by a list of pairs
of a construction functor and an object to which the construction functor
is to be applied. The first pair is formed by <code class="docutils literal notranslate"><span class="pre">None</span></code> and the given object.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">construction_tower</span>
<span class="gp">sage: </span><span class="n">construction_tower</span><span class="p">(</span><span class="n">MatrixSpace</span><span class="p">(</span><span class="n">FractionField</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]),</span> <span class="mi">2</span><span class="p">))</span>                <span class="c1"># needs sage.modules</span>
<span class="go">[(None, Full MatrixSpace of 2 by 2 dense matrices over Fraction Field</span>
<span class="go">         of Univariate Polynomial Ring in t over Rational Field),</span>
<span class="go"> (MatrixFunctor, Fraction Field</span>
<span class="go">                  of Univariate Polynomial Ring in t over Rational Field),</span>
<span class="go"> (FractionField, Univariate Polynomial Ring in t over Rational Field),</span>
<span class="go"> (Poly[t], Rational Field), (FractionField, Integer Ring)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.categories.pushout.expand_tower">
<span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">expand_tower</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tower</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.expand_tower" title="Permalink to this definition">#</a></dt>
<dd><p>An auxiliary function that is used in <a class="reference internal" href="#sage.categories.pushout.pushout" title="sage.categories.pushout.pushout"><code class="xref py py-func docutils literal notranslate"><span class="pre">pushout()</span></code></a>.</p>
<p>INPUT:</p>
<p>A construction tower as returned by <a class="reference internal" href="#sage.categories.pushout.construction_tower" title="sage.categories.pushout.construction_tower"><code class="xref py py-func docutils literal notranslate"><span class="pre">construction_tower()</span></code></a>.</p>
<p>OUTPUT:</p>
<p>A new construction tower with all the construction functors expanded.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">construction_tower</span><span class="p">,</span> <span class="n">expand_tower</span>
<span class="gp">sage: </span><span class="n">construction_tower</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">])</span>
<span class="go">[(None, Multivariate Polynomial Ring in x, y, z over Rational Field),</span>
<span class="go"> (MPoly[x,y,z], Rational Field),</span>
<span class="go"> (FractionField, Integer Ring)]</span>
<span class="gp">sage: </span><span class="n">expand_tower</span><span class="p">(</span><span class="n">construction_tower</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">]))</span>
<span class="go">[(None, Multivariate Polynomial Ring in x, y, z over Rational Field),</span>
<span class="go"> (MPoly[z], Univariate Polynomial Ring in y</span>
<span class="go">             over Univariate Polynomial Ring in x over Rational Field),</span>
<span class="go"> (MPoly[y], Univariate Polynomial Ring in x over Rational Field),</span>
<span class="go"> (MPoly[x], Rational Field),</span>
<span class="go"> (FractionField, Integer Ring)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.categories.pushout.pushout">
<span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">pushout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">S</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.pushout" title="Permalink to this definition">#</a></dt>
<dd><p>Given a pair of objects <span class="math notranslate nohighlight">\(R\)</span> and <span class="math notranslate nohighlight">\(S\)</span>, try to construct a
reasonable object <span class="math notranslate nohighlight">\(Y\)</span> and return maps such that
canonically <span class="math notranslate nohighlight">\(R \leftarrow Y \rightarrow S\)</span>.</p>
<p>ALGORITHM:</p>
<p>This incorporates the idea of functors discussed at Sage Days 4.
Every object <span class="math notranslate nohighlight">\(R\)</span> can be viewed as an initial object and a series
of functors (e.g. polynomial, quotient, extension, completion,
vector/matrix, etc.). Call the series of increasingly simple
objects (with the associated functors) the “tower” of <span class="math notranslate nohighlight">\(R\)</span>. The
construction method is used to create the tower.</p>
<p>Given two objects <span class="math notranslate nohighlight">\(R\)</span> and <span class="math notranslate nohighlight">\(S\)</span>, try to find a common initial object
<span class="math notranslate nohighlight">\(Z\)</span>. If the towers of <span class="math notranslate nohighlight">\(R\)</span> and <span class="math notranslate nohighlight">\(S\)</span> meet, let <span class="math notranslate nohighlight">\(Z\)</span> be their join.
Otherwise, see if the top of one coerces naturally into the other.</p>
<p>Now we have an initial object and two ordered lists of functors to
apply. We wish to merge these in an unambiguous order, popping
elements off the top of one or the other tower as we apply them to
<span class="math notranslate nohighlight">\(Z\)</span>.</p>
<ul class="simple">
<li><p>If the functors are of distinct types, there is an absolute
ordering given by the rank attribute. Use this.</p></li>
<li><p>Otherwise:</p>
<ul>
<li><p>If the tops are equal, we (try to) merge them.</p></li>
<li><p>If exactly one occurs lower in the other tower, we may
unambiguously apply the other (hoping for a later merge).</p></li>
<li><p>If the tops commute, we can apply either first.</p></li>
<li><p>Otherwise fail due to ambiguity.</p></li>
</ul>
</li>
</ul>
<p>The algorithm assumes by default that when a construction <span class="math notranslate nohighlight">\(F\)</span> is
applied to an object <span class="math notranslate nohighlight">\(X\)</span>, the object <span class="math notranslate nohighlight">\(F(X)\)</span> admits a coercion map
from <span class="math notranslate nohighlight">\(X\)</span>.  However, the algorithm can also handle the case where
<span class="math notranslate nohighlight">\(F(X)\)</span> has a coercion map <em>to</em> <span class="math notranslate nohighlight">\(X\)</span> instead.  In this case, the
attribute <code class="docutils literal notranslate"><span class="pre">coercion_reversed</span></code> of the class implementing <span class="math notranslate nohighlight">\(F\)</span>
should be set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>EXAMPLES:</p>
<p>Here our “towers” are <span class="math notranslate nohighlight">\(R = Complete_7(Frac(\ZZ))\)</span> and <span class="math notranslate nohighlight">\(Frac(Poly_x(\ZZ))\)</span>,
which give us <span class="math notranslate nohighlight">\(Frac(Poly_x(Complete_7(Frac(\ZZ))))\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">pushout</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">Qp</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">Frac</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]))</span>                                             <span class="c1"># needs sage.rings.padics</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in x</span>
<span class="go"> over 7-adic Field with capped relative precision 20</span>
</pre></div>
</div>
<p>Note we get the same thing with</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">Frac</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]))</span>                                             <span class="c1"># needs sage.rings.padics</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in x</span>
<span class="go"> over 7-adic Field with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">)[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">Frac</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]))</span>                                        <span class="c1"># needs sage.rings.padics</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in x</span>
<span class="go"> over 7-adic Field with capped relative precision 20</span>
</pre></div>
</div>
<p>Note that polynomial variable ordering must be unambiguously determined.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">],</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;w,z,t&#39;</span><span class="p">])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">CoercionException: (&#39;Ambiguous Base Extension&#39;,</span>
<span class="go">Multivariate Polynomial Ring in x, y, z over Integer Ring,</span>
<span class="go">Multivariate Polynomial Ring in w, z, t over Rational Field)</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">],</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;w,x,z,t&#39;</span><span class="p">])</span>
<span class="go">Multivariate Polynomial Ring in w, x, y, z, t over Rational Field</span>
</pre></div>
</div>
<p>Some other examples:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">Zp</span><span class="p">(</span><span class="mi">7</span><span class="p">)[</span><span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">Frac</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">])[</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">])</span>                               <span class="c1"># needs sage.rings.padics</span>
<span class="go">Multivariate Polynomial Ring in x, y, z</span>
<span class="go"> over Fraction Field of Univariate Polynomial Ring in t</span>
<span class="go">  over 7-adic Field with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">],</span> <span class="n">Frac</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])[</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
<span class="go">Multivariate Polynomial Ring in y, z</span>
<span class="go"> over Fraction Field of Univariate Polynomial Ring in x over Integer Ring</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">MatrixSpace</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">Frac</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]))</span>                            <span class="c1"># needs sage.modules</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices</span>
<span class="go"> over Fraction Field of Univariate Polynomial Ring in x over Real Double Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">]],</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>                                 <span class="c1"># needs sage.modules</span>
<span class="go">Full MatrixSpace of 3 by 3 dense matrices</span>
<span class="go"> over Power Series Ring in x over Integer Ring</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x,y&#39;</span><span class="p">],</span> <span class="n">ZZ</span><span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">]])</span>
<span class="go">Univariate Polynomial Ring in y</span>
<span class="go"> over Power Series Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">Frac</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]),</span> <span class="n">QQ</span><span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">]])</span>
<span class="go">Laurent Series Ring in x over Rational Field</span>
</pre></div>
</div>
<p>A construction with <code class="docutils literal notranslate"><span class="pre">coercion_reversed=True</span></code> (currently only
the <a class="reference internal" href="#sage.categories.pushout.SubspaceFunctor" title="sage.categories.pushout.SubspaceFunctor"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubspaceFunctor</span></code></a> construction) is only applied if it
leads to a valid coercion:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span> <span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">categories</span><span class="o">.</span><span class="n">pushout</span><span class="o">.</span><span class="n">pushout</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">V</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span>
<span class="go">Vector space of dimension 2 over Rational Field</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">has_coerce_map_from</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="p">(</span><span class="n">QQ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">ZZ</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">V</span><span class="p">)</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">span</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">V</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">User basis matrix:</span>
<span class="go">[1 2 0]</span>
<span class="go">[0 0 1]</span>
</pre></div>
</div>
<p>Some more tests with <code class="docutils literal notranslate"><span class="pre">coercion_reversed=True</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">ConstructionFunctor</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">EvenPolynomialRing</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">var</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">register_embedding</span><span class="p">(</span><span class="n">base</span><span class="p">[</span><span class="n">var</span><span class="p">])</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="s2">&quot;Even Power &quot;</span> <span class="o">+</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">construction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="n">EvenPolynomialFunctor</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">base</span><span class="p">()[</span><span class="bp">self</span><span class="o">.</span><span class="n">variable_name</span><span class="p">()]</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_coerce_map_from_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">base</span><span class="p">()</span><span class="o">.</span><span class="n">has_coerce_map_from</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">EvenPolynomialFunctor</span><span class="p">(</span><span class="n">ConstructionFunctor</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">rank</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">....: </span>    <span class="n">coercion_reversed</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="n">ConstructionFunctor</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Rings</span><span class="p">(),</span> <span class="n">Rings</span><span class="p">())</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_apply_functor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">base</span><span class="p">(),</span> <span class="n">R</span><span class="o">.</span><span class="n">variable_name</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="go">Even Power Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">QQ</span><span class="p">)</span>
<span class="go">Even Power Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">RR</span><span class="p">)</span>                                  <span class="c1"># needs sage.rings.real_mpfr</span>
<span class="go">Even Power Univariate Polynomial Ring in x over Real Field with 53 bits of precision</span>

<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">RR</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>                             <span class="c1"># needs sage.rings.real_mpfr</span>
<span class="go">Univariate Polynomial Ring in x over Real Field with 53 bits of precision</span>

<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">))</span>
<span class="go">Even Power Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">))</span>         <span class="c1"># needs sage.rings.real_mpfr</span>
<span class="go">Even Power Univariate Polynomial Ring in x over Real Field with 53 bits of precision</span>

<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">RR</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>                              <span class="c1"># needs sage.modules sage.rings.real_mpfr</span>
<span class="go">Ambient free module of rank 2</span>
<span class="go"> over the principal ideal domain Even Power Univariate Polynomial Ring in x</span>
<span class="go">  over Real Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">EvenPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">RR</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>                         <span class="c1"># needs sage.modules sage.rings.real_mpfr</span>
<span class="go">Ambient free module of rank 2</span>
<span class="go"> over the principal ideal domain Univariate Polynomial Ring in x</span>
<span class="go"> over Real Field with 53 bits of precision</span>
</pre></div>
</div>
<p>Some more tests related to univariate/multivariate
constructions. We consider a generalization of polynomial rings,
where in addition to the coefficient ring <span class="math notranslate nohighlight">\(C\)</span> we also specify
an additive monoid <span class="math notranslate nohighlight">\(E\)</span> for the exponents of the indeterminate.
In particular, the elements of such a parent are given by</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sum_{i=0}^I c_i X^{e_i}\]</div>
</div>
<p>with <span class="math notranslate nohighlight">\(c_i \in C\)</span> and <span class="math notranslate nohighlight">\(e_i \in E\)</span>. We define</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">GPolynomialRing</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coefficients</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">exponents</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span> <span class="o">=</span> <span class="n">coefficients</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">var</span> <span class="o">=</span> <span class="n">var</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">exponents</span> <span class="o">=</span> <span class="n">exponents</span>
<span class="gp">....: </span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="n">Rings</span><span class="p">())</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_repr_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="s1">&#39;Generalized Polynomial Ring in </span><span class="si">%s</span><span class="s1">^(</span><span class="si">%s</span><span class="s1">) over </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span>
<span class="gp">....: </span>               <span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">exponents</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">construction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="n">GPolynomialFunctor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">exponents</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_coerce_map_from_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coefficients</span><span class="o">.</span><span class="n">has_coerce_map_from</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">GPolynomialFunctor</span><span class="p">(</span><span class="n">ConstructionFunctor</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">rank</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">exponents</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">var</span> <span class="o">=</span> <span class="n">var</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">exponents</span> <span class="o">=</span> <span class="n">exponents</span>
<span class="gp">....: </span>        <span class="n">ConstructionFunctor</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Rings</span><span class="p">(),</span> <span class="n">Rings</span><span class="p">())</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_repr_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="s1">&#39;GPoly[</span><span class="si">%s</span><span class="s1">^(</span><span class="si">%s</span><span class="s1">)]&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">exponents</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_apply_functor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coefficients</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="n">GPolynomialRing</span><span class="p">(</span><span class="n">coefficients</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">exponents</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">GPolynomialFunctor</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">var</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">var</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="n">exponents</span> <span class="o">=</span> <span class="n">pushout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exponents</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">exponents</span><span class="p">)</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="n">GPolynomialFunctor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">var</span><span class="p">,</span> <span class="n">exponents</span><span class="p">)</span>
</pre></div>
</div>
<p>We can construct a parent now in two different ways:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">GPolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="go">Generalized Polynomial Ring in X^(Integer Ring) over Rational Field</span>
<span class="gp">sage: </span><span class="n">GP_ZZ</span> <span class="o">=</span> <span class="n">GPolynomialFunctor</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">ZZ</span><span class="p">);</span> <span class="n">GP_ZZ</span>
<span class="go">GPoly[X^(Integer Ring)]</span>
<span class="gp">sage: </span><span class="n">GP_ZZ</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">Generalized Polynomial Ring in X^(Integer Ring) over Rational Field</span>
</pre></div>
</div>
<p>Since the construction</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">GP_ZZ</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="go">(GPoly[X^(Integer Ring)], Rational Field)</span>
</pre></div>
</div>
<p>uses the coefficient ring, we have the usual coercion with respect
to this parameter:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">),</span> <span class="n">GP_ZZ</span><span class="p">(</span><span class="n">QQ</span><span class="p">))</span>
<span class="go">Generalized Polynomial Ring in X^(Integer Ring) over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]),</span> <span class="n">GP_ZZ</span><span class="p">(</span><span class="n">QQ</span><span class="p">))</span>
<span class="go">Generalized Polynomial Ring in X^(Integer Ring)</span>
<span class="go">  over Univariate Polynomial Ring in t over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;a,b&#39;</span><span class="p">]),</span> <span class="n">GP_ZZ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;b,c&#39;</span><span class="p">]))</span>
<span class="go">Generalized Polynomial Ring in X^(Integer Ring)</span>
<span class="go">  over Multivariate Polynomial Ring in a, b, c over Integer Ring</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;a,b&#39;</span><span class="p">]),</span> <span class="n">GP_ZZ</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;b,c&#39;</span><span class="p">]))</span>
<span class="go">Generalized Polynomial Ring in X^(Integer Ring)</span>
<span class="go">  over Multivariate Polynomial Ring in a, b, c over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;a,b&#39;</span><span class="p">]),</span> <span class="n">GP_ZZ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;c,d&#39;</span><span class="p">]))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">CoercionException: (&#39;Ambiguous Base Extension&#39;, ...)</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">GP_QQ</span> <span class="o">=</span> <span class="n">GPolynomialFunctor</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">),</span> <span class="n">GP_QQ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">))</span>
<span class="go">Generalized Polynomial Ring in X^(Rational Field) over Integer Ring</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_QQ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">),</span> <span class="n">GP_ZZ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">))</span>
<span class="go">Generalized Polynomial Ring in X^(Rational Field) over Integer Ring</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">GP_ZZt</span> <span class="o">=</span> <span class="n">GPolynomialFunctor</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZt</span><span class="p">(</span><span class="n">ZZ</span><span class="p">),</span> <span class="n">GP_QQ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">))</span>
<span class="go">Generalized Polynomial Ring in X^(Univariate Polynomial Ring in t</span>
<span class="go">  over Rational Field) over Integer Ring</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">),</span> <span class="n">GP_QQ</span><span class="p">(</span><span class="n">QQ</span><span class="p">))</span>
<span class="go">Generalized Polynomial Ring in X^(Rational Field) over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZ</span><span class="p">(</span><span class="n">QQ</span><span class="p">),</span> <span class="n">GP_QQ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">))</span>
<span class="go">Generalized Polynomial Ring in X^(Rational Field) over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZt</span><span class="p">(</span><span class="n">QQ</span><span class="p">),</span> <span class="n">GP_QQ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">))</span>
<span class="go">Generalized Polynomial Ring in X^(Univariate Polynomial Ring in t</span>
<span class="go">  over Rational Field) over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZt</span><span class="p">(</span><span class="n">ZZ</span><span class="p">),</span> <span class="n">GP_QQ</span><span class="p">(</span><span class="n">QQ</span><span class="p">))</span>
<span class="go">Generalized Polynomial Ring in X^(Univariate Polynomial Ring in t</span>
<span class="go">  over Rational Field) over Rational Field</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZt</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;a,b&#39;</span><span class="p">]),</span> <span class="n">GP_QQ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;c,d&#39;</span><span class="p">]))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">CoercionException: (&#39;Ambiguous Base Extension&#39;, ...)</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">GP_ZZt</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;a,b&#39;</span><span class="p">]),</span> <span class="n">GP_QQ</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;b,c&#39;</span><span class="p">]))</span>
<span class="go">Generalized Polynomial Ring</span>
<span class="go"> in X^(Univariate Polynomial Ring in t over Rational Field)</span>
<span class="go">  over Multivariate Polynomial Ring in a, b, c over Integer Ring</span>
</pre></div>
</div>
<p>Some tests with Cartesian products:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.sets.cartesian_product</span> <span class="kn">import</span> <span class="n">CartesianProduct</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">CartesianProduct</span><span class="p">((</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">]),</span>
<span class="gp">....: </span>                     <span class="n">Sets</span><span class="p">()</span><span class="o">.</span><span class="n">CartesianProducts</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">CartesianProduct</span><span class="p">((</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">][</span><span class="s1">&#39;z&#39;</span><span class="p">]),</span>
<span class="gp">....: </span>                     <span class="n">Sets</span><span class="p">()</span><span class="o">.</span><span class="n">CartesianProducts</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="go">(The cartesian_product functorial construction,</span>
<span class="go"> (Univariate Polynomial Ring in x over Integer Ring,</span>
<span class="go">  Univariate Polynomial Ring in y over Rational Field,</span>
<span class="go">  Univariate Polynomial Ring in z over Rational Field))</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="go">The Cartesian product of</span>
<span class="go"> (Univariate Polynomial Ring in x over Integer Ring,</span>
<span class="go">  Univariate Polynomial Ring in y over Rational Field,</span>
<span class="go">  Univariate Polynomial Ring in z over</span>
<span class="go">   Univariate Polynomial Ring in t over Rational Field)</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">cartesian_product</span><span class="p">([</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">QQ</span><span class="p">]))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">CoercionException: &#39;NoneType&#39; object is not iterable</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">PolynomialFunctor</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.sets.cartesian_product</span> <span class="kn">import</span> <span class="n">CartesianProduct</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">CartesianProductPoly</span><span class="p">(</span><span class="n">CartesianProduct</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">polynomial_rings</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="n">sort</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">polynomial_rings</span><span class="p">,</span>
<span class="gp">....: </span>                      <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">P</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">variable_name</span><span class="p">())</span>
<span class="gp">....: </span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">sort</span><span class="p">,</span> <span class="n">Sets</span><span class="p">()</span><span class="o">.</span><span class="n">CartesianProducts</span><span class="p">())</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">variable_name</span><span class="p">()</span>
<span class="gp">....: </span>                     <span class="k">for</span> <span class="n">P</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cartesian_factors</span><span class="p">())</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_pushout_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">CartesianProductPoly</span><span class="p">):</span>
<span class="gp">....: </span>            <span class="n">s_vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vars</span><span class="p">()</span>
<span class="gp">....: </span>            <span class="n">o_vars</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">vars</span><span class="p">()</span>
<span class="gp">....: </span>            <span class="k">if</span> <span class="n">s_vars</span> <span class="o">==</span> <span class="n">o_vars</span><span class="p">:</span>
<span class="gp">....: </span>                <span class="k">return</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="n">pushout</span><span class="p">(</span><span class="n">CartesianProductPoly</span><span class="p">(</span>
<span class="gp">....: </span>                    <span class="bp">self</span><span class="o">.</span><span class="n">cartesian_factors</span><span class="p">()</span> <span class="o">+</span>
<span class="gp">....: </span>                    <span class="nb">tuple</span><span class="p">(</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">other</span><span class="o">.</span><span class="n">cartesian_factors</span><span class="p">()</span>
<span class="gp">....: </span>                          <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">variable_name</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">s_vars</span><span class="p">)),</span>
<span class="gp">....: </span>                <span class="n">CartesianProductPoly</span><span class="p">(</span>
<span class="gp">....: </span>                    <span class="n">other</span><span class="o">.</span><span class="n">cartesian_factors</span><span class="p">()</span> <span class="o">+</span>
<span class="gp">....: </span>                    <span class="nb">tuple</span><span class="p">(</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cartesian_factors</span><span class="p">()</span>
<span class="gp">....: </span>                          <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">variable_name</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">o_vars</span><span class="p">)))</span>
<span class="gp">....: </span>        <span class="n">C</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="n">C</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">return</span>
<span class="gp">....: </span>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">PolynomialFunctor</span><span class="p">):</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="n">pushout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">CartesianProductPoly</span><span class="p">((</span><span class="n">other</span><span class="p">,)))</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">CartesianProductPoly</span><span class="p">((</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],)),</span>
<span class="gp">....: </span>        <span class="n">CartesianProductPoly</span><span class="p">((</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">],)))</span>
<span class="go">The Cartesian product of</span>
<span class="go"> (Univariate Polynomial Ring in x over Integer Ring,</span>
<span class="go">  Univariate Polynomial Ring in y over Integer Ring)</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">CartesianProductPoly</span><span class="p">((</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])),</span>
<span class="gp">....: </span>        <span class="n">CartesianProductPoly</span><span class="p">((</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">])))</span>
<span class="go">The Cartesian product of</span>
<span class="go"> (Univariate Polynomial Ring in x over Integer Ring,</span>
<span class="go">  Univariate Polynomial Ring in y over Integer Ring,</span>
<span class="go">  Univariate Polynomial Ring in z over Integer Ring)</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">CartesianProductPoly</span><span class="p">((</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;a,b&#39;</span><span class="p">][</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])),</span>                  <span class="c1"># needs sage.symbolic</span>
<span class="gp">....: </span>        <span class="n">CartesianProductPoly</span><span class="p">((</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;b,c&#39;</span><span class="p">][</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">SR</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">])))</span>
<span class="go">The Cartesian product of</span>
<span class="go"> (Univariate Polynomial Ring in x over</span>
<span class="go">    Multivariate Polynomial Ring in a, b, c over Rational Field,</span>
<span class="go">  Univariate Polynomial Ring in y over Rational Field,</span>
<span class="go">  Univariate Polynomial Ring in z over Symbolic Ring)</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">CartesianProductPoly</span><span class="p">((</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],)),</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
<span class="go">The Cartesian product of</span>
<span class="go"> (Univariate Polynomial Ring in x over Integer Ring,</span>
<span class="go">  Univariate Polynomial Ring in y over Integer Ring)</span>
<span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;b,c&#39;</span><span class="p">][</span><span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">CartesianProductPoly</span><span class="p">((</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;a,b&#39;</span><span class="p">][</span><span class="s1">&#39;x&#39;</span><span class="p">],)))</span>
<span class="go">The Cartesian product of</span>
<span class="go"> (Univariate Polynomial Ring in x over</span>
<span class="go">    Multivariate Polynomial Ring in a, b over Integer Ring,</span>
<span class="go">  Univariate Polynomial Ring in y over</span>
<span class="go">    Multivariate Polynomial Ring in b, c over Rational Field)</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">pushout</span><span class="p">(</span><span class="n">CartesianProductPoly</span><span class="p">((</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],)),</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">CoercionException: No common base (&quot;join&quot;) found for</span>
<span class="go">The cartesian_product functorial construction(...) and None(Integer Ring):</span>
<span class="go">(Multivariate) functors are incompatible.</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li><p>Robert Bradshaw</p></li>
<li><p>Peter Bruin</p></li>
<li><p>Simon King</p></li>
<li><p>Daniel Krenn</p></li>
<li><p>David Roe</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.categories.pushout.pushout_lattice">
<span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">pushout_lattice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">S</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.pushout_lattice" title="Permalink to this definition">#</a></dt>
<dd><p>Given a pair of objects <span class="math notranslate nohighlight">\(R\)</span> and <span class="math notranslate nohighlight">\(S\)</span>, try to construct a
reasonable object <span class="math notranslate nohighlight">\(Y\)</span> and return maps such that
canonically <span class="math notranslate nohighlight">\(R \leftarrow Y \rightarrow S\)</span>.</p>
<p>ALGORITHM:</p>
<p>This is based on the model that arose from much discussion at
Sage Days 4.  Going up the tower of constructions of <span class="math notranslate nohighlight">\(R\)</span> and <span class="math notranslate nohighlight">\(S\)</span>
(e.g. the reals come from the rationals come from the integers),
try to find a common parent, and then try to fill in a lattice
with these two towers as sides with the top as the common ancestor
and the bottom will be the desired ring.</p>
<p>See the code for a specific worked-out example.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.categories.pushout</span> <span class="kn">import</span> <span class="n">pushout_lattice</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">pushout_lattice</span><span class="p">(</span><span class="n">Qp</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">Frac</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]))</span>                              <span class="c1"># needs sage.rings.padics</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">codomain</span><span class="p">()</span>                                                              <span class="c1"># needs sage.rings.padics</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in x</span>
<span class="go"> over 7-adic Field with capped relative precision 20</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">codomain</span><span class="p">()</span> <span class="ow">is</span> <span class="n">B</span><span class="o">.</span><span class="n">codomain</span><span class="p">()</span>                                              <span class="c1"># needs sage.rings.padics</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">pushout_lattice</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">]],</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>                  <span class="c1"># needs sage.modules</span>
<span class="gp">sage: </span><span class="n">B</span>                                                                         <span class="c1"># needs sage.modules</span>
<span class="go">Identity endomorphism of Full MatrixSpace of 3 by 3 dense matrices</span>
<span class="go"> over Power Series Ring in x over Integer Ring</span>
</pre></div>
</div>
<p>AUTHOR:</p>
<ul class="simple">
<li><p>Robert Bradshaw</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.categories.pushout.type_to_parent">
<span class="sig-prename descclassname"><span class="pre">sage.categories.pushout.</span></span><span class="sig-name descname"><span class="pre">type_to_parent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">P</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.categories.pushout.type_to_parent" title="Permalink to this definition">#</a></dt>
<dd><p>An auxiliary function that is used in <a class="reference internal" href="#sage.categories.pushout.pushout" title="sage.categories.pushout.pushout"><code class="xref py py-func docutils literal notranslate"><span class="pre">pushout()</span></code></a>.</p>
<p>INPUT:</p>
<p>A type</p>
<p>OUTPUT:</p>
<p>A Sage parent structure corresponding to the given type</p>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="action.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Group, ring, etc. actions on objects</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../structure/coerce_maps.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Coerce maps</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2023, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Coercion via construction functors</a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.AlgebraicClosureFunctor"><code class="docutils literal notranslate"><span class="pre">AlgebraicClosureFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.AlgebraicClosureFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.AlgebraicClosureFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.AlgebraicExtensionFunctor"><code class="docutils literal notranslate"><span class="pre">AlgebraicExtensionFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.AlgebraicExtensionFunctor.expand"><code class="docutils literal notranslate"><span class="pre">expand()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.AlgebraicExtensionFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.AlgebraicExtensionFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.BlackBoxConstructionFunctor"><code class="docutils literal notranslate"><span class="pre">BlackBoxConstructionFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.BlackBoxConstructionFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.CompletionFunctor"><code class="docutils literal notranslate"><span class="pre">CompletionFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.CompletionFunctor.commutes"><code class="docutils literal notranslate"><span class="pre">commutes()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.CompletionFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.CompletionFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.CompositeConstructionFunctor"><code class="docutils literal notranslate"><span class="pre">CompositeConstructionFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.CompositeConstructionFunctor.expand"><code class="docutils literal notranslate"><span class="pre">expand()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor"><code class="docutils literal notranslate"><span class="pre">ConstructionFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor.coercion_reversed"><code class="docutils literal notranslate"><span class="pre">coercion_reversed</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor.common_base"><code class="docutils literal notranslate"><span class="pre">common_base()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor.commutes"><code class="docutils literal notranslate"><span class="pre">commutes()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor.expand"><code class="docutils literal notranslate"><span class="pre">expand()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.ConstructionFunctor.pushout"><code class="docutils literal notranslate"><span class="pre">pushout()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.EquivariantSubobjectConstructionFunctor"><code class="docutils literal notranslate"><span class="pre">EquivariantSubobjectConstructionFunctor</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.FractionField"><code class="docutils literal notranslate"><span class="pre">FractionField</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.FractionField.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.IdentityConstructionFunctor"><code class="docutils literal notranslate"><span class="pre">IdentityConstructionFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.IdentityConstructionFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.InfinitePolynomialFunctor"><code class="docutils literal notranslate"><span class="pre">InfinitePolynomialFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.InfinitePolynomialFunctor.expand"><code class="docutils literal notranslate"><span class="pre">expand()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.InfinitePolynomialFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.InfinitePolynomialFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.LaurentPolynomialFunctor"><code class="docutils literal notranslate"><span class="pre">LaurentPolynomialFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.LaurentPolynomialFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.LaurentPolynomialFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.MatrixFunctor"><code class="docutils literal notranslate"><span class="pre">MatrixFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.MatrixFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.MatrixFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.MultiPolynomialFunctor"><code class="docutils literal notranslate"><span class="pre">MultiPolynomialFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.MultiPolynomialFunctor.expand"><code class="docutils literal notranslate"><span class="pre">expand()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.MultiPolynomialFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.MultiPolynomialFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.MultivariateConstructionFunctor"><code class="docutils literal notranslate"><span class="pre">MultivariateConstructionFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.MultivariateConstructionFunctor.common_base"><code class="docutils literal notranslate"><span class="pre">common_base()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.PermutationGroupFunctor"><code class="docutils literal notranslate"><span class="pre">PermutationGroupFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.PermutationGroupFunctor.gens"><code class="docutils literal notranslate"><span class="pre">gens()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.PermutationGroupFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.PermutationGroupFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.PolynomialFunctor"><code class="docutils literal notranslate"><span class="pre">PolynomialFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.PolynomialFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.PolynomialFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.QuotientFunctor"><code class="docutils literal notranslate"><span class="pre">QuotientFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.QuotientFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.QuotientFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.SubspaceFunctor"><code class="docutils literal notranslate"><span class="pre">SubspaceFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.SubspaceFunctor.coercion_reversed"><code class="docutils literal notranslate"><span class="pre">coercion_reversed</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.SubspaceFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.SubspaceFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.VectorFunctor"><code class="docutils literal notranslate"><span class="pre">VectorFunctor</span></code></a><ul>
<li><a class="reference internal" href="#sage.categories.pushout.VectorFunctor.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.VectorFunctor.rank"><code class="docutils literal notranslate"><span class="pre">rank</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sage.categories.pushout.construction_tower"><code class="docutils literal notranslate"><span class="pre">construction_tower()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.expand_tower"><code class="docutils literal notranslate"><span class="pre">expand_tower()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.pushout"><code class="docutils literal notranslate"><span class="pre">pushout()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.pushout_lattice"><code class="docutils literal notranslate"><span class="pre">pushout_lattice()</span></code></a></li>
<li><a class="reference internal" href="#sage.categories.pushout.type_to_parent"><code class="docutils literal notranslate"><span class="pre">type_to_parent()</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"ZZ": "\\Bold{Z}", "NN": "\\Bold{N}", "RR": "\\Bold{R}", "CC": "\\Bold{C}", "QQ": "\\Bold{Q}", "QQbar": "\\overline{\\QQ}", "GF": ["\\Bold{F}_{#1}", 1], "Zp": ["\\Bold{Z}_{#1}", 1], "Qp": ["\\Bold{Q}_{#1}", 1], "Zmod": ["\\ZZ/#1\\ZZ", 1], "CDF": "\\Bold{C}", "CIF": "\\Bold{C}", "CLF": "\\Bold{C}", "RDF": "\\Bold{R}", "RIF": "\\Bold{I} \\Bold{R}", "RLF": "\\Bold{R}", "SL": "\\mathrm{SL}", "PSL": "\\mathrm{PSL}", "lcm": "\\mathop{\\operatorname{lcm}}", "Bold": ["\\mathbf{#1}", 1]}, "inlineMath": [["$", "$"], ["\\(", "\\)"]], "maxBuffer": 51200, "autoload": {"color": [], "colorv2": ["color"]}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script src="../../../_static/jupyter-sphinx-furo.js"></script>
    </body>
</html>