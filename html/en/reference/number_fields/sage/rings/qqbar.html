
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=600, initial-scale=1">
    <title>Field of Algebraic Numbers &#8212; Sage Reference Manual v8.9: Algebraic Numbers and Number Fields</title>
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Universal cyclotomic field" href="universal_cyclotomic_field.html" />
    <link rel="prev" title="Enumeration of Totally Real Fields: PHC interface" href="number_field/totallyreal_phc.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="universal_cyclotomic_field.html" title="Universal cyclotomic field"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="number_field/totallyreal_phc.html" title="Enumeration of Totally Real Fields: PHC interface"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Algebraic Numbers and Number Fields</a> &#187;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="field-of-algebraic-numbers">
<span id="sage-rings-qqbar"></span><h1>Field of Algebraic Numbers<a class="headerlink" href="#field-of-algebraic-numbers" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.rings.qqbar"></span><p>AUTHOR:</p>
<ul class="simple">
<li>Carl Witty (2007-01-27): initial version</li>
<li>Carl Witty (2007-10-29): massive rewrite to support complex as well as real numbers</li>
</ul>
<p>This is an implementation of the algebraic numbers (the complex
numbers which are the zero of a polynomial in <span class="math notranslate nohighlight">\(\ZZ[x]\)</span>; in other
words, the algebraic closure of <span class="math notranslate nohighlight">\(\QQ\)</span>, with an embedding into <span class="math notranslate nohighlight">\(\CC\)</span>).
All computations are exact. We also include an implementation of the
algebraic reals (the intersection of the algebraic numbers with
<span class="math notranslate nohighlight">\(\RR\)</span>). The field of algebraic numbers <span class="math notranslate nohighlight">\(\QQbar\)</span> is available with
abbreviation <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>; the field of algebraic reals has abbreviation
<code class="docutils literal notranslate"><span class="pre">AA</span></code>.</p>
<p>As with many other implementations of the algebraic numbers, we try
hard to avoid computing a number field and working in the number
field; instead, we use floating-point interval arithmetic whenever
possible (basically whenever we need to prove non-equalities), and
resort to symbolic computation only as needed (basically to prove
equalities).</p>
<p>Algebraic numbers exist in one of the following forms:</p>
<ul class="simple">
<li>a rational number</li>
<li>the sum, difference, product, or quotient of algebraic numbers</li>
<li>the negation, inverse, absolute value, norm, real part,
imaginary part, or complex conjugate of an algebraic number</li>
<li>a particular root of a polynomial, given as a polynomial with
algebraic coefficients together with an isolating interval (given as
a <code class="docutils literal notranslate"><span class="pre">RealIntervalFieldElement</span></code>) which encloses exactly one root, and
the multiplicity of the root</li>
<li>a polynomial in one generator, where the generator is an algebraic
number given as the root of an irreducible polynomial with integral
coefficients and the polynomial is given as a
<code class="docutils literal notranslate"><span class="pre">NumberFieldElement</span></code>.</li>
</ul>
<p>An algebraic number can be coerced into <code class="docutils literal notranslate"><span class="pre">ComplexIntervalField</span></code> (or
<code class="docutils literal notranslate"><span class="pre">RealIntervalField</span></code>, for algebraic reals); every algebraic number has a
cached interval of the highest precision yet calculated.</p>
<p>In most cases, computations that need to compare two algebraic numbers
compute them with 128-bit precision intervals; if this does not suffice to
prove that the numbers are different, then we fall back on exact
computation.</p>
<p>Note that division involves an implicit comparison of the divisor against
zero, and may thus trigger exact computation.</p>
<p>Also, using an algebraic number in the leading coefficient of
a polynomial also involves an implicit comparison against zero, which
again may trigger exact computation.</p>
<p>Note that we work fairly hard to avoid computing new number fields;
to help, we keep a lattice of already-computed number fields and
their inclusions.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">2</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">((</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="go">True</span>
</pre></div>
</div>
<p>For a monic cubic polynomial <span class="math notranslate nohighlight">\(x^3 + bx^2 + cx + d\)</span> with roots <span class="math notranslate nohighlight">\(s1\)</span>,
<span class="math notranslate nohighlight">\(s2\)</span>, <span class="math notranslate nohighlight">\(s3\)</span>, the discriminant is defined as
<span class="math notranslate nohighlight">\((s1-s2)^2(s1-s3)^2(s2-s3)^2\)</span> and can be computed as <span class="math notranslate nohighlight">\(b^2c^2 - 4b^3d -
4c^3 + 18bcd - 27d^2\)</span>. We can test that these definitions do give the
same result:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">disc1</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">c</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">b</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="n">d</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">c</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">18</span><span class="o">*</span><span class="n">b</span><span class="o">*</span><span class="n">c</span><span class="o">*</span><span class="n">d</span> <span class="o">-</span> <span class="mi">27</span><span class="o">*</span><span class="n">d</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">disc2</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">s3</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="p">((</span><span class="n">s1</span><span class="o">-</span><span class="n">s2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">s1</span><span class="o">-</span><span class="n">s3</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">s2</span><span class="o">-</span><span class="n">s3</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">AA</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cp</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">s1</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">cp</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">cp</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">s3</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">cp</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">disc1</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="o">==</span> <span class="n">disc2</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">p</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">cp</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">s1</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">cp</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">cp</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">s3</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">cp</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">disc1</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="o">==</span> <span class="n">disc2</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">nth_root</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">cp</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">s1</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">cp</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mf">1.4</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">s2</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">cp</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mf">1.7</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">s3</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">cp</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">disc1</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span> <span class="o">==</span> <span class="n">disc2</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">s3</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We can convert from symbolic expressions:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">))</span>
<span class="go">2.236067977499790?*I</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">3.146264369941973?</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">I</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Cannot coerce algebraic number with non-zero imaginary part to algebraic real</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="n">I</span> <span class="o">*</span> <span class="n">golden_ratio</span><span class="p">)</span>
<span class="go">1.618033988749895?*I</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">golden_ratio</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">AA</span><span class="p">(</span><span class="n">golden_ratio</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">((</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span>
<span class="go">1.000000000000000? + 1.732050807568878?*I</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">((</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span>
<span class="go">-2</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">((</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">))</span>
<span class="go">1 + 1*I</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">((</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: Cannot coerce algebraic number with non-zero imaginary part to algebraic real</span>
</pre></div>
</div>
<p>The coercion, however, goes in the other direction, since not all
symbolic expressions are algebraic numbers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">sqrt(3) + 1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">3.146264369941973?</span>
</pre></div>
</div>
<p>Note the different behavior in taking roots: for <code class="docutils literal notranslate"><span class="pre">AA</span></code> we prefer real
roots if they exist, but for <code class="docutils literal notranslate"><span class="pre">QQbar</span></code> we take the principal root:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">0.500000000000000? + 0.866025403784439?*I</span>
</pre></div>
</div>
<p>We can explicitly coerce from <span class="math notranslate nohighlight">\(\QQ[I]\)</span>. (Technically, this is not quite
kosher, since <span class="math notranslate nohighlight">\(\QQ[I]\)</span> does not come with an embedding; we do not know
whether the field generator is supposed to map to <span class="math notranslate nohighlight">\(+I\)</span> or <span class="math notranslate nohighlight">\(-I\)</span>. We assume
that for any quadratic field with polynomial <span class="math notranslate nohighlight">\(x^2+1\)</span>, the generator maps
to <span class="math notranslate nohighlight">\(+I\)</span>.):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">im</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="n">I</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">pythag</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">im</span><span class="o">/</span><span class="mi">5</span><span class="p">);</span> <span class="n">pythag</span>
<span class="go">4/5*I + 3/5</span>
<span class="gp">sage: </span><span class="n">pythag</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span>
<span class="go">True</span>
</pre></div>
</div>
<p>However, implicit coercion from <span class="math notranslate nohighlight">\(\QQ[I]\)</span> is not allowed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">im</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: unsupported operand parent(s) for +: &#39;Algebraic Field&#39; and &#39;Number Field in I with defining polynomial x^2 + 1 with I = 1*I&#39;</span>
</pre></div>
</div>
<p>We can implicitly coerce from algebraic reals to algebraic numbers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">(1, Algebraic Field)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">(1, Algebraic Real Field)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span> <span class="n">c</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">(2, Algebraic Field)</span>
</pre></div>
</div>
<p>Some computation with radicals:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span> <span class="o">/</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">phi</span> <span class="o">+</span> <span class="mi">1</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">tau</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span> <span class="o">/</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">tau</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">tau</span> <span class="o">+</span> <span class="mi">1</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">+</span> <span class="n">tau</span> <span class="o">==</span> <span class="mi">1</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">tau</span> <span class="o">&lt;</span> <span class="mi">0</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">rt23</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt35</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt25</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt23</span> <span class="o">*</span> <span class="n">rt35</span> <span class="o">==</span> <span class="n">rt25</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The Sage rings <code class="docutils literal notranslate"><span class="pre">AA</span></code> and <code class="docutils literal notranslate"><span class="pre">QQbar</span></code> can decide equalities between radical
expressions (over the reals and complex numbers respectively):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">AA</span><span class="p">((</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="o">+</span> <span class="mi">10</span><span class="o">/</span><span class="mi">27</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="mi">9</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="o">+</span> <span class="mi">10</span><span class="o">/</span><span class="mi">27</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">1.000000000000000?</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="mi">1</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Algebraic numbers which are known to be rational print as rationals;
otherwise they print as intervals (with 53-bit precision):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span>
<span class="go">2/3</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">7</span><span class="p">)</span>
<span class="go">5/7</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="n">I</span><span class="p">)</span>
<span class="go">-1/4*I + 1/3</span>
<span class="gp">sage: </span><span class="n">two</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">nth_root</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">two</span>
<span class="go">2.000000000000000?</span>
<span class="gp">sage: </span><span class="n">two</span> <span class="o">==</span> <span class="mi">2</span><span class="p">;</span> <span class="n">two</span>
<span class="go">True</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">phi</span>
<span class="go">1.618033988749895?</span>
</pre></div>
</div>
<p>We can find the real and imaginary parts of an algebraic number (exactly):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">CIF</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)));</span> <span class="n">r</span>
<span class="go">0.1812324444698754? + 1.083954101317711?*I</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">real</span><span class="p">()</span>
<span class="go">0.1812324444698754?</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">imag</span><span class="p">()</span>
<span class="go">1.083954101317711?</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">minpoly</span><span class="p">()</span>
<span class="go">x^5 - x - 1</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">real</span><span class="p">()</span><span class="o">.</span><span class="n">minpoly</span><span class="p">()</span>
<span class="go">x^10 + 3/16*x^6 + 11/32*x^5 - 1/64*x^2 + 1/128*x - 1/1024</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">imag</span><span class="p">()</span><span class="o">.</span><span class="n">minpoly</span><span class="p">()</span>  <span class="c1"># long time (10s on sage.math, 2013)</span>
<span class="go">x^20 - 5/8*x^16 - 95/256*x^12 - 625/1024*x^10 - 5/512*x^8 - 1875/8192*x^6 + 25/4096*x^4 - 625/32768*x^2 + 2869/1048576</span>
</pre></div>
</div>
<p>We can find the absolute value and norm of an algebraic number exactly.
(Note that we define the norm as the product of a number and its
complex conjugate; this is the algebraic definition of norm, if we
view <code class="docutils literal notranslate"><span class="pre">QQbar</span></code> as <code class="docutils literal notranslate"><span class="pre">AA[I]</span></code>.):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">QQbar</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="mi">2</span><span class="p">];</span> <span class="n">r</span>
<span class="go">1.000000000000000? + 1.732050807568878?*I</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">r</span><span class="o">+</span><span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">))</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span><span class="o">.</span><span class="n">minpoly</span><span class="p">()</span>
<span class="go">x^2 - 10*x + 13</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span> <span class="n">r</span>
<span class="go">-0.618033988749895?</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">minpoly</span><span class="p">()</span>
<span class="go">x^2 + x - 1</span>
</pre></div>
</div>
<p>We can compute the multiplicative order of an algebraic number:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">I</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">multiplicative_order</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">I</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">multiplicative_order</span><span class="p">()</span>
<span class="go">12</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span><span class="o">**</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">multiplicative_order</span><span class="p">()</span>
<span class="go">23</span>
</pre></div>
</div>
<p>The paper “ARPREC: An Arbitrary Precision Computation Package” by
Bailey, Yozo, Li and Thompson discusses this result. Evidently it is
difficult to find, but we can easily verify it.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">alpha</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">10</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">9</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">7</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">6</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">-</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">lhs</span> <span class="o">=</span> <span class="n">alpha</span><span class="o">^</span><span class="mi">630</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">rhs_num</span> <span class="o">=</span> <span class="p">(</span><span class="n">alpha</span><span class="o">^</span><span class="mi">315</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">alpha</span><span class="o">^</span><span class="mi">210</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">alpha</span><span class="o">^</span><span class="mi">126</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">alpha</span><span class="o">^</span><span class="mi">90</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">alpha</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="n">alpha</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span> <span class="o">*</span> <span class="p">(</span><span class="n">alpha</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">rhs_den</span> <span class="o">=</span> <span class="p">(</span><span class="n">alpha</span><span class="o">^</span><span class="mi">35</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">alpha</span><span class="o">^</span><span class="mi">15</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">alpha</span><span class="o">^</span><span class="mi">14</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">alpha</span><span class="o">^</span><span class="mi">5</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span> <span class="o">*</span> <span class="n">alpha</span><span class="o">^</span><span class="mi">68</span>
<span class="gp">sage: </span><span class="n">rhs</span> <span class="o">=</span> <span class="n">rhs_num</span> <span class="o">/</span> <span class="n">rhs_den</span>
<span class="gp">sage: </span><span class="n">lhs</span>
<span class="go">2.642040335819351?e44</span>
<span class="gp">sage: </span><span class="n">rhs</span>
<span class="go">2.642040335819351?e44</span>
<span class="gp">sage: </span><span class="n">lhs</span> <span class="o">-</span> <span class="n">rhs</span>
<span class="go">0.?e29</span>
<span class="gp">sage: </span><span class="n">lhs</span> <span class="o">==</span> <span class="n">rhs</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">lhs</span> <span class="o">-</span> <span class="n">rhs</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">lhs</span><span class="o">.</span><span class="n">_exact_value</span><span class="p">()</span>
<span class="go">-10648699402510886229334132989629606002223831*a^9 + 23174560249100286133718183712802529035435800*a^8 - 27259790692625442252605558473646959458901265*a^7 + 21416469499004652376912957054411004410158065*a^6 - 14543082864016871805545108986578337637140321*a^5 + 6458050008796664339372667222902512216589785*a^4 + 3052219053800078449122081871454923124998263*a^3 - 14238966128623353681821644902045640915516176*a^2 + 16749022728952328254673732618939204392161001*a - 9052854758155114957837247156588012516273410 where a^10 - a^9 + a^7 - a^6 + a^5 - a^4 + a^3 - a + 1 = 0 and a in -1.176280818259918?</span>
</pre></div>
</div>
<p>Given an algebraic number, we can produce a string that will reproduce
that algebraic number if you type the string into Sage. We can see
that until exact computation is triggered, an algebraic number keeps
track of the computation steps used to produce that number:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt3</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="p">(</span><span class="n">rt2</span> <span class="o">+</span> <span class="n">rt3</span><span class="p">)</span><span class="o">^</span><span class="mi">5</span><span class="p">;</span> <span class="n">n</span>
<span class="go">308.3018001722975?</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">v1 = AA.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951))) + AA.polynomial_root(AA.common_polynomial(x^2 - 3), RIF(RR(1.7320508075688772), RR(1.7320508075688774)))</span>
<span class="go">v2 = v1*v1</span>
<span class="go">v2*v2*v1</span>
</pre></div>
</div>
<p>But once exact computation is triggered, the computation tree is discarded,
and we get a way to produce the number directly:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span> <span class="o">==</span> <span class="mi">109</span><span class="o">*</span><span class="n">rt2</span> <span class="o">+</span> <span class="mi">89</span><span class="o">*</span><span class="n">rt3</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">R.&lt;y&gt; = QQ[]</span>
<span class="go">v = AA.polynomial_root(AA.common_polynomial(y^4 - 4*y^2 + 1), RIF(RR(0.51763809020504148), RR(0.51763809020504159)))</span>
<span class="go">-109*v^3 - 89*v^2 + 327*v + 178</span>
</pre></div>
</div>
<p>We can also see that some computations (basically, those which are
easy to perform exactly) are performed directly, instead of storing
the computation tree:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">z3_3</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">z4_4</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">*</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">z5_5</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">z3_3</span> <span class="o">*</span> <span class="n">z4_4</span> <span class="o">*</span> <span class="n">z5_5</span><span class="p">)</span>
<span class="go">R.&lt;y&gt; = QQ[]</span>
<span class="go">3*QQbar.polynomial_root(AA.common_polynomial(y^2 + y + 1), CIF(RIF(-RR(0.50000000000000011), -RR(0.49999999999999994)), RIF(RR(0.8660254037844386), RR(0.86602540378443871))))*QQbar(4*I)*(5*QQbar.polynomial_root(AA.common_polynomial(y^4 + y^3 + y^2 + y + 1), CIF(RIF(RR(0.3090169943749474), RR(0.30901699437494745)), RIF(RR(0.95105651629515353), RR(0.95105651629515364)))))</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">verify=True</span></code> argument to <code class="docutils literal notranslate"><span class="pre">sage_input</span></code> will always trigger
exact computation, so running <code class="docutils literal notranslate"><span class="pre">sage_input</span></code> twice in a row on the same number
will actually give different answers. In the following, running <code class="docutils literal notranslate"><span class="pre">sage_input</span></code>
on <code class="docutils literal notranslate"><span class="pre">n</span></code> will also trigger exact computation on <code class="docutils literal notranslate"><span class="pre">rt2</span></code>, as you can see by the
fact that the third output is different than the first:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">rt2</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">v = AA.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951)))</span>
<span class="go">v*v</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">AA(2)</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">rt2</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">AA(2)</span>
</pre></div>
</div>
<p>Just for fun, let’s try <code class="docutils literal notranslate"><span class="pre">sage_input</span></code> on a very complicated expression. The
output of this example changed with the rewriting of polynomial multiplication
algorithms in <a class="reference external" href="https://trac.sagemath.org/10255">trac ticket #10255</a>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt3</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQbar</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nrt3</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="n">rt2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">rt3</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">one</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="n">rt2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">rt3</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">nrt3</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">rt3</span><span class="o">-</span><span class="n">nrt3</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">one</span>
<span class="go">1.000000000000000?</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">one</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R1.&lt;x&gt; = QQbar[]</span>
<span class="go">R2.&lt;y&gt; = QQ[]</span>
<span class="go">v = AA.polynomial_root(AA.common_polynomial(y^4 - 4*y^2 + 1), RIF(RR(0.51763809020504148), RR(0.51763809020504159)))</span>
<span class="go">AA.polynomial_root(AA.common_polynomial(x^4 + QQbar(v^3 - 3*v - 1)*x^3 + QQbar(-v^3 + 3*v - 3)*x^2 + QQbar(-3*v^3 + 9*v + 3)*x + QQbar(3*v^3 - 9*v)), RIF(RR(0.99999999999999989), RR(1.0000000000000002)))</span>
<span class="gp">sage: </span><span class="n">one</span>
<span class="go">1</span>
</pre></div>
</div>
<p>We can pickle and unpickle algebraic fields (and they are globally unique):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">AlgebraicField</span><span class="p">()))</span> <span class="ow">is</span> <span class="n">AlgebraicField</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">AlgebraicRealField</span><span class="p">()))</span> <span class="ow">is</span> <span class="n">AlgebraicRealField</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We can pickle and unpickle algebraic numbers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span> <span class="o">==</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span> <span class="o">==</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span> <span class="o">==</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span> <span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">_descr</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANRoot&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">t</span><span class="p">))</span> <span class="o">==</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">exactify</span><span class="p">();</span> <span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">_descr</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">t</span><span class="p">))</span> <span class="o">==</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="o">~</span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span> <span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">_descr</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANUnaryExpr&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">t</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="o">/</span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span> <span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">_descr</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANBinaryExpr&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">t</span><span class="p">))</span> <span class="o">==</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We can convert elements of <code class="docutils literal notranslate"><span class="pre">QQbar</span></code> and <code class="docutils literal notranslate"><span class="pre">AA</span></code> into the following
types: <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">complex</span></code>, <code class="docutils literal notranslate"><span class="pre">RDF</span></code>, <code class="docutils literal notranslate"><span class="pre">CDF</span></code>, <code class="docutils literal notranslate"><span class="pre">RR</span></code>, <code class="docutils literal notranslate"><span class="pre">CC</span></code>,
<code class="docutils literal notranslate"><span class="pre">RIF</span></code>, <code class="docutils literal notranslate"><span class="pre">CIF</span></code>, <code class="docutils literal notranslate"><span class="pre">ZZ</span></code>, and <code class="docutils literal notranslate"><span class="pre">QQ</span></code>, with a few exceptions. (For the
arbitrary-precision types, <code class="docutils literal notranslate"><span class="pre">RR</span></code>, <code class="docutils literal notranslate"><span class="pre">CC</span></code>, <code class="docutils literal notranslate"><span class="pre">RIF</span></code>, and <code class="docutils literal notranslate"><span class="pre">CIF</span></code>, it
can convert into a field of arbitrary precision.)</p>
<p>Converting from <code class="docutils literal notranslate"><span class="pre">QQbar</span></code> to a real type (<code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">RDF</span></code>, <code class="docutils literal notranslate"><span class="pre">RR</span></code>,
<code class="docutils literal notranslate"><span class="pre">RIF</span></code>, <code class="docutils literal notranslate"><span class="pre">ZZ</span></code>, or <code class="docutils literal notranslate"><span class="pre">QQ</span></code>) succeeds only if the <code class="docutils literal notranslate"><span class="pre">QQbar</span></code> is actually
real (has an imaginary component of exactly zero). Converting from
either <code class="docutils literal notranslate"><span class="pre">AA</span></code> or <code class="docutils literal notranslate"><span class="pre">QQbar</span></code> to <code class="docutils literal notranslate"><span class="pre">ZZ</span></code> or <code class="docutils literal notranslate"><span class="pre">QQ</span></code> succeeds only if the
number actually is an integer or rational. If conversion fails, a
ValueError will be raised.</p>
<p>Here are examples of all of these conversions:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">all_vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">AA</span><span class="p">(</span><span class="mi">42</span><span class="p">),</span> <span class="n">AA</span><span class="p">(</span><span class="mi">22</span><span class="o">/</span><span class="mi">7</span><span class="p">),</span> <span class="n">AA</span><span class="p">(</span><span class="n">golden_ratio</span><span class="p">),</span> <span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">13</span><span class="p">),</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">89</span><span class="o">/</span><span class="mi">55</span><span class="p">),</span> <span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">7</span><span class="p">)),</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">convert_test_all</span><span class="p">(</span><span class="n">ty</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">convert_test</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">try</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="n">ty</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="bp">None</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="p">[</span><span class="n">convert_test</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">all_vals</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">convert_test_all</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="go">[42.0, 3.1428571428571432, 1.618033988749895, -13.0, 1.6181818181818182, -2.6457513110645907, None]</span>
<span class="gp">sage: </span><span class="n">convert_test_all</span><span class="p">(</span><span class="nb">complex</span><span class="p">)</span>
<span class="go">[(42+0j), (3.1428571428571432+0j), (1.618033988749895+0j), (-13+0j), (1.6181818181818182+0j), (-2.6457513110645907+0j), (0.30901699437494745+0.9510565162951536j)]</span>
<span class="gp">sage: </span><span class="n">convert_test_all</span><span class="p">(</span><span class="n">RDF</span><span class="p">)</span>
<span class="go">[42.0, 3.1428571428571432, 1.618033988749895, -13.0, 1.6181818181818182, -2.6457513110645907, None]</span>
<span class="gp">sage: </span><span class="n">convert_test_all</span><span class="p">(</span><span class="n">CDF</span><span class="p">)</span>
<span class="go">[42.0, 3.1428571428571432, 1.618033988749895, -13.0, 1.6181818181818182, -2.6457513110645907, 0.30901699437494745 + 0.9510565162951536*I]</span>
<span class="gp">sage: </span><span class="n">convert_test_all</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="go">[42.0000000000000, 3.14285714285714, 1.61803398874989, -13.0000000000000, 1.61818181818182, -2.64575131106459, None]</span>
<span class="gp">sage: </span><span class="n">convert_test_all</span><span class="p">(</span><span class="n">CC</span><span class="p">)</span>
<span class="go">[42.0000000000000, 3.14285714285714, 1.61803398874989, -13.0000000000000, 1.61818181818182, -2.64575131106459, 0.309016994374947 + 0.951056516295154*I]</span>
<span class="gp">sage: </span><span class="n">convert_test_all</span><span class="p">(</span><span class="n">RIF</span><span class="p">)</span>
<span class="go">[42, 3.142857142857143?, 1.618033988749895?, -13, 1.618181818181819?, -2.645751311064591?, None]</span>
<span class="gp">sage: </span><span class="n">convert_test_all</span><span class="p">(</span><span class="n">CIF</span><span class="p">)</span>
<span class="go">[42, 3.142857142857143?, 1.618033988749895?, -13, 1.618181818181819?, -2.645751311064591?, 0.3090169943749474? + 0.9510565162951536?*I]</span>
<span class="gp">sage: </span><span class="n">convert_test_all</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="go">[42, None, None, -13, None, None, None]</span>
<span class="gp">sage: </span><span class="n">convert_test_all</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">[42, 22/7, None, -13, 89/55, None, None]</span>
</pre></div>
</div>
<p>Compute the exact coordinates of a 34-gon (the formulas used are from
Weisstein, Eric W. “Trigonometry Angles–Pi/17.” and can be found at
<a class="reference external" href="http://mathworld.wolfram.com/TrigonometryAnglesPi17.html">http://mathworld.wolfram.com/TrigonometryAnglesPi17.html</a>):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rt17</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">eps</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span> <span class="o">+</span> <span class="n">rt17</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">epss</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span> <span class="o">-</span> <span class="n">rt17</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">delta</span> <span class="o">=</span> <span class="n">rt17</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">alpha</span> <span class="o">=</span> <span class="p">(</span><span class="mi">34</span> <span class="o">+</span> <span class="mi">6</span><span class="o">*</span><span class="n">rt17</span> <span class="o">+</span> <span class="n">rt2</span><span class="o">*</span><span class="n">delta</span><span class="o">*</span><span class="n">epss</span> <span class="o">-</span> <span class="mi">8</span><span class="o">*</span><span class="n">rt2</span><span class="o">*</span><span class="n">eps</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">beta</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">17</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">rt17</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">rt2</span><span class="o">*</span><span class="n">eps</span> <span class="o">-</span> <span class="n">rt2</span><span class="o">*</span><span class="n">epss</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">rt2</span><span class="o">*</span><span class="p">(</span><span class="mi">15</span> <span class="o">+</span> <span class="n">rt17</span> <span class="o">+</span> <span class="n">rt2</span><span class="o">*</span><span class="p">(</span><span class="n">alpha</span> <span class="o">+</span> <span class="n">epss</span><span class="p">))</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span><span class="o">/</span><span class="mi">8</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">rt2</span><span class="o">*</span><span class="p">(</span><span class="n">epss</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">rt2</span><span class="o">*</span><span class="p">(</span><span class="n">alpha</span> <span class="o">+</span> <span class="n">epss</span><span class="p">))</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span><span class="o">/</span><span class="mi">8</span>

<span class="gp">sage: </span><span class="n">cx</span><span class="p">,</span> <span class="n">cy</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">34</span><span class="p">):</span>
<span class="gp">....: </span>   <span class="n">cx</span><span class="p">,</span> <span class="n">cy</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">cx</span><span class="o">-</span><span class="n">y</span><span class="o">*</span><span class="n">cy</span><span class="p">,</span> <span class="n">x</span><span class="o">*</span><span class="n">cy</span><span class="o">+</span><span class="n">y</span><span class="o">*</span><span class="n">cx</span>
<span class="gp">sage: </span><span class="n">cx</span>
<span class="go">1.000000000000000?</span>
<span class="gp">sage: </span><span class="n">cy</span>
<span class="go">0.?e-15</span>

<span class="gp">sage: </span><span class="n">ax</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">AA</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x2</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="mi">256</span><span class="o">*</span><span class="n">ax</span><span class="o">**</span><span class="mi">8</span> <span class="o">-</span> <span class="mi">128</span><span class="o">*</span><span class="n">ax</span><span class="o">**</span><span class="mi">7</span> <span class="o">-</span> <span class="mi">448</span><span class="o">*</span><span class="n">ax</span><span class="o">**</span><span class="mi">6</span> <span class="o">+</span> <span class="mi">192</span><span class="o">*</span><span class="n">ax</span><span class="o">**</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">240</span><span class="o">*</span><span class="n">ax</span><span class="o">**</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">80</span><span class="o">*</span><span class="n">ax</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">40</span><span class="o">*</span><span class="n">ax</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">8</span><span class="o">*</span><span class="n">ax</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mf">0.9829</span><span class="p">,</span> <span class="mf">0.983</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">y2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">-</span> <span class="n">x2</span>
<span class="go">0.?e-18</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">-</span> <span class="n">y2</span>
<span class="go">0.?e-17</span>
</pre></div>
</div>
<p>Ideally, in the above example we should be able to test <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">x2</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">==</span>
<span class="pre">y2</span></code> but this is currently infinitely long.</p>
<dl class="attribute">
<dt id="sage.rings.qqbar.AA">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">AA</code><em class="property"> = Algebraic Real Field</em><a class="headerlink" href="#sage.rings.qqbar.AA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.ANBinaryExpr">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">ANBinaryExpr</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANBinaryExpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.qqbar.ANDescr" title="sage.rings.qqbar.ANDescr"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.qqbar.ANDescr</span></code></a></p>
<p>Initialize this ANBinaryExpr.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span> <span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">_descr</span><span class="p">)</span> <span class="c1"># indirect doctest</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANBinaryExpr&#39;&gt;</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.rings.qqbar.ANBinaryExpr.exactify">
<code class="descname">exactify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANBinaryExpr.exactify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANBinaryExpr.handle_sage_input">
<code class="descname">handle_sage_input</code><span class="sig-paren">(</span><em>sib</em>, <em>coerce</em>, <em>is_qqbar</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANBinaryExpr.handle_sage_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce an expression which will reproduce this value when evaluated,
and an indication of whether this value is worth sharing (always
True for <code class="docutils literal notranslate"><span class="pre">ANBinaryExpr</span></code>).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">2 + AA.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951)))</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">AA.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951))) + 2</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">2</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">2 - AA.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951)))</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">2</span> <span class="o">/</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">2/AA.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951)))</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">))),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">2 - AA.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951)))</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">2*AA.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951)))</span>
<span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">one</span> <span class="o">=</span> <span class="n">rt2</span><span class="o">/</span><span class="n">rt2</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">one</span><span class="o">+</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">v = AA.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951)))</span>
<span class="go">v/v + 3</span>
<span class="gp">sage: </span><span class="n">one</span> <span class="o">==</span> <span class="mi">1</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">1 + AA(3)</span>
<span class="gp">sage: </span><span class="n">rt3</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">one</span> <span class="o">=</span> <span class="n">rt3</span><span class="o">/</span><span class="n">rt3</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="n">one</span>
<span class="gp">sage: </span><span class="n">one</span> <span class="o">==</span> <span class="mi">1</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">QQbar.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951))) + 1</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>
<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">binexp</span> <span class="o">=</span> <span class="n">ANBinaryExpr</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">AA</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">operator</span><span class="o">.</span><span class="n">mul</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">binexp</span><span class="o">.</span><span class="n">handle_sage_input</span><span class="p">(</span><span class="n">sib</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
<span class="go">({binop:* {atomic:3} {call: {atomic:AA}({atomic:5})}}, True)</span>
<span class="gp">sage: </span><span class="n">binexp</span><span class="o">.</span><span class="n">handle_sage_input</span><span class="p">(</span><span class="n">sib</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">({call: {atomic:QQbar}({binop:* {atomic:3} {call: {atomic:AA}({atomic:5})}})}, True)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANBinaryExpr.is_complex">
<code class="descname">is_complex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANBinaryExpr.is_complex" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this element is complex. Does not trigger exact computation, so
may return True even if the element is real.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)))</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_complex</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.ANDescr">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">ANDescr</code><a class="headerlink" href="#sage.rings.qqbar.ANDescr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage Reference Manual: Parents and Elements v8.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.sage_object.SageObject</span></code></a></p>
<p>An <code class="docutils literal notranslate"><span class="pre">AlgebraicNumber</span></code> or <code class="docutils literal notranslate"><span class="pre">AlgebraicReal</span></code> is a wrapper around an
<code class="docutils literal notranslate"><span class="pre">ANDescr</span></code> object. <code class="docutils literal notranslate"><span class="pre">ANDescr</span></code> is an abstract base class, which should
never be directly instantiated; its concrete subclasses are <code class="docutils literal notranslate"><span class="pre">ANRational</span></code>,
<code class="docutils literal notranslate"><span class="pre">ANBinaryExpr</span></code>, <code class="docutils literal notranslate"><span class="pre">ANUnaryExpr</span></code>, <code class="docutils literal notranslate"><span class="pre">ANRoot</span></code>, and <code class="docutils literal notranslate"><span class="pre">ANExtensionElement</span></code>.
<code class="docutils literal notranslate"><span class="pre">ANDescr</span></code> and all of its subclasses are for internal use, and should not
be used directly.</p>
<dl class="method">
<dt id="sage.rings.qqbar.ANDescr.abs">
<code class="descname">abs</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANDescr.abs" title="Permalink to this definition">¶</a></dt>
<dd><p>Absolute value of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANUnaryExpr object at ...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANDescr.conjugate">
<code class="descname">conjugate</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANDescr.conjugate" title="Permalink to this definition">¶</a></dt>
<dd><p>Complex conjugate of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">conjugate</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANUnaryExpr object at ...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANDescr.imag">
<code class="descname">imag</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANDescr.imag" title="Permalink to this definition">¶</a></dt>
<dd><p>Imaginary part of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">imag</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANUnaryExpr object at ...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANDescr.invert">
<code class="descname">invert</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANDescr.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>1/self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">invert</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANUnaryExpr object at ...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANDescr.is_simple">
<code class="descname">is_simple</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANDescr.is_simple" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether this descriptor represents a value with the same
algebraic degree as the number field associated with the descriptor.</p>
<p>This returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if self is an <code class="docutils literal notranslate"><span class="pre">ANRational</span></code>, or a minimal
<code class="docutils literal notranslate"><span class="pre">ANExtensionElement</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">ANRational</span>
<span class="gp">sage: </span><span class="n">ANRational</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_simple</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt3</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt2b</span> <span class="o">=</span> <span class="n">rt3</span> <span class="o">+</span> <span class="n">rt2</span> <span class="o">-</span> <span class="n">rt3</span>
<span class="gp">sage: </span><span class="n">rt2</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rt2</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">is_simple</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">is_simple</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">is_simple</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANDescr.neg">
<code class="descname">neg</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANDescr.neg" title="Permalink to this definition">¶</a></dt>
<dd><p>Negation of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">neg</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANUnaryExpr object at ...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANDescr.norm">
<code class="descname">norm</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANDescr.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Field norm of self from <span class="math notranslate nohighlight">\(\overline{\QQ}\)</span> to its real subfield
<span class="math notranslate nohighlight">\(\mathbf{A}\)</span>, i.e.~the square of the usual complex absolute value.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANUnaryExpr object at ...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANDescr.real">
<code class="descname">real</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANDescr.real" title="Permalink to this definition">¶</a></dt>
<dd><p>Real part of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">real</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANUnaryExpr object at ...&gt;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.ANExtensionElement">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">ANExtensionElement</code><span class="sig-paren">(</span><em>generator</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.qqbar.ANDescr" title="sage.rings.qqbar.ANDescr"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.qqbar.ANDescr</span></code></a></p>
<p>The subclass of <code class="docutils literal notranslate"><span class="pre">ANDescr</span></code> that represents a number field
element in terms of a specific generator. Consists of a polynomial
with rational coefficients in terms of the generator, and the
generator itself, an <code class="docutils literal notranslate"><span class="pre">AlgebraicGenerator</span></code>.</p>
<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.abs">
<code class="descname">abs</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.abs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute value of self (square root of the norm).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">Root 3.146264369941972342? of x^2 - 9.89897948556636?</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.conjugate">
<code class="descname">conjugate</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.conjugate" title="Permalink to this definition">¶</a></dt>
<dd><p>Negation of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">conjugate</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">-1/3*a^3 + 2/3*a^2 - 4/3*a + 2 where a^4 - 2*a^3 + a^2 - 6*a + 9 = 0 and a in -0.7247448713915890? + 1.573132184970987?*I</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">conjugate</span><span class="p">(</span><span class="s2">&quot;ham spam and eggs&quot;</span><span class="p">)</span>
<span class="go">-1/3*a^3 + 2/3*a^2 - 4/3*a + 2 where a^4 - 2*a^3 + a^2 - 6*a + 9 = 0 and a in -0.7247448713915890? + 1.573132184970987?*I</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.exactify">
<code class="descname">exactify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.exactify" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an exact representation of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>Since <code class="docutils literal notranslate"><span class="pre">self</span></code> is already exact, just return <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">AA</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span> <span class="ow">is</span> <span class="n">v</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.field_element_value">
<code class="descname">field_element_value</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.field_element_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the underlying number field element.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">AA</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">field_element_value</span><span class="p">()</span>
<span class="go">a</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.generator">
<code class="descname">generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <a class="reference internal" href="#sage.rings.qqbar.AlgebraicGenerator" title="sage.rings.qqbar.AlgebraicGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlgebraicGenerator</span></code></a> object corresponding to self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">AA</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">generator</span><span class="p">()</span>
<span class="go">Number Field in a with defining polynomial y^2 - y - 1 with a in 1.618033988749895?</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.handle_sage_input">
<code class="descname">handle_sage_input</code><span class="sig-paren">(</span><em>sib</em>, <em>coerce</em>, <em>is_qqbar</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.handle_sage_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce an expression which will reproduce this value when evaluated,
and an indication of whether this value is worth sharing (always True,
for <code class="docutils literal notranslate"><span class="pre">ANExtensionElement</span></code>).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">I</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">I</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">QQbar(3 + 4*I)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">-</span> <span class="n">v</span> <span class="o">==</span> <span class="mi">0</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">vector</span><span class="p">(</span><span class="n">QQbar</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">I</span><span class="p">,</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">7</span><span class="p">))),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;y&gt; = QQ[]</span>
<span class="go">vector(QQbar, [4 - 3*I, QQbar.polynomial_root(AA.common_polynomial(y^6 + y^5 + y^4 + y^3 + y^2 + y + 1), CIF(RIF(RR(0.62348980185873348), RR(0.62348980185873359)), RIF(RR(0.7818314824680298), RR(0.78183148246802991))))])</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;y&gt; = QQ[]</span>
<span class="go">v = QQbar.polynomial_root(AA.common_polynomial(y^8 - y^7 + y^5 - y^4 + y^3 - y + 1), CIF(RIF(RR(0.91354545764260087), RR(0.91354545764260098)), RIF(RR(0.40673664307580015), RR(0.40673664307580021))))</span>
<span class="go">v^5 + v^3</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;y&gt; = QQ[]</span>
<span class="go">QQbar(AA.polynomial_root(AA.common_polynomial(y^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951))))</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>
<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">extel</span> <span class="o">=</span> <span class="n">ANExtensionElement</span><span class="p">(</span><span class="n">QQbar_I_generator</span><span class="p">,</span> <span class="n">QQbar_I_generator</span><span class="o">.</span><span class="n">field</span><span class="p">()</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">extel</span><span class="o">.</span><span class="n">handle_sage_input</span><span class="p">(</span><span class="n">sib</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">({call: {atomic:QQbar}({binop:+ {atomic:1} {atomic:I}})}, True)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.invert">
<code class="descname">invert</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>1/self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">invert</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">7/3*a^3 - 2/3*a^2 + 4/3*a - 12 where a^4 - 2*a^3 + a^2 - 6*a + 9 = 0 and a in -0.7247448713915890? - 1.573132184970987?*I</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">invert</span><span class="p">(</span><span class="s2">&quot;ham spam and eggs&quot;</span><span class="p">)</span>
<span class="go">7/3*a^3 - 2/3*a^2 + 4/3*a - 12 where a^4 - 2*a^3 + a^2 - 6*a + 9 = 0 and a in -0.7247448713915890? - 1.573132184970987?*I</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.is_complex">
<code class="descname">is_complex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.is_complex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the number field that defines this element is not real.</p>
<p>This does not imply that the element itself is definitely non-real, as
in the example below.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rtm3</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">rtm3</span> <span class="o">+</span> <span class="n">rt2</span> <span class="o">-</span> <span class="n">rtm3</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">is_complex</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">imag</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.is_simple">
<code class="descname">is_simple</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.is_simple" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether this descriptor represents a value with the same
algebraic degree as the number field associated with the descriptor.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">ANExtensionElement</span></code> elements, we check this by
comparing the degree of the minimal polynomial to the degree
of the field.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt3</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt2b</span> <span class="o">=</span> <span class="n">rt3</span> <span class="o">+</span> <span class="n">rt2</span> <span class="o">-</span> <span class="n">rt3</span>
<span class="gp">sage: </span><span class="n">rt2</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rt2</span><span class="o">.</span><span class="n">_descr</span>
<span class="go">a where a^2 - 2 = 0 and a in 1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">rt2</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">is_simple</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">_descr</span>
<span class="go">a^3 - 3*a where a^4 - 4*a^2 + 1 = 0 and a in 1.931851652578137?</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">is_simple</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.minpoly">
<code class="descname">minpoly</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.minpoly" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the minimal polynomial of this algebraic number.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">AA</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">minpoly</span><span class="p">()</span>
<span class="go">x^2 - x - 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.neg">
<code class="descname">neg</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.neg" title="Permalink to this definition">¶</a></dt>
<dd><p>Negation of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">neg</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">1/3*a^3 - 2/3*a^2 + 4/3*a - 2 where a^4 - 2*a^3 + a^2 - 6*a + 9 = 0 and a in -0.7247448713915890? - 1.573132184970987?*I</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">neg</span><span class="p">(</span><span class="s2">&quot;ham spam and eggs&quot;</span><span class="p">)</span>
<span class="go">1/3*a^3 - 2/3*a^2 + 4/3*a - 2 where a^4 - 2*a^3 + a^2 - 6*a + 9 = 0 and a in -0.7247448713915890? - 1.573132184970987?*I</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.norm">
<code class="descname">norm</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Norm of self (square of complex absolute value)</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANUnaryExpr object at ...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.rational_argument">
<code class="descname">rational_argument</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.rational_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>If the argument of self is <span class="math notranslate nohighlight">\(2\pi\)</span> times some rational number in <span class="math notranslate nohighlight">\([1/2,
-1/2)\)</span>, return that rational; otherwise, return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">QQbar</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">-3/8</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANExtensionElement.simplify">
<code class="descname">simplify</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANExtensionElement.simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute an exact representation for this descriptor, in the
smallest possible number field.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">n</span></code> – The element of <code class="docutils literal notranslate"><span class="pre">AA</span></code> or <code class="docutils literal notranslate"><span class="pre">QQbar</span></code> corresponding
to this descriptor.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt3</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt2b</span> <span class="o">=</span> <span class="n">rt3</span> <span class="o">+</span> <span class="n">rt2</span> <span class="o">-</span> <span class="n">rt3</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">_descr</span>
<span class="go">a^3 - 3*a where a^4 - 4*a^2 + 1 = 0 and a in 1.931851652578137?</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">simplify</span><span class="p">(</span><span class="n">rt2b</span><span class="p">)</span>
<span class="go">a where a^2 - 2 = 0 and a in 1.414213562373095?</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.ANRational">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">ANRational</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.qqbar.ANDescr" title="sage.rings.qqbar.ANDescr"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.qqbar.ANDescr</span></code></a></p>
<p>The subclass of <code class="docutils literal notranslate"><span class="pre">ANDescr</span></code> that represents an arbitrary
rational. This class is private, and should not be used directly.</p>
<dl class="method">
<dt id="sage.rings.qqbar.ANRational.abs">
<code class="descname">abs</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.abs" title="Permalink to this definition">¶</a></dt>
<dd><p>Absolute value of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRational.angle">
<code class="descname">angle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a rational number <span class="math notranslate nohighlight">\(q \in (-1/2, 1/2]\)</span> such that <code class="docutils literal notranslate"><span class="pre">self</span></code> is a rational multiple of
<span class="math notranslate nohighlight">\(e^{2\pi i q}\)</span>. Always returns 0, since this element is rational.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">angle</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">angle</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">angle</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRational.exactify">
<code class="descname">exactify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.exactify" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate self exactly. Since self is a rational number, return self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span> <span class="ow">is</span> <span class="n">a</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRational.generator">
<code class="descname">generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sage.rings.qqbar.AlgebraicGenerator" title="sage.rings.qqbar.AlgebraicGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlgebraicGenerator</span></code></a> object associated to this
element. Returns the trivial generator, since <code class="docutils literal notranslate"><span class="pre">self</span></code> is rational.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">generator</span><span class="p">()</span>
<span class="go">Trivial generator</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRational.handle_sage_input">
<code class="descname">handle_sage_input</code><span class="sig-paren">(</span><em>sib</em>, <em>coerce</em>, <em>is_qqbar</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.handle_sage_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce an expression which will reproduce this value when evaluated,
and an indication of whether this value is worth sharing (always
False, for rationals).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">22</span><span class="o">/</span><span class="mi">7</span><span class="p">),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">QQbar(22/7)</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="o">-</span><span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">AA(-3/5)</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">vector</span><span class="p">(</span><span class="n">AA</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">vector(AA, [0, 1/2, 1/3])</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>
<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rat</span> <span class="o">=</span> <span class="n">ANRational</span><span class="p">(</span><span class="mi">9</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">rat</span><span class="o">.</span><span class="n">handle_sage_input</span><span class="p">(</span><span class="n">sib</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">({call: {atomic:QQbar}({binop:/ {atomic:9} {atomic:10}})}, False)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRational.invert">
<code class="descname">invert</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>1/self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">invert</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">1/3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRational.is_complex">
<code class="descname">is_complex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.is_complex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return False, since rational numbers are real</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">is_complex</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRational.is_simple">
<code class="descname">is_simple</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.is_simple" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether this descriptor represents a value with the same
algebraic degree as the number field associated with the descriptor.</p>
<p>This is always true for rational numbers.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">is_simple</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRational.minpoly">
<code class="descname">minpoly</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.minpoly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the min poly of self over <span class="math notranslate nohighlight">\(\QQ\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">minpoly</span><span class="p">()</span>
<span class="go">x - 7</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRational.neg">
<code class="descname">neg</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.neg" title="Permalink to this definition">¶</a></dt>
<dd><p>Negation of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANRational&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">neg</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">-3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRational.rational_argument">
<code class="descname">rational_argument</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.rational_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the argument of self divided by <span class="math notranslate nohighlight">\(2 \pi\)</span>, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if this
element is 0.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">1/2</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRational.scale">
<code class="descname">scale</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRational.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a rational number <span class="math notranslate nohighlight">\(r\)</span> such that <code class="docutils literal notranslate"><span class="pre">self</span></code> is equal to <span class="math notranslate nohighlight">\(r e^{2 \pi
i q}\)</span> for some <span class="math notranslate nohighlight">\(q \in (-1/2, 1/2]\)</span>.  In other words, just return self
as a rational number.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span>
<span class="go">-3</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.ANRoot">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">ANRoot</code><span class="sig-paren">(</span><em>poly</em>, <em>interval</em>, <em>multiplicity=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRoot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.qqbar.ANDescr" title="sage.rings.qqbar.ANDescr"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.qqbar.ANDescr</span></code></a></p>
<p>The subclass of <code class="docutils literal notranslate"><span class="pre">ANDescr</span></code> that represents a particular
root of a polynomial with algebraic coefficients.
This class is private, and should not be used directly.</p>
<dl class="method">
<dt id="sage.rings.qqbar.ANRoot.conjugate">
<code class="descname">conjugate</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRoot.conjugate" title="Permalink to this definition">¶</a></dt>
<dd><p>Complex conjugate of this ANRoot object.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">23</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">QQbar</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANRoot&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">conjugate</span><span class="p">(</span><span class="n">a</span><span class="p">);</span> <span class="n">c</span>
<span class="go">&lt;sage.rings.qqbar.ANUnaryExpr object at ...&gt;</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="go">-2*a + 1 where a^2 - a + 6 = 0 and a in 0.50000000000000000? - 2.397915761656360?*I</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRoot.exactify">
<code class="descname">exactify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRoot.exactify" title="Permalink to this definition">¶</a></dt>
<dd><p>Return either an <code class="docutils literal notranslate"><span class="pre">ANRational</span></code> or an
<code class="docutils literal notranslate"><span class="pre">ANExtensionElement</span></code> with the same value as this number.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">ANRoot</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQbar</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">two</span> <span class="o">=</span> <span class="n">ANRoot</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">))),</span> <span class="n">RIF</span><span class="p">(</span><span class="mf">1.9</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">two</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">strange</span> <span class="o">=</span> <span class="n">ANRoot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span> <span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">strange</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="go">a where a^8 - 6*a^6 + 5*a^4 - 12*a^2 + 4 = 0 and a in 0.6051012265139511?</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRoot.handle_sage_input">
<code class="descname">handle_sage_input</code><span class="sig-paren">(</span><em>sib</em>, <em>coerce</em>, <em>is_qqbar</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRoot.handle_sage_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce an expression which will reproduce this value when evaluated,
and an indication of whether this value is worth sharing (always True,
for <code class="docutils literal notranslate"><span class="pre">ANRoot</span></code>).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage_input</span><span class="p">((</span><span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">AA.polynomial_root(AA.common_polynomial(x^3 - AA.polynomial_root(AA.common_polynomial(x^2 - 3), RIF(RR(1.7320508075688772), RR(1.7320508075688774)))), RIF(RR(1.2009369551760025), RR(1.2009369551760027)))</span>
</pre></div>
</div>
<p>These two examples are too big to verify quickly. (Verification
would create a field of degree 28.):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage_input</span><span class="p">((</span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">^</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">7</span><span class="p">))</span><span class="o">^</span><span class="p">(</span><span class="mi">9</span><span class="o">/</span><span class="mi">4</span><span class="p">))</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">v1 = AA.polynomial_root(AA.common_polynomial(x^2 - 3), RIF(RR(1.7320508075688772), RR(1.7320508075688774)))</span>
<span class="go">v2 = v1*v1</span>
<span class="go">v3 = AA.polynomial_root(AA.common_polynomial(x^7 - v2*v2*v1), RIF(RR(1.4804728524798112), RR(1.4804728524798114)))</span>
<span class="go">v4 = v3*v3</span>
<span class="go">v5 = v4*v4</span>
<span class="go">AA.polynomial_root(AA.common_polynomial(x^4 - v5*v5*v3), RIF(RR(2.4176921938267877), RR(2.4176921938267881)))</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">((</span><span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">7</span><span class="p">))</span><span class="o">^</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">7</span><span class="p">))</span><span class="o">^</span><span class="p">(</span><span class="mi">9</span><span class="o">/</span><span class="mi">4</span><span class="p">))</span>
<span class="go">R.&lt;x&gt; = QQbar[]</span>
<span class="go">v1 = QQbar.polynomial_root(AA.common_polynomial(x^2 + 7), CIF(RIF(RR(0)), RIF(RR(2.6457513110645903), RR(2.6457513110645907))))</span>
<span class="go">v2 = v1*v1</span>
<span class="go">v3 = QQbar.polynomial_root(AA.common_polynomial(x^7 - v2*v2*v1), CIF(RIF(RR(0.8693488875796217), RR(0.86934888757962181)), RIF(RR(1.8052215661454434), RR(1.8052215661454436))))</span>
<span class="go">v4 = v3*v3</span>
<span class="go">v5 = v4*v4</span>
<span class="go">QQbar.polynomial_root(AA.common_polynomial(x^4 - v5*v5*v3), CIF(RIF(-RR(3.8954086044650791), -RR(3.8954086044650786)), RIF(RR(2.7639398015408925), RR(2.7639398015408929))))</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;y&gt; = QQ[]</span>
<span class="go">AA.polynomial_root(AA.common_polynomial(y^2 - y - 1), RIF(RR(1.6180339887498947), RR(1.6180339887498949)))</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">CIF</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">))),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;y&gt; = QQ[]</span>
<span class="go">QQbar.polynomial_root(AA.common_polynomial(y^3 - 5), CIF(RIF(-RR(0.85498797333834853), -RR(0.85498797333834842)), RIF(RR(1.4808826096823642), RR(1.4808826096823644))))</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>
<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rt</span> <span class="o">=</span> <span class="n">ANRoot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt</span><span class="o">.</span><span class="n">handle_sage_input</span><span class="p">(</span><span class="n">sib</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">({call: {getattr: {atomic:QQbar}.polynomial_root}({call: {getattr: {atomic:AA}.common_polynomial}({binop:- {binop:** {gen:y {constr_parent: {subscr: {atomic:QQ}[{atomic:&#39;y&#39;}]} with gens: (&#39;y&#39;,)}} {atomic:3}} {atomic:2}})}, {call: {atomic:RIF}({call: {atomic:RR}({atomic:1.259921049894873})}, {call: {atomic:RR}({atomic:1.2599210498948732})})})},</span>
<span class="go"> True)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRoot.is_complex">
<code class="descname">is_complex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRoot.is_complex" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this is a root in <span class="math notranslate nohighlight">\(\overline{\QQ}\)</span> (rather than <span class="math notranslate nohighlight">\(\mathbf{A}\)</span>).
Note that this may return True even if the root is actually real, as
the second example shows; it does <em>not</em> trigger exact computation to
see if the root is real.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">AA</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">is_complex</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">QQbar</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">is_complex</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANRoot.refine_interval">
<code class="descname">refine_interval</code><span class="sig-paren">(</span><em>interval</em>, <em>prec</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANRoot.refine_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an interval which is assumed to enclose exactly one root
of the polynomial (or, with multiplicity=`k`, exactly one root
of the <span class="math notranslate nohighlight">\(k-1\)</span>-st derivative); and a precision, in bits.</p>
<p>Tries to find a narrow interval enclosing the root using
interval arithmetic of the given precision. (No particular
number of resulting bits of precision is guaranteed.)</p>
<p>Uses a combination of Newton’s method (adapted for interval
arithmetic) and bisection. The algorithm will converge very
quickly if started with a sufficiently narrow interval.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">ANRoot</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">AA</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">ANRoot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt2</span><span class="o">.</span><span class="n">refine_interval</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">75</span><span class="p">)</span>
<span class="go">1.4142135623730950488017?</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.ANUnaryExpr">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">ANUnaryExpr</code><span class="sig-paren">(</span><em>arg</em>, <em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANUnaryExpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.qqbar.ANDescr" title="sage.rings.qqbar.ANDescr"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.qqbar.ANDescr</span></code></a></p>
<p>Initialize this ANUnaryExpr.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="o">~</span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span> <span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">_descr</span><span class="p">)</span> <span class="c1"># indirect doctest</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANUnaryExpr&#39;&gt;</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.rings.qqbar.ANUnaryExpr.exactify">
<code class="descname">exactify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANUnaryExpr.exactify" title="Permalink to this definition">¶</a></dt>
<dd><p>Trigger exact computation of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANUnaryExpr&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="go">-a where a^2 - 2 = 0 and a in 1.414213562373095?</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANUnaryExpr.handle_sage_input">
<code class="descname">handle_sage_input</code><span class="sig-paren">(</span><em>sib</em>, <em>coerce</em>, <em>is_qqbar</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANUnaryExpr.handle_sage_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce an expression which will reproduce this value when evaluated,
and an indication of whether this value is worth sharing (always
True for <code class="docutils literal notranslate"><span class="pre">ANUnaryExpr</span></code>).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">-AA.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951)))</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="o">~</span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = AA[]</span>
<span class="go">~AA.polynomial_root(AA.common_polynomial(x^2 - 2), RIF(RR(1.4142135623730949), RR(1.4142135623730951)))</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">conjugate</span><span class="p">(),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = QQbar[]</span>
<span class="go">QQbar.polynomial_root(AA.common_polynomial(x^2 + 3), CIF(RIF(RR(0)), RIF(RR(1.7320508075688772), RR(1.7320508075688774)))).conjugate()</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">real</span><span class="p">(),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;y&gt; = QQ[]</span>
<span class="go">QQbar.polynomial_root(AA.common_polynomial(y^2 + y + 1), CIF(RIF(-RR(0.50000000000000011), -RR(0.49999999999999994)), RIF(RR(0.8660254037844386), RR(0.86602540378443871)))).real()</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">imag</span><span class="p">(),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;y&gt; = QQ[]</span>
<span class="go">QQbar.polynomial_root(AA.common_polynomial(y^2 + y + 1), CIF(RIF(-RR(0.50000000000000011), -RR(0.49999999999999994)), RIF(RR(0.8660254037844386), RR(0.86602540378443871)))).imag()</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = QQbar[]</span>
<span class="go">abs(QQbar.polynomial_root(AA.common_polynomial(x^2 + 3), CIF(RIF(RR(0)), RIF(RR(1.7320508075688772), RR(1.7320508075688774)))))</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">norm</span><span class="p">(),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;x&gt; = QQbar[]</span>
<span class="go">QQbar.polynomial_root(AA.common_polynomial(x^2 + 3), CIF(RIF(RR(0)), RIF(RR(1.7320508075688772), RR(1.7320508075688774)))).norm()</span>
<span class="gp">sage: </span><span class="n">sage_input</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">real</span><span class="p">()),</span> <span class="n">verify</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go"># Verified</span>
<span class="go">R.&lt;y&gt; = QQ[]</span>
<span class="go">QQbar(QQbar.polynomial_root(AA.common_polynomial(y^2 + y + 1), CIF(RIF(-RR(0.50000000000000011), -RR(0.49999999999999994)), RIF(RR(0.8660254037844386), RR(0.86602540378443871)))).real())</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.sage_input</span> <span class="kn">import</span> <span class="n">SageInputBuilder</span>
<span class="gp">sage: </span><span class="n">sib</span> <span class="o">=</span> <span class="n">SageInputBuilder</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">unexp</span> <span class="o">=</span> <span class="n">ANUnaryExpr</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span> <span class="s1">&#39;~&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">unexp</span><span class="o">.</span><span class="n">handle_sage_input</span><span class="p">(</span><span class="n">sib</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
<span class="go">({unop:~ {call: {getattr: {atomic:AA}.polynomial_root}({call: {getattr: {atomic:AA}.common_polynomial}({binop:- {binop:** {gen:x {constr_parent: {subscr: {atomic:AA}[{atomic:&#39;x&#39;}]} with gens: (&#39;x&#39;,)}} {atomic:2}} {atomic:2}})}, {call: {atomic:RIF}({call: {atomic:RR}({atomic:1.4142135623730949})}, {call: {atomic:RR}({atomic:1.4142135623730951})})})}},</span>
<span class="go"> True)</span>
<span class="gp">sage: </span><span class="n">unexp</span><span class="o">.</span><span class="n">handle_sage_input</span><span class="p">(</span><span class="n">sib</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">({call: {atomic:QQbar}({unop:~ {call: {getattr: {atomic:AA}.polynomial_root}({call: {getattr: {atomic:AA}.common_polynomial}({binop:- {binop:** {gen:x {constr_parent: {subscr: {atomic:AA}[{atomic:&#39;x&#39;}]} with gens: (&#39;x&#39;,)}} {atomic:2}} {atomic:2}})}, {call: {atomic:RIF}({call: {atomic:RR}({atomic:1.4142135623730949})}, {call: {atomic:RR}({atomic:1.4142135623730951})})})}})},</span>
<span class="go"> True)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.ANUnaryExpr.is_complex">
<code class="descname">is_complex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.ANUnaryExpr.is_complex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether or not this element is complex. Note that this is a data
type check, and triggers no computations – if it returns False, the
element might still be real, it just doesn’t know it yet.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">s</span>
<span class="go">&lt;sage.rings.qqbar.ANUnaryExpr object at ...&gt;</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">is_complex</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">is_complex</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.AlgebraicField">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">AlgebraicField</code><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../misc/sage/misc/fast_methods.html#sage.misc.fast_methods.Singleton" title="(in Sage Reference Manual: Utilities v8.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.misc.fast_methods.Singleton</span></code></a>, <a class="reference internal" href="#sage.rings.qqbar.AlgebraicField_common" title="sage.rings.qqbar.AlgebraicField_common"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.qqbar.AlgebraicField_common</span></code></a></p>
<p>The field of all algebraic complex numbers.</p>
<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField.algebraic_closure">
<code class="descname">algebraic_closure</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField.algebraic_closure" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the algebraic closure of this field. As this field is already
algebraically closed, just returns self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">algebraic_closure</span><span class="p">()</span>
<span class="go">Algebraic Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField.completion">
<code class="descname">completion</code><span class="sig-paren">(</span><em>p</em>, <em>prec</em>, <em>extras={}</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField.completion" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the completion of self at the place <span class="math notranslate nohighlight">\(p\)</span>. Only implemented for <span class="math notranslate nohighlight">\(p
= \infty\)</span> at present.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">p</span></code> – either a prime (not implemented at present) or Infinity</li>
<li><code class="docutils literal notranslate"><span class="pre">prec</span></code> – precision of approximate field to return</li>
<li><code class="docutils literal notranslate"><span class="pre">extras</span></code> – (optional) a dict of extra keyword arguments
for the <code class="docutils literal notranslate"><span class="pre">RealField</span></code> constructor</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">completion</span><span class="p">(</span><span class="n">infinity</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="go">Complex Field with 500 bits of precision</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">completion</span><span class="p">(</span><span class="n">infinity</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">53</span><span class="p">,</span> <span class="n">extras</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;RDF&#39;</span><span class="p">})</span>
<span class="go">Complex Double Field</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">completion</span><span class="p">(</span><span class="n">infinity</span><span class="p">,</span> <span class="mi">53</span><span class="p">)</span> <span class="ow">is</span> <span class="n">CC</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">completion</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">NotImplementedError</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField.construction">
<code class="descname">construction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField.construction" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a functor that constructs self (used by the coercion machinery).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span>
<span class="go">(AlgebraicClosureFunctor, Rational Field)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField.gen">
<code class="descname">gen</code><span class="sig-paren">(</span><em>n=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField.gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <span class="math notranslate nohighlight">\(n\)</span>-th element of the tuple returned by <a class="reference internal" href="#sage.rings.qqbar.AlgebraicField.gens" title="sage.rings.qqbar.AlgebraicField.gens"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gens()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">I</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">IndexError: n must be 0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField.gens">
<code class="descname">gens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField.gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a set of generators for this field. As this field is not
finitely generated over its prime field, we opt for just returning I.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(I,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField.ngens">
<code class="descname">ngens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField.ngens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of the tuple returned by <a class="reference internal" href="#sage.rings.qqbar.AlgebraicField.gens" title="sage.rings.qqbar.AlgebraicField.gens"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gens()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">ngens</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField.polynomial_root">
<code class="descname">polynomial_root</code><span class="sig-paren">(</span><em>poly</em>, <em>interval</em>, <em>multiplicity=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField.polynomial_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a polynomial with algebraic coefficients and an interval
enclosing exactly one root of the polynomial, constructs
an algebraic real representation of that root.</p>
<p>The polynomial need not be irreducible, or even squarefree; but
if the given root is a multiple root, its multiplicity must be
specified. (IMPORTANT NOTE: Currently, multiplicity-<span class="math notranslate nohighlight">\(k\)</span> roots
are handled by taking the <span class="math notranslate nohighlight">\((k-1)\)</span>-st derivative of the polynomial.
This means that the interval must enclose exactly one root
of this derivative.)</p>
<p>The conditions on the arguments (that the interval encloses exactly
one root, and that multiple roots match the given multiplicity)
are not checked; if they are not satisfied, an error may be
thrown (possibly later, when the algebraic number is used),
or wrong answers may result.</p>
<p>Note that if you are constructing multiple roots of a single
polynomial, it is better to use <code class="docutils literal notranslate"><span class="pre">QQbar.common_polynomial</span></code>
to get a shared polynomial.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQbar</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span> <span class="n">phi</span>
<span class="go">1.618033988749895?</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">7</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">9</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="o">/</span><span class="mi">10</span><span class="p">),</span> <span class="n">multiplicity</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span><span class="p">;</span> <span class="n">r</span> <span class="o">==</span> <span class="mi">1</span>
<span class="go">1</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">phi</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">r</span><span class="p">;</span> <span class="n">r</span> <span class="o">==</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">1.414213562373095?</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField.random_element">
<code class="descname">random_element</code><span class="sig-paren">(</span><em>poly_degree=2</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField.random_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a random algebraic number.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">poly_degree</span></code> - default: 2 - degree of the random polynomial over
the integers of which the returned algebraic number is a root. This
is not necessarily the degree of the minimal polynomial of the
number. Increase this parameter to achieve a greater diversity of
algebraic numbers, at a cost of greater computation time. You can
also vary the distribution of the coefficients but that will not vary
the degree of the extension containing the element.</li>
<li><code class="docutils literal notranslate"><span class="pre">args</span></code>, <code class="docutils literal notranslate"><span class="pre">kwds</span></code> - arguments and keywords passed to the random
number generator for elements of <code class="docutils literal notranslate"><span class="pre">ZZ</span></code>, the integers. See
<a class="reference external" href="../../../rings_standard/sage/rings/integer_ring.html#sage.rings.integer_ring.IntegerRing_class.random_element" title="(in Sage Reference Manual: Standard Commutative Rings v8.9)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random_element()</span></code></a> for
details, or see example below.</li>
</ul>
<p>OUTPUT:</p>
<p>An element of <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>, the field of algebraic numbers (see
<a class="reference internal" href="#module-sage.rings.qqbar" title="sage.rings.qqbar"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.rings.qqbar</span></code></a>).</p>
<p>ALGORITHM:</p>
<p>A polynomial with degree between 1 and <code class="docutils literal notranslate"><span class="pre">poly_degree</span></code>,
with random integer coefficients is created. A root of this
polynomial is chosen at random. The default degree is
2 and the integer coefficients come from a distribution
heavily weighted towards <span class="math notranslate nohighlight">\(0, \pm 1, \pm 2\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span>                         <span class="c1"># random</span>
<span class="go">0.2626138748742799? + 0.8769062830975992?*I</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="ow">in</span> <span class="n">QQbar</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="n">poly_degree</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span>                         <span class="c1"># random</span>
<span class="go">-0.8642649077479498? - 0.5995098147478391?*I</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="ow">in</span> <span class="n">QQbar</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Parameters for the distribution of the integer coefficients
of the polynomials can be passed on to the random element method
for integers. For example, current default behavior of this method
returns zero about 15% of the time; if we do not include zero as a
possible coefficient, there will never be a zero constant term, and
thus never a zero root.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="n">QQbar</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="ow">in</span> <span class="n">z</span>
<span class="go">False</span>
</pre></div>
</div>
<p>If you just want real algebraic numbers you can filter them out.
Using an odd degree for the polynomials will ensure some degree of
success.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
<span class="gp">....: </span>  <span class="n">x</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="n">poly_degree</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">....: </span>  <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">AA</span><span class="p">:</span>
<span class="gp">....: </span>    <span class="n">r</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="n">z</span> <span class="ow">in</span> <span class="n">AA</span> <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">r</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField.zeta">
<code class="descname">zeta</code><span class="sig-paren">(</span><em>n=4</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField.zeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a primitive <span class="math notranslate nohighlight">\(n\)</span>’th root of unity, specifically <span class="math notranslate nohighlight">\(\exp(2*\pi*i/n)\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">n</span></code> (integer) – default 4</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">-0.500000000000000? + 0.866025403784439?*I</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">I</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">()</span>
<span class="go">I</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">0.3090169943749474? + 0.9510565162951536?*I</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3000</span><span class="p">)</span>
<span class="go">0.999997806755380? + 0.002094393571219374?*I</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.AlgebraicField_common">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">AlgebraicField_common</code><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField_common" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../rings/sage/rings/ring.html#sage.rings.ring.Field" title="(in Sage Reference Manual: General Rings, Ideals, and Morphisms v8.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.ring.Field</span></code></a></p>
<p>Common base class for the classes <a class="reference internal" href="#sage.rings.qqbar.AlgebraicRealField" title="sage.rings.qqbar.AlgebraicRealField"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlgebraicRealField</span></code></a> and
<a class="reference internal" href="#sage.rings.qqbar.AlgebraicField" title="sage.rings.qqbar.AlgebraicField"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlgebraicField</span></code></a>.</p>
<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField_common.characteristic">
<code class="descname">characteristic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField_common.characteristic" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the characteristic of this field. Since this class is only used
for fields of characteristic 0, always returns 0.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">characteristic</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField_common.common_polynomial">
<code class="descname">common_polynomial</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField_common.common_polynomial" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a polynomial with algebraic coefficients, returns a
wrapper that caches high-precision calculations and
factorizations. This wrapper can be passed to polynomial_root
in place of the polynomial.</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">common_polynomial</span></code> makes no semantic difference, but will
improve efficiency if you are dealing with multiple roots
of a single polynomial.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">tau</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">+</span> <span class="n">tau</span> <span class="o">==</span> <span class="mi">1</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">*</span> <span class="n">tau</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">SR</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span> <span class="n">p</span>
<span class="go">x^2 + (-sqrt(3) - sqrt(-5))*x + sqrt(3)*sqrt(-5)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">CIF</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)));</span> <span class="n">a</span>
<span class="go">0.?e-18 + 2.236067977499790?*I</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span> <span class="n">b</span>
<span class="go">1.732050807568878?</span>
</pre></div>
</div>
<p>These “common polynomials” can be shared between real and
complex roots:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r1</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">));</span> <span class="n">r1</span>
<span class="go">1.324717957244746?</span>
<span class="gp">sage: </span><span class="n">r2</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">CIF</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mf">0.7</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">)));</span> <span class="n">r2</span>
<span class="go">-0.6623589786223730? + 0.5622795120623013?*I</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField_common.default_interval_prec">
<code class="descname">default_interval_prec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField_common.default_interval_prec" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the default interval precision used for root isolation.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">default_interval_prec</span><span class="p">()</span>
<span class="go">64</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.AlgebraicField_common.options">
<code class="descname">options</code><span class="sig-paren">(</span><em>*get_value</em>, <em>**set_value</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField_common.options" title="Permalink to this definition">¶</a></dt>
<dd><p>OPTIONS:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">display_format</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">decimal</span></code>)<ul>
<li><code class="docutils literal notranslate"><span class="pre">decimal</span></code> – Always display a decimal approximation</li>
<li><code class="docutils literal notranslate"><span class="pre">radical</span></code> – Display using radicals (if possible)</li>
</ul>
</li>
</ul>
<p>See <a class="reference external" href="../../../structure/sage/structure/global_options.html#sage.structure.global_options.GlobalOptions" title="(in Sage Reference Manual: Parents and Elements v8.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalOptions</span></code></a> for more features of these options.</p>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicField_common.order">
<code class="descname">order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicField_common.order" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cardinality of self. Since this class is only used for
fields of characteristic 0, always returns Infinity.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">order</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.AlgebraicGenerator">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">AlgebraicGenerator</code><span class="sig-paren">(</span><em>field</em>, <em>root</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage Reference Manual: Parents and Elements v8.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.sage_object.SageObject</span></code></a></p>
<p>An <code class="docutils literal notranslate"><span class="pre">AlgebraicGenerator</span></code> represents both an algebraic number <span class="math notranslate nohighlight">\(\alpha\)</span> and
the number field <span class="math notranslate nohighlight">\(\QQ[\alpha]\)</span>. There is a single <code class="docutils literal notranslate"><span class="pre">AlgebraicGenerator</span></code>
representing <span class="math notranslate nohighlight">\(\QQ\)</span> (with <span class="math notranslate nohighlight">\(\alpha=0\)</span>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">AlgebraicGenerator</span></code> class is private, and should not be used
directly.</p>
<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicGenerator.conjugate">
<code class="descname">conjugate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicGenerator.conjugate" title="Permalink to this definition">¶</a></dt>
<dd><p>If this generator is for the algebraic number <span class="math notranslate nohighlight">\(\alpha\)</span>, return a
generator for the complex conjugate of <span class="math notranslate nohighlight">\(\alpha\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">AlgebraicGenerator</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">);</span> <span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">17</span>
<span class="gp">sage: </span><span class="n">nf</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">QQbar</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">root</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">_descr</span>
<span class="gp">sage: </span><span class="n">gen</span> <span class="o">=</span> <span class="n">AlgebraicGenerator</span><span class="p">(</span><span class="n">nf</span><span class="p">,</span> <span class="n">root</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">gen</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">Number Field in a with defining polynomial x^4 + x + 17 with a in -1.436449997483091? + 1.374535713065812?*I</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicGenerator.field">
<code class="descname">field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicGenerator.field" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number field attached to self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">qq_generator</span>
<span class="gp">sage: </span><span class="n">qq_generator</span><span class="o">.</span><span class="n">field</span><span class="p">()</span>
<span class="go">Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicGenerator.is_complex">
<code class="descname">is_complex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicGenerator.is_complex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this is a generator for a non-real number field.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">z7</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">z7</span><span class="o">.</span><span class="n">_descr</span><span class="o">.</span><span class="n">_generator</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_complex</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">ANRoot</span><span class="p">,</span> <span class="n">AlgebraicGenerator</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQbar</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nf</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">root</span> <span class="o">=</span> <span class="n">ANRoot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">gen</span> <span class="o">=</span> <span class="n">AlgebraicGenerator</span><span class="p">(</span><span class="n">nf</span><span class="p">,</span> <span class="n">root</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">gen</span><span class="o">.</span><span class="n">is_complex</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicGenerator.is_trivial">
<code class="descname">is_trivial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicGenerator.is_trivial" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true iff this is the trivial generator (alpha == 1), which
does not actually extend the rationals.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">qq_generator</span>
<span class="gp">sage: </span><span class="n">qq_generator</span><span class="o">.</span><span class="n">is_trivial</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicGenerator.pari_field">
<code class="descname">pari_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicGenerator.pari_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the PARI field attached to this generator.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">qq_generator</span>
<span class="gp">sage: </span><span class="n">qq_generator</span><span class="o">.</span><span class="n">pari_field</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: No PARI field attached to trivial generator</span>

<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">ANRoot</span><span class="p">,</span> <span class="n">AlgebraicGenerator</span><span class="p">,</span> <span class="n">qq_generator</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQbar</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nf</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">root</span> <span class="o">=</span> <span class="n">ANRoot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">gen</span> <span class="o">=</span> <span class="n">AlgebraicGenerator</span><span class="p">(</span><span class="n">nf</span><span class="p">,</span> <span class="n">root</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">gen</span><span class="o">.</span><span class="n">pari_field</span><span class="p">()</span>
<span class="go"> [y^2 - y - 1, [2, 0], ...]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicGenerator.root_as_algebraic">
<code class="descname">root_as_algebraic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicGenerator.root_as_algebraic" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the root attached to self as an algebraic number.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">rings</span><span class="o">.</span><span class="n">qqbar</span><span class="o">.</span><span class="n">qq_generator</span><span class="o">.</span><span class="n">root_as_algebraic</span><span class="p">();</span> <span class="n">t</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Algebraic Real Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicGenerator.super_poly">
<code class="descname">super_poly</code><span class="sig-paren">(</span><em>super</em>, <em>checked=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicGenerator.super_poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a generator <code class="docutils literal notranslate"><span class="pre">gen</span></code> and another generator <code class="docutils literal notranslate"><span class="pre">super</span></code>, where <code class="docutils literal notranslate"><span class="pre">super</span></code>
is the result of a tree of <code class="docutils literal notranslate"><span class="pre">union()</span></code> operations where one of the
leaves is <code class="docutils literal notranslate"><span class="pre">gen</span></code>, <code class="docutils literal notranslate"><span class="pre">gen.super_poly(super)</span></code> returns a polynomial
expressing the value of <code class="docutils literal notranslate"><span class="pre">gen</span></code> in terms of the value of <code class="docutils literal notranslate"><span class="pre">super</span></code>
(except that if <code class="docutils literal notranslate"><span class="pre">gen</span></code> is <code class="docutils literal notranslate"><span class="pre">qq_generator</span></code>, <code class="docutils literal notranslate"><span class="pre">super_poly()</span></code> always
returns None.)</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">AlgebraicGenerator</span><span class="p">,</span> <span class="n">ANRoot</span><span class="p">,</span> <span class="n">qq_generator</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.&lt;</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQbar</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nf2</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">root2</span> <span class="o">=</span> <span class="n">ANRoot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">gen2</span> <span class="o">=</span> <span class="n">AlgebraicGenerator</span><span class="p">(</span><span class="n">nf2</span><span class="p">,</span> <span class="n">root2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">gen2</span>
<span class="go">Number Field in a with defining polynomial y^2 - 2 with a in 1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">nf3</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">root3</span> <span class="o">=</span> <span class="n">ANRoot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">gen3</span> <span class="o">=</span> <span class="n">AlgebraicGenerator</span><span class="p">(</span><span class="n">nf3</span><span class="p">,</span> <span class="n">root3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">gen3</span>
<span class="go">Number Field in a with defining polynomial y^2 - 3 with a in 1.732050807568878?</span>
<span class="gp">sage: </span><span class="n">gen2_3</span> <span class="o">=</span> <span class="n">gen2</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">gen3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">gen2_3</span>
<span class="go">Number Field in a with defining polynomial y^4 - 4*y^2 + 1 with a in 0.5176380902050415?</span>
<span class="gp">sage: </span><span class="n">qq_generator</span><span class="o">.</span><span class="n">super_poly</span><span class="p">(</span><span class="n">gen2</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">gen2</span><span class="o">.</span><span class="n">super_poly</span><span class="p">(</span><span class="n">gen2_3</span><span class="p">)</span>
<span class="go">-a^3 + 3*a</span>
<span class="gp">sage: </span><span class="n">gen3</span><span class="o">.</span><span class="n">super_poly</span><span class="p">(</span><span class="n">gen2_3</span><span class="p">)</span>
<span class="go">-a^2 + 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicGenerator.union">
<code class="descname">union</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicGenerator.union" title="Permalink to this definition">¶</a></dt>
<dd><p>Given generators <code class="docutils literal notranslate"><span class="pre">alpha</span></code> and <code class="docutils literal notranslate"><span class="pre">beta</span></code>,
<code class="docutils literal notranslate"><span class="pre">alpha.union(beta)</span></code> gives a generator for the number field
<span class="math notranslate nohighlight">\(\QQ[\alpha][\beta]\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">ANRoot</span><span class="p">,</span> <span class="n">AlgebraicGenerator</span><span class="p">,</span> <span class="n">qq_generator</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.&lt;</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQbar</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nf2</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">root2</span> <span class="o">=</span> <span class="n">ANRoot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">gen2</span> <span class="o">=</span> <span class="n">AlgebraicGenerator</span><span class="p">(</span><span class="n">nf2</span><span class="p">,</span> <span class="n">root2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">gen2</span>
<span class="go">Number Field in a with defining polynomial y^2 - 2 with a in 1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">nf3</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">root3</span> <span class="o">=</span> <span class="n">ANRoot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">gen3</span> <span class="o">=</span> <span class="n">AlgebraicGenerator</span><span class="p">(</span><span class="n">nf3</span><span class="p">,</span> <span class="n">root3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">gen3</span>
<span class="go">Number Field in a with defining polynomial y^2 - 3 with a in 1.732050807568878?</span>
<span class="gp">sage: </span><span class="n">gen2</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">qq_generator</span><span class="p">)</span> <span class="ow">is</span> <span class="n">gen2</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">qq_generator</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">gen3</span><span class="p">)</span> <span class="ow">is</span> <span class="n">gen3</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">gen2</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">gen3</span><span class="p">)</span>
<span class="go">Number Field in a with defining polynomial y^4 - 4*y^2 + 1 with a in 0.5176380902050415?</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.AlgebraicGeneratorRelation">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">AlgebraicGeneratorRelation</code><span class="sig-paren">(</span><em>child1</em>, <em>child1_poly</em>, <em>child2</em>, <em>child2_poly</em>, <em>parent</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicGeneratorRelation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage Reference Manual: Parents and Elements v8.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.sage_object.SageObject</span></code></a></p>
<p>A simple class for maintaining relations in the lattice of algebraic
extensions.</p>
</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.AlgebraicNumber">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">AlgebraicNumber</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.qqbar.AlgebraicNumber_base" title="sage.rings.qqbar.AlgebraicNumber_base"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.qqbar.AlgebraicNumber_base</span></code></a></p>
<p>The class for algebraic numbers (complex numbers which are the roots
of a polynomial with integer coefficients). Much of its functionality
is inherited from <code class="docutils literal notranslate"><span class="pre">AlgebraicNumber_base</span></code>.</p>
<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber._richcmp_">
<code class="descname">_richcmp_</code><span class="sig-paren">(</span><em>other</em>, <em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber._richcmp_" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two algebraic numbers, lexicographically. (That is,
first compare the real components; if the real components are
equal, compare the imaginary components.)</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="n">x</span>
<span class="go">-0.500000000000000? + 0.866025403784439?*I</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">x</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">x</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">x</span>
<span class="go">True</span>
</pre></div>
</div>
<p>One problem with this lexicographic ordering is the fact that if
two algebraic numbers have the same real component, that real
component has to be compared for exact equality, which can be
a costly operation.  For the special case where both numbers
have the same minimal polynomial, that cost can be avoided,
though (see <a class="reference external" href="https://trac.sagemath.org/16964">trac ticket #16964</a>):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="mi">69721504</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">8</span> <span class="o">+</span> <span class="mi">251777664</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">6</span> <span class="o">+</span> <span class="mi">329532012</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">184429548</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">37344321</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">QQbar</span><span class="p">,</span><span class="bp">False</span><span class="p">))</span>
<span class="go">[-0.0221204634374361? - 1.090991904211621?*I,</span>
<span class="go"> -0.0221204634374361? + 1.090991904211621?*I,</span>
<span class="go"> -0.8088604911480535?*I,</span>
<span class="go"> 0.?e-79 - 0.7598602580415435?*I,</span>
<span class="go"> 0.?e-79 + 0.7598602580415435?*I,</span>
<span class="go"> 0.8088604911480535?*I,</span>
<span class="go"> 0.0221204634374361? - 1.090991904211621?*I,</span>
<span class="go"> 0.0221204634374361? + 1.090991904211621?*I]</span>
</pre></div>
</div>
<p>It also works for comparison of conjugate roots even in a degenerate
situation where many roots have the same real part. In the following
example, the polynomial <code class="docutils literal notranslate"><span class="pre">p2</span></code> is irreducible and all its roots have
real part equal to <span class="math notranslate nohighlight">\(1\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p1</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">8</span> <span class="o">+</span> <span class="mi">74</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">7</span> <span class="o">+</span> <span class="mi">2300</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">6</span> <span class="o">+</span> <span class="mi">38928</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> \
<span class="gp">....: </span><span class="mi">388193</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">2295312</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">7613898</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> \
<span class="gp">....: </span><span class="mi">12066806</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">5477001</span>
<span class="gp">sage: </span><span class="n">p2</span> <span class="o">=</span> <span class="n">p1</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">p2</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">CC</span><span class="p">,</span><span class="bp">False</span><span class="p">)</span> <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">real</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.0001</span><span class="p">)</span>
<span class="go">16</span>
<span class="gp">sage: </span><span class="n">r1</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span> <span class="n">CIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mf">4.1</span><span class="p">,</span><span class="o">-</span><span class="mf">4.0</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">r2</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span> <span class="n">CIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">4.1</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">([</span><span class="n">r1</span><span class="o">&lt;</span><span class="n">r2</span><span class="p">,</span> <span class="n">r1</span><span class="o">==</span><span class="n">r1</span><span class="p">,</span> <span class="n">r2</span><span class="o">==</span><span class="n">r2</span><span class="p">,</span> <span class="n">r2</span><span class="o">&gt;</span><span class="n">r1</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Though, comparing roots which are not equal or conjugate is much
slower because the algorithm needs to check the equality of the real
parts:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">p2</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">QQbar</span><span class="p">,</span><span class="bp">False</span><span class="p">))</span>   <span class="c1"># long time - 3 secs</span>
<span class="go">[1.000000000000000? - 4.016778562562223?*I,</span>
<span class="go"> 1.000000000000000? - 3.850538755978243?*I,</span>
<span class="go"> 1.000000000000000? - 3.390564396412898?*I,</span>
<span class="go"> ...</span>
<span class="go"> 1.000000000000000? + 3.390564396412898?*I,</span>
<span class="go"> 1.000000000000000? + 3.850538755978243?*I,</span>
<span class="go"> 1.000000000000000? + 4.016778562562223?*I]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber.complex_exact">
<code class="descname">complex_exact</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber.complex_exact" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <code class="docutils literal notranslate"><span class="pre">ComplexField</span></code>, return the best possible approximation of
this number in that field. Note that if either component is
sufficiently close to the halfway point between two floating-point
numbers in the corresponding <code class="docutils literal notranslate"><span class="pre">RealField</span></code>, then this will trigger
exact computation, which may be very slow.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="o">+</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">();</span> <span class="n">a</span>
<span class="go">1.532088886237957? + 1.000000000000000?*I</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">complex_exact</span><span class="p">(</span><span class="n">CIF</span><span class="p">)</span>
<span class="go">1.532088886237957? + 1*I</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber.complex_number">
<code class="descname">complex_number</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber.complex_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the complex field <code class="docutils literal notranslate"><span class="pre">field</span></code> compute an accurate approximation of
this element in that field.</p>
<p>The approximation will be off by at most two ulp’s in each component,
except for components which are very close to zero, which will have an
absolute error at most <span class="math notranslate nohighlight">\(2^{-prec+1}\)</span> where <span class="math notranslate nohighlight">\(prec\)</span> is the precision of
the field.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">complex_number</span><span class="p">(</span><span class="n">CC</span><span class="p">)</span>
<span class="go">0.309016994374947 + 0.951056516295154*I</span>

<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">*</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">complex_number</span><span class="p">(</span><span class="n">ComplexField</span><span class="p">(</span><span class="mi">128</span><span class="p">))</span>
<span class="go">1.4142135623730950488016887242096980786 + 1.7320508075688772935274463415058723669*I</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber.conjugate">
<code class="descname">conjugate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber.conjugate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the complex conjugate of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">3 - 4*I</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">0.6234898018587335? - 0.7818314824680299?*I</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">1.246979603717467? + 0.?e-18*I</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber.imag">
<code class="descname">imag</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber.imag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the imaginary part of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">imag</span><span class="p">()</span>
<span class="go">0.7818314824680299?</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber.interval_exact">
<code class="descname">interval_exact</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber.interval_exact" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <code class="docutils literal notranslate"><span class="pre">ComplexIntervalField</span></code>, compute the best possible
approximation of this number in that field. Note that if
either the real or imaginary parts of this number are
sufficiently close to some floating-point number (and, in
particular, if either is exactly representable in floating-point),
then this will trigger exact computation, which may be very slow.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">();</span> <span class="n">a</span>
<span class="go">0.7071067811865475? + 0.7071067811865475?*I</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">interval_exact</span><span class="p">(</span><span class="n">CIF</span><span class="p">)</span>
<span class="go">0.7071067811865475? + 0.7071067811865475?*I</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">I</span><span class="p">)</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="n">CIF</span><span class="p">)</span>
<span class="go">0.?e-19 + 0.?e-18*I</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">interval_exact</span><span class="p">(</span><span class="n">CIF</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber.multiplicative_order">
<code class="descname">multiplicative_order</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber.multiplicative_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the multiplicative order of this algebraic real
number. That is, find the smallest positive integer <span class="math notranslate nohighlight">\(n\)</span> such
that <span class="math notranslate nohighlight">\(x^n = 1\)</span>. If there is no such <span class="math notranslate nohighlight">\(n\)</span>, returns <code class="docutils literal notranslate"><span class="pre">+Infinity</span></code>.</p>
<p>We first check that <code class="docutils literal notranslate"><span class="pre">abs(x)</span></code> is very close to 1. If so, we compute
<span class="math notranslate nohighlight">\(x\)</span> exactly and examine its argument.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="n">I</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">multiplicative_order</span><span class="p">()</span>
<span class="go">12</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">multiplicative_order</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">multiplicative_order</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">707</span><span class="o">/</span><span class="mi">1000</span> <span class="o">+</span> <span class="mi">707</span><span class="o">/</span><span class="mi">1000</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">multiplicative_order</span><span class="p">()</span>
<span class="go">+Infinity</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">4</span><span class="o">/</span><span class="mi">5</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">multiplicative_order</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber.norm">
<code class="descname">norm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">self</span> <span class="pre">*</span> <span class="pre">self.conjugate()</span></code>.</p>
<p>This is the algebraic definition of norm, if we view <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>
as <code class="docutils literal notranslate"><span class="pre">AA[I]</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">25</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">norm</span><span class="p">())</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.AlgebraicReal&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">1007</span><span class="p">)</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span>
<span class="go">1.000000000000000?</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber.rational_argument">
<code class="descname">rational_argument</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber.rational_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the argument of <code class="docutils literal notranslate"><span class="pre">self</span></code>, divided by <span class="math notranslate nohighlight">\(2\pi\)</span>, as long as this
result is rational. Otherwise returns <code class="docutils literal notranslate"><span class="pre">None</span></code>. Always triggers
exact computation.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">I</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">()</span>
<span class="go">1/8</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">+</span> <span class="n">I</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">()</span>
<span class="go">1/3</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">-</span> <span class="n">I</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">()</span>
<span class="go">-1/3</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">()</span> <span class="ow">is</span> <span class="bp">None</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">()</span>
<span class="go">2/7</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">73</span><span class="p">)</span><span class="o">**</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">()</span>
<span class="go">5/73</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">65536</span><span class="p">)</span><span class="o">.</span><span class="n">rational_argument</span><span class="p">()</span>
<span class="go">1/3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber.real">
<code class="descname">real</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber.real" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the real part of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">real</span><span class="p">()</span>
<span class="go">0.3090169943749474?</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.AlgebraicNumberPowQQAction">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">AlgebraicNumberPowQQAction</code><span class="sig-paren">(</span><em>G</em>, <em>S</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumberPowQQAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../coercion/sage/categories/action.html#sage.categories.action.Action" title="(in Sage Reference Manual: Coercion v8.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.categories.action.Action</span></code></a></p>
<p>Implement powering of an algebraic number (an element of <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>
or <code class="docutils literal notranslate"><span class="pre">AA</span></code>) by a rational.</p>
<p>This is always a right action.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">G</span></code> – must be <code class="docutils literal notranslate"><span class="pre">QQ</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">S</span></code> – the parent on which to act, either <code class="docutils literal notranslate"><span class="pre">AA</span></code> or <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To compute <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">^</span> <span class="pre">(a/b)</span></code>, we take the <span class="math notranslate nohighlight">\(b\)</span>’th root of <span class="math notranslate nohighlight">\(x\)</span>; then
we take that to the <span class="math notranslate nohighlight">\(a\)</span>’th power. If <span class="math notranslate nohighlight">\(x\)</span> is a negative algebraic
real and <span class="math notranslate nohighlight">\(b\)</span> is odd, take the real <span class="math notranslate nohighlight">\(b\)</span>’th root; otherwise take
the principal <span class="math notranslate nohighlight">\(b\)</span>’th root.</p>
</div>
<p>EXAMPLES:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQbar</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">tau</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt5</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="o">^</span><span class="mi">10</span> <span class="o">/</span> <span class="n">rt5</span>
<span class="go">55.00363612324742?</span>
<span class="gp">sage: </span><span class="n">tau</span><span class="o">^</span><span class="mi">10</span> <span class="o">/</span> <span class="n">rt5</span>
<span class="go">0.003636123247413266?</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">phi</span><span class="o">^</span><span class="mi">10</span> <span class="o">-</span> <span class="n">tau</span><span class="o">^</span><span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="n">rt5</span>
<span class="go">55.00000000000000?</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">phi</span><span class="o">^</span><span class="mi">10</span> <span class="o">-</span> <span class="n">tau</span><span class="o">^</span><span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="n">rt5</span> <span class="o">==</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">phi</span><span class="o">^</span><span class="mi">50</span> <span class="o">-</span> <span class="n">tau</span><span class="o">^</span><span class="mi">50</span><span class="p">)</span> <span class="o">/</span> <span class="n">rt5</span> <span class="o">==</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1.000000000000000? + 1.732050807568878?*I</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span><span class="o">^</span><span class="mi">3</span>
<span class="go">-8</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">);</span> <span class="n">a</span>
<span class="go">0.9555728057861407? + 0.2947551744109043?*I</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span>
<span class="go">0.6234898018587335? - 0.7818314824680299?*I</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span>
<span class="go">1.000000000000000? + 0.?e-17*I</span>
</pre></div>
</div>
<p>In <code class="docutils literal notranslate"><span class="pre">AA</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">AA</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">tau</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt5</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="o">^</span><span class="mi">10</span> <span class="o">/</span> <span class="n">rt5</span>
<span class="go">55.00363612324742?</span>
<span class="gp">sage: </span><span class="n">tau</span><span class="o">^</span><span class="mi">10</span> <span class="o">/</span> <span class="n">rt5</span>
<span class="go">0.003636123247413266?</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">phi</span><span class="o">^</span><span class="mi">10</span> <span class="o">-</span> <span class="n">tau</span><span class="o">^</span><span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="n">rt5</span>
<span class="go">55.00000000000000?</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">phi</span><span class="o">^</span><span class="mi">10</span> <span class="o">-</span> <span class="n">tau</span><span class="o">^</span><span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="n">rt5</span> <span class="o">==</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">phi</span><span class="o">^</span><span class="mi">50</span> <span class="o">-</span> <span class="n">tau</span><span class="o">^</span><span class="mi">50</span><span class="p">)</span> <span class="o">/</span> <span class="n">rt5</span> <span class="o">==</span> <span class="n">fibonacci</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.AlgebraicNumber_base">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">AlgebraicNumber_base</code><span class="sig-paren">(</span><em>parent</em>, <em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/element.html#sage.structure.element.FieldElement" title="(in Sage Reference Manual: Parents and Elements v8.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.FieldElement</span></code></a></p>
<p>This is the common base class for algebraic numbers (complex
numbers which are the zero of a polynomial in <span class="math notranslate nohighlight">\(\ZZ[x]\)</span>) and algebraic
reals (algebraic numbers which happen to be real).</p>
<p><code class="docutils literal notranslate"><span class="pre">AlgebraicNumber</span></code> objects can be created using <code class="docutils literal notranslate"><span class="pre">QQbar</span></code> (==
<code class="docutils literal notranslate"><span class="pre">AlgebraicNumberField()</span></code>), and <code class="docutils literal notranslate"><span class="pre">AlgebraicReal</span></code> objects can be created
using <code class="docutils literal notranslate"><span class="pre">AA</span></code> (== <code class="docutils literal notranslate"><span class="pre">AlgebraicRealField()</span></code>). They can be created either by
coercing a rational or a symbolic expression, or by using the
<code class="docutils literal notranslate"><span class="pre">QQbar.polynomial_root()</span></code> or <code class="docutils literal notranslate"><span class="pre">AA.polynomial_root()</span></code> method to
construct a particular root of a polynomial with algebraic
coefficients. Also, <code class="docutils literal notranslate"><span class="pre">AlgebraicNumber</span></code> and <code class="docutils literal notranslate"><span class="pre">AlgebraicReal</span></code> are closed
under addition, subtraction, multiplication, division (except by
0), and rational powers (including roots), except that for a
negative <code class="docutils literal notranslate"><span class="pre">AlgebraicReal</span></code>, taking a power with an even denominator returns
an <code class="docutils literal notranslate"><span class="pre">AlgebraicNumber</span></code> instead of an <code class="docutils literal notranslate"><span class="pre">AlgebraicReal</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">AlgebraicNumber</span></code>   and   <code class="docutils literal notranslate"><span class="pre">AlgebraicReal</span></code>   objects   can   be
approximated  to  any desired  precision. They  can be  compared
exactly; if the two numbers are very close, or are equal, this may
require exact computation, which can be extremely slow.</p>
<p>As long as exact computation is not triggered, computation with
algebraic numbers should not be too much slower than computation with
intervals. As mentioned above, exact computation is triggered
when comparing two algebraic numbers which are very close together.
This can be an explicit comparison in user code, but the following
list of actions (not necessarily complete) can also trigger exact
computation:</p>
<ul class="simple">
<li>Dividing by an algebraic number which is very close to 0.</li>
<li>Using an algebraic number which is very close to 0 as the leading
coefficient in a polynomial.</li>
<li>Taking a root of an algebraic number which is very close to 0.</li>
</ul>
<p>The exact definition of “very close” is subject to change; currently,
we compute our best approximation of the two numbers using 128-bit
arithmetic, and see if that’s sufficient to decide the comparison.
Note that comparing two algebraic numbers which are actually equal will
always trigger exact computation, unless they are actually the same object.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">2</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQbar</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">phi</span>
<span class="go">1.618033988749895?</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">phi</span><span class="o">+</span><span class="mi">1</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">65537</span><span class="p">))</span>
<span class="go">256.0019531175495?</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.as_number_field_element">
<code class="descname">as_number_field_element</code><span class="sig-paren">(</span><em>minimal=False</em>, <em>embedded=False</em>, <em>prec=53</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.as_number_field_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a number field containing this value, a representation of
this value as an element of that number field, and a homomorphism
from the number field back to <code class="docutils literal notranslate"><span class="pre">AA</span></code> or <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">minimal</span></code> – Boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>). Whether to minimize the
degree of the extension.</li>
<li><code class="docutils literal notranslate"><span class="pre">embedded</span></code> – Boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>). Whether to make the
NumberField embedded.</li>
<li><code class="docutils literal notranslate"><span class="pre">prec</span></code> – integer (default: <code class="docutils literal notranslate"><span class="pre">53</span></code>). The number of bit of precision
to guarantee finding real roots.</li>
</ul>
<p>This may not return the smallest such number field, unless
<code class="docutils literal notranslate"><span class="pre">minimal=True</span></code> is specified.</p>
<p>To compute a single number field containing multiple algebraic
numbers, use the function
<code class="docutils literal notranslate"><span class="pre">number_field_elements_from_algebraics</span></code> instead.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span><span class="o">.</span><span class="n">as_number_field_element</span><span class="p">()</span>
<span class="go">(Number Field in a with defining polynomial y^2 - 2, 2*a, Ring morphism:</span>
<span class="go">    From: Number Field in a with defining polynomial y^2 - 2</span>
<span class="go">    To:   Algebraic Real Field</span>
<span class="go">    Defn: a |--&gt; 1.414213562373095?)</span>

<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">17</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">rt</span><span class="p">,)</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">AA</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">rt</span>
<span class="go">-2.804642726932742?</span>

<span class="gp">sage: </span><span class="p">(</span><span class="n">nf</span><span class="p">,</span> <span class="n">elt</span><span class="p">,</span> <span class="n">hom</span><span class="p">)</span> <span class="o">=</span> <span class="n">rt</span><span class="o">.</span><span class="n">as_number_field_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">nf</span><span class="p">,</span> <span class="n">elt</span><span class="p">,</span> <span class="n">hom</span>
<span class="go">(Number Field in a with defining polynomial y^3 - 2*y^2 - 31*y - 50,</span>
<span class="go"> a^2 - 5*a - 19,</span>
<span class="go"> Ring morphism:</span>
<span class="go">   From: Number Field in a with defining polynomial y^3 - 2*y^2 - 31*y - 50</span>
<span class="go">   To:   Algebraic Real Field</span>
<span class="go">   Defn: a |--&gt; 7.237653139801104?)</span>
<span class="gp">sage: </span><span class="n">elt</span> <span class="o">==</span> <span class="n">rt</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: need a real or complex embedding to convert a non rational element of a number field into an algebraic number</span>
<span class="gp">sage: </span><span class="n">hom</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span> <span class="o">==</span> <span class="n">rt</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Creating an element of an embedded number field:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">nf</span><span class="p">,</span> <span class="n">elt</span><span class="p">,</span> <span class="n">hom</span><span class="p">)</span> <span class="o">=</span> <span class="n">rt</span><span class="o">.</span><span class="n">as_number_field_element</span><span class="p">(</span><span class="n">embedded</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nf</span><span class="o">.</span><span class="n">coerce_embedding</span><span class="p">()</span>
<span class="go">Generic morphism:</span>
<span class="go">  From: Number Field in a with defining polynomial y^3 - 2*y^2 - 31*y - 50 with a = 7.237653139801104?</span>
<span class="go">  To:   Algebraic Real Field</span>
<span class="go">  Defn: a -&gt; 7.237653139801104?</span>
<span class="gp">sage: </span><span class="n">elt</span>
<span class="go">a^2 - 5*a - 19</span>
<span class="gp">sage: </span><span class="n">elt</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">nf</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">hom</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Algebraic Real Field</span>
<span class="gp">sage: </span><span class="n">hom</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span> <span class="o">==</span> <span class="n">rt</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">elt</span> <span class="o">==</span> <span class="n">rt</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span>
<span class="go">-2.804642726932742?</span>
<span class="gp">sage: </span><span class="n">RR</span><span class="p">(</span><span class="n">elt</span><span class="p">)</span>
<span class="go">-2.80464272693274</span>
</pre></div>
</div>
<p>We see an example where we do not get the minimal number field unless
we specify <code class="docutils literal notranslate"><span class="pre">minimal=True</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt3</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt3b</span> <span class="o">=</span> <span class="n">rt2</span> <span class="o">+</span> <span class="n">rt3</span> <span class="o">-</span> <span class="n">rt2</span>
<span class="gp">sage: </span><span class="n">rt3b</span><span class="o">.</span><span class="n">as_number_field_element</span><span class="p">()</span>
<span class="go">(Number Field in a with defining polynomial y^4 - 4*y^2 + 1, -a^2 + 2, Ring morphism:</span>
<span class="go">    From: Number Field in a with defining polynomial y^4 - 4*y^2 + 1</span>
<span class="go">    To:   Algebraic Real Field</span>
<span class="go">    Defn: a |--&gt; 0.5176380902050415?)</span>
<span class="gp">sage: </span><span class="n">rt3b</span><span class="o">.</span><span class="n">as_number_field_element</span><span class="p">(</span><span class="n">minimal</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(Number Field in a with defining polynomial y^2 - 3, a, Ring morphism:</span>
<span class="go">   From: Number Field in a with defining polynomial y^2 - 3</span>
<span class="go">   To:   Algebraic Real Field</span>
<span class="go">   Defn: a |--&gt; 1.732050807568878?)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.degree">
<code class="descname">degree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.degree" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the degree of this algebraic number (the degree of its
minimal polynomial, or equivalently, the degree of the smallest
algebraic extension of the rationals containing this number).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span><span class="o">.</span><span class="n">nth_root</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="o">+</span><span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">8</span><span class="p">)))</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.exactify">
<code class="descname">exactify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.exactify" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute an exact representation for this number.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">two</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">nth_root</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">two</span>
<span class="go">2.000000000000000?</span>
<span class="gp">sage: </span><span class="n">two</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">two</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.interval">
<code class="descname">interval</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an interval field (real or complex, as appropriate) of
precision <span class="math notranslate nohighlight">\(p\)</span>, compute an interval representation of self with
<code class="docutils literal notranslate"><span class="pre">diameter()</span></code> at most <span class="math notranslate nohighlight">\(2^{-p}\)</span>; then round that representation into
the given field. Here <code class="docutils literal notranslate"><span class="pre">diameter()</span></code> is relative diameter for
intervals not containing 0, and absolute diameter for
intervals that do contain 0; thus, if the returned interval
does not contain 0, it has at least <span class="math notranslate nohighlight">\(p-1\)</span> good bits.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">RIF64</span> <span class="o">=</span> <span class="n">RealIntervalField</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="mi">1000</span> <span class="o">*</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">999</span> <span class="o">*</span> <span class="n">y</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">interval_fast</span><span class="p">(</span><span class="n">RIF64</span><span class="p">)</span>
<span class="go">2.000000000000000?</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="n">RIF64</span><span class="p">)</span>
<span class="go">2.000000000000000000?</span>
<span class="gp">sage: </span><span class="n">CIF64</span> <span class="o">=</span> <span class="n">ComplexIntervalField</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">interval_fast</span><span class="p">(</span><span class="n">CIF64</span><span class="p">)</span>
<span class="go">0.8412535328311811689? + 0.5406408174555975821?*I</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="n">CIF64</span><span class="p">)</span>
<span class="go">0.8412535328311811689? + 0.5406408174555975822?*I</span>
</pre></div>
</div>
<p>The following implicitly use this method:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">RIF</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">())</span>
<span class="go">2.236067977499790?</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="n">RIF</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: unable to convert 2.236067977499790?*I to real interval</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.interval_diameter">
<code class="descname">interval_diameter</code><span class="sig-paren">(</span><em>diam</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.interval_diameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute an interval representation of self with <code class="docutils literal notranslate"><span class="pre">diameter()</span></code> at
most <code class="docutils literal notranslate"><span class="pre">diam</span></code>. The precision of the returned value is unpredictable.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span><span class="o">.</span><span class="n">interval_diameter</span><span class="p">(</span><span class="mf">1e-10</span><span class="p">)</span>
<span class="go">1.4142135623730950488?</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span><span class="o">.</span><span class="n">interval_diameter</span><span class="p">(</span><span class="mf">1e-30</span><span class="p">)</span>
<span class="go">1.41421356237309504880168872420969807857?</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span><span class="o">.</span><span class="n">interval_diameter</span><span class="p">(</span><span class="mf">1e-10</span><span class="p">)</span>
<span class="go">1.4142135623730950488?</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span><span class="o">.</span><span class="n">interval_diameter</span><span class="p">(</span><span class="mf">1e-30</span><span class="p">)</span>
<span class="go">1.41421356237309504880168872420969807857?</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.interval_fast">
<code class="descname">interval_fast</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.interval_fast" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <code class="xref py py-class docutils literal notranslate"><span class="pre">RealIntervalField</span></code> or
<code class="xref py py-class docutils literal notranslate"><span class="pre">ComplexIntervalField</span></code>, compute the value of this number
using interval arithmetic of at least the precision of the field,
and return the value in that field. (More precision may be used
in the computation.)  The returned interval may be arbitrarily
imprecise, if this number is the result of a sufficiently long
computation chain.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">interval_fast</span><span class="p">(</span><span class="n">RIF</span><span class="p">)</span>
<span class="go">1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">interval_fast</span><span class="p">(</span><span class="n">RealIntervalField</span><span class="p">(</span><span class="mi">200</span><span class="p">))</span>
<span class="go">1.414213562373095048801688724209698078569671875376948073176680?</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">interval_fast</span><span class="p">(</span><span class="n">CIF</span><span class="p">)</span>
<span class="go">0.7071067811865475? + 0.7071067811865475?*I</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">interval_fast</span><span class="p">(</span><span class="n">RIF</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: unable to convert complex interval 0.7071067811865475244? + 0.7071067811865475244?*I to real interval</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.is_integer">
<code class="descname">is_integer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.is_integer" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this number is a integer</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_integer</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_integer</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.is_square">
<code class="descname">is_square</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.is_square" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether or not this number is square.</p>
<p>OUTPUT:</p>
<p>(boolean) True in all cases for elements of QQbar; True for
non-negative elements of AA, otherwise False.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_square</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_square</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_square</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">is_square</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.minpoly">
<code class="descname">minpoly</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.minpoly" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the minimal polynomial of this algebraic number.
The minimal polynomial is the monic polynomial of least degree
having this number as a root; it is unique.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span><span class="o">.</span><span class="n">minpoly</span><span class="p">()</span>
<span class="go">x - 2</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">nth_root</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">minpoly</span><span class="p">()</span>
<span class="go">x^2 - 2</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span> <span class="n">v</span>
<span class="go">3.146264369941973?</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">minpoly</span><span class="p">();</span> <span class="n">p</span>
<span class="go">x^4 - 10*x^2 + 1</span>
<span class="gp">sage: </span><span class="n">p</span><span class="p">(</span><span class="n">RR</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">real</span><span class="p">()))</span>
<span class="go">1.31006316905768e-14</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.nth_root">
<code class="descname">nth_root</code><span class="sig-paren">(</span><em>n</em>, <em>all=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.nth_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <code class="docutils literal notranslate"><span class="pre">n</span></code>-th root of this number.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">all</span></code> - bool (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>). If <code class="docutils literal notranslate"><span class="pre">True</span></code>, return a list of
all <span class="math notranslate nohighlight">\(n\)</span>-th roots as complex algebraic numbers.</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Note that for odd <span class="math notranslate nohighlight">\(n\)</span>, all=`False` and negative real numbers,
<code class="docutils literal notranslate"><span class="pre">AlgebraicReal</span></code> and <code class="docutils literal notranslate"><span class="pre">AlgebraicNumber</span></code> values give different
answers: <code class="docutils literal notranslate"><span class="pre">AlgebraicReal</span></code> values prefer real results, and
<code class="docutils literal notranslate"><span class="pre">AlgebraicNumber</span></code> values return the principal root.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">nth_root</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">-2</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">nth_root</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1.000000000000000? + 1.732050807568878?*I</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">nth_root</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="go">0.9993908270190957? + 0.03489949670250097?*I</span>
</pre></div>
</div>
<p>You can get all <code class="docutils literal notranslate"><span class="pre">n</span></code>-th roots of algebraic numbers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">nth_root</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[1.000000000000000? + 1.732050807568878?*I,</span>
<span class="go">-2.000000000000000? + 0.?e-18*I,</span>
<span class="go">1.000000000000000? - 1.732050807568878?*I]</span>

<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">nth_root</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[1.069553932363986? + 0.2127475047267431?*I,</span>
<span class="go"> -0.2127475047267431? + 1.069553932363986?*I,</span>
<span class="go"> -1.069553932363986? - 0.2127475047267431?*I,</span>
<span class="go"> 0.2127475047267431? - 1.069553932363986?*I]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.radical_expression">
<code class="descname">radical_expression</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.radical_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to obtain a symbolic expression using radicals. If no
exact symbolic expression can be found, the algebraic number
will be returned without modification.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span>
<span class="go">sqrt(1/5)</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span>
<span class="go">sqrt(sqrt(5) + 5)</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span>
<span class="go">1/4*sqrt(5) + 1/2*sqrt(-1/2*sqrt(5) - 5/2) - 1/4</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="n">x</span><span class="p">](</span><span class="n">x</span><span class="o">^</span><span class="mi">7</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">AA</span><span class="p">,</span> <span class="bp">False</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span>
<span class="go">1.112775684278706?</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">SR</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="n">x</span><span class="p">](</span><span class="n">x</span><span class="o">^</span><span class="mi">7</span><span class="o">-</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">QQbar</span><span class="p">,</span> <span class="bp">False</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="n">imag</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span>
<span class="go">-0.3636235193291805? - 0.9525611952610331?*I</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">imag</span><span class="p">()</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span>
<span class="go">1/2*sqrt(1/2*sqrt(5) + 5/2)</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span>
<span class="go">5/3</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">SR</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">radical_expression</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.simplify">
<code class="descname">simplify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute an exact representation for this number, in the
smallest possible number field.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt3</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">rt2b</span> <span class="o">=</span> <span class="n">rt3</span> <span class="o">+</span> <span class="n">rt2</span> <span class="o">-</span> <span class="n">rt3</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">_exact_value</span><span class="p">()</span>
<span class="go">a^3 - 3*a where a^4 - 4*a^2 + 1 = 0 and a in 1.931851652578137?</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">rt2b</span><span class="o">.</span><span class="n">_exact_value</span><span class="p">()</span>
<span class="go">a where a^2 - 2 = 0 and a in 1.414213562373095?</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicNumber_base.sqrt">
<code class="descname">sqrt</code><span class="sig-paren">(</span><em>all=False</em>, <em>extend=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicNumber_base.sqrt" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the square root(s) of this number.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">extend</span></code> - bool (default: True); ignored if self is in QQbar, or
positive in AA. If self is negative in AA, do the following: if True,
return a square root of self in QQbar, otherwise raise a ValueError.</li>
<li><code class="docutils literal notranslate"><span class="pre">all</span></code> - bool (default: False); if True, return a list of all square
roots. If False, return just one square root, or raise an ValueError
if self is a negative element of AA and extend=False.</li>
</ul>
<p>OUTPUT:</p>
<p>Either the principal square root of self, or a list of its
square roots (with the principal one first).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">1.414213562373095?</span>

<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">0.7071067811865475? + 0.7071067811865475?*I</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[0.7071067811865475? + 0.7071067811865475?*I, -0.7071067811865475? - 0.7071067811865475?*I]</span>

<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[0]</span>

<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[0]</span>
</pre></div>
</div>
<p>This second example just shows that the program does not care where 0
is defined, it gives the same answer regardless. After all, how many
ways can you square-root zero?</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">1.414213562373095?*I</span>

<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[1.414213562373095?*I, -1.414213562373095?*I]</span>

<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">extend</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: -2 is not a square in AA, being negative. Use extend = True for a square root in QQbar.</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.AlgebraicPolynomialTracker">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">AlgebraicPolynomialTracker</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicPolynomialTracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage Reference Manual: Parents and Elements v8.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.sage_object.SageObject</span></code></a></p>
<p>Keeps track of a polynomial used for algebraic numbers.</p>
<p>If multiple algebraic numbers are created as roots of a single
polynomial, this allows the polynomial and information about
the polynomial to be shared. This reduces work if the polynomial
must be recomputed at higher precision, or if it must be factored.</p>
<p>This class is private, and should only be constructed by
<code class="docutils literal notranslate"><span class="pre">AA.common_polynomial()</span></code> or <code class="docutils literal notranslate"><span class="pre">QQbar.common_polynomial()</span></code>, and should
only be used as an argument to <code class="docutils literal notranslate"><span class="pre">AA.polynomial_root()</span></code> or
<code class="docutils literal notranslate"><span class="pre">QQbar.polynomial_root()</span></code>. (It does not matter whether you create
the common polynomial with <code class="docutils literal notranslate"><span class="pre">AA.common_polynomial()</span></code> or
<code class="docutils literal notranslate"><span class="pre">QQbar.common_polynomial()</span></code>.)</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQbar</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span>
<span class="go">x^2 - x - 1</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">1.618033988749895?</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicPolynomialTracker.complex_roots">
<code class="descname">complex_roots</code><span class="sig-paren">(</span><em>prec</em>, <em>multiplicity</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicPolynomialTracker.complex_roots" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the roots of self in the complex field to precision prec.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cp</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the precision is not guaranteed to find the tightest
possible interval since complex_roots() depends on the
underlying BLAS implementation.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cp</span><span class="o">.</span><span class="n">complex_roots</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">[-1.18920711500272...?,</span>
<span class="go"> 1.189207115002721?,</span>
<span class="go"> -1.189207115002721?*I,</span>
<span class="go"> 1.189207115002721?*I]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicPolynomialTracker.exactify">
<code class="descname">exactify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicPolynomialTracker.exactify" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a common field that holds all of the algebraic coefficients
of this polynomial, then factor the polynomial over that field.
Store the factors for later use (ignoring multiplicity).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">AA</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">*</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">cp</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cp</span><span class="o">.</span><span class="n">_exact</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">cp</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">cp</span><span class="o">.</span><span class="n">_exact</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicPolynomialTracker.factors">
<code class="descname">factors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicPolynomialTracker.factors" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">factors</span><span class="p">()</span>
<span class="go">[y^2 - 2*y + 2, y^2 + 2*y + 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicPolynomialTracker.generator">
<code class="descname">generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicPolynomialTracker.generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sage.rings.qqbar.AlgebraicGenerator" title="sage.rings.qqbar.AlgebraicGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlgebraicGenerator</span></code></a> for a number field containing all
the coefficients of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">AA</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">*</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">cp</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cp</span><span class="o">.</span><span class="n">generator</span><span class="p">()</span>
<span class="go">Number Field in a with defining polynomial y^4 - 4*y^2 + 1 with a in 1.931851652578137?</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicPolynomialTracker.is_complex">
<code class="descname">is_complex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicPolynomialTracker.is_complex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the coefficients of this polynomial are non-real.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">);</span> <span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">7</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">is_complex</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">QQbar</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">))</span><span class="o">.</span><span class="n">is_complex</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicPolynomialTracker.poly">
<code class="descname">poly</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicPolynomialTracker.poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the underlying polynomial of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">7</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">common_polynomial</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">poly</span><span class="p">()</span>
<span class="go">y^3 - 7</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.AlgebraicReal">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">AlgebraicReal</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.rings.qqbar.AlgebraicNumber_base" title="sage.rings.qqbar.AlgebraicNumber_base"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.qqbar.AlgebraicNumber_base</span></code></a></p>
<p>A real algebraic number.</p>
<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal._richcmp_">
<code class="descname">_richcmp_</code><span class="sig-paren">(</span><em>other</em>, <em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal._richcmp_" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two algebraic reals.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">((</span><span class="mi">5</span><span class="o">+</span><span class="n">AA</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">())</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="o">*</span><span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">imag</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">+</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">3</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal.ceil">
<code class="descname">ceil</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal.ceil" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the smallest integer not smaller than <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">ceil</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">ceil</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span><span class="o">.</span><span class="n">ceil</span><span class="p">()</span>
<span class="go">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal.conjugate">
<code class="descname">conjugate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal.conjugate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the complex conjugate of <code class="docutils literal notranslate"><span class="pre">self</span></code>, i.e. returns itself.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="go">3.146264369941973?</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span> <span class="ow">is</span> <span class="n">a</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal.floor">
<code class="descname">floor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal.floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the largest integer not greater than <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">floor</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">floor</span><span class="p">()</span>
<span class="go">-2</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span><span class="o">.</span><span class="n">floor</span><span class="p">()</span>
<span class="go">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal.imag">
<code class="descname">imag</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal.imag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the imaginary part of this algebraic real.</p>
<p>It always returns 0.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">imag</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">imag</span><span class="p">())</span>
<span class="go">Algebraic Real Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal.interval_exact">
<code class="descname">interval_exact</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal.interval_exact" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <code class="docutils literal notranslate"><span class="pre">RealIntervalField</span></code>, compute the best possible
approximation of this number in that field. Note that if this
number is sufficiently close to some floating-point number
(and, in particular, if this number is exactly representable in
floating-point), then this will trigger exact computation, which
may be very slow.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="n">RIF</span><span class="p">)</span>
<span class="go">1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">interval_exact</span><span class="p">(</span><span class="n">RIF</span><span class="p">)</span>
<span class="go">1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="n">RIF</span><span class="p">)</span>
<span class="go">2.000000000000000?</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">interval_exact</span><span class="p">(</span><span class="n">RIF</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="o">^</span><span class="mi">200</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">interval</span><span class="p">(</span><span class="n">RIF</span><span class="p">)</span>
<span class="go">1.000000000000001?</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">interval_exact</span><span class="p">(</span><span class="n">RIF</span><span class="p">)</span>
<span class="go">1.000000000000001?</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal.real">
<code class="descname">real</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal.real" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the real part of this algebraic real.</p>
<p>It always returns <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">real</span><span class="p">()</span>
<span class="go">3.146264369941973?</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">real</span><span class="p">()</span> <span class="ow">is</span> <span class="n">a</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal.real_exact">
<code class="descname">real_exact</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal.real_exact" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <code class="docutils literal notranslate"><span class="pre">RealField</span></code>, compute the best possible approximation of
this number in that field. Note that if this number is
sufficiently close to the halfway point between two
floating-point numbers in the field (for the default
round-to-nearest mode) or if the number is sufficiently close
to a floating-point number in the field (for directed rounding
modes), then this will trigger exact computation, which may be
very slow.</p>
<p>The rounding mode of the field is respected.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="go">2.00000000000000</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDD&#39;</span><span class="p">))</span>
<span class="go">2.00000000000000</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDU&#39;</span><span class="p">))</span>
<span class="go">2.00000000000000</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDZ&#39;</span><span class="p">))</span>
<span class="go">2.00000000000000</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="go">-2.00000000000000</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDD&#39;</span><span class="p">))</span>
<span class="go">-2.00000000000000</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDU&#39;</span><span class="p">))</span>
<span class="go">-2.00000000000000</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDZ&#39;</span><span class="p">))</span>
<span class="go">-2.00000000000000</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">==</span> <span class="mf">0.0</span> <span class="ow">or</span> <span class="n">y</span> <span class="o">==</span> <span class="o">-</span><span class="mf">0.0</span> <span class="c1"># the sign of 0.0 is not significant in MPFI</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDD&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">==</span> <span class="mf">0.0</span> <span class="ow">or</span> <span class="n">y</span> <span class="o">==</span> <span class="o">-</span><span class="mf">0.0</span> <span class="c1"># same as above</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDU&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">==</span> <span class="mf">0.0</span> <span class="ow">or</span> <span class="n">y</span> <span class="o">==</span> <span class="o">-</span><span class="mf">0.0</span> <span class="c1"># idem</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDZ&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">==</span> <span class="mf">0.0</span> <span class="ow">or</span> <span class="n">y</span> <span class="o">==</span> <span class="o">-</span><span class="mf">0.0</span> <span class="c1"># ibidem</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="go">1.41421356237310</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDD&#39;</span><span class="p">))</span>
<span class="go">1.41421356237309</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDU&#39;</span><span class="p">))</span>
<span class="go">1.41421356237310</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">real_exact</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDZ&#39;</span><span class="p">))</span>
<span class="go">1.41421356237309</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal.real_number">
<code class="descname">real_number</code><span class="sig-paren">(</span><em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal.real_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <code class="docutils literal notranslate"><span class="pre">RealField</span></code>, compute a good approximation to self in
that field. The approximation will be off by at most two
ulp’s, except for numbers which are very close to 0, which
will have an absolute error at most
<code class="docutils literal notranslate"><span class="pre">2**(-(field.prec()-1))</span></code>. Also, the rounding mode of the
field is respected.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="go">2.00000000000000</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDD&#39;</span><span class="p">))</span>
<span class="go">1.99999999999999</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDU&#39;</span><span class="p">))</span>
<span class="go">2.00000000000001</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDZ&#39;</span><span class="p">))</span>
<span class="go">1.99999999999999</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="go">-2.00000000000000</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDD&#39;</span><span class="p">))</span>
<span class="go">-2.00000000000001</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDU&#39;</span><span class="p">))</span>
<span class="go">-1.99999999999999</span>
<span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDZ&#39;</span><span class="p">))</span>
<span class="go">-1.99999999999999</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="go">5.42101086242752e-20</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDD&#39;</span><span class="p">))</span>
<span class="go">-1.08420217248551e-19</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDU&#39;</span><span class="p">))</span>
<span class="go">2.16840434497101e-19</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDZ&#39;</span><span class="p">))</span>
<span class="go">0.000000000000000</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="go">1.41421356237309</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDD&#39;</span><span class="p">))</span>
<span class="go">1.41421356237309</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDU&#39;</span><span class="p">))</span>
<span class="go">1.41421356237310</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">real_number</span><span class="p">(</span><span class="n">RealField</span><span class="p">(</span><span class="mi">53</span><span class="p">,</span> <span class="n">rnd</span><span class="o">=</span><span class="s1">&#39;RNDZ&#39;</span><span class="p">))</span>
<span class="go">1.41421356237309</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal.round">
<code class="descname">round</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal.round" title="Permalink to this definition">¶</a></dt>
<dd><p>Round <code class="docutils literal notranslate"><span class="pre">self</span></code> to the nearest integer.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">round</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal.sign">
<code class="descname">sign</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal.sign" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the sign of this algebraic number (return -1 if negative,
0 if zero, or 1 if positive).</p>
<p>This computes an interval enclosing this number using 128-bit interval
arithmetic; if this interval includes 0, then fall back to
exact computation (which can be very slow).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">nth_root</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">sign</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">-</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">())</span><span class="o">.</span><span class="n">sign</span><span class="p">()</span>
<span class="go">0</span>

<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">+</span> <span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">-</span> <span class="mi">58114382797550084497</span><span class="o">/</span><span class="mi">18470915334626475921</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">sign</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">+</span> <span class="n">AA</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span> <span class="o">-</span> <span class="mi">2602510228533039296408</span><span class="o">/</span><span class="mi">827174681630786895911</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">sign</span><span class="p">()</span>
<span class="go">-1</span>

<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1437624125539676934786</span><span class="o">/</span><span class="mi">840727688792155114277</span>
<span class="gp">sage: </span><span class="n">c</span><span class="o">.</span><span class="n">sign</span><span class="p">()</span>
<span class="go">1</span>

<span class="gp">sage: </span><span class="p">(((</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">c</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">b</span><span class="o">+</span><span class="n">c</span><span class="p">))</span><span class="o">**</span><span class="mi">9</span> <span class="o">/</span> <span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">*</span><span class="n">c</span><span class="p">))</span><span class="o">.</span><span class="n">sign</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">sign</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">sign</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">sign</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="p">((</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span> <span class="o">+</span> <span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">sign</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">b</span> <span class="o">-</span> <span class="n">b</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">sign</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicReal.trunc">
<code class="descname">trunc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicReal.trunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Round <code class="docutils literal notranslate"><span class="pre">self</span></code> to the nearest integer toward zero.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">trunc</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">trunc</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">trunc</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">trunc</span><span class="p">()</span>
<span class="go">-1</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.rings.qqbar.AlgebraicRealField">
<em class="property">class </em><code class="descclassname">sage.rings.qqbar.</code><code class="descname">AlgebraicRealField</code><a class="headerlink" href="#sage.rings.qqbar.AlgebraicRealField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../misc/sage/misc/fast_methods.html#sage.misc.fast_methods.Singleton" title="(in Sage Reference Manual: Utilities v8.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.misc.fast_methods.Singleton</span></code></a>, <a class="reference internal" href="#sage.rings.qqbar.AlgebraicField_common" title="sage.rings.qqbar.AlgebraicField_common"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.qqbar.AlgebraicField_common</span></code></a></p>
<p>The field of algebraic reals.</p>
<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicRealField.algebraic_closure">
<code class="descname">algebraic_closure</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicRealField.algebraic_closure" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the algebraic closure of this field, which is the field
<span class="math notranslate nohighlight">\(\overline{\QQ}\)</span> of algebraic numbers.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">algebraic_closure</span><span class="p">()</span>
<span class="go">Algebraic Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicRealField.completion">
<code class="descname">completion</code><span class="sig-paren">(</span><em>p</em>, <em>prec</em>, <em>extras={}</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicRealField.completion" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the completion of self at the place <span class="math notranslate nohighlight">\(p\)</span>. Only implemented for <span class="math notranslate nohighlight">\(p
= \infty\)</span> at present.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">p</span></code> – either a prime (not implemented at present) or Infinity</li>
<li><code class="docutils literal notranslate"><span class="pre">prec</span></code> – precision of approximate field to return</li>
<li><code class="docutils literal notranslate"><span class="pre">extras</span></code> – (optional) a dict of extra keyword arguments
for the <code class="docutils literal notranslate"><span class="pre">RealField</span></code> constructor</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">completion</span><span class="p">(</span><span class="n">infinity</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="go">Real Field with 500 bits of precision</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">completion</span><span class="p">(</span><span class="n">infinity</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">53</span><span class="p">,</span> <span class="n">extras</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;RDF&#39;</span><span class="p">})</span>
<span class="go">Real Double Field</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">completion</span><span class="p">(</span><span class="n">infinity</span><span class="p">,</span> <span class="mi">53</span><span class="p">)</span> <span class="ow">is</span> <span class="n">RR</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">completion</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">NotImplementedError</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicRealField.gen">
<code class="descname">gen</code><span class="sig-paren">(</span><em>n=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicRealField.gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <span class="math notranslate nohighlight">\(n\)</span>-th element of the tuple returned by <a class="reference internal" href="#sage.rings.qqbar.AlgebraicRealField.gens" title="sage.rings.qqbar.AlgebraicRealField.gens"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gens()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">IndexError: n must be 0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicRealField.gens">
<code class="descname">gens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicRealField.gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a set of generators for this field. As this field is not
finitely generated, we opt for just returning 1.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(1,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicRealField.ngens">
<code class="descname">ngens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicRealField.ngens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of the tuple returned by <a class="reference internal" href="#sage.rings.qqbar.AlgebraicRealField.gens" title="sage.rings.qqbar.AlgebraicRealField.gens"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gens()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">ngens</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicRealField.polynomial_root">
<code class="descname">polynomial_root</code><span class="sig-paren">(</span><em>poly</em>, <em>interval</em>, <em>multiplicity=1</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicRealField.polynomial_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a polynomial with algebraic coefficients and an interval
enclosing exactly one root of the polynomial, constructs
an algebraic real representation of that root.</p>
<p>The polynomial need not be irreducible, or even squarefree; but
if the given root is a multiple root, its multiplicity must be
specified. (IMPORTANT NOTE: Currently, multiplicity-<span class="math notranslate nohighlight">\(k\)</span> roots
are handled by taking the <span class="math notranslate nohighlight">\((k-1)\)</span>-st derivative of the polynomial.
This means that the interval must enclose exactly one root
of this derivative.)</p>
<p>The conditions on the arguments (that the interval encloses exactly
one root, and that multiple roots match the given multiplicity)
are not checked; if they are not satisfied, an error may be
thrown (possibly later, when the algebraic number is used),
or wrong answers may result.</p>
<p>Note that if you are constructing multiple roots of a single
polynomial, it is better to use <code class="docutils literal notranslate"><span class="pre">AA.common_polynomial</span></code> (or
<code class="docutils literal notranslate"><span class="pre">QQbar.common_polynomial</span></code>; the two are equivalent) to get a
shared polynomial.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">AA</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span> <span class="n">phi</span>
<span class="go">1.618033988749895?</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">7</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">9</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="o">/</span><span class="mi">10</span><span class="p">),</span> <span class="n">multiplicity</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span><span class="p">;</span> <span class="n">r</span> <span class="o">==</span> <span class="mi">1</span>
<span class="go">1.000000000000000?</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">phi</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">r</span><span class="p">;</span> <span class="n">r</span> <span class="o">==</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">1.414213562373095?</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We allow complex polynomials, as long as the particular root
in question is real.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">im</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="n">I</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">K</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">im</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">2</span><span class="p">);</span> <span class="n">p</span>
<span class="go">(I + 1)*x^3 - 2*I - 2</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span> <span class="n">r</span><span class="o">^</span><span class="mi">3</span>
<span class="go">2.000000000000000?</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.rings.qqbar.AlgebraicRealField.zeta">
<code class="descname">zeta</code><span class="sig-paren">(</span><em>n=2</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.AlgebraicRealField.zeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <span class="math notranslate nohighlight">\(n\)</span>-th root of unity in this field. This will raise a
<code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if <span class="math notranslate nohighlight">\(n \ne \{1, 2\}\)</span> since no such root exists.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">n</span></code> (integer) – default 2</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">zeta</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: no n-th root of unity in algebraic reals</span>
</pre></div>
</div>
<p>Some silly inputs:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="n">Mod</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">AA</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: no n-th root of unity in algebraic reals</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="sage.rings.qqbar.QQbar">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">QQbar</code><em class="property"> = Algebraic Field</em><a class="headerlink" href="#sage.rings.qqbar.QQbar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.an_binop_element">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">an_binop_element</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.an_binop_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Add, subtract, multiply or divide two elements represented as elements of
number fields.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt2</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sqrt3</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sqrt5</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">sqrt2</span> <span class="o">+</span> <span class="n">sqrt3</span><span class="p">;</span> <span class="n">a</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">sqrt3</span> <span class="o">+</span> <span class="n">sqrt5</span><span class="p">;</span> <span class="n">b</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">_descr</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">an_binop_element</span>
<span class="gp">sage: </span><span class="n">an_binop_element</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">add</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANBinaryExpr object at ...&gt;</span>
<span class="gp">sage: </span><span class="n">an_binop_element</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">sub</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANBinaryExpr object at ...&gt;</span>
<span class="gp">sage: </span><span class="n">an_binop_element</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">mul</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANBinaryExpr object at ...&gt;</span>
<span class="gp">sage: </span><span class="n">an_binop_element</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">truediv</span><span class="p">)</span>
<span class="go">&lt;sage.rings.qqbar.ANBinaryExpr object at ...&gt;</span>
</pre></div>
</div>
<p>The code tries to use existing unions of number fields:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sqrt17</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">17</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">sqrt19</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">19</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">sqrt17</span> <span class="o">+</span> <span class="n">sqrt19</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">sqrt17</span> <span class="o">*</span> <span class="n">sqrt19</span> <span class="o">-</span> <span class="n">sqrt17</span> <span class="o">+</span> <span class="n">sqrt19</span> <span class="o">*</span> <span class="p">(</span><span class="n">sqrt17</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">_descr</span><span class="p">)</span>
<span class="go">(40.53909377268655?, &lt;class &#39;sage.rings.qqbar.ANBinaryExpr&#39;&gt;)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">sqrt17</span> <span class="o">*</span> <span class="n">sqrt19</span> <span class="o">-</span> <span class="n">sqrt17</span> <span class="o">+</span> <span class="n">sqrt19</span> <span class="o">*</span> <span class="p">(</span><span class="n">sqrt17</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">_descr</span><span class="p">)</span>
<span class="go">(40.53909377268655?, &lt;class &#39;sage.rings.qqbar.ANExtensionElement&#39;&gt;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.an_binop_expr">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">an_binop_expr</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.an_binop_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add, subtract, multiply or divide algebraic numbers represented as
binary expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code> – two elements</li>
<li><code class="docutils literal notranslate"><span class="pre">op</span></code> – an operator</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">_descr</span><span class="p">);</span> <span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">_descr</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANBinaryExpr&#39;&gt;</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANBinaryExpr&#39;&gt;</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">an_binop_expr</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">an_binop_expr</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">add</span><span class="p">);</span> <span class="n">x</span>
<span class="go">&lt;sage.rings.qqbar.ANBinaryExpr object at ...&gt;</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="go">-6/7*a^7 + 2/7*a^6 + 71/7*a^5 - 26/7*a^4 - 125/7*a^3 + 72/7*a^2 + 43/7*a - 47/7 where a^8 - 12*a^6 + 23*a^4 - 12*a^2 + 1 = 0 and a in 3.12580...?</span>

<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="o">+</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">_descr</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANBinaryExpr&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">an_binop_expr</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">operator</span><span class="o">.</span><span class="n">mul</span><span class="p">);</span> <span class="n">x</span>
<span class="go">&lt;sage.rings.qqbar.ANBinaryExpr object at ...&gt;</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">exactify</span><span class="p">()</span>
<span class="go">2*a^7 - a^6 - 24*a^5 + 12*a^4 + 46*a^3 - 22*a^2 - 22*a + 9 where a^8 - 12*a^6 + 23*a^4 - 12*a^2 + 1 = 0 and a in 3.1258...?</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.an_binop_rational">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">an_binop_rational</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.an_binop_rational" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to add, subtract, multiply or divide algebraic numbers.</p>
<p>Used when both are actually rational.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">an_binop_rational</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">an_binop_rational</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">7</span><span class="p">),</span> <span class="n">operator</span><span class="o">.</span><span class="n">add</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">17/7</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANRational&#39;&gt;</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">an_binop_rational</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">QQbar</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">7</span><span class="p">),</span> <span class="n">operator</span><span class="o">.</span><span class="n">mul</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span>
<span class="go">6/7</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.rings.qqbar.ANRational&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.clear_denominators">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">clear_denominators</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.clear_denominators" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a monic polynomial and rescale the variable to get a monic
polynomial with “integral” coefficients.</p>
<p>This works on any univariate
polynomial whose base ring has a <code class="docutils literal notranslate"><span class="pre">denominator()</span></code> method that returns
integers; for example, the base ring might be <span class="math notranslate nohighlight">\(\QQ\)</span> or a number
field.</p>
<p>Returns the scale factor and the new polynomial.</p>
<p>(Inspired by <a class="reference external" href="https://pari.math.u-bordeaux.fr/dochtml/help/primitive_pol_to_monic">pari:primitive_pol_to_monic</a> .)</p>
<p>We assume that coefficient denominators are “small”; the algorithm
factors the denominators, to give the smallest possible scale factor.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">clear_denominators</span>

<span class="gp">sage: </span><span class="n">_</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">clear_denominators</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(2, x + 3)</span>
<span class="gp">sage: </span><span class="n">clear_denominators</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="go">(2, x^2 + x + 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.cmp_elements_with_same_minpoly">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">cmp_elements_with_same_minpoly</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.cmp_elements_with_same_minpoly" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare the algebraic elements <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> knowing that they have the
same minimal polynomial <code class="docutils literal notranslate"><span class="pre">p</span></code>.</p>
<p>This is an helper function for comparison of algebraic elements (i.e. the
methods <a class="reference internal" href="#sage.rings.qqbar.AlgebraicNumber._richcmp_" title="sage.rings.qqbar.AlgebraicNumber._richcmp_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AlgebraicNumber._richcmp_()</span></code></a> and
<a class="reference internal" href="#sage.rings.qqbar.AlgebraicReal._richcmp_" title="sage.rings.qqbar.AlgebraicReal._richcmp_"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AlgebraicReal._richcmp_()</span></code></a>).</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> – elements of the algebraic or the real algebraic field
with same minimal polynomial</li>
<li><code class="docutils literal notranslate"><span class="pre">p</span></code> – the minimal polynomial</li>
</ul>
<p>OUTPUT:</p>
<p><span class="math notranslate nohighlight">\(-1\)</span>, <span class="math notranslate nohighlight">\(0\)</span>, <span class="math notranslate nohighlight">\(1\)</span>, <span class="math notranslate nohighlight">\(None\)</span> depending on whether <span class="math notranslate nohighlight">\(a &lt; b\)</span>, <span class="math notranslate nohighlight">\(a = b\)</span> or <span class="math notranslate nohighlight">\(a &gt; b\)</span> or
the function did not succeed with the given precision of <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(b\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">cmp_elements_with_same_minpoly</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">cmp_elements_with_same_minpoly</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">cmp_elements_with_same_minpoly</span><span class="p">(</span><span class="o">-</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.conjugate_expand">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">conjugate_expand</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.conjugate_expand" title="Permalink to this definition">¶</a></dt>
<dd><p>If the interval <code class="docutils literal notranslate"><span class="pre">v</span></code> (which may be real or complex) includes some
purely real numbers, return <code class="docutils literal notranslate"><span class="pre">v'</span></code> containing <code class="docutils literal notranslate"><span class="pre">v</span></code> such that
<code class="docutils literal notranslate"><span class="pre">v'</span> <span class="pre">==</span> <span class="pre">v'.conjugate()</span></code>. Otherwise return <code class="docutils literal notranslate"><span class="pre">v</span></code> unchanged. (Note that if
<code class="docutils literal notranslate"><span class="pre">v'</span> <span class="pre">==</span> <span class="pre">v'.conjugate()</span></code>, and <code class="docutils literal notranslate"><span class="pre">v'</span></code> includes one non-real root of a real
polynomial, then <code class="docutils literal notranslate"><span class="pre">v'</span></code> also includes the conjugate of that root.
Also note that the diameter of the return value is at most twice
the diameter of the input.)</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">conjugate_expand</span>
<span class="gp">sage: </span><span class="n">conjugate_expand</span><span class="p">(</span><span class="n">CIF</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;brackets&#39;</span><span class="p">)</span>
<span class="go">&#39;[0.0000000000000000 .. 1.0000000000000000] + [1.0000000000000000 .. 2.0000000000000000]*I&#39;</span>
<span class="gp">sage: </span><span class="n">conjugate_expand</span><span class="p">(</span><span class="n">CIF</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;brackets&#39;</span><span class="p">)</span>
<span class="go">&#39;[0.0000000000000000 .. 1.0000000000000000] + [-1.0000000000000000 .. 1.0000000000000000]*I&#39;</span>
<span class="gp">sage: </span><span class="n">conjugate_expand</span><span class="p">(</span><span class="n">CIF</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;brackets&#39;</span><span class="p">)</span>
<span class="go">&#39;[0.0000000000000000 .. 1.0000000000000000] + [-2.0000000000000000 .. 2.0000000000000000]*I&#39;</span>
<span class="gp">sage: </span><span class="n">conjugate_expand</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;brackets&#39;</span><span class="p">)</span>
<span class="go">&#39;[1.0000000000000000 .. 2.0000000000000000]&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.conjugate_shrink">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">conjugate_shrink</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.conjugate_shrink" title="Permalink to this definition">¶</a></dt>
<dd><p>If the interval <code class="docutils literal notranslate"><span class="pre">v</span></code> includes some purely real numbers, return
a real interval containing only those real numbers. Otherwise
return <code class="docutils literal notranslate"><span class="pre">v</span></code> unchanged.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">v</span></code> includes exactly one root of a real polynomial, and <code class="docutils literal notranslate"><span class="pre">v</span></code> was
returned by <code class="docutils literal notranslate"><span class="pre">conjugate_expand()</span></code>, then <code class="docutils literal notranslate"><span class="pre">conjugate_shrink(v)</span></code> still
includes that root, and is a <code class="docutils literal notranslate"><span class="pre">RealIntervalFieldElement</span></code> iff the root
in question is real.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">conjugate_shrink</span>
<span class="gp">sage: </span><span class="n">conjugate_shrink</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;brackets&#39;</span><span class="p">)</span>
<span class="go">&#39;[3.0000000000000000 .. 4.0000000000000000]&#39;</span>
<span class="gp">sage: </span><span class="n">conjugate_shrink</span><span class="p">(</span><span class="n">CIF</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;brackets&#39;</span><span class="p">)</span>
<span class="go">&#39;[1.0000000000000000 .. 2.0000000000000000] + [1.0000000000000000 .. 2.0000000000000000]*I&#39;</span>
<span class="gp">sage: </span><span class="n">conjugate_shrink</span><span class="p">(</span><span class="n">CIF</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;brackets&#39;</span><span class="p">)</span>
<span class="go">&#39;[1.0000000000000000 .. 2.0000000000000000]&#39;</span>
<span class="gp">sage: </span><span class="n">conjugate_shrink</span><span class="p">(</span><span class="n">CIF</span><span class="p">(</span><span class="n">RIF</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">RIF</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;brackets&#39;</span><span class="p">)</span>
<span class="go">&#39;[1.0000000000000000 .. 2.0000000000000000]&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.do_polred">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">do_polred</code><span class="sig-paren">(</span><em>poly</em>, <em>threshold=32</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.do_polred" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a polynomial of reasonably small discriminant that generates
the same number field as <code class="docutils literal notranslate"><span class="pre">poly</span></code>, using the PARI <code class="docutils literal notranslate"><span class="pre">polredbest</span></code>
function.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">poly</span></code> - a monic irreducible polynomial with integer coefficients</li>
<li><code class="docutils literal notranslate"><span class="pre">threshold</span></code> - an integer used to decide whether to run <code class="docutils literal notranslate"><span class="pre">polredbest</span></code></li>
</ul>
<p>OUTPUT:</p>
<p>A triple (<code class="docutils literal notranslate"><span class="pre">elt_fwd</span></code>, <code class="docutils literal notranslate"><span class="pre">elt_back</span></code>, <code class="docutils literal notranslate"><span class="pre">new_poly</span></code>), where:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">new_poly</span></code> is the new polynomial defining the same number field,</li>
<li><code class="docutils literal notranslate"><span class="pre">elt_fwd</span></code> is a polynomial expression for a root of the new
polynomial in terms of a root of the original polynomial,</li>
<li><code class="docutils literal notranslate"><span class="pre">elt_back</span></code> is a polynomial expression for a root of the original
polynomial in terms of a root of the new polynomial.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">do_polred</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">oldpol</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">fwd</span><span class="p">,</span> <span class="n">back</span><span class="p">,</span> <span class="n">newpol</span> <span class="o">=</span> <span class="n">do_polred</span><span class="p">(</span><span class="n">oldpol</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">newpol</span>
<span class="go">x^2 - x - 1</span>
<span class="gp">sage: </span><span class="n">Kold</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">oldpol</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Knew</span><span class="o">.&lt;</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">newpol</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">newpol</span><span class="p">(</span><span class="n">fwd</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">oldpol</span><span class="p">(</span><span class="n">back</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">do_polred</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">11</span><span class="p">)</span>
<span class="go">(1/3*x + 1/3, 3*x - 1, x^2 - x - 1)</span>
<span class="gp">sage: </span><span class="n">do_polred</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">123456</span><span class="p">)</span>
<span class="go">(-1/4*x, -4*x, x^3 - 1929)</span>
</pre></div>
</div>
<p>This shows that <a class="reference external" href="https://trac.sagemath.org/13054">trac ticket #13054</a> has been fixed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">do_polred</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">4294967296</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">54265257667816538374400</span><span class="p">)</span>
<span class="go">(1/4*x, 4*x, x^4 - 268435456*x^2 + 211973662764908353025)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.find_zero_result">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">find_zero_result</code><span class="sig-paren">(</span><em>fn</em>, <em>l</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.find_zero_result" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">l</span></code> is a list of some sort. <code class="docutils literal notranslate"><span class="pre">fn</span></code> is a function which maps an element of
<code class="docutils literal notranslate"><span class="pre">l</span></code> and a precision into an interval (either real or complex) of that
precision, such that for sufficient precision, exactly one element of <code class="docutils literal notranslate"><span class="pre">l</span></code>
results in an interval containing 0. Returns that one element of <code class="docutils literal notranslate"><span class="pre">l</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">find_zero_result</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">delta</span> <span class="o">=</span> <span class="mi">10</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">70</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p1</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">p2</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">delta</span>
<span class="gp">sage: </span><span class="n">p3</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">delta</span>
<span class="gp">sage: </span><span class="n">p2</span> <span class="o">==</span> <span class="n">find_zero_result</span><span class="p">(</span><span class="k">lambda</span> <span class="n">p</span><span class="p">,</span> <span class="n">prec</span><span class="p">:</span> <span class="n">p</span><span class="p">(</span><span class="n">RealIntervalField</span><span class="p">(</span><span class="n">prec</span><span class="p">)(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">delta</span><span class="p">)),</span> <span class="p">[</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.get_AA_golden_ratio">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">get_AA_golden_ratio</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.get_AA_golden_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the golden ratio as an element of the algebraic real field. Used by
<code class="xref py py-meth docutils literal notranslate"><span class="pre">sage.symbolic.constants.golden_ratio._algebraic_()</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">AA</span><span class="p">(</span><span class="n">golden_ratio</span><span class="p">)</span> <span class="c1"># indirect doctest</span>
<span class="go">1.618033988749895?</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.is_AlgebraicField">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">is_AlgebraicField</code><span class="sig-paren">(</span><em>F</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.is_AlgebraicField" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether <code class="docutils literal notranslate"><span class="pre">F</span></code> is an <a class="reference internal" href="#sage.rings.qqbar.AlgebraicField" title="sage.rings.qqbar.AlgebraicField"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlgebraicField</span></code></a> instance.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">is_AlgebraicField</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">is_AlgebraicField</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="n">AA</span><span class="p">,</span> <span class="n">QQbar</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;spam&quot;</span><span class="p">]]</span>
<span class="go">[False, True, False, False, False]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.is_AlgebraicField_common">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">is_AlgebraicField_common</code><span class="sig-paren">(</span><em>F</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.is_AlgebraicField_common" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether <code class="docutils literal notranslate"><span class="pre">F</span></code> is an <a class="reference internal" href="#sage.rings.qqbar.AlgebraicField_common" title="sage.rings.qqbar.AlgebraicField_common"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlgebraicField_common</span></code></a> instance.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">is_AlgebraicField_common</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">is_AlgebraicField_common</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="n">AA</span><span class="p">,</span> <span class="n">QQbar</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;spam&quot;</span><span class="p">]]</span>
<span class="go">[True, True, False, False, False]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.is_AlgebraicNumber">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">is_AlgebraicNumber</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.is_AlgebraicNumber" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if <code class="docutils literal notranslate"><span class="pre">x</span></code> is an instance of <a class="reference internal" href="#sage.rings.qqbar.AlgebraicNumber" title="sage.rings.qqbar.AlgebraicNumber"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlgebraicNumber</span></code></a>. For internal use.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">is_AlgebraicNumber</span>
<span class="gp">sage: </span><span class="n">is_AlgebraicNumber</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">is_AlgebraicNumber</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_AlgebraicNumber</span><span class="p">(</span><span class="s2">&quot;spam&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.is_AlgebraicReal">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">is_AlgebraicReal</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.is_AlgebraicReal" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if <code class="docutils literal notranslate"><span class="pre">x</span></code> is an instance of <a class="reference internal" href="#sage.rings.qqbar.AlgebraicReal" title="sage.rings.qqbar.AlgebraicReal"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlgebraicReal</span></code></a>. For internal use.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">is_AlgebraicReal</span>
<span class="gp">sage: </span><span class="n">is_AlgebraicReal</span><span class="p">(</span><span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_AlgebraicReal</span><span class="p">(</span><span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)))</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">is_AlgebraicReal</span><span class="p">(</span><span class="s2">&quot;spam&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.is_AlgebraicRealField">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">is_AlgebraicRealField</code><span class="sig-paren">(</span><em>F</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.is_AlgebraicRealField" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether <code class="docutils literal notranslate"><span class="pre">F</span></code> is an <a class="reference internal" href="#sage.rings.qqbar.AlgebraicRealField" title="sage.rings.qqbar.AlgebraicRealField"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlgebraicRealField</span></code></a> instance. For internal use.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">is_AlgebraicRealField</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">is_AlgebraicRealField</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="n">AA</span><span class="p">,</span> <span class="n">QQbar</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;spam&quot;</span><span class="p">]]</span>
<span class="go">[True, False, False, False, False]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.isolating_interval">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">isolating_interval</code><span class="sig-paren">(</span><em>intv_fn</em>, <em>pol</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.isolating_interval" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">intv_fn</span></code> is a function that takes a precision and returns an
interval of that precision containing some particular root of pol.
(It must return better approximations as the precision increases.)
pol is an irreducible polynomial with rational coefficients.</p>
<p>Returns an interval containing at most one root of pol.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">isolating_interval</span>

<span class="gp">sage: </span><span class="n">_</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">isolating_interval</span><span class="p">(</span><span class="k">lambda</span> <span class="n">prec</span><span class="p">:</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">RealIntervalField</span><span class="p">(</span><span class="n">prec</span><span class="p">)(</span><span class="mi">2</span><span class="p">)),</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">1.4142135623730950488?</span>
</pre></div>
</div>
<p>And an example that requires more precision:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">delta</span> <span class="o">=</span> <span class="mi">10</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">70</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">delta</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">delta</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">isolating_interval</span><span class="p">(</span><span class="k">lambda</span> <span class="n">prec</span><span class="p">:</span> <span class="n">RealIntervalField</span><span class="p">(</span><span class="n">prec</span><span class="p">)(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">delta</span><span class="p">),</span> <span class="n">p</span><span class="p">)</span>
<span class="go">1.000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000?</span>
</pre></div>
</div>
<p>The function also works with complex intervals and complex roots:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">13</span><span class="o">/</span><span class="mi">36</span>
<span class="gp">sage: </span><span class="n">isolating_interval</span><span class="p">(</span><span class="k">lambda</span> <span class="n">prec</span><span class="p">:</span> <span class="n">ComplexIntervalField</span><span class="p">(</span><span class="n">prec</span><span class="p">)(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">),</span> <span class="n">p</span><span class="p">)</span>
<span class="go">0.500000000000000000000? + 0.3333333333333333334?*I</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.number_field_elements_from_algebraics">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">number_field_elements_from_algebraics</code><span class="sig-paren">(</span><em>numbers</em>, <em>minimal=False</em>, <em>same_field=False</em>, <em>embedded=False</em>, <em>prec=53</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.number_field_elements_from_algebraics" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a sequence of elements of either <code class="docutils literal notranslate"><span class="pre">AA</span></code> or <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>
(or a mixture), computes a number field containing all of these
elements, these elements as members of that number field, and a
homomorphism from the number field back to <code class="docutils literal notranslate"><span class="pre">AA</span></code> or
<code class="docutils literal notranslate"><span class="pre">QQbar</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">numbers</span></code> – a number or list of numbers.</li>
<li><code class="docutils literal notranslate"><span class="pre">minimal</span></code> – Boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>). Whether to minimize the
degree of the extension.</li>
<li><code class="docutils literal notranslate"><span class="pre">same_field</span></code> – Boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>). See below.</li>
<li><code class="docutils literal notranslate"><span class="pre">embedded</span></code> – Boolean (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>). Whether to make the
NumberField embedded.</li>
<li><code class="docutils literal notranslate"><span class="pre">prec</span></code> – integer (default: <code class="docutils literal notranslate"><span class="pre">53</span></code>). The number of bit of precision
to guarantee finding real roots.</li>
</ul>
<p>OUTPUT:</p>
<p>A tuple with the NumberField, the numbers inside the NumberField,
and a homomorphism from the number field back to <code class="docutils literal notranslate"><span class="pre">AA</span></code> or <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>.</p>
<p>This may not return the smallest such number field, unless
<code class="docutils literal notranslate"><span class="pre">minimal=True</span></code> is specified.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">same_field=True</span></code> is specified, and all of the elements are
from the same field (either <code class="docutils literal notranslate"><span class="pre">AA</span></code> or <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>), the generated
homomorphism will map back to that field.  Otherwise, if all specified
elements are real, the homomorphism might map back to <code class="docutils literal notranslate"><span class="pre">AA</span></code>
(and will, if <code class="docutils literal notranslate"><span class="pre">minimal=True</span></code> is specified), even if the
elements were in <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>.</p>
<p>Also, a single number can be passed, rather than a sequence; and
any values which are not elements of <code class="docutils literal notranslate"><span class="pre">AA</span></code> or <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>
will automatically be coerced to <code class="docutils literal notranslate"><span class="pre">QQbar</span></code></p>
<p>This function may be useful for efficiency reasons: doing exact
computations in the corresponding number field will be faster
than doing exact computations directly in <code class="docutils literal notranslate"><span class="pre">AA</span></code> or <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>.</p>
<p>EXAMPLES:</p>
<p>We can use this to compute the splitting field of a polynomial.
(Unfortunately this takes an unreasonably long time for non-toy
examples.):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">17</span>
<span class="gp">sage: </span><span class="n">rts</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">QQbar</span><span class="p">,</span> <span class="n">multiplicities</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">splitting</span> <span class="o">=</span> <span class="n">number_field_elements_from_algebraics</span><span class="p">(</span><span class="n">rts</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span> <span class="n">splitting</span>
<span class="go">Number Field in a with defining polynomial y^6 - 40*y^4 - 22*y^3 + 873*y^2 + 1386*y + 594</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">roots</span><span class="p">(</span><span class="n">ring</span><span class="o">=</span><span class="n">splitting</span><span class="p">)</span>
<span class="go">[(361/29286*a^5 - 19/3254*a^4 - 14359/29286*a^3 + 401/29286*a^2 + 18183/1627*a + 15930/1627, 1), (49/117144*a^5 - 179/39048*a^4 - 3247/117144*a^3 + 22553/117144*a^2 + 1744/4881*a - 17195/6508, 1), (-1493/117144*a^5 + 407/39048*a^4 + 60683/117144*a^3 - 24157/117144*a^2 - 56293/4881*a - 53033/6508, 1)]</span>
<span class="gp">sage: </span><span class="n">rt2</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span> <span class="n">rt2</span>
<span class="go">1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">rt3</span> <span class="o">=</span> <span class="n">AA</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span> <span class="n">rt3</span>
<span class="go">1.732050807568878?</span>
<span class="gp">sage: </span><span class="n">rt3a</span> <span class="o">=</span> <span class="n">QQbar</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span> <span class="n">rt3a</span>
<span class="go">1.732050807568878?</span>
<span class="gp">sage: </span><span class="n">qqI</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span> <span class="n">qqI</span>
<span class="go">I</span>
<span class="gp">sage: </span><span class="n">z3</span> <span class="o">=</span> <span class="n">QQbar</span><span class="o">.</span><span class="n">zeta</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="n">z3</span>
<span class="go">-0.500000000000000? + 0.866025403784439?*I</span>
<span class="gp">sage: </span><span class="n">rt2b</span> <span class="o">=</span> <span class="n">rt3</span> <span class="o">+</span> <span class="n">rt2</span> <span class="o">-</span> <span class="n">rt3</span><span class="p">;</span> <span class="n">rt2b</span>
<span class="go">1.414213562373095?</span>
<span class="gp">sage: </span><span class="n">rt2c</span> <span class="o">=</span> <span class="n">z3</span> <span class="o">+</span> <span class="n">rt2</span> <span class="o">-</span> <span class="n">z3</span><span class="p">;</span> <span class="n">rt2c</span>
<span class="go">1.414213562373095? + 0.?e-19*I</span>

<span class="gp">sage: </span><span class="n">number_field_elements_from_algebraics</span><span class="p">(</span><span class="n">rt2</span><span class="p">)</span>
<span class="go">(Number Field in a with defining polynomial y^2 - 2, a, Ring morphism:</span>
<span class="go">   From: Number Field in a with defining polynomial y^2 - 2</span>
<span class="go">   To:   Algebraic Real Field</span>
<span class="go">   Defn: a |--&gt; 1.414213562373095?)</span>

<span class="gp">sage: </span><span class="n">number_field_elements_from_algebraics</span><span class="p">((</span><span class="n">rt2</span><span class="p">,</span><span class="n">rt3</span><span class="p">))</span>
<span class="go">(Number Field in a with defining polynomial y^4 - 4*y^2 + 1, [-a^3 + 3*a, -a^2 + 2], Ring morphism:</span>
<span class="go">    From: Number Field in a with defining polynomial y^4 - 4*y^2 + 1</span>
<span class="go">    To:   Algebraic Real Field</span>
<span class="go">    Defn: a |--&gt; 0.5176380902050415?)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">rt3a</span></code> is a real number in <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>.  Ordinarily, we’d get a homomorphism
to <code class="docutils literal notranslate"><span class="pre">AA</span></code> (because all elements are real), but if we specify <code class="docutils literal notranslate"><span class="pre">same_field=True</span></code>,
we’ll get a homomorphism back to <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">number_field_elements_from_algebraics</span><span class="p">(</span><span class="n">rt3a</span><span class="p">)</span>
<span class="go">(Number Field in a with defining polynomial y^2 - 3, a, Ring morphism:</span>
<span class="go">    From: Number Field in a with defining polynomial y^2 - 3</span>
<span class="go">    To:   Algebraic Real Field</span>
<span class="go">    Defn: a |--&gt; 1.732050807568878?)</span>

<span class="gp">sage: </span><span class="n">number_field_elements_from_algebraics</span><span class="p">(</span><span class="n">rt3a</span><span class="p">,</span> <span class="n">same_field</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(Number Field in a with defining polynomial y^2 - 3, a, Ring morphism:</span>
<span class="go">    From: Number Field in a with defining polynomial y^2 - 3</span>
<span class="go">    To:   Algebraic Field</span>
<span class="go">    Defn: a |--&gt; 1.732050807568878?)</span>
</pre></div>
</div>
<p>We’ve created <code class="docutils literal notranslate"><span class="pre">rt2b</span></code> in such a way that sage does not initially know
that it’s in a degree-2 extension of <span class="math notranslate nohighlight">\(\QQ\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">number_field_elements_from_algebraics</span><span class="p">(</span><span class="n">rt2b</span><span class="p">)</span>
<span class="go">(Number Field in a with defining polynomial y^4 - 4*y^2 + 1, -a^3 + 3*a, Ring morphism:</span>
<span class="go">    From: Number Field in a with defining polynomial y^4 - 4*y^2 + 1</span>
<span class="go">    To:   Algebraic Real Field</span>
<span class="go">    Defn: a |--&gt; 0.5176380902050415?)</span>
</pre></div>
</div>
<p>We can specify <code class="docutils literal notranslate"><span class="pre">minimal=True</span></code> if we want the smallest number field:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">number_field_elements_from_algebraics</span><span class="p">(</span><span class="n">rt2b</span><span class="p">,</span> <span class="n">minimal</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(Number Field in a with defining polynomial y^2 - 2, a, Ring morphism:</span>
<span class="go">    From: Number Field in a with defining polynomial y^2 - 2</span>
<span class="go">    To:   Algebraic Real Field</span>
<span class="go">    Defn: a |--&gt; 1.414213562373095?)</span>
</pre></div>
</div>
<p>Things work fine with rational numbers, too:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">number_field_elements_from_algebraics</span><span class="p">((</span><span class="n">QQbar</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">AA</span><span class="p">(</span><span class="mi">17</span><span class="p">)))</span>
<span class="go">(Rational Field, [1/2, 17], Ring morphism:</span>
<span class="go">    From: Rational Field</span>
<span class="go">    To:   Algebraic Real Field</span>
<span class="go">    Defn: 1 |--&gt; 1)</span>
</pre></div>
</div>
<p>Or we can just pass in symbolic expressions, as long as they can be
coerced into <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">number_field_elements_from_algebraics</span><span class="p">((</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">11</span><span class="p">)))</span>
<span class="go">(Number Field in a with defining polynomial y^4 - 9*y^2 + 1, [-a^3 + 8*a, 3, -a^3 + 10*a], Ring morphism:</span>
<span class="go">    From: Number Field in a with defining polynomial y^4 - 9*y^2 + 1</span>
<span class="go">    To:   Algebraic Real Field</span>
<span class="go">    Defn: a |--&gt; 0.3354367396454047?)</span>
</pre></div>
</div>
<p>Here we see an example of doing some computations with number field
elements, and then mapping them back into <code class="docutils literal notranslate"><span class="pre">QQbar</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">fld</span><span class="p">,</span><span class="n">nums</span><span class="p">,</span><span class="n">hom</span><span class="p">)</span> <span class="o">=</span> <span class="n">number_field_elements_from_algebraics</span><span class="p">((</span><span class="n">rt2</span><span class="p">,</span> <span class="n">rt3</span><span class="p">,</span> <span class="n">qqI</span><span class="p">,</span> <span class="n">z3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">fld</span><span class="p">,</span><span class="n">nums</span><span class="p">,</span><span class="n">hom</span>  <span class="c1"># random</span>
<span class="go">(Number Field in a with defining polynomial y^8 - y^4 + 1, [-a^5 + a^3 + a, a^6 - 2*a^2, a^6, -a^4], Ring morphism:</span>
<span class="go">  From: Number Field in a with defining polynomial y^8 - y^4 + 1</span>
<span class="go">  To:   Algebraic Field</span>
<span class="go">  Defn: a |--&gt; -0.2588190451025208? - 0.9659258262890683?*I)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">nfrt2</span><span class="p">,</span> <span class="n">nfrt3</span><span class="p">,</span> <span class="n">nfI</span><span class="p">,</span> <span class="n">nfz3</span><span class="p">)</span> <span class="o">=</span> <span class="n">nums</span>
<span class="gp">sage: </span><span class="n">hom</span><span class="p">(</span><span class="n">nfrt2</span><span class="p">)</span>
<span class="go">1.414213562373095? + 0.?e-18*I</span>
<span class="gp">sage: </span><span class="n">nfrt2</span><span class="o">^</span><span class="mi">2</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">nfrt3</span><span class="o">^</span><span class="mi">2</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">nfz3</span> <span class="o">+</span> <span class="n">nfz3</span><span class="o">^</span><span class="mi">2</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">nfI</span><span class="o">^</span><span class="mi">2</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="nb">sum</span> <span class="o">=</span> <span class="n">nfrt2</span> <span class="o">+</span> <span class="n">nfrt3</span> <span class="o">+</span> <span class="n">nfI</span> <span class="o">+</span> <span class="n">nfz3</span><span class="p">;</span> <span class="nb">sum</span>
<span class="go">2*a^6 + a^5 - a^4 - a^3 - 2*a^2 - a</span>
<span class="gp">sage: </span><span class="n">hom</span><span class="p">(</span><span class="nb">sum</span><span class="p">)</span>
<span class="go">2.646264369941973? + 1.866025403784439?*I</span>
<span class="gp">sage: </span><span class="n">hom</span><span class="p">(</span><span class="nb">sum</span><span class="p">)</span> <span class="o">==</span> <span class="n">rt2</span> <span class="o">+</span> <span class="n">rt3</span> <span class="o">+</span> <span class="n">qqI</span> <span class="o">+</span> <span class="n">z3</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">hom</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nums</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="n">rt2</span><span class="p">,</span> <span class="n">rt3</span><span class="p">,</span> <span class="n">qqI</span><span class="p">,</span> <span class="n">z3</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>It is also possible to have an embedded Number Field:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">my_num</span> <span class="o">=</span> <span class="n">AA</span><span class="o">.</span><span class="n">polynomial_root</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="n">RIF</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">res</span> <span class="o">=</span> <span class="n">number_field_elements_from_algebraics</span><span class="p">(</span><span class="n">my_num</span><span class="p">,</span><span class="n">embedded</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">gen_embedding</span><span class="p">()</span>
<span class="go">1.259921049894873?</span>
<span class="gp">sage: </span><span class="n">res</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">Ring morphism:</span>
<span class="go">  From: Number Field in a with defining polynomial y^3 - 2 with a = 1.259921049894873?</span>
<span class="go">  To:   Algebraic Real Field</span>
<span class="go">  Defn: a |--&gt; 1.259921049894873?</span>

<span class="gp">sage: </span><span class="n">nf</span><span class="p">,</span><span class="n">nums</span><span class="p">,</span><span class="n">hom</span> <span class="o">=</span> <span class="n">number_field_elements_from_algebraics</span><span class="p">([</span><span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">),</span><span class="mi">3</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">)],</span><span class="n">embedded</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nf</span>
<span class="go">Number Field in a with defining polynomial y^15 - 9*y^10 + 21*y^5 - 3 with a = 0.6866813218928813?</span>
<span class="gp">sage: </span><span class="n">nums</span>
<span class="go">[a^10 - 5*a^5 + 2, -a^8 + 4*a^3]</span>
<span class="gp">sage: </span><span class="n">hom</span>
<span class="go">Ring morphism:</span>
<span class="go">  From: Number Field in a with defining polynomial y^15 - 9*y^10 + 21*y^5 - 3 with a = 0.6866813218928813?</span>
<span class="go">  To:   Algebraic Real Field</span>
<span class="go">  Defn: a |--&gt; 0.6866813218928813?</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.prec_seq">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">prec_seq</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.prec_seq" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a generator object which iterates over an infinite increasing
sequence of precisions to be tried in various numerical computations.</p>
<p>Currently just returns powers of 2 starting at 64.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">rings</span><span class="o">.</span><span class="n">qqbar</span><span class="o">.</span><span class="n">prec_seq</span><span class="p">()</span>
<span class="gp">sage: </span><span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)]</span>
<span class="go">[64, 128, 256]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.rational_exact_root">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">rational_exact_root</code><span class="sig-paren">(</span><em>r</em>, <em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.rational_exact_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the rational <span class="math notranslate nohighlight">\(r\)</span> is an exact <span class="math notranslate nohighlight">\(d\)</span>’th power. If so, returns
the <span class="math notranslate nohighlight">\(d\)</span>’th root of <span class="math notranslate nohighlight">\(r\)</span>; otherwise, returns None.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">rational_exact_root</span>
<span class="gp">sage: </span><span class="n">rational_exact_root</span><span class="p">(</span><span class="mi">16</span><span class="o">/</span><span class="mi">81</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">2/3</span>
<span class="gp">sage: </span><span class="n">rational_exact_root</span><span class="p">(</span><span class="mi">8</span><span class="o">/</span><span class="mi">81</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.short_prec_seq">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">short_prec_seq</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.short_prec_seq" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a sequence of precisions to try in cases when an infinite-precision
computation is possible: returns a couple of small powers of 2 and then
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">short_prec_seq</span>
<span class="gp">sage: </span><span class="n">short_prec_seq</span><span class="p">()</span>
<span class="go">(64, 128, None)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sage.rings.qqbar.t1">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">t1</code><a class="headerlink" href="#sage.rings.qqbar.t1" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.rings.qqbar.ANBinaryExpr" title="sage.rings.qqbar.ANBinaryExpr"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.qqbar.ANBinaryExpr</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="sage.rings.qqbar.t2">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">t2</code><a class="headerlink" href="#sage.rings.qqbar.t2" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.rings.qqbar.ANRoot" title="sage.rings.qqbar.ANRoot"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.rings.qqbar.ANRoot</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="sage.rings.qqbar.tail_prec_seq">
<code class="descclassname">sage.rings.qqbar.</code><code class="descname">tail_prec_seq</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.rings.qqbar.tail_prec_seq" title="Permalink to this definition">¶</a></dt>
<dd><p>A generator over precisions larger than those in <a class="reference internal" href="#sage.rings.qqbar.short_prec_seq" title="sage.rings.qqbar.short_prec_seq"><code class="xref py py-func docutils literal notranslate"><span class="pre">short_prec_seq()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.qqbar</span> <span class="kn">import</span> <span class="n">tail_prec_seq</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">tail_prec_seq</span><span class="p">()</span>
<span class="gp">sage: </span><span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">)]</span>
<span class="go">[256, 512, 1024]</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="number_field/totallyreal_phc.html"
                        title="previous chapter">Enumeration of Totally Real Fields: PHC interface</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="universal_cyclotomic_field.html"
                        title="next chapter">Universal cyclotomic field</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/sage/rings/qqbar.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="universal_cyclotomic_field.html" title="Universal cyclotomic field"
             >next</a> |</li>
        <li class="right" >
          <a href="number_field/totallyreal_phc.html" title="Enumeration of Totally Real Fields: PHC interface"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/logo_sagemath_black.svg" height="28" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Algebraic Numbers and Number Fields</a> &#187;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005--2019, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>