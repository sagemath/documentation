<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Helpers for creating matrices" href="args.html" /><link rel="prev" title="General matrix Constructor and display options" href="constructor.html" />

    <meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>Constructors for special matrices - Matrices and Spaces of Matrices</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-furo.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-codemirror-monokai.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Matrices and Spaces of Matrices</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 10.2 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../index.html">Home - Matrices and Spaces of Matrices</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="matrix_space.html">Matrix Spaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="constructor.html">General matrix Constructor and display options</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Constructors for special matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="args.html">Helpers for creating matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Matrices over an arbitrary ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix0.html">Base class for matrices, part 0</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix1.html">Base class for matrices, part 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix2.html">Base class for matrices, part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="strassen.html">Generic Asymptotically Fast Strassen Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="berlekamp_massey.html">Minimal Polynomials of Linear Recurrence Sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_dense.html">Base class for dense matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_sparse.html">Base class for sparse matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_generic_dense.html">Dense Matrices over a general ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_generic_sparse.html">Sparse Matrices over a general ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_integer_dense.html">Dense matrices over the integer ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_integer_sparse.html">Sparse integer matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_integer_dense_hnf.html">Modular algorithm to compute Hermite normal forms of integer matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_integer_dense_saturation.html">Saturation over ZZ</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_rational_dense.html">Dense matrices over the rational field</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_rational_sparse.html">Sparse rational matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_double_dense.html">Dense matrices using a NumPy backend</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_real_double_dense.html">Dense matrices over the Real Double Field using NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_mod2_dense.html">Dense matrices over GF(2) using the M4RI library</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_gf2e_dense.html">Dense matrices over <span class="math notranslate nohighlight">\(\GF{2^e}\)</span> for <span class="math notranslate nohighlight">\(2 \leq e \leq 16\)</span> using the M4RIE library</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_modn_dense_double.html">Dense matrices over <span class="math notranslate nohighlight">\(\ZZ/n\ZZ\)</span> for <span class="math notranslate nohighlight">\(n &lt; 94906266\)</span> using LinBox’s <code class="docutils literal notranslate"><span class="pre">Modular&lt;double&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_modn_dense_float.html">Dense matrices over <span class="math notranslate nohighlight">\(\ZZ/n\ZZ\)</span> for <span class="math notranslate nohighlight">\(n &lt; 2^{8}\)</span> using LinBox’s <code class="docutils literal notranslate"><span class="pre">Modular&lt;float&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_modn_sparse.html">Sparse matrices over <span class="math notranslate nohighlight">\(\ZZ/n\ZZ\)</span> for <span class="math notranslate nohighlight">\(n\)</span> small</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_symbolic_dense.html">Symbolic dense matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_symbolic_sparse.html">Symbolic sparse matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_complex_double_dense.html">Dense matrices over the Complex Double Field using NumPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_complex_ball_dense.html">Arbitrary precision complex ball matrices using Arb</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_polynomial_dense.html">Dense matrices over univariate polynomials over fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_mpolynomial_dense.html">Dense matrices over multivariate polynomials over fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_cyclo_dense.html">Matrices over Cyclotomic Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="operation_table.html">Operation Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="action.html">Actions used by the coercion model for matrix and vector multiplications</a></li>
<li class="toctree-l1"><a class="reference internal" href="change_ring.html">Functions for changing the base ring of matrices quickly</a></li>
<li class="toctree-l1"><a class="reference internal" href="echelon_matrix.html">Echelon matrices over finite fields.</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_misc.html">Miscellaneous matrix functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_window.html">Matrix windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Misc matrix algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc_mpfr.html">Misc matrix algorithms using MPFR</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc_flint.html">Misc matrix algorithms using FLINT</a></li>
<li class="toctree-l1"><a class="reference internal" href="symplectic_basis.html">Calculate symplectic bases for matrices over fields and the integers.</a></li>
<li class="toctree-l1"><a class="reference internal" href="compute_J_ideal.html"><span class="math notranslate nohighlight">\(J\)</span>-ideals of matrices</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">Benchmarks for matrices</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="constructors-for-special-matrices">
<span id="sage-matrix-special"></span><h1>Constructors for special matrices<a class="headerlink" href="#constructors-for-special-matrices" title="Permalink to this heading">#</a></h1>
<span class="target" id="module-sage.matrix.special"></span><p>This module gathers several constructors for special, commonly used or
interesting matrices. These can be reached through <code class="docutils literal notranslate"><span class="pre">matrix.&lt;tab&gt;</span></code>.</p>
<p>For example, here is a circulant matrix of order five:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">circulant</span><span class="p">(</span><span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a b c d e&#39;</span><span class="p">))</span>                                         <span class="c1"># needs sage.symbolic</span>
<span class="go">[a b c d e]</span>
<span class="go">[e a b c d]</span>
<span class="go">[d e a b c]</span>
<span class="go">[c d e a b]</span>
<span class="go">[b c d e a]</span>
</pre></div>
</div>
<p>The following constructions are available:</p>
<div class="table-wrapper colwidths-given contentstable docutils container">
<table class="contentstable docutils align-default">
<colgroup>
<col style="width: 100.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.block_diagonal_matrix" title="sage.matrix.special.block_diagonal_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">block_diagonal_matrix()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.block_matrix" title="sage.matrix.special.block_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">block_matrix()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.circulant" title="sage.matrix.special.circulant"><code class="xref py py-meth docutils literal notranslate"><span class="pre">circulant()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.column_matrix" title="sage.matrix.special.column_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">column_matrix()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.companion_matrix" title="sage.matrix.special.companion_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">companion_matrix()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.diagonal_matrix" title="sage.matrix.special.diagonal_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">diagonal_matrix()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.elementary_matrix" title="sage.matrix.special.elementary_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">elementary_matrix()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.hankel" title="sage.matrix.special.hankel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hankel()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.hilbert" title="sage.matrix.special.hilbert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hilbert()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.identity_matrix" title="sage.matrix.special.identity_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">identity_matrix()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.ith_to_zero_rotation_matrix" title="sage.matrix.special.ith_to_zero_rotation_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ith_to_zero_rotation_matrix()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.jordan_block" title="sage.matrix.special.jordan_block"><code class="xref py py-meth docutils literal notranslate"><span class="pre">jordan_block()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.lehmer" title="sage.matrix.special.lehmer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lehmer()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.ones_matrix" title="sage.matrix.special.ones_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ones_matrix()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.random_matrix" title="sage.matrix.special.random_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random_matrix()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.random_diagonalizable_matrix" title="sage.matrix.special.random_diagonalizable_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random_diagonalizable_matrix()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.random_echelonizable_matrix" title="sage.matrix.special.random_echelonizable_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random_echelonizable_matrix()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.random_rref_matrix" title="sage.matrix.special.random_rref_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random_rref_matrix()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.random_subspaces_matrix" title="sage.matrix.special.random_subspaces_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random_subspaces_matrix()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.random_unimodular_matrix" title="sage.matrix.special.random_unimodular_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">random_unimodular_matrix()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.toeplitz" title="sage.matrix.special.toeplitz"><code class="xref py py-meth docutils literal notranslate"><span class="pre">toeplitz()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.vandermonde" title="sage.matrix.special.vandermonde"><code class="xref py py-meth docutils literal notranslate"><span class="pre">vandermonde()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sage.matrix.special.vector_on_axis_rotation_matrix" title="sage.matrix.special.vector_on_axis_rotation_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">vector_on_axis_rotation_matrix()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sage.matrix.special.zero_matrix" title="sage.matrix.special.zero_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zero_matrix()</span></code></a></p></td>
</tr>
</tbody>
</table>
</div>
<p>The Combinatorics module provides further matrix constructors, such as Hadamard
matrices and Latin squares. See:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="../../../combinat/sage/combinat/matrices/hadamard_matrix.html#module-sage.combinat.matrices.hadamard_matrix" title="(in Reference Manual v10.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.combinat.matrices.hadamard_matrix</span></code></a></p></li>
<li><p><a class="reference external" href="../../../combinat/sage/combinat/matrices/latin.html#module-sage.combinat.matrices.latin" title="(in Reference Manual v10.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.combinat.matrices.latin</span></code></a></p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.block_diagonal_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">block_diagonal_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">sub_matrices</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.block_diagonal_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as block_diagonal_matrix(…) and matrix.block_diagonal(…).</p>
<p>Create a block matrix whose diagonal block entries are given by
sub_matrices, with zero elsewhere.</p>
<p>See also <a class="reference internal" href="#sage.matrix.special.block_matrix" title="sage.matrix.special.block_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">block_matrix()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">block_diagonal_matrix</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
<span class="go">[1 2|0 0]</span>
<span class="go">[3 4|0 0]</span>
<span class="go">[---+---]</span>
<span class="go">[0 0|1 2]</span>
<span class="go">[0 0|3 4]</span>
</pre></div>
</div>
<p>The sub-matrices need not be square:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">block_diagonal_matrix</span><span class="p">(</span><span class="o">~</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="go">[  -2    1|   0    0    0]</span>
<span class="go">[ 3/2 -1/2|   0    0    0]</span>
<span class="go">[---------+--------------]</span>
<span class="go">[   0    0|   0    1    2]</span>
<span class="go">[   0    0|   3    4    5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.block_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">block_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.block_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as block_matrix(…) and matrix.block(…).</p>
<p>Return a larger matrix made by concatenating submatrices
(rows first, then columns). For example, the matrix</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">[ A B ]</span>
<span class="go">[ C D ]</span>
</pre></div>
</div>
<p>is made up of submatrices A, B, C, and D.</p>
<p>INPUT:</p>
<p>The block_matrix command takes a list of submatrices to add
as blocks, optionally preceded by a ring and the number of block rows
and block columns, and returns a matrix.</p>
<p>The submatrices can be specified as a list of matrices (using
<code class="docutils literal notranslate"><span class="pre">nrows</span></code> and <code class="docutils literal notranslate"><span class="pre">ncols</span></code> to determine their layout), or a list
of lists of matrices, where each list forms a row.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> - the base ring</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nrows</span></code> - the number of block rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ncols</span></code> - the number of block cols</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sub_matrices</span></code> - matrices (see below for syntax)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subdivide</span></code> - boolean, whether or not to add
subdivision information to the matrix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sparse</span></code> - boolean, whether to make the resulting matrix sparse</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">([</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="o">-</span><span class="n">A</span><span class="p">],</span> <span class="p">[</span><span class="o">~</span><span class="n">A</span><span class="p">,</span> <span class="mi">100</span><span class="o">*</span><span class="n">A</span><span class="p">]</span> <span class="p">])</span>
<span class="go">[    3     9|   -3    -9]</span>
<span class="go">[    6    10|   -6   -10]</span>
<span class="go">[-----------+-----------]</span>
<span class="go">[-5/12   3/8|  300   900]</span>
<span class="go">[  1/4  -1/8|  600  1000]</span>
</pre></div>
</div>
<p>If the number of submatrices in each row is the same,
you can specify the submatrices as a single list too:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span> <span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">A</span> <span class="p">])</span>
<span class="go">[ 3  9| 3  9]</span>
<span class="go">[ 6 10| 6 10]</span>
<span class="go">[-----+-----]</span>
<span class="go">[ 3  9| 3  9]</span>
<span class="go">[ 6 10| 6 10]</span>
</pre></div>
</div>
<p>One can use constant entries:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">([</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">A</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="p">])</span>
<span class="go">[ 1  0| 3  9]</span>
<span class="go">[ 0  1| 6 10]</span>
<span class="go">[-----+-----]</span>
<span class="go">[ 0  0| 1  0]</span>
<span class="go">[ 0  0| 0  1]</span>
</pre></div>
</div>
<p>A zero entry may represent any square or non-square zero matrix:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="p">]</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">([</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">C</span><span class="p">]</span> <span class="p">])</span>
<span class="go">[1|0 0]</span>
<span class="go">[-+---]</span>
<span class="go">[0|2 3]</span>
<span class="go">[0|4 5]</span>
</pre></div>
</div>
<p>One can specify the number of rows or columns as keywords too:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="o">-</span><span class="n">A</span><span class="p">,</span> <span class="o">~</span><span class="n">A</span><span class="p">,</span> <span class="mi">100</span><span class="o">*</span><span class="n">A</span><span class="p">],</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[    3     9|   -3    -9|-5/12   3/8|  300   900]</span>
<span class="go">[    6    10|   -6   -10|  1/4  -1/8|  600  1000]</span>

<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="o">-</span><span class="n">A</span><span class="p">,</span> <span class="o">~</span><span class="n">A</span><span class="p">,</span> <span class="mi">100</span><span class="o">*</span><span class="n">A</span><span class="p">],</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[    3     9|   -3    -9|-5/12   3/8|  300   900]</span>
<span class="go">[    6    10|   -6   -10|  1/4  -1/8|  600  1000]</span>
</pre></div>
</div>
<p>It handles base rings nicely too:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[  1/2     0|    3     9]</span>
<span class="go">[    0   1/2|    6    10]</span>
<span class="go">[-----------+-----------]</span>
<span class="go">[    0     0|x - 1     0]</span>
<span class="go">[    0     0|    0 x - 1]</span>

<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 4 by 4 dense matrices over Univariate Polynomial Ring in x over Rational Field</span>
</pre></div>
</div>
<p>Subdivisions are optional. If they are disabled, the columns need not line up:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">([</span> <span class="p">[</span><span class="o">~</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span> <span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="o">~</span><span class="n">A</span><span class="p">]</span> <span class="p">],</span> <span class="n">subdivide</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[-5/12   3/8     0     1     2]</span>
<span class="go">[  1/4  -1/8     3     4     5]</span>
<span class="go">[    0     1     2 -5/12   3/8]</span>
<span class="go">[    3     4     5   1/4  -1/8]</span>
</pre></div>
</div>
<p>Without subdivisions it also deduces dimensions for scalars if possible:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">([</span> <span class="p">[</span> <span class="n">C</span><span class="p">,</span> <span class="mi">0</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">],</span> <span class="p">[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">C</span> <span class="p">]</span> <span class="p">],</span> <span class="n">subdivide</span><span class="o">=</span><span class="kc">False</span> <span class="p">)</span>
<span class="go">[0 1 0 0]</span>
<span class="go">[3 0 4 0]</span>
<span class="go">[0 3 0 4]</span>
<span class="go">[5 6 0 1]</span>
</pre></div>
</div>
<p>If all submatrices are sparse (unless there are none at all), the result
will be a sparse matrix. Otherwise it will be dense by default. The
<code class="docutils literal notranslate"><span class="pre">sparse</span></code> keyword can be used to override this:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">([</span> <span class="p">[</span> <span class="n">A</span> <span class="p">],</span> <span class="p">[</span> <span class="n">A</span> <span class="p">]</span> <span class="p">])</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 4 by 2 sparse matrices over Integer Ring</span>
<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">([</span> <span class="p">[</span> <span class="n">A</span> <span class="p">],</span> <span class="p">[</span> <span class="n">A</span> <span class="p">]</span> <span class="p">],</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 4 by 2 dense matrices over Integer Ring</span>
</pre></div>
</div>
<p>Consecutive zero submatrices are consolidated.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[[</span><span class="n">B</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">B</span><span class="p">],[</span><span class="n">C</span><span class="p">]],</span> <span class="n">subdivide</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[ 0  1  0  0  0  0  0  1]</span>
<span class="go">[ 2  3  0  0  0  0  2  3]</span>
<span class="go">[ 0  1  2  3  4  5  6  7]</span>
<span class="go">[ 8  9 10 11 12 13 14 15]</span>
</pre></div>
</div>
<p>Ambiguity is not tolerated.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[[</span><span class="n">B</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="n">C</span><span class="p">]],</span> <span class="n">subdivide</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: insufficient information to determine submatrix widths</span>
</pre></div>
</div>
<p>Giving only a flat list of submatrices does not work:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">([</span><span class="n">A</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: must specify either nrows or ncols</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.circulant">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">circulant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.circulant" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as circulant(…) and matrix.circulant(…).</p>
<p>Return the circulant matrix specified by its 1st row <span class="math notranslate nohighlight">\(v\)</span></p>
<p>A circulant <span class="math notranslate nohighlight">\(n \times n\)</span> matrix specified by the 1st row <span class="math notranslate nohighlight">\(v=(v_0...v_{n-1})\)</span> is
the matrix <span class="math notranslate nohighlight">\((c_{ij})_{0 \leq i,j\leq n-1}\)</span>, where <span class="math notranslate nohighlight">\(c_{ij}=v_{j-i \mod b}\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code> – a list or a vector of values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sparse</span></code> – <code class="docutils literal notranslate"><span class="pre">None</span></code> by default; if <code class="docutils literal notranslate"><span class="pre">sparse</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the output
will be sparse.  Respectively, setting it to <code class="docutils literal notranslate"><span class="pre">False</span></code> produces dense output.
If <code class="docutils literal notranslate"><span class="pre">sparse</span></code> is not set, and if <code class="docutils literal notranslate"><span class="pre">v</span></code> is a vector, the output sparsity is determined
by the sparsity of <code class="docutils literal notranslate"><span class="pre">v</span></code>; else, the output will be dense.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">circulant</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">[1 2 3 4 8]</span>
<span class="go">[8 1 2 3 4]</span>
<span class="go">[4 8 1 2 3]</span>
<span class="go">[3 4 8 1 2]</span>
<span class="go">[2 3 4 8 1]</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">circulant</span><span class="p">(</span><span class="n">vector</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">),[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">));</span> <span class="n">m</span>
<span class="go">[0 1 2]</span>
<span class="go">[2 0 1]</span>
<span class="go">[1 2 0]</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.column_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">column_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.column_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as column_matrix(…) and matrix.column(…).</p>
<p>Construct a matrix, and then swap rows for columns and columns for rows.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Linear algebra in Sage favors rows over columns.  So,
generally, when creating a matrix, input vectors and lists are
treated as rows.  This function is a convenience that turns
around this convention when creating a matrix.  If you are not
familiar with the usual <a class="reference internal" href="constructor.html#sage.matrix.constructor.matrix" title="sage.matrix.constructor.matrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">matrix()</span></code></a>
constructor, you might want to consider it first.</p>
</div>
<p>INPUT:</p>
<p>Inputs are almost exactly the same as for the <a class="reference internal" href="constructor.html#sage.matrix.constructor.matrix" title="sage.matrix.constructor.matrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">matrix()</span></code></a>
constructor, which are documented there.  But see
examples below for how dimensions are handled.</p>
<p>OUTPUT:</p>
<p>Output is exactly the transpose of what the <a class="reference internal" href="constructor.html#sage.matrix.constructor.matrix" title="sage.matrix.constructor.matrix"><code class="xref py py-func docutils literal notranslate"><span class="pre">matrix()</span></code></a>
constructor would return.  In other words, the
<code class="docutils literal notranslate"><span class="pre">matrix</span></code> constructor builds a matrix and then this function
exchanges rows for columns, and columns for rows.</p>
<p>EXAMPLES:</p>
<p>The most compelling use of this function is when you have a
collection of lists or vectors that you would like to become the
columns of a matrix. In almost any other situation, the
<code class="xref py py-func docutils literal notranslate"><span class="pre">matrix`()</span></code> constructor can probably do the
job just as easily, or easier.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">col_1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">col_2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">column_matrix</span><span class="p">([</span><span class="n">col_1</span><span class="p">,</span> <span class="n">col_2</span><span class="p">])</span>
<span class="go">[1 4]</span>
<span class="go">[2 5]</span>
<span class="go">[3 6]</span>

<span class="gp">sage: </span><span class="n">v1</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v2</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">column_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">])</span>
<span class="go">[10 30]</span>
<span class="go">[20 40]</span>
</pre></div>
</div>
<p>If you only specify one dimension along with a flat list of entries,
then it will be the number of columns in the result (which is different
from the behavior of the <code class="docutils literal notranslate"><span class="pre">matrix</span></code> constructor).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">column_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">24</span><span class="p">))</span>
<span class="go">[ 0  3  6  9 12 15 18 21]</span>
<span class="go">[ 1  4  7 10 13 16 19 22]</span>
<span class="go">[ 2  5  8 11 14 17 20 23]</span>
</pre></div>
</div>
<p>And when you specify two dimensions, then they should be number of
columns first, then the number of rows, which is the reverse of how
they would be specified for the <code class="docutils literal notranslate"><span class="pre">matrix</span></code> constructor.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">column_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>
<span class="go">[ 0  3  6  9 12]</span>
<span class="go">[ 1  4  7 10 13]</span>
<span class="go">[ 2  5  8 11 14]</span>
</pre></div>
</div>
<p>And a few unproductive, but illustrative, examples.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">column_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">==</span> <span class="n">B</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">84</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">==</span> <span class="n">column_matrix</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">columns</span><span class="p">())</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">column_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span>
<span class="go">[0 2 4]</span>
<span class="go">[1 3 5]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 3 dense matrices over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.companion_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">companion_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">poly</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'right'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.companion_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as companion_matrix(…) and matrix.companion(…).</p>
<p>Create a companion matrix from a monic polynomial.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">poly</span></code> – a univariate polynomial, or an iterable containing
the coefficients of a polynomial, with low-degree coefficients first.
The polynomial (or the polynomial implied by the coefficients) must
be monic.  In other words, the leading coefficient must be one.
A symbolic expression that might also be a polynomial is not
proper input, see examples below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> – default: ‘right’ - specifies one of four
variations of a companion matrix.  Allowable values are
‘right’, ‘left’, ‘top’ and ‘bottom’, which indicates which
border of the matrix contains the negatives of the coefficients.</p></li>
</ul>
<p>OUTPUT:</p>
<p>A square matrix with a size equal to the degree of the polynomial.
The returned matrix has ones above, or below the diagonal, and the
negatives of the coefficients along the indicated border of the
matrix (excepting the leading one coefficient).
See the first examples below for precise illustrations.</p>
<p>EXAMPLES:</p>
<p>Each of the four possibilities.  Notice that the coefficients are
specified and their negatives become the entries of the matrix.  The
leading one must be given, but is not used.  The permutation matrix
<code class="docutils literal notranslate"><span class="pre">P</span></code> is the identity matrix, with the columns reversed.  The last three
statements test the general relationships between the four variants.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">poly</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">companion_matrix</span><span class="p">(</span><span class="n">poly</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">);</span> <span class="n">R</span>
<span class="go">[0 0 0 0 2]</span>
<span class="go">[1 0 0 0 3]</span>
<span class="go">[0 1 0 0 4]</span>
<span class="go">[0 0 1 0 5]</span>
<span class="go">[0 0 0 1 6]</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">companion_matrix</span><span class="p">(</span><span class="n">poly</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">);</span> <span class="n">L</span>
<span class="go">[6 1 0 0 0]</span>
<span class="go">[5 0 1 0 0]</span>
<span class="go">[4 0 0 1 0]</span>
<span class="go">[3 0 0 0 1]</span>
<span class="go">[2 0 0 0 0]</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">companion_matrix</span><span class="p">(</span><span class="n">poly</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">);</span> <span class="n">B</span>
<span class="go">[0 1 0 0 0]</span>
<span class="go">[0 0 1 0 0]</span>
<span class="go">[0 0 0 1 0]</span>
<span class="go">[0 0 0 0 1]</span>
<span class="go">[2 3 4 5 6]</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">companion_matrix</span><span class="p">(</span><span class="n">poly</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">);</span> <span class="n">T</span>
<span class="go">[6 5 4 3 2]</span>
<span class="go">[1 0 0 0 0]</span>
<span class="go">[0 1 0 0 0]</span>
<span class="go">[0 0 1 0 0]</span>
<span class="go">[0 0 0 1 0]</span>

<span class="gp">sage: </span><span class="n">perm</span> <span class="o">=</span> <span class="n">Permutation</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">perm</span><span class="o">.</span><span class="n">to_matrix</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">==</span> <span class="n">P</span><span class="o">*</span><span class="n">R</span><span class="o">*</span><span class="n">P</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">==</span> <span class="n">R</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">==</span> <span class="n">P</span><span class="o">*</span><span class="n">R</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span><span class="o">*</span><span class="n">P</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A polynomial may be used as input, however a symbolic expression,
even if it looks like a polynomial, is not regarded as such when used
as input to this routine.  Obtaining the list of coefficients from a
symbolic polynomial is one route to the companion matrix.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">8</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mi">12</span>
<span class="gp">sage: </span><span class="n">companion_matrix</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="go">[ 0  0 12]</span>
<span class="go">[ 1  0 -8]</span>
<span class="go">[ 0  1  4]</span>

<span class="gp">sage: </span><span class="c1"># needs sage.symbolic</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">y</span><span class="o">^</span><span class="mi">3</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">companion_matrix</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: input must be a polynomial (not a symbolic expression, see docstring),</span>
<span class="go">or other iterable, not y^3 - 2*y + 1</span>
<span class="gp">sage: </span><span class="n">coeff_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">q</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span><span class="n">q</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="n">k</span><span class="p">)</span>
<span class="gp">....: </span>                         <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">q</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">coeff_list</span>
<span class="go">[1, -2, 0, 1]</span>
<span class="gp">sage: </span><span class="n">companion_matrix</span><span class="p">(</span><span class="n">coeff_list</span><span class="p">)</span>
<span class="go">[ 0  0 -1]</span>
<span class="go">[ 1  0  2]</span>
<span class="go">[ 0  1  0]</span>
</pre></div>
</div>
<p>The minimal polynomial of a companion matrix is equal to the
polynomial used to create it.  Used in a block diagonal
construction, they can be used to create matrices with
any desired minimal polynomial, or characteristic polynomial.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">t</span><span class="o">^</span><span class="mi">12</span> <span class="o">-</span> <span class="mi">7</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span> <span class="mi">28</span><span class="o">*</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">456</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">companion_matrix</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">minpoly</span><span class="p">(</span><span class="n">var</span><span class="o">=</span><span class="s1">&#39;t&#39;</span><span class="p">);</span> <span class="n">q</span>                                                 <span class="c1"># needs sage.libs.pari</span>
<span class="go">t^12 - 7*t^4 + 28*t^2 - 456</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">==</span> <span class="n">q</span>                                                                    <span class="c1"># needs sage.libs.pari</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">t</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">t</span> <span class="o">-</span> <span class="mi">8</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">t</span><span class="o">^</span><span class="mi">5</span> <span class="o">+</span> <span class="n">t</span> <span class="o">-</span> <span class="mi">17</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">block_diagonal_matrix</span><span class="p">(</span> <span class="n">companion_matrix</span><span class="p">(</span><span class="n">p</span><span class="p">),</span>
<span class="gp">....: </span>                           <span class="n">companion_matrix</span><span class="p">(</span><span class="n">p</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span>
<span class="gp">....: </span>                           <span class="n">companion_matrix</span><span class="p">(</span><span class="n">q</span><span class="p">),</span>
<span class="gp">....: </span>                           <span class="n">companion_matrix</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">charpoly</span><span class="p">(</span><span class="n">var</span><span class="o">=</span><span class="s1">&#39;t&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>                                              <span class="c1"># needs sage.libs.pari</span>
<span class="go">(t^3 + 3*t - 8)^3 * (t^5 + t - 17)^2</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">minpoly</span><span class="p">(</span><span class="n">var</span><span class="o">=</span><span class="s1">&#39;t&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>                                               <span class="c1"># needs sage.libs.pari</span>
<span class="go">(t^3 + 3*t - 8)^2 * (t^5 + t - 17)</span>
</pre></div>
</div>
<p>AUTHOR:</p>
<ul class="simple">
<li><p>Rob Beezer (2011-05-19)</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.diagonal_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">diagonal_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.diagonal_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as diagonal_matrix(…) and matrix.diagonal(…).</p>
<p>Return a square matrix with specified diagonal entries, and zeros elsewhere.</p>
<p>FORMATS:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>diagonal_matrix(entries)</p></li>
<li><p>diagonal_matrix(nrows, entries)</p></li>
<li><p>diagonal_matrix(ring, entries)</p></li>
<li><p>diagonal_matrix(ring, nrows, entries)</p></li>
</ol>
</div></blockquote>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">entries</span></code> - the values to place along the diagonal
of the returned matrix.  This may be a flat list, a
flat tuple, a vector or free module element, or
a one-dimensional NumPy array.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nrows</span></code> - the size of the returned matrix, which
will have an equal number of columns</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> - the ring containing the entries of the
diagonal entries.  This may not be specified in
combination with a NumPy array.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sparse</span></code> - default: <code class="docutils literal notranslate"><span class="pre">True</span></code> - whether or not
the result has a sparse implementation.</p></li>
</ul>
<p>OUTPUT:</p>
<p>A square matrix over the given <code class="docutils literal notranslate"><span class="pre">ring</span></code> with a size
given by <code class="docutils literal notranslate"><span class="pre">nrows</span></code>.  If the ring is not given it
is inferred from the given entries.  The values on
the diagonal of the returned matrix come from <code class="docutils literal notranslate"><span class="pre">entries</span></code>.
If the number of entries is not enough to fill the whole
diagonal, it is padded with zeros.</p>
<p>EXAMPLES:</p>
<p>We first demonstrate each of the input formats with various
different ways to specify the entries.</p>
<p>Format 1: a flat list of entries.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">diagonal_matrix</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]);</span> <span class="n">A</span>
<span class="go">[ 2.00000000000000 0.000000000000000 0.000000000000000]</span>
<span class="go">[0.000000000000000  1.30000000000000 0.000000000000000]</span>
<span class="go">[0.000000000000000 0.000000000000000  5.00000000000000]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 sparse matrices over Real Field with 53 bits of precision</span>
</pre></div>
</div>
<p>Format 2: size specified, a tuple with initial entries. Note that a short list of entries
is effectively padded with zeros.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">diagonal_matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span> <span class="n">A</span>
<span class="go">[4 0 0]</span>
<span class="go">[0 5 0]</span>
<span class="go">[0 0 0]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 sparse matrices over Integer Ring</span>
</pre></div>
</div>
<p>Format 3: ring specified, a vector of entries.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">diagonal_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">vector</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]));</span> <span class="n">A</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 2 0]</span>
<span class="go">[0 0 3]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 sparse matrices over Rational Field</span>
</pre></div>
</div>
<p>Format 4: ring, size and list of entries.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">diagonal_matrix</span><span class="p">(</span><span class="n">FiniteField</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">16</span><span class="p">]);</span> <span class="n">A</span>
<span class="go">[2 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 0 0]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 sparse matrices over Finite Field of size 3</span>
</pre></div>
</div>
<p>NumPy arrays may be used as input.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs numpy</span>
<span class="gp">sage: </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">sage: </span><span class="n">entries</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.2</span><span class="p">,</span> <span class="mf">5.6</span><span class="p">]);</span> <span class="n">entries</span>
<span class="go">array([1.2, 5.6])</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">diagonal_matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">entries</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[1.2 0.0 0.0]</span>
<span class="go">[0.0 5.6 0.0]</span>
<span class="go">[0.0 0.0 0.0]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 sparse matrices over Real Double Field</span>

<span class="gp">sage: </span><span class="c1"># needs numpy</span>
<span class="gp">sage: </span><span class="n">j</span> <span class="o">=</span> <span class="nb">complex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">entries</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.0</span><span class="o">+</span><span class="n">j</span><span class="p">,</span> <span class="mf">8.1</span><span class="p">,</span> <span class="mf">3.4</span><span class="o">+</span><span class="mf">2.6</span><span class="o">*</span><span class="n">j</span><span class="p">]);</span> <span class="n">entries</span>
<span class="go">array([2. +1.j , 8.1+0.j , 3.4+2.6j])</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">diagonal_matrix</span><span class="p">(</span><span class="n">entries</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[2.0 + 1.0*I         0.0         0.0]</span>
<span class="go">[        0.0         8.1         0.0]</span>
<span class="go">[        0.0         0.0 3.4 + 2.6*I]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 sparse matrices over Complex Double Field</span>

<span class="gp">sage: </span><span class="c1"># needs numpy</span>
<span class="gp">sage: </span><span class="n">entries</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">diagonal_matrix</span><span class="p">(</span><span class="n">entries</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[4 0 0]</span>
<span class="go">[0 5 0]</span>
<span class="go">[0 0 6]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 sparse matrices over Integer Ring</span>

<span class="gp">sage: </span><span class="n">entries</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">4.1</span><span class="p">,</span> <span class="mf">5.2</span><span class="p">,</span> <span class="mf">6.3</span><span class="p">])</span>                                    <span class="c1"># needs numpy</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">diagonal_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="n">entries</span><span class="p">);</span> <span class="n">A</span>                                       <span class="c1"># needs numpy</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: unable to convert 4.1 to an element of Integer Ring</span>
</pre></div>
</div>
<p>By default returned matrices have a sparse implementation.  This can be changed
when using any of the formats.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">diagonal_matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 dense matrices over Integer Ring</span>
</pre></div>
</div>
<p>An empty list and no ring specified defaults to the integers.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">diagonal_matrix</span><span class="p">([])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 0 by 0 sparse matrices over Integer Ring</span>
</pre></div>
</div>
<p>Giving the entries improperly may first complain about not being iterable:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">diagonal_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: &#39;sage.rings.integer.Integer&#39; object is not iterable</span>
</pre></div>
</div>
<p>Giving too many entries will raise an error.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">diagonal_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: number of diagonal matrix entries (4) exceeds the requested matrix size (3)</span>
</pre></div>
</div>
<p>A negative size sometimes causes the error that there are too many elements.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">diagonal_matrix</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: number of diagonal matrix entries (1) exceeds the requested matrix size (-2)</span>
</pre></div>
</div>
<p>Types for the entries need to be iterable (tuple, list, vector, NumPy array,
etc):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">diagonal_matrix</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>                                                      <span class="c1"># needs sage.symbolic</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: &#39;sage.symbolic.expression.Expression&#39; object is not iterable</span>
</pre></div>
</div>
<p>AUTHOR:</p>
<ul class="simple">
<li><p>Rob Beezer (2011-01-11): total rewrite</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.elementary_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">elementary_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.elementary_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as elementary_matrix(…) and matrix.elementary(…).</p>
<p>Creates a square matrix that corresponds to a row operation or a column operation.</p>
<p>FORMATS:</p>
<p>In each case, <code class="docutils literal notranslate"><span class="pre">R</span></code> is the base ring, and is optional. <code class="docutils literal notranslate"><span class="pre">n</span></code> is the size
of the square matrix created.  Any call may include the <code class="docutils literal notranslate"><span class="pre">sparse</span></code> keyword
to determine the representation used.  The default is <code class="docutils literal notranslate"><span class="pre">False</span></code> which
leads to a dense representation.  We describe the matrices by their
associated row operation, see the output description for more.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">elementary_matrix(R,</span> <span class="pre">n,</span> <span class="pre">row1=i,</span> <span class="pre">row2=j)</span></code></p>
<p>The matrix which swaps rows <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">j</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">elementary_matrix(R,</span> <span class="pre">n,</span> <span class="pre">row1=i,</span> <span class="pre">scale=s)</span></code></p>
<p>The matrix which multiplies row <code class="docutils literal notranslate"><span class="pre">i</span></code> by <code class="docutils literal notranslate"><span class="pre">s</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">elementary_matrix(R,</span> <span class="pre">n,</span> <span class="pre">row1=i,</span> <span class="pre">row2=j,</span> <span class="pre">scale=s)</span></code></p>
<p>The matrix which multiplies row <code class="docutils literal notranslate"><span class="pre">j</span></code> by <code class="docutils literal notranslate"><span class="pre">s</span></code>
and adds it to row <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p>
</li>
</ul>
<p>Elementary matrices representing column operations are created
in an entirely analogous way, replacing <code class="docutils literal notranslate"><span class="pre">row1</span></code> by <code class="docutils literal notranslate"><span class="pre">col1</span></code> and
replacing <code class="docutils literal notranslate"><span class="pre">row2</span></code> by <code class="docutils literal notranslate"><span class="pre">col2</span></code>.</p>
<p>Specifying the ring for entries of the matrix is optional.  If it
is not given, and a scale parameter is provided, then a ring containing
the value of <code class="docutils literal notranslate"><span class="pre">scale</span></code> will be used.  Otherwise, the ring defaults
to the integers.</p>
<p>OUTPUT:</p>
<p>An elementary matrix is a square matrix that is very close to being
an identity matrix.  If <code class="docutils literal notranslate"><span class="pre">E</span></code> is an elementary matrix and <code class="docutils literal notranslate"><span class="pre">A</span></code> is any
matrix with the same number of rows, then <code class="docutils literal notranslate"><span class="pre">E*A</span></code> is the result of
applying a row operation to <code class="docutils literal notranslate"><span class="pre">A</span></code>.  This is how the three types
created by this function are described.  Similarly, an elementary matrix
can be associated with a column operation, so if <code class="docutils literal notranslate"><span class="pre">E</span></code> has the same number
of columns as <code class="docutils literal notranslate"><span class="pre">A</span></code> then <code class="docutils literal notranslate"><span class="pre">A*E</span></code> is the result of performing a column
operation on <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p>
<p>An elementary matrix representing a row operation is created if <code class="docutils literal notranslate"><span class="pre">row1</span></code>
is specified, while an elementary matrix representing a column operation
is created if <code class="docutils literal notranslate"><span class="pre">col1</span></code> is specified.</p>
<p>EXAMPLES:</p>
<p>Over the integers, creating row operations. Recall that row
and column numbering begins at zero.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">40</span><span class="p">));</span> <span class="n">A</span>
<span class="go">[ 0  1  2  3  4  5  6  7  8  9]</span>
<span class="go">[10 11 12 13 14 15 16 17 18 19]</span>
<span class="go">[20 21 22 23 24 25 26 27 28 29]</span>
<span class="go">[30 31 32 33 34 35 36 37 38 39]</span>

<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">row2</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">E</span>
<span class="go">[1 0 0 0]</span>
<span class="go">[0 0 0 1]</span>
<span class="go">[0 0 1 0]</span>
<span class="go">[0 1 0 0]</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">*</span><span class="n">A</span>
<span class="go">[ 0  1  2  3  4  5  6  7  8  9]</span>
<span class="go">[30 31 32 33 34 35 36 37 38 39]</span>
<span class="go">[20 21 22 23 24 25 26 27 28 29]</span>
<span class="go">[10 11 12 13 14 15 16 17 18 19]</span>

<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">10</span><span class="p">);</span> <span class="n">E</span>
<span class="go">[ 1  0  0  0]</span>
<span class="go">[ 0  1  0  0]</span>
<span class="go">[ 0  0 10  0]</span>
<span class="go">[ 0  0  0  1]</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">*</span><span class="n">A</span>
<span class="go">[  0   1   2   3   4   5   6   7   8   9]</span>
<span class="go">[ 10  11  12  13  14  15  16  17  18  19]</span>
<span class="go">[200 210 220 230 240 250 260 270 280 290]</span>
<span class="go">[ 30  31  32  33  34  35  36  37  38  39]</span>

<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">row2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">10</span><span class="p">);</span> <span class="n">E</span>
<span class="go">[ 1  0  0  0]</span>
<span class="go">[ 0  1  0  0]</span>
<span class="go">[ 0 10  1  0]</span>
<span class="go">[ 0  0  0  1]</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">*</span><span class="n">A</span>
<span class="go">[  0   1   2   3   4   5   6   7   8   9]</span>
<span class="go">[ 10  11  12  13  14  15  16  17  18  19]</span>
<span class="go">[120 131 142 153 164 175 186 197 208 219]</span>
<span class="go">[ 30  31  32  33  34  35  36  37  38  39]</span>
</pre></div>
</div>
<p>Over the rationals, now as column operations. Recall that row
and column numbering begins at zero.  Checks now have the
elementary matrix on the right.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span> <span class="n">A</span>
<span class="go">[ 0  1  2  3]</span>
<span class="go">[ 4  5  6  7]</span>
<span class="go">[ 8  9 10 11]</span>
<span class="go">[12 13 14 15]</span>
<span class="go">[16 17 18 19]</span>

<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">col1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">col2</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">E</span>
<span class="go">[1 0 0 0]</span>
<span class="go">[0 0 0 1]</span>
<span class="go">[0 0 1 0]</span>
<span class="go">[0 1 0 0]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">*</span><span class="n">E</span>
<span class="go">[ 0  3  2  1]</span>
<span class="go">[ 4  7  6  5]</span>
<span class="go">[ 8 11 10  9]</span>
<span class="go">[12 15 14 13]</span>
<span class="go">[16 19 18 17]</span>

<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">col1</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span> <span class="n">E</span>
<span class="go">[  1   0   0   0]</span>
<span class="go">[  0   1   0   0]</span>
<span class="go">[  0   0 1/2   0]</span>
<span class="go">[  0   0   0   1]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">*</span><span class="n">E</span>
<span class="go">[ 0  1  1  3]</span>
<span class="go">[ 4  5  3  7]</span>
<span class="go">[ 8  9  5 11]</span>
<span class="go">[12 13  7 15]</span>
<span class="go">[16 17  9 19]</span>

<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">col1</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">col2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">10</span><span class="p">);</span> <span class="n">E</span>
<span class="go">[ 1  0  0  0]</span>
<span class="go">[ 0  1 10  0]</span>
<span class="go">[ 0  0  1  0]</span>
<span class="go">[ 0  0  0  1]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">*</span><span class="n">E</span>
<span class="go">[  0   1  12   3]</span>
<span class="go">[  4   5  56   7]</span>
<span class="go">[  8   9 100  11]</span>
<span class="go">[ 12  13 144  15]</span>
<span class="go">[ 16  17 188  19]</span>
</pre></div>
</div>
<p>An elementary matrix is always nonsingular.  Then repeated row
operations can be represented by products of elementary matrices,
and this product is again nonsingular.  If row operations are to
preserve fundamental properties of a matrix (like rank), we do not
allow scaling a row by zero.  Similarly, the corresponding elementary
matrix is not constructed.  Also, we do not allow adding a multiple
of a row to itself, since this could also lead to a new zero row.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">40</span><span class="p">));</span> <span class="n">A</span>
<span class="go">[ 0  1  2  3  4  5  6  7  8  9]</span>
<span class="go">[10 11 12 13 14 15 16 17 18 19]</span>
<span class="go">[20 21 22 23 24 25 26 27 28 29]</span>
<span class="go">[30 31 32 33 34 35 36 37 38 39]</span>

<span class="gp">sage: </span><span class="n">E1</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row2</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E2</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">row2</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">E2</span><span class="o">*</span><span class="n">E1</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">is_singular</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">*</span><span class="n">A</span>
<span class="go">[  10   11   12   13   14   15   16   17   18   19]</span>
<span class="go">[   0    1    2    3    4    5    6    7    8    9]</span>
<span class="go">[  20   21   22   23   24   25   26   27   28   29]</span>
<span class="go">[1030 1131 1232 1333 1434 1535 1636 1737 1838 1939]</span>

<span class="gp">sage: </span><span class="n">E3</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: scale parameter of row of elementary matrix must be non-zero</span>

<span class="gp">sage: </span><span class="n">E4</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">row2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: cannot add a multiple of a row to itself</span>
</pre></div>
</div>
<p>If the ring is not specified, and a scale parameter is given, the
base ring for the matrix is chosen to contain the scale parameter.
Otherwise, if no ring is given, the default is the integers.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">row2</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 4 by 4 dense matrices over Integer Ring</span>

<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 4 by 4 dense matrices over Rational Field</span>

<span class="gp">sage: </span><span class="c1"># needs sage.symbolic</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">I</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 4 by 4 dense matrices over</span>
<span class="go"> Number Field in I with defining polynomial x^2 + 1 with I = 1*I</span>

<span class="gp">sage: </span><span class="c1"># needs sage.rings.complex_double sage.symbolic</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">CDF</span><span class="p">(</span><span class="n">I</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 4 by 4 dense matrices over Complex Double Field</span>

<span class="gp">sage: </span><span class="c1"># needs sage.rings.number_field sage.symbolic</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">QQbar</span><span class="p">(</span><span class="n">I</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 4 by 4 dense matrices over Algebraic Field</span>
</pre></div>
</div>
<p>Returned matrices have a dense implementation by default,
but a sparse implementation may be requested.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row2</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">is_dense</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">elementary_matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row2</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">E</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>And the ridiculously small cases.  The zero-row matrix cannot be built
since then there are no rows to manipulate.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">elementary_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row2</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[1]</span>
<span class="gp">sage: </span><span class="n">elementary_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">row1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row2</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: size of elementary matrix must be 1 or greater, not 0</span>
</pre></div>
</div>
<p>AUTHOR:</p>
<ul class="simple">
<li><p>Rob Beezer (2011-03-04)</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.hankel">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">hankel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.hankel" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as hankel(…) and matrix.hankel(…).</p>
<p>Return a Hankel matrix of given first column and whose elements are zero
below the first anti-diagonal.</p>
<p>The Hankel matrix is symmetric and constant across the anti-diagonals,
with elements</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[H_{ij} = v_{i+j-1},\qquad i = 1,\ldots, m,~j = 1,\ldots, n,\]</div>
</div>
<p>where the vector <span class="math notranslate nohighlight">\(v_i = c_i\)</span> for <span class="math notranslate nohighlight">\(i = 1,\ldots, m\)</span> and <span class="math notranslate nohighlight">\(v_{m+i} = r_i\)</span> for
<span class="math notranslate nohighlight">\(i = 1, \ldots, n-1\)</span> completely determines the Hankel matrix. If the last
row, <span class="math notranslate nohighlight">\(r\)</span>, is not given, the Hankel matrix is square by default and <span class="math notranslate nohighlight">\(r = 0\)</span>.
For more information see the <a class="reference external" href="https://en.wikipedia.org/wiki/Hankel_matrix">Wikipedia article Hankel_matrix</a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">c</span></code> – vector, first column of the Hankel matrix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code> – vector (optional, default: None), last row of the Hankel matrix, from
the second to the last column</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> – base ring (optional, default: None) of the resulting matrix</p></li>
</ul>
<p>EXAMPLES:</p>
<p>A Hankel matrix with symbolic entries:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">hankel</span><span class="p">(</span><span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a, b, c, d, e&#39;</span><span class="p">))</span>                                    <span class="c1"># needs sage.symbolic</span>
<span class="go">[a b c d e]</span>
<span class="go">[b c d e 0]</span>
<span class="go">[c d e 0 0]</span>
<span class="go">[d e 0 0 0]</span>
<span class="go">[e 0 0 0 0]</span>
</pre></div>
</div>
<p>We can also pass the elements of the last row, starting at the second column:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">hankel</span><span class="p">(</span><span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a, b, c, d, e&#39;</span><span class="p">),</span> <span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;f, g, h, i&#39;</span><span class="p">))</span>              <span class="c1"># needs sage.symbolic</span>
<span class="go">[a b c d e]</span>
<span class="go">[b c d e f]</span>
<span class="go">[c d e f g]</span>
<span class="go">[d e f g h]</span>
<span class="go">[e f g h i]</span>
</pre></div>
</div>
<p>A third order Hankel matrix in the integers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">hankel</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">[1 2 3]</span>
<span class="go">[2 3 0]</span>
<span class="go">[3 0 0]</span>
</pre></div>
</div>
<p>The second argument allows to customize the last row:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">hankel</span><span class="p">([</span><span class="mf">1..3</span><span class="p">],</span> <span class="p">[</span><span class="mf">7..10</span><span class="p">])</span>
<span class="go">[ 1  2  3  7  8]</span>
<span class="go">[ 2  3  7  8  9]</span>
<span class="go">[ 3  7  8  9 10]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.hilbert">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">hilbert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ring=Rational</span> <span class="pre">Field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.hilbert" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as hilbert(…) and matrix.hilbert(…).</p>
<p>Return a Hilbert matrix of the given dimension.</p>
<p>The <span class="math notranslate nohighlight">\(n\)</span> dimensional Hilbert matrix is a square matrix with entries being
unit fractions,</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[H_{ij} = \frac{1}{i+j-1},\qquad i, j = 1,\ldots, n.\]</div>
</div>
<p>For more information see the <a class="reference external" href="https://en.wikipedia.org/wiki/Hilbert_matrix">Wikipedia article Hilbert_matrix</a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dim</span></code> – integer, the dimension of the Hilbert matrix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> – base ring (optional, default: \QQ) of the resulting matrix</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">hilbert</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[  1 1/2 1/3 1/4 1/5]</span>
<span class="go">[1/2 1/3 1/4 1/5 1/6]</span>
<span class="go">[1/3 1/4 1/5 1/6 1/7]</span>
<span class="go">[1/4 1/5 1/6 1/7 1/8]</span>
<span class="go">[1/5 1/6 1/7 1/8 1/9]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.identity_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">identity_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.identity_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as identity_matrix(…) and matrix.identity(…).</p>
<p>Return the <span class="math notranslate nohighlight">\(n \times n\)</span> identity matrix over the given
ring.</p>
<p>The default ring is the integers.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">identity_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="n">M</span>
<span class="go">[1 0]</span>
<span class="go">[0 1]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Rational Field</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">identity_matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="n">M</span>
<span class="go">[1 0]</span>
<span class="go">[0 1]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Integer Ring</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_mutable</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">identity_matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span> <span class="n">M</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 0 1]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 sparse matrices over Integer Ring</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_mutable</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.ith_to_zero_rotation_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">ith_to_zero_rotation_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.ith_to_zero_rotation_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as ith_to_zero_rotation_matrix(…) and matrix.ith_to_zero_rotation(…).</p>
<p>Return a rotation matrix that sends the i-th coordinates of the
vector v to zero by doing a rotation with the (i-1)-th coordinate.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code> – vector</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code> – integer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> – ring (optional, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) of the resulting matrix</p></li>
</ul>
<p>OUTPUT:</p>
<p>A matrix</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.constructor</span> <span class="kn">import</span> <span class="n">ith_to_zero_rotation_matrix</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                                         <span class="c1"># needs sage.symbolic</span>
<span class="go">[             1              0              0]</span>
<span class="go">[             0  2/13*sqrt(13)  3/13*sqrt(13)]</span>
<span class="go">[             0 -3/13*sqrt(13)  2/13*sqrt(13)]</span>
<span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>                                     <span class="c1"># needs sage.symbolic</span>
<span class="go">(1, sqrt(13), 0)</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>                                         <span class="c1"># needs sage.symbolic</span>
<span class="go">[ 3/10*sqrt(10)              0 -1/10*sqrt(10)]</span>
<span class="go">[             0              1              0]</span>
<span class="go">[ 1/10*sqrt(10)              0  3/10*sqrt(10)]</span>
<span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>                                         <span class="c1"># needs sage.symbolic</span>
<span class="go">[ 1/5*sqrt(5)  2/5*sqrt(5)            0]</span>
<span class="go">[-2/5*sqrt(5)  1/5*sqrt(5)            0]</span>
<span class="go">[           0            0            1]</span>
<span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                                         <span class="c1"># needs sage.symbolic</span>
<span class="go">[             1              0              0]</span>
<span class="go">[             0  2/13*sqrt(13)  3/13*sqrt(13)]</span>
<span class="go">[             0 -3/13*sqrt(13)  2/13*sqrt(13)]</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>                                     <span class="c1"># needs sage.symbolic</span>
<span class="go">(0, 2, sqrt(10))</span>
<span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>                                     <span class="c1"># needs sage.symbolic</span>
<span class="go">(sqrt(5), 0, 3)</span>
<span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>                                     <span class="c1"># needs sage.symbolic</span>
<span class="go">(1, sqrt(13), 0)</span>
</pre></div>
</div>
<p>Other ring:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ring</span><span class="o">=</span><span class="n">RR</span><span class="p">)</span>
<span class="go">[  1.00000000000000  0.000000000000000  0.000000000000000]</span>
<span class="go">[ 0.000000000000000  0.554700196225229  0.832050294337844]</span>
<span class="go">[ 0.000000000000000 -0.832050294337844  0.554700196225229]</span>
<span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">ring</span><span class="o">=</span><span class="n">RDF</span><span class="p">)</span>
<span class="go">[                1.0                 0.0                 0.0]</span>
<span class="go">[                0.0  0.5547001962252291  0.8320502943378437]</span>
<span class="go">[                0.0 -0.8320502943378437  0.5547001962252291]</span>
</pre></div>
</div>
<p>On the symbolic ring:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.symbolic</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[                 1                  0                  0]</span>
<span class="go">[                 0  y/sqrt(y^2 + z^2)  z/sqrt(y^2 + z^2)]</span>
<span class="go">[                 0 -z/sqrt(y^2 + z^2)  y/sqrt(y^2 + z^2)]</span>
<span class="gp">sage: </span><span class="n">ith_to_zero_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>
<span class="go">(x, y^2/sqrt(y^2 + z^2) + z^2/sqrt(y^2 + z^2), 0)</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<p>Sébastien Labbé (April 2010)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.jordan_block">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">jordan_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">eigenvalue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.jordan_block" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as jordan_block(…) and matrix.jordan_block(…).</p>
<p>Return the Jordan block for the given eigenvalue with given size.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">eigenvalue</span></code> – eigenvalue for the diagonal entries of the block</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code> – size of the square matrix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sparse</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>) - if <code class="docutils literal notranslate"><span class="pre">True</span></code>, return a sparse matrix</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">jordan_block</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">[5 1 0]</span>
<span class="go">[0 5 1]</span>
<span class="go">[0 0 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.lehmer">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">lehmer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.lehmer" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as lehmer(…) and matrix.lehmer(…).</p>
<p>Return the <span class="math notranslate nohighlight">\(n \times n\)</span> Lehmer matrix.</p>
<p>The default ring is the rationals.</p>
<p>Element <span class="math notranslate nohighlight">\((i, j)\)</span> in the Lehmer matrix is
<span class="math notranslate nohighlight">\(min(i, j)/max(i, j)\)</span>.</p>
<p>See <a class="reference external" href="https://en.wikipedia.org/wiki/Lehmer_matrix">Wikipedia article Lehmer_matrix</a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">lehmer</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[  1 1/2 1/3]</span>
<span class="go">[1/2   1 2/3]</span>
<span class="go">[1/3 2/3   1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.matrix_method">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">matrix_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.matrix_method" title="Permalink to this definition">#</a></dt>
<dd><p>Allows a function to be tab-completed on the global matrix
constructor object.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">*function</span></code> – a single argument. The function that is being
decorated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**kwds</span></code> – a single optional keyword argument
<code class="docutils literal notranslate"><span class="pre">name=&lt;string&gt;</span></code>. The name of the corresponding method in the
global matrix constructor object. If not given, it is derived
from the function name.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.constructor</span> <span class="kn">import</span> <span class="n">matrix_method</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">foo_matrix</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="k">return</span> <span class="n">matrix</span><span class="o">.</span><span class="n">diagonal</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">matrix_method</span><span class="p">(</span><span class="n">foo_matrix</span><span class="p">)</span>
<span class="go">&lt;function foo_matrix at ...&gt;</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">foo</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[0 0 0 0 0]</span>
<span class="go">[0 1 0 0 0]</span>
<span class="go">[0 0 2 0 0]</span>
<span class="go">[0 0 0 3 0]</span>
<span class="go">[0 0 0 0 4]</span>
<span class="gp">sage: </span><span class="n">matrix_method</span><span class="p">(</span><span class="n">foo_matrix</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="go">&lt;function foo_matrix at ...&gt;</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[0 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 0 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.ones_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">ones_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nrows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.ones_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as ones_matrix(…) and matrix.ones(…).</p>
<p>Return a matrix with all entries equal to 1.</p>
<p>CALL FORMATS:</p>
<p>In each case, the optional keyword <code class="docutils literal notranslate"><span class="pre">sparse</span></code> can be used.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>ones_matrix(ring, nrows, ncols)</p></li>
<li><p>ones_matrix(ring, nrows)</p></li>
<li><p>ones_matrix(nrows, ncols)</p></li>
<li><p>ones_matrix(nrows)</p></li>
</ol>
</div></blockquote>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> - default: <code class="docutils literal notranslate"><span class="pre">ZZ</span></code> - base ring for the matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nrows</span></code> - number of rows in the matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ncols</span></code> - number of columns in the matrix.
If omitted, defaults to the number of rows, producing a square matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sparse</span></code> - default: <code class="docutils literal notranslate"><span class="pre">False</span></code> - if <code class="docutils literal notranslate"><span class="pre">True</span></code> creates a sparse representation.</p></li>
</ul>
<p>OUTPUT:</p>
<p>A matrix of size <code class="docutils literal notranslate"><span class="pre">nrows</span></code> by <code class="docutils literal notranslate"><span class="pre">ncols</span></code> over the <code class="docutils literal notranslate"><span class="pre">ring</span></code> with every
entry equal to 1.  While the result is far from sparse, you may wish
to choose a sparse representation when mixing this matrix with
other sparse matrices.</p>
<p>EXAMPLES:</p>
<p>A call specifying the ring and the size.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span><span class="o">=</span> <span class="n">ones_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span> <span class="n">M</span>
<span class="go">[1 1 1 1 1]</span>
<span class="go">[1 1 1 1 1]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 5 dense matrices over Rational Field</span>
</pre></div>
</div>
<p>Without specifying the number of columns, the result is square.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ones_matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="n">M</span>
<span class="go">[1.00000000000000 1.00000000000000]</span>
<span class="go">[1.00000000000000 1.00000000000000]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Real Field with 53 bits of precision</span>
</pre></div>
</div>
<p>The ring defaults to the integers if not given.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ones_matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="n">M</span>
<span class="go">[1 1 1]</span>
<span class="go">[1 1 1]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 3 dense matrices over Integer Ring</span>
</pre></div>
</div>
<p>A lone integer input produces a square matrix over the integers.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ones_matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="n">M</span>
<span class="go">[1 1 1]</span>
<span class="go">[1 1 1]</span>
<span class="go">[1 1 1]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 dense matrices over Integer Ring</span>
</pre></div>
</div>
<p>The result can have a sparse implementation.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ones_matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span> <span class="n">M</span>
<span class="go">[1]</span>
<span class="go">[1]</span>
<span class="go">[1]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 1 sparse matrices over Integer Ring</span>
</pre></div>
</div>
<p>Giving just a ring will yield an error.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ones_matrix</span><span class="p">(</span><span class="n">CC</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: constructing an all ones matrix requires at least one dimension</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.random_diagonalizable_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">random_diagonalizable_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eigenvalues</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimensions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.random_diagonalizable_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as random_diagonalizable_matrix(…) and matrix.random_diagonalizable(…).</p>
<p>Create a random matrix that diagonalizes nicely.</p>
<p>To be used as a teaching tool.  Return matrices have only real
eigenvalues.</p>
<p>INPUT:</p>
<p>If eigenvalues and dimensions are not specified in a list,
they will be assigned randomly.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parent</span></code> – the desired size of the square matrix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eigenvalues</span></code> – the list of desired eigenvalues (default=None).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dimensions</span></code> – the list of dimensions corresponding to each
eigenspace (default=None).</p></li>
</ul>
<p>OUTPUT:</p>
<p>A square, diagonalizable, matrix with only integer entries. The
eigenspaces of this matrix, if computed by hand, give basis
vectors with only integer entries.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is easiest to use this function via a call to the
<code class="xref py py-func docutils literal notranslate"><span class="pre">random_matrix()</span></code>
function with the <code class="docutils literal notranslate"><span class="pre">algorithm='diagonalizable'</span></code> keyword.  We provide
one example accessing this function directly, while the remainder will
use this more general function.</p>
</div>
<p>EXAMPLES:</p>
<p>A diagonalizable matrix, size 5.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.constructor</span> <span class="kn">import</span> <span class="n">random_diagonalizable_matrix</span>
<span class="gp">sage: </span><span class="n">matrix_space</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">matrix_space</span><span class="o">.</span><span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_diagonalizable_matrix</span><span class="p">(</span><span class="n">matrix_space</span><span class="p">)</span>

<span class="gp">sage: </span><span class="c1"># needs sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">eigenvalues</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">eigenvalues</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">right_eigenmatrix</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">eigenvalues2</span> <span class="o">=</span> <span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span><span class="o">*</span><span class="n">A</span><span class="o">*</span><span class="n">S</span><span class="p">)</span><span class="o">.</span><span class="n">diagonal</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">eigenvalues</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">eigenvalues2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A diagonalizable matrix with eigenvalues and dimensions designated,
with a check that if eigenvectors were calculated by hand
entries would all be integers.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">eigenvalues</span> <span class="o">=</span> <span class="p">[</span><span class="n">ZZ</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;diagonalizable&#39;</span><span class="p">,</span>
<span class="gp">....: </span>                  <span class="n">eigenvalues</span><span class="o">=</span><span class="n">eigenvalues</span><span class="p">,</span> <span class="n">dimensions</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">B</span><span class="o">-</span><span class="p">(</span><span class="o">-</span><span class="mi">12</span><span class="o">*</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">B</span><span class="o">-</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">B</span><span class="o">-</span><span class="p">(</span><span class="mi">6</span><span class="o">*</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="c1"># needs sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">right_eigenmatrix</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">eigenvalues2</span> <span class="o">=</span> <span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span><span class="o">*</span><span class="n">B</span><span class="o">*</span><span class="n">S</span><span class="p">)</span><span class="o">.</span><span class="n">diagonal</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">e</span> <span class="ow">in</span> <span class="n">eigenvalues</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">eigenvalues2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Modify the routine to allow for complex eigenvalues.</p>
</div>
<p>AUTHOR:</p>
<p>Billy Wonderly (2010-07)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.random_echelonizable_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">random_echelonizable_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_tries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.random_echelonizable_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as random_echelonizable_matrix(…) and matrix.random_echelonizable(…).</p>
<p>Generate a matrix of a desired size and rank, over a desired ring, whose reduced
row-echelon form has only integral values.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parent</span></code> – A matrix space specifying the base ring, dimensions and
representation (dense/sparse) for the result.  The base ring must be exact.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rank</span></code> – Rank of result, i.e the number of non-zero rows in the
reduced row echelon form.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">upper_bound</span></code> – If designated, size control of the matrix entries is desired.
Set <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code> to 1 more than the maximum value entries can achieve.
If None, no size control occurs. But see the warning below.  (default: None)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_tries</span></code> - If designated, number of tries used to generate each new random row;
only matters when upper_bound!=None. Used to prevent endless looping. (default: 100)</p></li>
</ul>
<p>OUTPUT:</p>
<p>A matrix not in reduced row-echelon form with the desired dimensions and properties.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code> is set, it is possible for this constructor to
fail with a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.  This may happen when the <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>,
<code class="docutils literal notranslate"><span class="pre">rank</span></code> and/or matrix dimensions are all so small that it becomes
infeasible or unlikely to create the requested matrix.  If you <em>must</em>
have this routine return successfully, do not set <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is easiest to use this function via a call to the
<code class="xref py py-func docutils literal notranslate"><span class="pre">random_matrix()</span></code>
function with the <code class="docutils literal notranslate"><span class="pre">algorithm='echelonizable'</span></code> keyword.  We provide
one example accessing this function directly, while the remainder will
use this more general function.</p>
</div>
<p>EXAMPLES:</p>
<p>Generated matrices have the desired dimensions, rank and entry size. The
matrix in reduced row-echelon form has only integer entries.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.constructor</span> <span class="kn">import</span> <span class="n">random_echelonizable_matrix</span>
<span class="gp">sage: </span><span class="n">matrix_space</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">matrix_space</span><span class="o">.</span><span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_echelonizable_matrix</span><span class="p">(</span><span class="n">matrix_space</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="nb">max</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">abs</span><span class="p">,</span><span class="n">A</span><span class="o">.</span><span class="n">list</span><span class="p">()))</span> <span class="o">&lt;</span> <span class="mi">40</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>An example with default settings (i.e. no entry size control).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;echelonizable&#39;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span> <span class="o">==</span> <span class="n">C</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A matrix without size control may have very large entry sizes.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;echelonizable&#39;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">6</span><span class="p">);</span> <span class="n">D</span>  <span class="c1"># random</span>
<span class="go">[    1     2     8   -35  -178  -239  -284   778]</span>
<span class="go">[    4     9    37  -163  -827 -1111 -1324  3624]</span>
<span class="go">[    5     6    21   -88  -454  -607  -708  1951]</span>
<span class="go">[   -4    -5   -22    97   491   656   779 -2140]</span>
<span class="go">[    4     4    13   -55  -283  -377  -436  1206]</span>
<span class="go">[    4    11    43  -194  -982 -1319 -1576  4310]</span>
<span class="go">[   -1    -2   -13    59   294   394   481 -1312]</span>
</pre></div>
</div>
<p>Matrices can be generated over any exact ring.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.finite_rings</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;echelonizable&#39;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="gp">....: </span>                  <span class="n">upper_bound</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span> <span class="ow">is</span> <span class="n">F</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Square matrices over ZZ or QQ with full rank are always unimodular.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;echelonizable&#39;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">det</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;echelonizable&#39;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">det</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>AUTHOR:</p>
<p>Billy Wonderly (2010-07)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.random_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">random_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nrows</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'randomize'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">implementation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.random_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as random_matrix(…) and matrix.random(…).</p>
<p>Return a random matrix with entries in a specified ring, and possibly with additional properties.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> – base ring for entries of the matrix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nrows</span></code> – Integer; number of rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ncols</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>); number of columns; if <code class="docutils literal notranslate"><span class="pre">None</span></code>
defaults to <code class="docutils literal notranslate"><span class="pre">nrows</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">algorithm</span></code> – (default: <code class="docutils literal notranslate"><span class="pre">randomize</span></code>); determines what properties
the matrix will have.  See examples below for possible additional
arguments.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">randomize</span></code> – create a matrix of random elements from the
base ring, possibly controlling the density of non-zero entries.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">echelon_form</span></code> – creates a matrix in echelon form</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">echelonizable</span></code> – creates a matrix that has a predictable
echelon form</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subspaces</span></code> – creates a matrix whose four subspaces, when
explored, have reasonably sized, integral valued, entries.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unimodular</span></code> – creates a matrix of determinant 1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">diagonalizable</span></code> – creates a diagonalizable matrix whose
eigenvectors, if computed by hand, will have only integer
entries.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">implementation</span></code> – (<code class="docutils literal notranslate"><span class="pre">None</span></code> or string or a matrix class) a possible
implementation. See the documentation of the constructor of
<a class="reference internal" href="matrix_space.html#sage.matrix.matrix_space.MatrixSpace" title="sage.matrix.matrix_space.MatrixSpace"><code class="xref py py-class docutils literal notranslate"><span class="pre">MatrixSpace</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*args,</span> <span class="pre">**kwds</span></code> – arguments and keywords to describe additional
properties. See more detailed documentation below.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Matrices generated are not uniformly distributed. For unimodular
matrices over finite field this function does not even generate
all of them: for example <code class="docutils literal notranslate"><span class="pre">Matrix.random(GF(3),</span> <span class="pre">2,</span> <span class="pre">algorithm='unimodular')</span></code>
never generates <code class="docutils literal notranslate"><span class="pre">[[2,0],[0,2]]</span></code>. This function is made for
teaching purposes.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>An upper bound on the absolute value of the entries may be set
when the <code class="docutils literal notranslate"><span class="pre">algorithm</span></code> is <code class="docutils literal notranslate"><span class="pre">echelonizable</span></code> or <code class="docutils literal notranslate"><span class="pre">unimodular</span></code>.
In these cases it is possible for this constructor to fail with
a <a class="reference external" href="https://docs.python.org/library/exceptions.html#ValueError" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValueError</span></code></a>.  If you <em>must</em> have this routine return
successfully, do not set <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>.  This behavior can
be partially controlled by a <code class="docutils literal notranslate"><span class="pre">max_tries</span></code> keyword.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When constructing matrices with random entries and no
additional properties (i.e. when <code class="docutils literal notranslate"><span class="pre">algorithm='randomize'</span></code>),
most of the randomness is controlled by the <code class="docutils literal notranslate"><span class="pre">random_element</span></code>
method for elements of the base ring of the matrix, so the
documentation of that method may be relevant or useful.</p>
</div>
<p>EXAMPLES:</p>
<p>Random integer matrices.  With no arguments, the majority of the entries
are zero, -1, and 1, and rarely “large.”</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="gp">sage: </span><span class="n">total_count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">dic</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">add_samples</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">global</span> <span class="n">dic</span><span class="p">,</span> <span class="n">total_count</span>
<span class="gp">....: </span>    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span><span class="o">.</span><span class="n">list</span><span class="p">():</span>
<span class="gp">....: </span>            <span class="n">dic</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">....: </span>            <span class="n">total_count</span> <span class="o">+=</span> <span class="mf">1.0</span>

<span class="gp">sage: </span><span class="n">expected</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span> <span class="p">:</span> <span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="nb">abs</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="k">if</span> <span class="n">n</span> <span class="o">!=</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span>
<span class="gp">sage: </span><span class="n">expected</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">1/5</span>
<span class="gp">sage: </span><span class="n">expected</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">expected</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">1/25250</span>
<span class="gp">sage: </span><span class="n">add_samples</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">dic</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">/</span><span class="n">total_count</span> <span class="o">-</span> <span class="n">expected</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mf">0.001</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">dic</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">add_samples</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">distribution</span></code> keyword  set to <code class="docutils literal notranslate"><span class="pre">uniform</span></code> will limit values
between -2 and 2.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">expected</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span> <span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">total_count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">dic</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">add_samples</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">distribution</span><span class="o">=</span><span class="s1">&#39;uniform&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">dic</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">/</span><span class="n">total_count</span> <span class="o">-</span> <span class="n">expected</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mf">0.001</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">dic</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">add_samples</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">distribution</span><span class="o">=</span><span class="s1">&#39;uniform&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> keywords can be used to distribute entries uniformly.
When both are used <code class="docutils literal notranslate"><span class="pre">x</span></code> is the minimum and <code class="docutils literal notranslate"><span class="pre">y</span></code> is one greater than
the maximum.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">expected</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span> <span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="mi">30</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">total_count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">dic</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">add_samples</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">dic</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">/</span><span class="n">total_count</span> <span class="o">-</span> <span class="n">expected</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mf">0.001</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">dic</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">add_samples</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">expected</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span> <span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="mi">10</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">total_count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">dic</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">add_samples</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">x</span><span class="o">=-</span><span class="mi">5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">dic</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">/</span><span class="n">total_count</span> <span class="o">-</span> <span class="n">expected</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mf">0.001</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">dic</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">add_samples</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">x</span><span class="o">=-</span><span class="mi">5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>If only <code class="docutils literal notranslate"><span class="pre">x</span></code> is given, then it is used as the upper bound of a range
starting at 0.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">expected</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">n</span> <span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="mi">25</span> <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">total_count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">dic</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">add_samples</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">dic</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">/</span><span class="n">total_count</span> <span class="o">-</span> <span class="n">expected</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mf">0.001</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">dic</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">add_samples</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
</pre></div>
</div>
<p>To control the number of nonzero entries, use the <code class="docutils literal notranslate"><span class="pre">density</span></code> keyword
at a value strictly below the default of 1.0.  The <code class="docutils literal notranslate"><span class="pre">density</span></code> keyword
is used to compute the number of entries per row that will be nonzero, but the
same entry may be selected more than once.  So the value provided will
be an upper bound for the density of the created matrix.  Note that for
a square matrix it is only necessary to set a single dimension.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">add_sample</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">global</span> <span class="n">density_sum</span><span class="p">,</span> <span class="n">total_count</span>
<span class="gp">....: </span>    <span class="n">total_count</span> <span class="o">+=</span> <span class="mf">1.0</span>
<span class="gp">....: </span>    <span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="n">density_sum</span> <span class="o">+=</span> <span class="nb">float</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">density</span><span class="p">())</span>

<span class="gp">sage: </span><span class="c1"># needs sage.libs.linbox (otherwise timeout)</span>
<span class="gp">sage: </span><span class="n">density_sum</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">sage: </span><span class="n">total_count</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">sage: </span><span class="n">add_sample</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span><span class="o">=-</span><span class="mi">10</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">expected_density</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">4</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">float</span><span class="p">(</span><span class="n">expected_density</span><span class="p">)</span>
<span class="go">0.488</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">density_sum</span><span class="o">/</span><span class="n">total_count</span> <span class="o">-</span> <span class="n">expected_density</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.001</span><span class="p">:</span>
<span class="gp">....: </span>    <span class="n">add_sample</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span><span class="o">=-</span><span class="mi">10</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>

<span class="gp">sage: </span><span class="c1"># needs sage.libs.linbox (otherwise timeout)</span>
<span class="gp">sage: </span><span class="n">density_sum</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">sage: </span><span class="n">total_count</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">sage: </span><span class="n">add_sample</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">density_sum</span><span class="o">/</span><span class="n">total_count</span> <span class="o">-</span> <span class="n">expected_density</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.001</span><span class="p">:</span>
<span class="gp">....: </span>    <span class="n">add_sample</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>

<span class="gp">sage: </span><span class="c1"># needs sage.libs.linbox (otherwise timeout)</span>
<span class="gp">sage: </span><span class="n">density_sum</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">sage: </span><span class="n">total_count</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">sage: </span><span class="n">add_sample</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">expected_density</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">99</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span><span class="o">^</span><span class="mi">75</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">float</span><span class="p">(</span><span class="n">expected_density</span><span class="p">)</span>
<span class="go">0.529...</span>
<span class="gp">sage: </span><span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">density_sum</span><span class="o">/</span><span class="n">total_count</span> <span class="o">-</span> <span class="n">expected_density</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.001</span><span class="p">:</span>
<span class="gp">....: </span>    <span class="n">add_sample</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
</pre></div>
</div>
<p>For a matrix with low density it may be advisable to insist on a sparse
representation, as this representation is not selected automatically.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>For algorithm testing you might want to control the number of bits,
say 10,000 entries, each limited to 16 bits.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.libs.linbox (otherwise timeout)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="o">^</span><span class="mi">16</span><span class="p">);</span> <span class="n">A</span>
<span class="go">100 x 100 dense matrix over Integer Ring (use the &#39;.str()&#39; method to see the entries)</span>
</pre></div>
</div>
<p>One can prescribe a specific matrix implementation:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">FiniteField</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="mi">8</span><span class="p">)</span>                                                  <span class="c1"># needs sage.rings.finite_rings</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>                                              <span class="c1"># needs sage.libs.m4ri sage.rings.finite_rings</span>
<span class="go">&lt;class &#39;sage.matrix.matrix_gf2e_dense.Matrix_gf2e_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">implementation</span><span class="o">=</span><span class="s2">&quot;generic&quot;</span><span class="p">))</span>                    <span class="c1"># needs sage.rings.finite_rings</span>
<span class="go">&lt;class &#39;sage.matrix.matrix_generic_dense.Matrix_generic_dense&#39;&gt;</span>
</pre></div>
</div>
<p>Random rational matrices.  Now <code class="docutils literal notranslate"><span class="pre">num_bound</span></code> and <code class="docutils literal notranslate"><span class="pre">den_bound</span></code> control the
generation of random elements, by specifying limits on the absolute value of
numerators and denominators (respectively).  Entries will be positive and
negative (map the absolute value function through the entries to get all
positive values).  If either the numerator or denominator bound (or both)
is not used, then the values default to <code class="docutils literal notranslate"><span class="pre">2</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">num_bound</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">den_bound</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">dimensions</span><span class="p">()</span>
<span class="go">(2, 8)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.matrix.matrix_rational_dense.Matrix_rational_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">numerator</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span> <span class="ow">and</span>
<span class="gp">....: </span>    <span class="n">a</span><span class="o">.</span><span class="n">denominator</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.matrix.matrix_rational_sparse.Matrix_rational_sparse&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">density</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mf">0.5</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">num_bound</span> <span class="o">=</span> <span class="mi">99</span><span class="p">,</span> <span class="n">den_bound</span> <span class="o">=</span> <span class="mi">99</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">positives</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">abs</span><span class="p">,</span> <span class="n">A</span><span class="o">.</span><span class="n">list</span><span class="p">()))</span>
<span class="gp">sage: </span><span class="n">A1</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">positives</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">list</span><span class="p">()[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="n">A1</span><span class="o">.</span><span class="n">list</span><span class="p">()[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">numerator</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="ow">and</span>
<span class="gp">....: </span>    <span class="n">a</span><span class="o">.</span><span class="n">denominator</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A1</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">den_bound</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">numerator</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">and</span>
<span class="gp">....: </span>    <span class="n">a</span><span class="o">.</span><span class="n">denominator</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">numerator</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">and</span>
<span class="gp">....: </span>    <span class="n">a</span><span class="o">.</span><span class="n">denominator</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">....: </span>    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Random matrices over other rings.  Several classes of matrices have specialized
<code class="docutils literal notranslate"><span class="pre">randomize()</span></code> methods.  You can locate these with the Sage command:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">search_def(&#39;randomize&#39;)</span>
</pre></div>
</div>
<p>The default implementation of <code class="xref py py-meth docutils literal notranslate"><span class="pre">randomize()</span></code> relies
on the <code class="docutils literal notranslate"><span class="pre">random_element()</span></code> method for the base ring.  The <code class="docutils literal notranslate"><span class="pre">density</span></code> and
<code class="docutils literal notranslate"><span class="pre">sparse</span></code> keywords behave as described above. Since we have a different
randomisation when using the optional meataxe package, we have to make sure
that we use the default implementation in this test:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">FiniteField</span><span class="p">(</span><span class="mi">3</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>                                                  <span class="c1"># needs sage.rings.finite_rings</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">implementation</span><span class="o">=</span><span class="s1">&#39;generic&#39;</span><span class="p">)</span>                      <span class="c1"># needs sage.rings.finite_rings</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.matrix.matrix_generic_dense.Matrix_generic_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span> <span class="ow">is</span> <span class="n">K</span>                                                        <span class="c1"># needs sage.rings.finite_rings</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">0.66</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.matrix.matrix_generic_dense.Matrix_generic_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span> <span class="ow">is</span> <span class="n">RR</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ComplexField</span><span class="p">(</span><span class="mi">32</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.matrix.matrix_generic_sparse.Matrix_generic_sparse&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span> <span class="ow">is</span> <span class="n">ComplexField</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Random matrices in echelon form.  The <code class="docutils literal notranslate"><span class="pre">algorithm='echelon_form'</span></code> keyword,
along with a requested number of non-zero rows (<code class="docutils literal notranslate"><span class="pre">num_pivots</span></code>) will return
a random matrix in echelon form.  When the base ring is <code class="docutils literal notranslate"><span class="pre">QQ</span></code> the result has integer
entries.  Other exact rings may be also specified.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;echelon_form&#39;</span><span class="p">,</span> <span class="n">num_pivots</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">nrows</span><span class="p">(),</span> <span class="n">A</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="go">(4, 8)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="ow">in</span> <span class="n">sage</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">matrix_space</span><span class="o">.</span><span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>For more, see the documentation of the <code class="xref py py-func docutils literal notranslate"><span class="pre">random_rref_matrix()</span></code>
function.  In the notebook or at the Sage command-line, first execute the following to make
this further documentation available:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.matrix.constructor import random_rref_matrix</span>
</pre></div>
</div>
<p>Random matrices with predictable echelon forms.  The <code class="docutils literal notranslate"><span class="pre">algorithm='echelonizable'</span></code>
keyword, along with a requested rank (<code class="docutils literal notranslate"><span class="pre">rank</span></code>) and optional size control
(<code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>) will return a random matrix in echelon form.  When the
base ring is <code class="docutils literal notranslate"><span class="pre">ZZ</span></code> or <code class="docutils literal notranslate"><span class="pre">QQ</span></code> the result has integer entries, whose magnitudes
can be limited by the value of <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>, and the echelon form of the
matrix also has integer entries.  Other exact rings may be also
specified, but there is no notion of controlling the size.  Square matrices
of full rank generated by this function always have determinant one, and
can be constructed with the <code class="docutils literal notranslate"><span class="pre">unimodular</span></code> keyword.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;echelonizable&#39;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">nrows</span><span class="p">(),</span> <span class="n">A</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="go">(4, 8)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="ow">in</span> <span class="n">sage</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">matrix_space</span><span class="o">.</span><span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">60</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">A</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span> <span class="ow">in</span> <span class="n">sage</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">matrix_space</span><span class="o">.</span><span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>For more, see the documentation of the <code class="xref py py-func docutils literal notranslate"><span class="pre">random_echelonizable_matrix()</span></code>
function.  In the notebook or at the Sage command-line, first execute the following to make
this further documentation available:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.matrix.constructor import random_echelonizable_matrix</span>
</pre></div>
</div>
<p>Random diagonalizable matrices.  The <code class="docutils literal notranslate"><span class="pre">algorithm='diagonalizable'</span></code> keyword,
along with a requested matrix size (<code class="docutils literal notranslate"><span class="pre">size</span></code>) and optional lists of
eigenvalues (<code class="docutils literal notranslate"><span class="pre">eigenvalues</span></code>) and the corresponding eigenspace
dimensions (<code class="docutils literal notranslate"><span class="pre">dimensions</span></code>) will return a random diagonalizable matrix.
When the eigenvalues and dimensions are not specified the result will have
randomly generated values for both that fit with the designated size.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;diagonalizable&#39;</span><span class="p">,</span>  <span class="c1"># random</span>
<span class="gp">....: </span>                  <span class="n">eigenvalues</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">dimensions</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">A</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">A</span> <span class="o">-</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">5</span><span class="p">)))</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">A</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">A</span> <span class="o">-</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">jordan_form</span><span class="p">()</span>                                                           <span class="c1"># needs sage.combinat sage.libs.pari</span>
<span class="go">[ 2| 0| 0| 0| 0]</span>
<span class="go">[--+--+--+--+--]</span>
<span class="go">[ 0| 3| 0| 0| 0]</span>
<span class="go">[--+--+--+--+--]</span>
<span class="go">[ 0| 0| 3| 0| 0]</span>
<span class="go">[--+--+--+--+--]</span>
<span class="go">[ 0| 0| 0|-1| 0]</span>
<span class="go">[--+--+--+--+--]</span>
<span class="go">[ 0| 0| 0| 0|-1]</span>
</pre></div>
</div>
<p>For more, see the documentation of the <code class="xref py py-func docutils literal notranslate"><span class="pre">random_diagonalizable_matrix()</span></code>
function.  In the notebook or at the Sage command-line, first execute the following to make
this further documentation available:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.matrix.constructor import random_diagonalizable_matrix</span>
</pre></div>
</div>
<p>Random matrices with predictable subspaces.  The <code class="docutils literal notranslate"><span class="pre">algorithm='subspaces'</span></code>
keyword, along with an optional rank (<code class="docutils literal notranslate"><span class="pre">rank</span></code>) will return
a matrix whose natural basis vectors for its four fundamental subspaces, if computed as
described in the documentation of the <code class="xref py py-func docutils literal notranslate"><span class="pre">random_subspaces_matrix()</span></code>
contain only integer entries.  If <code class="docutils literal notranslate"><span class="pre">rank</span></code>, is not set, the
rank of the matrix will be generated randomly.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;subspaces&#39;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">B</span>  <span class="c1"># random</span>
<span class="gp">sage: </span><span class="n">B_expanded</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">nrows</span><span class="p">(),</span> <span class="n">B</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="go">(5, 6)</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">B_expanded</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">B_expanded</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">B</span><span class="o">.</span><span class="n">nrows</span><span class="p">()</span> <span class="o">-</span> <span class="n">B</span><span class="o">.</span><span class="n">nullity</span><span class="p">(),</span> <span class="n">B</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">B_expanded</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">nrows</span><span class="p">()</span> <span class="o">-</span> <span class="n">B</span><span class="o">.</span><span class="n">nullity</span><span class="p">(),</span> <span class="n">B</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">right_kernel</span><span class="p">()</span> <span class="o">==</span> <span class="n">C</span><span class="o">.</span><span class="n">right_kernel</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">row_space</span><span class="p">()</span> <span class="o">==</span> <span class="n">C</span><span class="o">.</span><span class="n">row_space</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">column_space</span><span class="p">()</span> <span class="o">==</span> <span class="n">L</span><span class="o">.</span><span class="n">right_kernel</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">left_kernel</span><span class="p">()</span> <span class="o">==</span> <span class="n">L</span><span class="o">.</span><span class="n">row_space</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>For more, see the documentation of the <code class="xref py py-func docutils literal notranslate"><span class="pre">random_subspaces_matrix()</span></code>
function.  In the notebook or at the Sage command-line, first execute the following to make
this further documentation available:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.matrix.constructor import random_subspaces_matrix</span>
</pre></div>
</div>
<p>Random unimodular matrices.  The <code class="docutils literal notranslate"><span class="pre">algorithm='unimodular'</span></code>
keyword, along with an optional entry size control (<code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>)
will return a matrix of determinant 1. When the base ring is <code class="docutils literal notranslate"><span class="pre">ZZ</span></code>
or <code class="docutils literal notranslate"><span class="pre">QQ</span></code> the result has integer entries, whose magnitudes
can be limited by the value of <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;unimodular&#39;</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">70</span><span class="p">);</span> <span class="n">C</span>  <span class="c1"># random</span>
<span class="gp">sage: </span><span class="n">det</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">nrows</span><span class="p">(),</span> <span class="n">C</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="go">(5, 5)</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">70</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">C</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p>For more, see the documentation of the <code class="xref py py-func docutils literal notranslate"><span class="pre">random_unimodular_matrix()</span></code>
function.  In the notebook or at the Sage command-line, first execute the following to make
this further documentation available:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">from sage.matrix.constructor import random_unimodular_matrix</span>
</pre></div>
</div>
<p>AUTHOR:</p>
<ul class="simple">
<li><p>William Stein (2007-02-06)</p></li>
<li><p>Rob Beezer (2010-08-25) Documentation, code to allow additional types of output</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.random_rref_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">random_rref_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_pivots</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.random_rref_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as random_rref_matrix(…) and matrix.random_rref(…).</p>
<p>Generate a matrix in reduced row-echelon form with a specified number of non-zero rows.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parent</span></code> – A matrix space specifying the base ring, dimensions and
representation (dense/sparse) for the result.  The base ring must be exact.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_pivots</span></code> – The number of non-zero rows in the result, i.e. the rank.</p></li>
</ul>
<p>OUTPUT:</p>
<p>A matrix in reduced row echelon form with <code class="docutils literal notranslate"><span class="pre">num_pivots</span></code> non-zero rows. If the
base ring is <span class="math notranslate nohighlight">\(ZZ\)</span> or <span class="math notranslate nohighlight">\(QQ\)</span> then the entries are all integers.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is easiest to use this function via a call to the
<code class="xref py py-func docutils literal notranslate"><span class="pre">random_matrix()</span></code>
function with the <code class="docutils literal notranslate"><span class="pre">algorithm='echelon_form'</span></code> keyword.  We provide
one example accessing this function directly, while the remainder will
use this more general function.</p>
</div>
<p>EXAMPLES:</p>
<p>Matrices generated are in reduced row-echelon form with specified rank. If the
base ring is <span class="math notranslate nohighlight">\(QQ\)</span> the result has only integer entries.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.constructor</span> <span class="kn">import</span> <span class="n">random_rref_matrix</span>
<span class="gp">sage: </span><span class="n">matrix_space</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">matrix_space</span><span class="o">.</span><span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_rref_matrix</span><span class="p">(</span><span class="n">matrix_space</span><span class="p">,</span> <span class="n">num_pivots</span><span class="o">=</span><span class="mi">4</span><span class="p">);</span> <span class="n">A</span>  <span class="c1"># random</span>
<span class="go">[ 1  0  0 -6  0 -3]</span>
<span class="go">[ 0  1  0  2  0  3]</span>
<span class="go">[ 0  0  1 -4  0 -2]</span>
<span class="go">[ 0  0  0  0  1  3]</span>
<span class="go">[ 0  0  0  0  0  0]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">nrows</span><span class="p">(),</span> <span class="n">A</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="go">(5, 6)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="ow">in</span> <span class="n">sage</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">matrix_space</span><span class="o">.</span><span class="n">MatrixSpace</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Matrices can be generated over other exact rings.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">FiniteField</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span>  <span class="c1"># random</span>
<span class="gp">....: </span>                  <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;echelon_form&#39;</span><span class="p">,</span> <span class="n">num_pivots</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">B</span>
<span class="go">[1 0 0 0]</span>
<span class="go">[0 1 0 6]</span>
<span class="go">[0 0 1 1]</span>
<span class="go">[0 0 0 0]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Finite Field of size 7</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">==</span> <span class="n">B</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>AUTHOR:</p>
<p>Billy Wonderly (2010-07)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.random_subspaces_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">random_subspaces_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.random_subspaces_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as random_subspaces_matrix(…) and matrix.random_subspaces(…).</p>
<p>Create a matrix of the designated size and rank whose right and
left null spaces, column space, and row space have desirable
properties that simplify the subspaces.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parent</span></code> - A matrix space specifying the base ring, dimensions, and
representation (dense/sparse) for the result.  The base ring must be exact.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rank</span></code> - The desired rank of the return matrix (default: None).</p></li>
</ul>
<p>OUTPUT:</p>
<p>A matrix whose natural basis vectors for its four subspaces, when
computed, have reasonably sized, integral valued, entries.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is easiest to use this function via a call to the
<code class="xref py py-func docutils literal notranslate"><span class="pre">random_matrix()</span></code>
function with the <code class="docutils literal notranslate"><span class="pre">algorithm='subspaces'</span></code> keyword.  We provide
one example accessing this function directly, while the remainder will
use this more general function.</p>
</div>
<p>EXAMPLES:</p>
<p>A 6x8 matrix with designated rank of 3.  The four subspaces are
determined using one simple routine in which we augment the
original matrix with the equal row dimension identity matrix.  The
resulting matrix is then put in reduced row-echelon form and the
subspaces can then be determined by analyzing subdivisions of this
matrix. See the four subspaces routine in <a class="reference internal" href="../../../references/index.html#bee" id="id2"><span>[Bee]</span></a> for more.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.constructor</span> <span class="kn">import</span> <span class="n">random_subspaces_matrix</span>
<span class="gp">sage: </span><span class="n">matrix_space</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">matrix_space</span><span class="o">.</span><span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">random_subspaces_matrix</span><span class="p">(</span><span class="n">matrix_space</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">nullity</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">nrows</span><span class="p">(),</span> <span class="n">B</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="go">(6, 8)</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">B</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B_expanded</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">B_expanded</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Check that we fixed <a class="reference external" href="https://github.com/sagemath/sage/issues/10543">github issue #10543</a> (echelon forms should be immutable):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B_expanded</span><span class="o">.</span><span class="n">is_immutable</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We want to modify B_expanded, so replace it with a copy:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B_expanded</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">B_expanded</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B_expanded</span><span class="o">.</span><span class="n">subdivide</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">nrows</span><span class="p">()</span><span class="o">-</span><span class="n">B</span><span class="o">.</span><span class="n">nullity</span><span class="p">(),</span> <span class="n">B</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">B_expanded</span><span class="o">.</span><span class="n">subdivision</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">B_expanded</span><span class="o">.</span><span class="n">subdivision</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">right_kernel</span><span class="p">()</span> <span class="o">==</span> <span class="n">C</span><span class="o">.</span><span class="n">right_kernel</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">row_space</span><span class="p">()</span> <span class="o">==</span> <span class="n">C</span><span class="o">.</span><span class="n">row_space</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">column_space</span><span class="p">()</span> <span class="o">==</span> <span class="n">L</span><span class="o">.</span><span class="n">right_kernel</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">left_kernel</span><span class="p">()</span> <span class="o">==</span> <span class="n">L</span><span class="o">.</span><span class="n">row_space</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A matrix to show that the null space of the L matrix is the column space of the starting matrix.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;subspaces&#39;</span><span class="p">,</span> <span class="n">rank</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">nrows</span><span class="p">(),</span> <span class="n">A</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="go">(5, 7)</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">A</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A_expanded</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">rref</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">A_expanded</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">A_expanded</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">A</span><span class="o">.</span><span class="n">nrows</span><span class="p">()</span> <span class="o">-</span> <span class="n">A</span><span class="o">.</span><span class="n">nullity</span><span class="p">(),</span> <span class="n">A</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">A_expanded</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">nrows</span><span class="p">()</span> <span class="o">-</span> <span class="n">A</span><span class="o">.</span><span class="n">nullity</span><span class="p">(),</span> <span class="n">A</span><span class="o">.</span><span class="n">ncols</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">right_kernel</span><span class="p">()</span> <span class="o">==</span> <span class="n">C</span><span class="o">.</span><span class="n">right_kernel</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">row_space</span><span class="p">()</span> <span class="o">==</span> <span class="n">C</span><span class="o">.</span><span class="n">row_space</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">column_space</span><span class="p">()</span> <span class="o">==</span> <span class="n">L</span><span class="o">.</span><span class="n">right_kernel</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">left_kernel</span><span class="p">()</span> <span class="o">==</span> <span class="n">L</span><span class="o">.</span><span class="n">row_space</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>AUTHOR:</p>
<p>Billy Wonderly (2010-07)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.random_unimodular_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">random_unimodular_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_tries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.random_unimodular_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as random_unimodular_matrix(…) and matrix.random_unimodular(…).</p>
<p>Generate a random unimodular (determinant 1) matrix of a desired size over a desired ring.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parent</span></code> - A matrix space specifying the base ring, dimensions
and representation (dense/sparse) for the result.  The base ring
must be exact.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">upper_bound</span></code> - For large matrices over QQ or ZZ,
<code class="docutils literal notranslate"><span class="pre">upper_bound</span></code> is the largest value matrix entries can achieve.  But
see the warning below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_tries</span></code> - If designated, number of tries used to generate each new random row;
only matters when upper_bound!=None. Used to prevent endless looping. (default: 100)</p></li>
</ul>
<p>A matrix not in reduced row-echelon form with the desired dimensions and properties.</p>
<p>OUTPUT:</p>
<p>An invertible matrix with the desired properties and determinant 1.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code> is set, it is possible for this constructor to
fail with a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>.  This may happen when the <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>,
<code class="docutils literal notranslate"><span class="pre">rank</span></code> and/or matrix dimensions are all so small that it becomes
infeasible or unlikely to create the requested matrix.  If you <em>must</em>
have this routine return successfully, do not set <code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is easiest to use this function via a call to the
<code class="xref py py-func docutils literal notranslate"><span class="pre">random_matrix()</span></code>
function with the <code class="docutils literal notranslate"><span class="pre">algorithm='unimodular'</span></code> keyword.  We provide
one example accessing this function directly, while the remainder will
use this more general function.</p>
</div>
<p>EXAMPLES:</p>
<p>A matrix size 5 over QQ.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.constructor</span> <span class="kn">import</span> <span class="n">random_unimodular_matrix</span>
<span class="gp">sage: </span><span class="n">matrix_space</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">matrix_space</span><span class="o">.</span><span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_unimodular_matrix</span><span class="p">(</span><span class="n">matrix_space</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">det</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>A matrix size 6 with entries no larger than 50.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;unimodular&#39;</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">det</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">50</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">B</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A matrix over the number Field in <span class="math notranslate nohighlight">\(y\)</span> with defining polynomial <span class="math notranslate nohighlight">\(y^2-2y-2\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.rings.number_field</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;unimodular&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">det</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span> <span class="ow">is</span> <span class="n">K</span>
<span class="go">True</span>
</pre></div>
</div>
<p>AUTHOR:</p>
<p>Billy Wonderly (2010-07)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.toeplitz">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">toeplitz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.toeplitz" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as toeplitz(…) and matrix.toeplitz(…).</p>
<p>Return a Toeplitz matrix of given first column and first row.</p>
<p>In a Toeplitz matrix, each descending diagonal from left to right is
constant, such that:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[T_{i,j} = T_{i+1, j+1}.\]</div>
</div>
<p>For more information see the <a class="reference external" href="https://en.wikipedia.org/wiki/Toeplitz_matrix">Wikipedia article Toeplitz_matrix</a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">c</span></code> – vector, first column of the Toeplitz matrix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code> – vector, first row of the Toeplitz matrix, counting from the
second column</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> – base ring (optional, default: None) of the resulting matrix</p></li>
</ul>
<p>EXAMPLES:</p>
<p>A rectangular Toeplitz matrix:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">toeplitz</span><span class="p">([</span><span class="mf">1..4</span><span class="p">],</span> <span class="p">[</span><span class="mf">5..6</span><span class="p">])</span>
<span class="go">[1 5 6]</span>
<span class="go">[2 1 5]</span>
<span class="go">[3 2 1]</span>
<span class="go">[4 3 2]</span>
</pre></div>
</div>
<p>The following <span class="math notranslate nohighlight">\(N\times N\)</span> Toeplitz matrix arises in the discretization of
boundary value problems:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">toeplitz</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[-2  1  0  0]</span>
<span class="go">[ 1 -2  1  0]</span>
<span class="go">[ 0  1 -2  1]</span>
<span class="go">[ 0  0  1 -2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.vandermonde">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">vandermonde</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.vandermonde" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as vandermonde(…) and matrix.vandermonde(…).</p>
<p>Return a Vandermonde matrix of the given vector.</p>
<p>The <span class="math notranslate nohighlight">\(n\)</span> dimensional Vandermonde matrix is a square matrix with columns
being the powers of a given vector <span class="math notranslate nohighlight">\(v\)</span>,</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[V_{ij} = v_i^{j-1},\qquad i, j = 1,\ldots, n.\]</div>
</div>
<p>For more information see the <a class="reference external" href="https://en.wikipedia.org/wiki/Vandermonde_matrix">Wikipedia article Vandermonde_matrix</a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code> – vector, the second column of the Vandermonde matrix</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> – base ring (optional, default: None) of the resulting matrix</p></li>
</ul>
<p>EXAMPLES:</p>
<p>A Vandermonde matrix of order three over the symbolic ring:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">vandermonde</span><span class="p">(</span><span class="n">SR</span><span class="o">.</span><span class="n">var</span><span class="p">([</span><span class="s1">&#39;x0&#39;</span><span class="p">,</span> <span class="s1">&#39;x1&#39;</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">]))</span>                            <span class="c1"># needs sage.symbolic</span>
<span class="go">[   1   x0 x0^2]</span>
<span class="go">[   1   x1 x1^2]</span>
<span class="go">[   1   x2 x2^2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.vector_on_axis_rotation_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">vector_on_axis_rotation_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.vector_on_axis_rotation_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as vector_on_axis_rotation_matrix(…) and matrix.vector_on_axis_rotation(…).</p>
<p>Return a rotation matrix <span class="math notranslate nohighlight">\(M\)</span> such that <span class="math notranslate nohighlight">\(det(M)=1\)</span> sending the vector
<span class="math notranslate nohighlight">\(v\)</span> on the i-th axis so that all other coordinates of <span class="math notranslate nohighlight">\(Mv\)</span> are zero.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Such a matrix is not uniquely determined. This function returns one
such matrix.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code> – vector</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code> – integer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ring</span></code> – ring (optional, default: <code class="docutils literal notranslate"><span class="pre">None</span></code>) of the resulting matrix</p></li>
</ul>
<p>OUTPUT:</p>
<p>A matrix</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.constructor</span> <span class="kn">import</span> <span class="n">vector_on_axis_rotation_matrix</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">vector_on_axis_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>                                  <span class="c1"># needs sage.symbolic</span>
<span class="go">(0, 0, sqrt(14))</span>
<span class="gp">sage: </span><span class="n">vector_on_axis_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>                                  <span class="c1"># needs sage.symbolic</span>
<span class="go">(0, sqrt(14), 0)</span>
<span class="gp">sage: </span><span class="n">vector_on_axis_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>                                  <span class="c1"># needs sage.symbolic</span>
<span class="go">(sqrt(14), 0, 0)</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="c1"># needs sage.symbolic</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">vector_on_axis_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">[ y/sqrt(x^2 + y^2) -x/sqrt(x^2 + y^2)]</span>
<span class="go">[ x/sqrt(x^2 + y^2)  y/sqrt(x^2 + y^2)]</span>
<span class="gp">sage: </span><span class="n">vector_on_axis_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">[ x/sqrt(x^2 + y^2)  y/sqrt(x^2 + y^2)]</span>
<span class="go">[-y/sqrt(x^2 + y^2)  x/sqrt(x^2 + y^2)]</span>
<span class="gp">sage: </span><span class="n">vector_on_axis_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>
<span class="go">(x^2/sqrt(x^2 + y^2) + y^2/sqrt(x^2 + y^2), 0)</span>
<span class="gp">sage: </span><span class="n">vector_on_axis_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>
<span class="go">(0, x^2/sqrt(x^2 + y^2) + y^2/sqrt(x^2 + y^2))</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">vector_on_axis_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span>                                  <span class="c1"># needs sage.symbolic</span>
<span class="go">(sqrt(30), 0, 0, 0)</span>
<span class="gp">sage: </span><span class="n">vector_on_axis_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ring</span><span class="o">=</span><span class="n">RealField</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="go">[ 0.18  0.37  0.55  0.73]</span>
<span class="go">[-0.98 0.068  0.10  0.14]</span>
<span class="go">[ 0.00 -0.93  0.22  0.30]</span>
<span class="go">[ 0.00  0.00 -0.80  0.60]</span>
<span class="gp">sage: </span><span class="n">vector_on_axis_rotation_matrix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ring</span><span class="o">=</span><span class="n">RealField</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> <span class="o">*</span> <span class="n">v</span>
<span class="go">(5.5, 0.00..., 0.00..., 0.00...)</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<p>Sébastien Labbé (April 2010)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.matrix.special.zero_matrix">
<span class="sig-prename descclassname"><span class="pre">sage.matrix.special.</span></span><span class="sig-name descname"><span class="pre">zero_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nrows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sparse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.matrix.special.zero_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>This function is available as zero_matrix(…) and matrix.zero(…).</p>
<p>Return the <span class="math notranslate nohighlight">\(nrows \times ncols\)</span> zero matrix over the given
ring.</p>
<p>The default ring is the integers.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">zero_matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="n">M</span>
<span class="go">[0 0]</span>
<span class="go">[0 0]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Rational Field</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">zero_matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="n">M</span>
<span class="go">[0 0 0]</span>
<span class="go">[0 0 0]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 3 dense matrices over Integer Ring</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_mutable</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">zero_matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span> <span class="n">M</span>
<span class="go">[0]</span>
<span class="go">[0]</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 1 sparse matrices over Integer Ring</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">is_mutable</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="o">.</span><span class="n">zero</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">[0 0 0 0 0]</span>
<span class="go">[0 0 0 0 0]</span>
<span class="go">[0 0 0 0 0]</span>
<span class="go">[0 0 0 0 0]</span>
<span class="go">[0 0 0 0 0]</span>
</pre></div>
</div>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="args.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Helpers for creating matrices</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="constructor.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">General matrix Constructor and display options</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2023, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Constructors for special matrices</a><ul>
<li><a class="reference internal" href="#sage.matrix.special.block_diagonal_matrix"><code class="docutils literal notranslate"><span class="pre">block_diagonal_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.block_matrix"><code class="docutils literal notranslate"><span class="pre">block_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.circulant"><code class="docutils literal notranslate"><span class="pre">circulant()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.column_matrix"><code class="docutils literal notranslate"><span class="pre">column_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.companion_matrix"><code class="docutils literal notranslate"><span class="pre">companion_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.diagonal_matrix"><code class="docutils literal notranslate"><span class="pre">diagonal_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.elementary_matrix"><code class="docutils literal notranslate"><span class="pre">elementary_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.hankel"><code class="docutils literal notranslate"><span class="pre">hankel()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.hilbert"><code class="docutils literal notranslate"><span class="pre">hilbert()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.identity_matrix"><code class="docutils literal notranslate"><span class="pre">identity_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.ith_to_zero_rotation_matrix"><code class="docutils literal notranslate"><span class="pre">ith_to_zero_rotation_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.jordan_block"><code class="docutils literal notranslate"><span class="pre">jordan_block()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.lehmer"><code class="docutils literal notranslate"><span class="pre">lehmer()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.matrix_method"><code class="docutils literal notranslate"><span class="pre">matrix_method()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.ones_matrix"><code class="docutils literal notranslate"><span class="pre">ones_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.random_diagonalizable_matrix"><code class="docutils literal notranslate"><span class="pre">random_diagonalizable_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.random_echelonizable_matrix"><code class="docutils literal notranslate"><span class="pre">random_echelonizable_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.random_matrix"><code class="docutils literal notranslate"><span class="pre">random_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.random_rref_matrix"><code class="docutils literal notranslate"><span class="pre">random_rref_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.random_subspaces_matrix"><code class="docutils literal notranslate"><span class="pre">random_subspaces_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.random_unimodular_matrix"><code class="docutils literal notranslate"><span class="pre">random_unimodular_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.toeplitz"><code class="docutils literal notranslate"><span class="pre">toeplitz()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.vandermonde"><code class="docutils literal notranslate"><span class="pre">vandermonde()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.vector_on_axis_rotation_matrix"><code class="docutils literal notranslate"><span class="pre">vector_on_axis_rotation_matrix()</span></code></a></li>
<li><a class="reference internal" href="#sage.matrix.special.zero_matrix"><code class="docutils literal notranslate"><span class="pre">zero_matrix()</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"ZZ": "\\Bold{Z}", "NN": "\\Bold{N}", "RR": "\\Bold{R}", "CC": "\\Bold{C}", "QQ": "\\Bold{Q}", "QQbar": "\\overline{\\QQ}", "GF": ["\\Bold{F}_{#1}", 1], "Zp": ["\\Bold{Z}_{#1}", 1], "Qp": ["\\Bold{Q}_{#1}", 1], "Zmod": ["\\ZZ/#1\\ZZ", 1], "CDF": "\\Bold{C}", "CIF": "\\Bold{C}", "CLF": "\\Bold{C}", "RDF": "\\Bold{R}", "RIF": "\\Bold{I} \\Bold{R}", "RLF": "\\Bold{R}", "SL": "\\mathrm{SL}", "PSL": "\\mathrm{PSL}", "lcm": "\\mathop{\\operatorname{lcm}}", "Bold": ["\\mathbf{#1}", 1]}, "inlineMath": [["$", "$"], ["\\(", "\\)"]], "maxBuffer": 51200, "autoload": {"color": [], "colorv2": ["color"]}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script src="../../../_static/jupyter-sphinx-furo.js"></script>
    </body>
</html>