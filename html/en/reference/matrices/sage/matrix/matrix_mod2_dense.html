<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Dense matrices over GF(2) using the M4RI library. &mdash; Sage Reference Manual v7.1: Matrices and Spaces of Matrices</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.1: Matrices and Spaces of Matrices" href="../../index.html" />
    <link rel="next" title="Dense matrices over \(\GF{2^e}\) for \(2 &lt;= e &lt;= 10\) using the M4RIE library." href="matrix_gf2e_dense.html" />
    <link rel="prev" title="Sparse integer matrices." href="matrix_integer_sparse.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="matrix_gf2e_dense.html" title="Dense matrices over \(\GF{2^e}\) for \(2 &lt;= e &lt;= 10\) using the M4RIE library."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="matrix_integer_sparse.html" title="Sparse integer matrices."
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Matrices and Spaces of Matrices</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="dense-matrices-over-gf-2-using-the-m4ri-library">
<span id="sage-matrix-matrix-mod2-dense"></span><h1>Dense matrices over GF(2) using the M4RI library.<a class="headerlink" href="#dense-matrices-over-gf-2-using-the-m4ri-library" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.matrix.matrix_mod2_dense"></span><p>AUTHOR: Martin Albrecht &lt;<a class="reference external" href="mailto:malb&#37;&#52;&#48;informatik&#46;uni-bremen&#46;de">malb<span>&#64;</span>informatik<span>&#46;</span>uni-bremen<span>&#46;</span>de</a>&gt;</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span><span class="n">sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">);</span> <span class="n">a</span>
<span class="go">[0 1 0]</span>
<span class="go">[1 0 1]</span>
<span class="go">[0 1 0]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.matrix.matrix_mod2_dense.Matrix_mod2_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">Full MatrixSpace of 3 by 3 dense matrices over Finite Field of size 2</span>

<span class="gp">sage: </span><span class="n">a</span><span class="o">^</span><span class="mi">2</span>
<span class="go">[0 1 1]</span>
<span class="go">[1 0 0]</span>
<span class="go">[1 0 1]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">+</span><span class="n">a</span>
<span class="go">[0 0 0]</span>
<span class="go">[0 0 0]</span>
<span class="go">[0 0 0]</span>

<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">new_matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span> <span class="n">b</span>
<span class="go">[0 1 0]</span>
<span class="go">[1 0 1]</span>

<span class="gp">sage: </span><span class="n">a</span><span class="o">*</span><span class="n">b</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">unsupported operand parent(s) for &#39;*&#39;: &#39;Full MatrixSpace of 3 by 3 dense matrices over Finite Field of size 2&#39; and &#39;Full MatrixSpace of 2 by 3 dense matrices over Finite Field of size 2&#39;</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">*</span><span class="n">a</span>
<span class="go">[1 0 1]</span>
<span class="go">[1 0 0]</span>

<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">echelonize</span><span class="p">();</span> <span class="n">a</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 0 1]</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">echelonize</span><span class="p">();</span> <span class="n">b</span>
<span class="go">[1 0 1]</span>
<span class="go">[0 1 0]</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">FF</span> <span class="o">=</span> <span class="n">FiniteField</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">FF</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">V</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]);</span> <span class="n">v</span>
<span class="go">(0, 1)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([</span><span class="n">v</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">Vector space of degree 2 and dimension 1 over Finite Field of size 2</span>
<span class="go">Basis matrix:</span>
<span class="go">[0 1]</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="ow">in</span> <span class="n">W</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">row_space</span><span class="p">()</span>
<span class="go">Vector space of degree 3 and dimension 2 over Finite Field of size 2</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 0]</span>

<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">row_space</span><span class="p">()</span>
<span class="go">Vector space of degree 3 and dimension 2 over Finite Field of size 2</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1 0]</span>
<span class="go">[0 0 1]</span>
</pre></div>
</div>
<p>TODO:</p>
<ul>
<li><p class="first">make LinBox frontend and use it</p>
<blockquote>
<div><ul class="simple">
<li>charpoly ?</li>
<li>minpoly ?</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">make Matrix_modn_frontend and use it (?)</p>
</li>
</ul>
<dl class="class">
<dt id="sage.matrix.matrix_mod2_dense.Matrix_mod2_dense">
<em class="property">class </em><tt class="descclassname">sage.matrix.matrix_mod2_dense.</tt><tt class="descname">Matrix_mod2_dense</tt><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.Matrix_mod2_dense" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="matrix_dense.html#sage.matrix.matrix_dense.Matrix_dense" title="sage.matrix.matrix_dense.Matrix_dense"><tt class="xref py py-class docutils literal"><span class="pre">sage.matrix.matrix_dense.Matrix_dense</span></tt></a></p>
<p>Dense matrix over GF(2).</p>
<dl class="method">
<dt id="sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.augment">
<tt class="descname">augment</tt><big>(</big><em>right</em>, <em>subdivide=False</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.augment" title="Permalink to this definition">¶</a></dt>
<dd><p>Augments <tt class="docutils literal"><span class="pre">self</span></tt> with <tt class="docutils literal"><span class="pre">right</span></tt>.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">MS</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">MS</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]);</span> <span class="n">A</span>
<span class="go">[0 1 0]</span>
<span class="go">[1 1 0]</span>
<span class="go">[1 1 1]</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">MS</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span> <span class="n">B</span>
<span class="go">[0 1 0 1 0 0]</span>
<span class="go">[1 1 0 0 1 0]</span>
<span class="go">[1 1 1 0 0 1]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">echelonize</span><span class="p">();</span> <span class="n">B</span>
<span class="go">[1 0 0 1 1 0]</span>
<span class="go">[0 1 0 1 0 0]</span>
<span class="go">[0 0 1 0 1 1]</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">matrix_from_columns</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]);</span> <span class="n">C</span>
<span class="go">[1 1 0]</span>
<span class="go">[1 0 0]</span>
<span class="go">[0 1 1]</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">==</span> <span class="o">~</span><span class="n">A</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">*</span><span class="n">A</span> <span class="o">==</span> <span class="n">MS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A vector may be augmented to a matrix.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">[0 1 0 1 0]</span>
<span class="go">[0 1 0 1 1]</span>
<span class="go">[0 1 0 1 0]</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">subdivide</span></tt> option will add a natural subdivision between
<tt class="docutils literal"><span class="pre">self</span></tt> and <tt class="docutils literal"><span class="pre">right</span></tt>.  For more details about how subdivisions
are managed when augmenting, see
<a class="reference internal" href="matrix1.html#sage.matrix.matrix1.Matrix.augment" title="sage.matrix.matrix1.Matrix.augment"><tt class="xref py py-meth docutils literal"><span class="pre">sage.matrix.matrix1.Matrix.augment()</span></tt></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">subdivide</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[0 1 0 1 0|0 1 0]</span>
<span class="go">[1 0 1 0 1|1 0 1]</span>
<span class="go">[0 1 0 1 0|0 1 0]</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 1 1]</span>

<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 1 1]</span>

<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">ncols</span><span class="p">()</span>
<span class="go">19</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Check that <a class="reference external" href="http://trac.sagemath.org/19165">trac ticket #19165</a> is solved:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="go">[0 1 0 1]</span>
<span class="go">[0 1 0 1]</span>

<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">right must either be a matrix or a vector. Not</span>
<span class="go">&lt;type &#39;sage.rings.integer.Integer&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.density">
<tt class="descname">density</tt><big>(</big><em>approx=False</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.density" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the density of this matrix.</p>
<p>By density we understand the ration of the number of nonzero
positions and the self.nrows() * self.ncols(), i.e. the number
of possible nonzero positions.</p>
<p>INPUT:</p>
<ul class="simple">
<li>approx &#8211; return floating point approximation (default: False)</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">density</span><span class="p">();</span> <span class="n">d</span>
<span class="go">62483/125000</span>

<span class="gp">sage: </span><span class="nb">float</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">0.499864</span>

<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">density</span><span class="p">(</span><span class="n">approx</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">0.499864000...</span>

<span class="gp">sage: </span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">nonzero_positions</span><span class="p">())</span><span class="o">/</span><span class="mi">1000</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">0.499864</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.determinant">
<tt class="descname">determinant</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.determinant" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the determinant of this matrix over GF(2).</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">determinant</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">determinant</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.echelonize">
<tt class="descname">echelonize</tt><big>(</big><em>algorithm='heuristic'</em>, <em>cutoff=0</em>, <em>reduced=True</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.echelonize" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts self in (reduced) row echelon form.</p>
<p>INPUT:</p>
<ul>
<li><p class="first">self &#8211; a mutable matrix</p>
</li>
<li><p class="first">algorithm</p>
<blockquote>
<div><ul class="simple">
<li>&#8216;heuristic&#8217; &#8211; uses M4RI and PLUQ (default)</li>
<li>&#8216;m4ri&#8217; &#8211; uses M4RI</li>
<li>&#8216;pluq&#8217; &#8211; uses PLUQ factorization</li>
<li>&#8216;classical&#8217; &#8211; uses classical Gaussian elimination</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">k &#8211;  the parameter &#8216;k&#8217; of the M4RI algorithm. It MUST be between 1
and 16 (inclusive). If it is not specified it will be calculated as
3/4 * log_2( min(nrows, ncols) ) as suggested in the M4RI paper.</p>
</li>
<li><p class="first">reduced &#8211; return reduced row echelon form (default:True)</p>
</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">__copy__</span><span class="p">();</span> <span class="n">B</span><span class="o">.</span><span class="n">echelonize</span><span class="p">()</span> <span class="c1"># fastest</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">__copy__</span><span class="p">();</span> <span class="n">C</span><span class="o">.</span><span class="n">echelonize</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># force k</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">__copy__</span><span class="p">();</span> <span class="n">E</span><span class="o">.</span><span class="n">echelonize</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;classical&#39;</span><span class="p">)</span> <span class="c1"># force Gaussian elimination</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">==</span> <span class="n">C</span> <span class="o">==</span> <span class="n">E</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">VF2</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">WF2</span> <span class="o">=</span> <span class="n">VF2</span><span class="o">.</span><span class="n">submodule</span><span class="p">([</span><span class="n">VF2</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])])</span>
<span class="gp">sage: </span><span class="n">WF2</span>
<span class="go">Vector space of degree 2 and dimension 1 over Finite Field of size 2</span>
<span class="go">Basis matrix:</span>
<span class="go">[1 1]</span>

<span class="gp">sage: </span><span class="n">A2</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A2</span><span class="o">.</span><span class="n">kernel</span><span class="p">()</span>
<span class="go">Vector space of degree 2 and dimension 0 over Finite Field of size 2</span>
<span class="go">Basis matrix:</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>ALGORITHM:</p>
<p>Uses M4RI library</p>
<p>REFERENCES:</p>
<table class="docutils citation" frame="void" id="bard06" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[Bard06]</td><td>G. Bard. &#8216;Accelerating Cryptanalysis with the Method of
Four Russians&#8217;. Cryptography E-Print Archive
(<a class="reference external" href="http://eprint.iacr.org/2006/251.pdf">http://eprint.iacr.org/2006/251.pdf</a>), 2006.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.randomize">
<tt class="descname">randomize</tt><big>(</big><em>density=1</em>, <em>nonzero=False</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.randomize" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomize <tt class="docutils literal"><span class="pre">density</span></tt> proportion of the entries of this matrix,
leaving the rest unchanged.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">density</span></tt> - float; proportion (roughly) to be considered for
changes</li>
<li><tt class="docutils literal"><span class="pre">nonzero</span></tt> - Bool (default: <tt class="docutils literal"><span class="pre">False</span></tt>); whether the new entries
are forced to be non-zero</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>None, the matrix is modified in-space</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">randomize</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[0 0 0 1 1]</span>
<span class="go">[0 1 0 0 1]</span>
<span class="go">[1 0 0 0 0]</span>
<span class="go">[0 1 0 0 0]</span>
<span class="go">[0 0 0 1 0]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">randomize</span><span class="p">();</span> <span class="n">A</span>
<span class="go">[0 0 1 1 0]</span>
<span class="go">[1 1 0 0 1]</span>
<span class="go">[1 1 1 1 0]</span>
<span class="go">[1 1 1 1 1]</span>
<span class="go">[0 0 1 1 0]</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>With the libc random number generator random(), we had problems
where the ranks of all of these matrices would be the same
(and they would all be far too low).  This verifies that the
problem is gone, with Mersenne Twister:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">MS2</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">1000</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">MS2</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
<span class="go">[999, 998, 1000, 999, 999]</span>
</pre></div>
</div>
<p>Testing corner case:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.rank">
<tt class="descname">rank</tt><big>(</big><em>algorithm='ple'</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.rank" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the rank of this matrix.</p>
<p>On average &#8216;ple&#8217; should be faster than &#8216;m4ri&#8217; and hence it is
the default choice. However, for small - i.e. quite few
thousand rows &amp; columns - and sparse matrices &#8216;m4ri&#8217; might be
a better choice.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">algorithm</span></tt> - either &#8220;ple&#8221; or &#8220;m4ri&#8221;</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">999</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.row">
<tt class="descname">row</tt><big>(</big><em>i</em>, <em>from_list=False</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.row" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <tt class="docutils literal"><span class="pre">i</span></tt>&#8216;th row of this matrix as a vector.</p>
<p>This row is a dense vector if and only if the matrix is a dense
matrix.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">i</span></tt> - integer</li>
<li><tt class="docutils literal"><span class="pre">from_list</span></tt> - bool (default: <tt class="docutils literal"><span class="pre">False</span></tt>); if <tt class="docutils literal"><span class="pre">True</span></tt>,
returns the <tt class="docutils literal"><span class="pre">i</span></tt>&#8216;th element of <tt class="docutils literal"><span class="pre">self.rows()</span></tt> (see
<tt class="xref py py-func docutils literal"><span class="pre">rows()</span></tt>), which may be faster, but requires building a
list of all rows the first time it is called after an entry
of the matrix is changed.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[0 1 0 1 1 0 0 0 1 1]</span>
<span class="go">[0 1 1 1 0 1 1 0 0 1]</span>
<span class="go">[0 0 0 1 0 1 0 0 1 0]</span>
<span class="go">[0 1 1 0 0 1 0 1 1 0]</span>
<span class="go">[0 0 0 1 1 1 1 0 1 1]</span>
<span class="go">[0 0 1 1 1 1 0 0 0 0]</span>
<span class="go">[1 1 1 1 0 1 0 1 1 0]</span>
<span class="go">[0 0 0 1 1 0 0 0 1 1]</span>
<span class="go">[1 0 0 0 1 1 1 0 1 1]</span>
<span class="go">[1 0 0 1 1 0 1 0 0 0]</span>

<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(0, 1, 0, 1, 1, 0, 0, 0, 1, 1)</span>

<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(1, 0, 0, 1, 1, 0, 1, 0, 0, 0)</span>

<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">from_list</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(0, 0, 0, 1, 0, 1, 0, 0, 1, 0)</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.str">
<tt class="descname">str</tt><big>(</big><em>rep_mapping=None</em>, <em>zero=None</em>, <em>plus_one=None</em>, <em>minus_one=None</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a nice string representation of the matrix.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">rep_mapping</span></tt> - a dictionary or callable used to override
the usual representation of elements.  For a dictionary,
keys should be elements of the base ring and values the
desired string representation.</li>
<li><tt class="docutils literal"><span class="pre">zero</span></tt> - string (default: <tt class="docutils literal"><span class="pre">None</span></tt>); if not <tt class="docutils literal"><span class="pre">None</span></tt> use
the value of <tt class="docutils literal"><span class="pre">zero</span></tt> as the representation of the zero
element.</li>
<li><tt class="docutils literal"><span class="pre">plus_one</span></tt> - string (default: <tt class="docutils literal"><span class="pre">None</span></tt>); if not <tt class="docutils literal"><span class="pre">None</span></tt>
use the value of <tt class="docutils literal"><span class="pre">plus_one</span></tt> as the representation of the
one element.</li>
<li><tt class="docutils literal"><span class="pre">minus_one</span></tt> - Ignored.  Only for compatibility with
generic matrices.</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="c1"># indirect doctest</span>
<span class="go">[0 1 0]</span>
<span class="go">[0 1 1]</span>
<span class="go">[0 0 0]</span>
<span class="gp">sage: </span><span class="n">block_matrix</span><span class="p">([[</span><span class="n">B</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">B</span><span class="p">]])</span>
<span class="go">[0 1 0|1 0 0]</span>
<span class="go">[0 1 1|0 1 0]</span>
<span class="go">[0 0 0|0 0 1]</span>
<span class="go">[-----+-----]</span>
<span class="go">[0 0 0|0 1 0]</span>
<span class="go">[0 0 0|0 1 1]</span>
<span class="go">[0 0 0|0 0 0]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">zero</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="go">&#39;[. 1 .]\n[. 1 1]\n[. . .]&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.submatrix">
<tt class="descname">submatrix</tt><big>(</big><em>row=0</em>, <em>col=0</em>, <em>nrows=-1</em>, <em>ncols=-1</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.submatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return submatrix from the index row, col (inclusive) with
dimension nrows x ncols.</p>
<p>INPUT:</p>
<ul class="simple">
<li>row &#8211; index of start row</li>
<li>col &#8211; index of start column</li>
<li>nrows &#8211; number of rows of submatrix</li>
<li>ncols &#8211; number of columns of submatrix</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">100</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="mi">100</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">99</span><span class="p">,</span><span class="mi">99</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="mi">200</span><span class="p">]</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">199</span><span class="p">,</span><span class="mi">199</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS for handling of default arguments (ticket #18761):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">183</span><span class="p">,</span><span class="mi">185</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="mi">37</span><span class="p">,</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.transpose">
<tt class="descname">transpose</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.Matrix_mod2_dense.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns transpose of self and leaves self untouched.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span>
<span class="go">[1 0 1 0 0]</span>
<span class="go">[0 1 1 0 0]</span>
<span class="go">[1 1 0 1 0]</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">transpose</span><span class="p">();</span> <span class="n">B</span>
<span class="go">[1 0 1]</span>
<span class="go">[0 1 1]</span>
<span class="go">[1 1 0]</span>
<span class="go">[0 0 1]</span>
<span class="go">[0 0 0]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span>
<span class="go">True</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">.T</span></tt> is a convenient shortcut for the transpose:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">T</span>
<span class="go">[1 0 1]</span>
<span class="go">[0 1 1]</span>
<span class="go">[1 1 0]</span>
<span class="go">[0 0 1]</span>
<span class="go">[0 0 0]</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">0</span><span class="p">,</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="go">40 x 0 dense matrix over Finite Field of size 2 (use the &#39;.str()&#39; method to see the entries)</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.matrix.matrix_mod2_dense.free_m4ri">
<tt class="descclassname">sage.matrix.matrix_mod2_dense.</tt><tt class="descname">free_m4ri</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.free_m4ri" title="Permalink to this definition">¶</a></dt>
<dd><p>Free global Gray code tables.</p>
</dd></dl>

<dl class="function">
<dt id="sage.matrix.matrix_mod2_dense.from_png">
<tt class="descclassname">sage.matrix.matrix_mod2_dense.</tt><tt class="descname">from_png</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.from_png" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dense matrix over GF(2) from a 1-bit PNG image read from
<tt class="docutils literal"><span class="pre">filename</span></tt>. No attempt is made to verify that the filename string
actually points to a PNG image.</p>
<p>INPUT:</p>
<ul class="simple">
<li>filename &#8211; a string</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.matrix_mod2_dense</span> <span class="kn">import</span> <span class="n">from_png</span><span class="p">,</span> <span class="n">to_png</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fn</span> <span class="o">=</span> <span class="n">tmp_filename</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">to_png</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">from_png</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">==</span> <span class="n">B</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.matrix.matrix_mod2_dense.parity">
<tt class="descclassname">sage.matrix.matrix_mod2_dense.</tt><tt class="descname">parity</tt><big>(</big><em>a</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.parity" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the parity of the number of bits in a.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.matrix_mod2_dense</span> <span class="kn">import</span> <span class="n">parity</span>
<span class="gp">sage: </span><span class="n">parity</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1L</span>
<span class="gp">sage: </span><span class="n">parity</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">0L</span>
<span class="gp">sage: </span><span class="n">parity</span><span class="p">(</span><span class="mh">0x10000101011</span><span class="p">)</span>
<span class="go">1L</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.matrix.matrix_mod2_dense.ple">
<tt class="descclassname">sage.matrix.matrix_mod2_dense.</tt><tt class="descname">ple</tt><big>(</big><em>A</em>, <em>algorithm='standard'</em>, <em>param=0</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.ple" title="Permalink to this definition">¶</a></dt>
<dd><p>Return PLE factorization of A.</p>
<p>INPUT:</p>
<ul class="simple">
<li>A &#8211; matrix</li>
<li>algorithm<ul>
<li>&#8216;standard&#8217; asymptotically fast (default)</li>
<li>&#8216;russian&#8217; M4RI inspired</li>
<li>&#8216;naive&#8217; naive cubic</li>
</ul>
</li>
<li>param &#8211; either k for &#8216;mmpf&#8217; is chosen or matrix multiplication
cutoff for &#8216;standard&#8217; (default: 0)</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.matrix_mod2_dense</span> <span class="kn">import</span> <span class="n">ple</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[0 1 0 1]</span>
<span class="go">[0 1 1 1]</span>
<span class="go">[0 0 0 1]</span>
<span class="go">[0 1 1 0]</span>

<span class="gp">sage: </span><span class="n">LU</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">Q</span> <span class="o">=</span> <span class="n">ple</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">LU</span>
<span class="go">[1 0 0 1]</span>
<span class="go">[1 1 0 0]</span>
<span class="go">[0 0 1 0]</span>
<span class="go">[1 1 1 0]</span>

<span class="gp">sage: </span><span class="n">P</span>
<span class="go">[0, 1, 2, 3]</span>

<span class="gp">sage: </span><span class="n">Q</span>
<span class="go">[1, 2, 3, 3]</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ple</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="o">==</span> <span class="n">ple</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="s1">&#39;russian&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">ple</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="s1">&#39;naive&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.matrix.matrix_mod2_dense.pluq">
<tt class="descclassname">sage.matrix.matrix_mod2_dense.</tt><tt class="descname">pluq</tt><big>(</big><em>A</em>, <em>algorithm='standard'</em>, <em>param=0</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.pluq" title="Permalink to this definition">¶</a></dt>
<dd><p>Return PLUQ factorization of A.</p>
<p>INPUT:</p>
<ul class="simple">
<li>A &#8211; matrix</li>
<li>algorithm<ul>
<li>&#8216;standard&#8217; asymptotically fast (default)</li>
<li>&#8216;mmpf&#8217; M4RI inspired</li>
<li>&#8216;naive&#8217; naive cubic</li>
</ul>
</li>
<li>param &#8211; either k for &#8216;mmpf&#8217; is chosen or matrix multiplication cutoff
for &#8216;standard&#8217; (default: 0)</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.matrix_mod2_dense</span> <span class="kn">import</span> <span class="n">pluq</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[0 1 0 1]</span>
<span class="go">[0 1 1 1]</span>
<span class="go">[0 0 0 1]</span>
<span class="go">[0 1 1 0]</span>

<span class="gp">sage: </span><span class="n">LU</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">Q</span> <span class="o">=</span> <span class="n">pluq</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">LU</span>
<span class="go">[1 0 1 0]</span>
<span class="go">[1 1 0 0]</span>
<span class="go">[0 0 1 0]</span>
<span class="go">[1 1 1 0]</span>

<span class="gp">sage: </span><span class="n">P</span>
<span class="go">[0, 1, 2, 3]</span>

<span class="gp">sage: </span><span class="n">Q</span>
<span class="go">[1, 2, 3, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.matrix.matrix_mod2_dense.to_png">
<tt class="descclassname">sage.matrix.matrix_mod2_dense.</tt><tt class="descname">to_png</tt><big>(</big><em>A</em>, <em>filename</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.to_png" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the matrix <tt class="docutils literal"><span class="pre">A</span></tt> to filename as a 1-bit PNG image.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">A</span></tt> - a matrix over GF(2)</li>
<li><tt class="docutils literal"><span class="pre">filename</span></tt> - a string for a file in a writable position</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.matrix_mod2_dense</span> <span class="kn">import</span> <span class="n">from_png</span><span class="p">,</span> <span class="n">to_png</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">fn</span> <span class="o">=</span> <span class="n">tmp_filename</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">to_png</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">from_png</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">==</span> <span class="n">B</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.matrix.matrix_mod2_dense.unpickle_matrix_mod2_dense_v1">
<tt class="descclassname">sage.matrix.matrix_mod2_dense.</tt><tt class="descname">unpickle_matrix_mod2_dense_v1</tt><big>(</big><em>r</em>, <em>c</em>, <em>data</em>, <em>size</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix_mod2_dense.unpickle_matrix_mod2_dense_v1" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserialize a matrix encoded in the string <tt class="docutils literal"><span class="pre">s</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li>r &#8211; number of rows of matrix</li>
<li>c &#8211; number of columns of matrix</li>
<li>s &#8211; a string</li>
<li>size &#8211; length of the string s</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">100</span><span class="p">,</span><span class="mi">101</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">_</span><span class="p">,(</span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">s2</span><span class="p">)</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">__reduce__</span><span class="p">()</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.matrix.matrix_mod2_dense</span> <span class="kn">import</span> <span class="n">unpickle_matrix_mod2_dense_v1</span>
<span class="gp">sage: </span><span class="n">unpickle_matrix_mod2_dense_v1</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">s2</span><span class="p">)</span> <span class="o">==</span> <span class="n">A</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">A</span><span class="p">))</span> <span class="o">==</span> <span class="n">A</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="matrix_integer_sparse.html"
                                  title="previous chapter">Sparse integer matrices.</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="matrix_gf2e_dense.html"
                                  title="next chapter">Dense matrices over <span class="math">\(\GF{2^e}\)</span> for <span class="math">\(2 &lt;= e &lt;= 10\)</span> using the M4RIE library.</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/matrix/matrix_mod2_dense.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="matrix_gf2e_dense.html" title="Dense matrices over \(\GF{2^e}\) for \(2 &lt;= e &lt;= 10\) using the M4RIE library."
             >next</a> |</li>
        <li class="right" >
          <a href="matrix_integer_sparse.html" title="Sparse integer matrices."
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Matrices and Spaces of Matrices</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>