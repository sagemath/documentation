<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Global options &mdash; Sage Reference Manual v7.5: Basic Structures</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.5: Basic Structures" href="../../index.html" />
    <link rel="next" title="Base class for old-style parent objects" href="parent_old.html" />
    <link rel="prev" title="Precision management for non-exact objects" href="nonexact.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="parent_old.html" title="Base class for old-style parent objects"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="nonexact.html" title="Precision management for non-exact objects"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Basic Structures</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="global-options">
<span id="sage-structure-global-options"></span><h1>Global options<a class="headerlink" href="#global-options" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.structure.global_options"></span><p>The <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> class provides a generic mechanism for
setting and accessing <strong>global</strong> options for parents in one or several
related classes, typically for customizing the representation of their
elements. This class will eventually also support setting options on a
parent by parent basis.</p>
<p>These options should be &#8220;attached&#8221; to one or more classes as an options method.
For example, see 
<code class="xref py py-meth docutils literal"><span class="pre">sage.combinat.partition.Partitions.options()</span></code> and
<code class="xref py py-meth docutils literal"><span class="pre">sage.combinat.tableau.Tableaux.options()</span></code>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">For better examples of <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> in action see
<code class="xref py py-meth docutils literal"><span class="pre">sage.combinat.partition.Partitions.options()</span></code> and
<code class="xref py py-meth docutils literal"><span class="pre">sage.combinat.tableau.Tableaux.options()</span></code>.</p>
</div>
<div class="section" id="construction-of-options-classes">
<span id="construction-section"></span><h2>Construction of options classes<a class="headerlink" href="#construction-of-options-classes" title="Permalink to this headline">¶</a></h2>
<p>The general setup for creating a set of global options is:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">MyOptions</span><span class="o">=</span><span class="n">GlobalOptions</span><span class="p">(</span><span class="s1">&#39;option name&#39;</span><span class="p">,</span>
    <span class="n">module</span><span class="o">=</span><span class="s1">&#39;sage.some_module.some_file&#39;</span><span class="p">,</span>
    <span class="n">options_class</span><span class="o">=</span><span class="s1">&#39;name_of_class_controlled_by_options&#39;</span><span class="p">,</span>
    <span class="n">doc</span><span class="o">=</span><span class="s1">&#39;Nice options&#39;</span><span class="p">,</span>
    <span class="n">first_option</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s1">&#39;default value&#39;</span><span class="p">,</span>
                      <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Changes the functionality of _repr_&#39;</span><span class="p">,</span>
                      <span class="n">values</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">with_bells</span><span class="o">=</span><span class="s1">&#39;causes _repr_ to print with bells&#39;</span><span class="p">,</span>
                                  <span class="n">with_whistles</span><span class="o">=</span><span class="s1">&#39;causes _repr_ to print with whistles&#39;</span><span class="p">,</span>
                                  <span class="o">...</span><span class="p">),</span>
                      <span class="n">aliases</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">bells</span><span class="o">=</span><span class="s1">&#39;option1&#39;</span><span class="p">,</span> <span class="n">whistles</span><span class="o">=</span><span class="s1">&#39;option2&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">),</span>
    <span class="n">second_option</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">third_option</span><span class="o">=</span><span class="nb">dict</span><span class="p">(),</span>
    <span class="n">end_doc</span><span class="o">=</span><span class="s1">&#39;end of options documentation&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The options constructed by <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> have to be explicitly
associated to the class that they control using the following arguments:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">name=</span></code> &#8211; A descriptive name for the options class</li>
<li><code class="docutils literal"><span class="pre">module</span></code> &#8211; The sage module containing the options class (optional)</li>
<li><code class="docutils literal"><span class="pre">option_class</span></code> &#8211; The name of the options class. This is optional and
defaults to <code class="docutils literal"><span class="pre">name</span></code> if not explicitly set.</li>
</ul>
<p>It is only possible to pickle an instance of a  <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> if the
corresponding module is specified <em>and</em> if the options are explicitly attached to
the corresponding class as a <em>options</em> method.</p>
<p>Each option is specified as a dictionary which describes the possible
values for the option and its documentation. The possible entries in this
dictionary are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">alias</span></code> &#8211; Allows for several option values to do the same thing.</li>
<li><code class="docutils literal"><span class="pre">alt_name</span></code> &#8211; An alternative name for this option.</li>
<li><code class="docutils literal"><span class="pre">checker</span></code> &#8211; A validation function which returns whether a user
supplied value is valid or not. This is typically useful for large
lists of legal values such as <code class="xref py py-class docutils literal"><span class="pre">NN</span></code>.</li>
<li><code class="docutils literal"><span class="pre">default</span></code> &#8211; Gives the default value for the option.</li>
<li><code class="docutils literal"><span class="pre">description</span></code> &#8211; A one line description of the option.</li>
<li><code class="docutils literal"><span class="pre">link_to</span></code> &#8211; Links this option to another one in another set of
global options. This is used for example to allow
<a class="reference external" href="../../../combinat/sage/combinat/partition.html#sage.combinat.partition.Partitions" title="(in Sage Reference Manual: Combinatorics v7.5)"><code class="xref py py-class docutils literal"><span class="pre">Partitions</span></code></a> and <a class="reference external" href="../../../combinat/sage/combinat/tableau.html#sage.combinat.tableau.Tableaux" title="(in Sage Reference Manual: Combinatorics v7.5)"><code class="xref py py-class docutils literal"><span class="pre">Tableaux</span></code></a> to share the same
<code class="docutils literal"><span class="pre">convention</span></code> option.</li>
<li><code class="docutils literal"><span class="pre">setter</span></code> &#8211; A function which is called <strong>after</strong> the value of the
option is changed.</li>
<li><code class="docutils literal"><span class="pre">values</span></code> &#8211; A dictionary assigning each valid value for the option
to a short description of what it does.</li>
<li><code class="docutils literal"><span class="pre">case_sensitive</span></code> &#8211; (Default: <code class="docutils literal"><span class="pre">True</span></code>) <code class="docutils literal"><span class="pre">True</span></code> or <code class="docutils literal"><span class="pre">False</span></code> depending on
whether the values of the option are case sensitive.</li>
</ul>
<p>For each option, either a complete list of possible values, via <code class="docutils literal"><span class="pre">values</span></code>, or a
validation function, via <code class="docutils literal"><span class="pre">checker</span></code>, must be given. The values can be quite
arbitrary, including user-defined functions which customize the default
behaviour of the classes such as the output of <code class="docutils literal"><span class="pre">_repr_</span></code> or <a class="reference external" href="../../../misc/sage/misc/latex.html#sage.misc.latex.latex" title="(in Sage Reference Manual: Utilities v7.5)"><code class="xref py py-func docutils literal"><span class="pre">latex()</span></code></a>. See
<a class="reference internal" href="#dispatcher"><span class="std std-ref">Dispatchers</span></a> below, and <code class="xref py py-meth docutils literal"><span class="pre">_dispatcher()</span></code>, for more
information.</p>
<p>The documentation for the options is automatically constructed by combining the
description of each option with a header and footer which are given by the
following optional, but recommended, arguments:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">doc</span></code> &#8211; The top half of the documentation which appears before the
automatically generated list of options and their possible values.</li>
<li><code class="docutils literal"><span class="pre">end_doc</span></code> &#8211; The second half of the documentation which appears
after the list of options and their values.</li>
</ul>
<p>The basic structure for defining a <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> class is best
illustrated by an example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.global_options</span> <span class="kn">import</span> <span class="n">GlobalOptions</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">Menu</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span> 
<span class="go">....:     options = GlobalOptions(&#39;menu&#39;,</span>
<span class="go">....:         doc=&#39;Fancy documentation\n&#39;+&#39;-&#39;*19, end_doc=&#39;The END!&#39;,</span>
<span class="go">....:         entree=dict(default=&#39;soup&#39;,</span>
<span class="go">....:                     description=&#39;The first course of a meal&#39;,</span>
<span class="go">....:                     values=dict(soup=&#39;soup of the day&#39;, bread=&#39;oven baked&#39;),</span>
<span class="go">....:                     alias=dict(rye=&#39;bread&#39;)),</span>
<span class="go">....:         appetizer=dict(alt_name=&#39;entree&#39;),</span>
<span class="go">....:         main=dict(default=&#39;pizza&#39;, description=&#39;Main meal&#39;,</span>
<span class="go">....:                   values=dict(pizza=&#39;thick crust&#39;, pasta=&#39;penne arrabiata&#39;),</span>
<span class="go">....:                   case_sensitive=False),</span>
<span class="go">....:         dessert=dict(default=&#39;espresso&#39;, description=&#39;Dessert&#39;,</span>
<span class="go">....:                      values=dict(espresso=&#39;life begins again&#39;,</span>
<span class="go">....:                                  cake=&#39;waist begins again&#39;,</span>
<span class="go">....:                                  cream=&#39;fluffy, white stuff&#39;)),</span>
<span class="go">....:         tip=dict(default=10, description=&#39;Reward for good service&#39;,</span>
<span class="go">....:         checker=lambda tip: tip in range(0,20))</span>
<span class="go">....:     )</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span>
<span class="go">Current options for menu</span>
<span class="go">  - dessert: espresso</span>
<span class="go">  - entree:  soup</span>
<span class="go">  - main:    pizza</span>
<span class="go">  - tip:     10</span>
</pre></div>
</div>
<p>I all of the examples above the options are contructed with  single call to
<a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a>, however, it is also possible to construct the options
dynamically using the <code class="xref py py-meth docutils literal"><span class="pre">GlobalOptions._add_to_options()</span></code> methods.</p>
<p>For more details see <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a>.</p>
</div>
<div class="section" id="accessing-and-setting-option-values">
<h2>Accessing and setting option values<a class="headerlink" href="#accessing-and-setting-option-values" title="Permalink to this headline">¶</a></h2>
<p>All options and their values, when they are strings, are forced to be lower
case. The values of an options class can be set and accessed by calling the
class or by treating the class as an array.</p>
<p>Continuing the example from <a class="reference internal" href="#construction-section"><span class="std std-ref">Construction of options classes</span></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span>
<span class="go">Current options for menu</span>
<span class="go">  - dessert: espresso</span>
<span class="go">  - entree:  soup</span>
<span class="go">  - main:    pizza</span>
<span class="go">  - tip:     10</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">dessert</span>
<span class="go">espresso</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">dessert</span> <span class="o">=</span> <span class="s1">&#39;cake&#39;</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">dessert</span>
<span class="go">cake</span>
</pre></div>
</div>
<p>Note that, provided there is no ambiguity, options and their values can be
abbreviated:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="go">&#39;cake&#39;</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span><span class="s1">&#39;t&#39;</span><span class="p">,</span><span class="n">des</span><span class="o">=</span><span class="s1">&#39;esp&#39;</span><span class="p">,</span> <span class="n">ent</span><span class="o">=</span><span class="s1">&#39;sou&#39;</span><span class="p">)</span>  <span class="c1"># get and set several values at once</span>
<span class="go">[&#39;pizza&#39;, 10]</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">15</span><span class="p">);</span> 
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s1">&#39;tip&#39;</span><span class="p">)</span>
<span class="go">15</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">tip</span>
<span class="go">15</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">e</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="s1">&#39;Pi&#39;</span><span class="p">);</span> <span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">()</span>
<span class="go">Current options for menu</span>
<span class="go">  - dessert: cake</span>
<span class="go">  - entree:  soup</span>
<span class="go">  - main:    pizza</span>
<span class="go">  - tip:     15</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="s1">&#39;P&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">P is not a valid value for main in the options for menu</span>
</pre></div>
</div>
</div>
<div class="section" id="setter-functions">
<h2>Setter functions<a class="headerlink" href="#setter-functions" title="Permalink to this headline">¶</a></h2>
<p>Each option of a <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> can be equipped with an optional setter
function which is called <strong>after</strong> the value of the option is changed. In the
following example, setting the option &#8216;add&#8217; changes the state of the class by
setting an attribute in this class using a <a class="reference external" href="https://docs.python.org/library/functions.html#classmethod" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">classmethod()</span></code></a>. Note that the
options object is inserted after the creation of the class in order to access
the <a class="reference external" href="https://docs.python.org/library/functions.html#classmethod" title="(in Python v2.7)"><code class="xref py py-func docutils literal"><span class="pre">classmethod()</span></code></a> as <code class="docutils literal"><span class="pre">A.setter</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.global_options</span> <span class="kn">import</span> <span class="n">GlobalOptions</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="n">SageObject</span><span class="p">):</span>
<span class="go">....:     state = 0</span>
<span class="go">....:     @classmethod</span>
<span class="go">....:     def setter(cls, option, val):</span>
<span class="go">....:         cls.state += int(val)</span>
<span class="gp">...</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="n">GlobalOptions</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span>
<span class="go">....:                   add=dict(default=1,</span>
<span class="go">....:                            checker=lambda v: int(v)&gt;0,</span>
<span class="go">....:                            description=&#39;An option with a setter&#39;,</span>
<span class="go">....:                            setter=A.setter))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">options</span>
<span class="go">Current options for A</span>
<span class="go">- add: 1</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">();</span> <span class="n">a</span><span class="o">.</span><span class="n">state</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">options</span><span class="p">()</span>
<span class="go">Current options for A</span>
<span class="go">- add: 1</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">add</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">state</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">options</span><span class="p">()</span>
<span class="go">Current options for A</span>
<span class="go">- add: 4</span>
</pre></div>
</div>
<p>Another alternative is to construct the options class inside the <code class="docutils literal"><span class="pre">__init__</span></code>
method of the class <code class="docutils literal"><span class="pre">A</span></code>.</p>
</div>
<div class="section" id="documentation-for-options">
<h2>Documentation for options<a class="headerlink" href="#documentation-for-options" title="Permalink to this headline">¶</a></h2>
<p>The documentation for a <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> is automatically generated from
the supplied options. For example, the generated documentation for the options
<code class="docutils literal"><span class="pre">menu</span></code> defined in <a class="reference internal" href="#construction-section"><span class="std std-ref">Construction of options classes</span></a> is the following:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Fancy documentation
-------------------

OPTIONS:

- ``appetizer`` -- alternative name for ``entree``

- ``dessert`` -- (default: ``espresso``)
  Dessert

  - ``cake``     -- waist begins again
  - ``cream``    -- fluffy, white stuff
  - ``espresso`` -- life begins again

- ``entree`` -- (default: ``soup``)
  The first course of a meal

  - ``bread`` -- oven baked
  - ``rye``   -- alias for bread
  - ``soup``  -- soup of the day

- ``main`` -- (default: ``pizza``)
  Main meal

  - ``pasta`` -- penne arrabiata
  - ``pizza`` -- thick crust

- tip -- (default: 10)
  Reward for good service

The END!

See :class:`~sage.structure.global_options.GlobalOptions` for more features of these options.
</pre></div>
</div>
<p>In addition, help on each option, and its list of possible values, can be
obtained by (trying to) set the option equal to &#8216;?&#8217;:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>sage: Menu.options.dessert?                   #not tested
- ``dessert`` -- (default: ``espresso``)
  Dessert
  - ``cake``     -- waist begins again
  - ``cream``    -- fluffy, white stuff
  - ``espresso`` -- life begins again
Current value: espresso
</pre></div>
</div>
</div>
<div class="section" id="dispatchers">
<span id="dispatcher"></span><h2>Dispatchers<a class="headerlink" href="#dispatchers" title="Permalink to this headline">¶</a></h2>
<p>The whole idea of a <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> class is that the options change the
default behaviour of the associated classes. This can be done either by simply
checking what the current value of the relevant option is. Another possibility
is to use the options class as a dispatcher to associated methods. To use the
dispatcher feature of a <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> class it is necessary to implement
separate methods for each value of the option where the naming convention for
these methods is that they start with a common prefix and finish with the value
of the option.</p>
<p>If the value of a dispatchable option is set equal to a (user defined) function
then this function is called instead of a class method.</p>
<p>For example, the options <code class="docutils literal"><span class="pre">MyOptions</span></code> can be used to dispatch the <code class="docutils literal"><span class="pre">_repr_</span></code>
method of the associated class <code class="docutils literal"><span class="pre">MyClass</span></code> as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_repr_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">_dispatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;_repr_&#39;</span><span class="p">,</span><span class="s1">&#39;first_option&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_repr_with_bells</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Bell!&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_repr_with_whistles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Whistles!&#39;</span><span class="p">)</span>
<span class="n">GlobalOptions</span><span class="p">(</span><span class="n">MyClass</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">)</span>
</pre></div>
</div>
<p>In this example, <code class="docutils literal"><span class="pre">first_option</span></code> is an option of <code class="docutils literal"><span class="pre">MyOptions</span></code> which takes
values <code class="docutils literal"><span class="pre">bells</span></code>, <code class="docutils literal"><span class="pre">whistles</span></code>, and so on. Note that it is necessary to make
<code class="docutils literal"><span class="pre">self</span></code>, which is an instance of <code class="docutils literal"><span class="pre">MyClass</span></code>, an argument of the dispatcher
because <code class="xref py py-meth docutils literal"><span class="pre">_dispatch()</span></code> is a method of <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a>
and not a method of <code class="docutils literal"><span class="pre">MyClass</span></code>. Apart from <code class="docutils literal"><span class="pre">MyOptions</span></code>, as it is a method of
this class, the arguments are the attached class (here <code class="docutils literal"><span class="pre">MyClass</span></code>), the prefix
of the method of <code class="docutils literal"><span class="pre">MyClass</span></code> being dispatched, the option of <code class="docutils literal"><span class="pre">MyOptions</span></code>
which controls the dispatching. All other arguments are passed through to the
corresponding methods of <code class="docutils literal"><span class="pre">MyClass</span></code>. In general, a dispatcher is invoked as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">_dispatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dispatch_to</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>
</pre></div>
</div>
<p>Usually this will result in the method
<code class="docutils literal"><span class="pre">dispatch_to</span> <span class="pre">+</span> <span class="pre">'_'</span> <span class="pre">+</span> <span class="pre">MyOptions(options)</span></code> of <code class="docutils literal"><span class="pre">self</span></code> being called with
arguments <code class="docutils literal"><span class="pre">*args</span></code> and <code class="docutils literal"><span class="pre">**kargs</span></code> (if <code class="docutils literal"><span class="pre">dispatch_to[-1]</span> <span class="pre">==</span> <span class="pre">'_'</span></code> then the
method <code class="docutils literal"><span class="pre">dispatch_to</span> <span class="pre">+</span> <span class="pre">MyOptions(options)</span></code> is called).</p>
<p>If <code class="docutils literal"><span class="pre">MyOptions(options)</span></code> is itself a function then the dispatcher will call
this function instead. In this way, it is possible to allow the user to
customise the default behaviour of this method. See
<code class="xref py py-meth docutils literal"><span class="pre">_dispatch()</span></code> for an example of how this can be achieved.</p>
<p>The dispatching capabilities of <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> allows options to be
applied automatically without needing to parse different values of the option
(the cost is that there must be a method for each value). The dispatching
capabilities can also be used to make one option control several methods:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">_dispatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_le_&#39;</span><span class="p">,</span><span class="s1">&#39;cmp&#39;</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">_dispatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_ge_&#39;</span><span class="p">,</span><span class="s1">&#39;cmp&#39;</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_le_option_a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="k">return</span> <span class="o">...</span>
<span class="k">def</span> <span class="nf">_ge_option_a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="k">return</span> <span class="o">...</span>
<span class="k">def</span> <span class="nf">_le_option_b</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="k">return</span> <span class="o">...</span>
<span class="k">def</span> <span class="nf">_ge_option_b</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="k">return</span> <span class="o">...</span>
</pre></div>
</div>
<p>See <code class="xref py py-meth docutils literal"><span class="pre">_dispatch()</span></code> for more details.</p>
</div>
<div class="section" id="doc-testing">
<h2>Doc testing<a class="headerlink" href="#doc-testing" title="Permalink to this headline">¶</a></h2>
<p>All of the options and their effects should be doc-tested. However, in order
not to break other tests, all options should be returned to their default state
at the end of each test. To make this easier, every <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> class has
a <code class="xref py py-meth docutils literal"><span class="pre">_reset()</span></code> method for doing exactly this.</p>
</div>
<div class="section" id="tests">
<h2>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h2>
<p>Options classes can only be pickled if they are the options for some standard
sage class. In this case the class is specified using the arguments to
<a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a>. For example
<code class="xref py py-meth docutils literal"><span class="pre">options()</span></code> is defined as:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Partitions</span><span class="p">(</span><span class="n">UniqueRepresentation</span><span class="p">,</span> <span class="n">Parent</span><span class="p">):</span>
   <span class="o">....</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">GlobalOptions</span><span class="p">(</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Partitions&#39;</span><span class="p">,</span> 
        <span class="n">module</span><span class="o">=</span><span class="s1">&#39;sage.combinat.partition&#39;</span><span class="p">,</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Here is an example to test the pickling of a <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> instance:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">Menu</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="go">....:     options = GlobalOptions(Menu, doc=&#39;Fancy documentation\n&#39;+&#39;-&#39;*19, end_doc=&#39;The END!&#39;,</span>
<span class="go">....:         entree=dict(default=&#39;soup&#39;,</span>
<span class="go">....:                     description=&#39;The first course of a meal&#39;,</span>
<span class="go">....:                     values=dict(soup=&#39;soup of the day&#39;, bread=&#39;oven baked&#39;),</span>
<span class="go">....:                     alias=dict(rye=&#39;bread&#39;)),</span>
<span class="go">....:         appetizer=dict(alt_name=&#39;entree&#39;),</span>
<span class="go">....:         main=dict(default=&#39;pizza&#39;, description=&#39;Main meal&#39;,</span>
<span class="go">....:                   values=dict(pizza=&#39;thick crust&#39;, pasta=&#39;penne arrabiata&#39;),</span>
<span class="go">....:                   case_sensitive=False),</span>
<span class="go">....:         dessert=dict(default=&#39;espresso&#39;, description=&#39;Dessert&#39;,</span>
<span class="go">....:                      values=dict(espresso=&#39;life begins again&#39;,</span>
<span class="go">....:                                  cake=&#39;waist begins again&#39;,</span>
<span class="go">....:                                  cream=&#39;fluffy, white stuff&#39;)),</span>
<span class="go">....:         tip=dict(default=10, description=&#39;Reward for good service&#39;,</span>
<span class="go">....:         checker=lambda tip: tip in range(0,20))</span>
<span class="go">....:     )</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span> <span class="n">skip</span> <span class="o">=</span> <span class="s1">&#39;_test_pickling&#39;</span> <span class="p">)</span> <span class="c1"># not attached to a class =&gt; can&#39;t pickle</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">Partitions</span><span class="o">.</span><span class="n">options</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul>
<li><p class="first">Andrew Mathas (2013): initial version</p>
</li>
<li><dl class="first docutils">
<dt>Andrew Mathas (2016): overhaul making the options attributes, enabling</dt>
<dd><p class="first last">pickling and attaching the options to a class.</p>
</dd>
</dl>
</li>
</ul>
<dl class="class">
<dt id="sage.structure.global_options.GlobalOptions">
<em class="property">class </em><code class="descclassname">sage.structure.global_options.</code><code class="descname">GlobalOptions</code><span class="sig-paren">(</span><em>name=''</em>, <em>module=''</em>, <em>option_class=''</em>, <em>doc=''</em>, <em>end_doc=''</em>, <em>**options</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.global_options.GlobalOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>The <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> class is a generic class for setting and
accessing global options for <code class="docutils literal"><span class="pre">sage</span></code> objects. It takes as inputs a
<code class="docutils literal"><span class="pre">name</span></code> for the collection of options and a dictionary of dictionaries
which specifies the individual options. The allowed/expected keys in the
dictionary are the following:</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">name</span></code> &#8211; specifies a name for the options class (required)</li>
<li><code class="docutils literal"><span class="pre">module</span></code> &#8211; gives the module that contains the associated options class</li>
<li><code class="docutils literal"><span class="pre">option_class</span></code> &#8211; gives the name of the associated module class
(default: <code class="docutils literal"><span class="pre">name</span></code>)</li>
<li><code class="docutils literal"><span class="pre">doc</span></code> &#8211; initial documentation string</li>
<li><code class="docutils literal"><span class="pre">end_doc</span></code> &#8211; final documentation string</li>
<li><code class="docutils literal"><span class="pre">&lt;options&gt;=dict(...)</span></code> &#8211; dictionary specifying an option</li>
</ul>
<p>The options are specified by keyword arguments with their values
being a dictionary which describes the option. The
allowed/expected keys in the dictionary are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">alias</span></code> &#8211; defines alias/synonym for option values</li>
<li><code class="docutils literal"><span class="pre">alt_name</span></code> &#8211; alternative name for an option</li>
<li><code class="docutils literal"><span class="pre">checker</span></code> &#8211; a function for checking whether a particular value for
the option is valid</li>
<li><code class="docutils literal"><span class="pre">default</span></code> &#8211; the default value of the option</li>
<li><code class="docutils literal"><span class="pre">description</span></code> &#8211; documentation string</li>
<li><code class="docutils literal"><span class="pre">link_to</span></code> &#8211; links to an option for this set of options to an
option in another <a class="reference internal" href="#sage.structure.global_options.GlobalOptions" title="sage.structure.global_options.GlobalOptions"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a></li>
<li><code class="docutils literal"><span class="pre">setter</span></code> &#8211; a function (class method) which is called whenever this
option changes</li>
<li><code class="docutils literal"><span class="pre">values</span></code> &#8211; a dictionary of the legal values for this option (this
automatically defines the corresponding <code class="docutils literal"><span class="pre">checker</span></code>); this dictionary
gives the possible options, as keys, together with a brief description
of them</li>
<li><code class="docutils literal"><span class="pre">case_sensitive</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">True</span></code>) <code class="docutils literal"><span class="pre">True</span></code> or <code class="docutils literal"><span class="pre">False</span></code>
depending on whether the values of the option are case sensitive</li>
</ul>
<p>Options and their values can be abbreviated provided that this
abbreviation is a prefix of a unique option.</p>
<p>Calling the options with no arguments results in the list of
current options being printed.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.global_options</span> <span class="kn">import</span> <span class="n">GlobalOptions</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">Menu</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="go">....:     options = GlobalOptions(&#39;menu&#39;, doc=&#39;Fancy documentation\n&#39;+&#39;-&#39;*19, end_doc=&#39;End of Fancy documentation&#39;,</span>
<span class="go">....:         entree=dict(default=&#39;soup&#39;,</span>
<span class="go">....:                     description=&#39;The first course of a meal&#39;,</span>
<span class="go">....:                     values=dict(soup=&#39;soup of the day&#39;, bread=&#39;oven baked&#39;),</span>
<span class="go">....:                     alias=dict(rye=&#39;bread&#39;)),</span>
<span class="go">....:         appetizer=dict(alt_name=&#39;entree&#39;),</span>
<span class="go">....:         main=dict(default=&#39;pizza&#39;, description=&#39;Main meal&#39;,</span>
<span class="go">....:                   values=dict(pizza=&#39;thick crust&#39;, pasta=&#39;penne arrabiata&#39;),</span>
<span class="go">....:                   case_sensitive=False),</span>
<span class="go">....:         dessert=dict(default=&#39;espresso&#39;, description=&#39;Dessert&#39;,</span>
<span class="go">....:                      values=dict(espresso=&#39;life begins again&#39;,</span>
<span class="go">....:                                  cake=&#39;waist begins again&#39;,</span>
<span class="go">....:                                  cream=&#39;fluffy white stuff&#39;)),</span>
<span class="go">....:         tip=dict(default=10, description=&#39;Reward for good service&#39;,</span>
<span class="go">....:                  checker=lambda tip: tip in range(0,20))</span>
<span class="go">....:     )</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span>
<span class="go">Current options for menu</span>
<span class="go">  - dessert: espresso</span>
<span class="go">  - entree:  soup</span>
<span class="go">  - main:    pizza</span>
<span class="go">  - tip:     10</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">entree</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>         <span class="c1"># unambiguous abbreviations are allowed</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">15</span><span class="p">);</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;tip&#39;</span><span class="p">],</span> <span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">))</span>
<span class="go">(15, 15)</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">()</span>
<span class="go">Current options for menu</span>
<span class="go">  - dessert: espresso</span>
<span class="go">  - entree:  soup</span>
<span class="go">  - main:    pizza</span>
<span class="go">  - tip:     15</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">_reset</span><span class="p">();</span> <span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">()</span>
<span class="go">Current options for menu</span>
<span class="go">  - dessert: espresso</span>
<span class="go">  - entree:  soup</span>
<span class="go">  - main:    pizza</span>
<span class="go">  - tip:     10</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">tip</span><span class="o">=</span><span class="mi">40</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">40 is not a valid value for tip in the options for menu</span>
<span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>           <span class="c1"># ambiguous abbreviations are not allowed</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">p is not a valid value for main in the options for menu</span>
</pre></div>
</div>
<p>The documentation for the options class is automatically generated from the
information which specifies the options:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Fancy documentation
-------------------

OPTIONS:

- dessert:  (default: espresso)
  Dessert

  - ``cake``     -- waist begins again
  - ``cream``    -- fluffy white stuff
  - ``espresso`` -- life begins again

- entree:  (default: soup)
  The first course of a meal

  - ``bread`` -- oven baked
  - ``rye``   -- alias for bread
  - ``soup``  -- soup of the day

- main:  (default: pizza)
  Main meal

  - ``pasta`` -- penne arrabiata
  - ``pizza`` -- thick crust

- tip:  (default: 10)
  Reward for good service

End of Fancy documentation

See :class:`~sage.structure.global_options.GlobalOptions` for more features of these options.
</pre></div>
</div>
<p>The possible values for an individual option can be obtained by
(trying to) set it equal to &#8216;?&#8217;:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Menu</span><span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">des</span><span class="o">=</span><span class="s1">&#39;?&#39;</span><span class="p">)</span>
<span class="go">- ``dessert`` -- (default: ``espresso``)</span>
<span class="go">  Dessert</span>

<span class="go">  - ``cake``     -- waist begins again</span>
<span class="go">  - ``cream``    -- fluffy white stuff</span>
<span class="go">  - ``espresso`` -- life begins again</span>

<span class="go">Current value: espresso</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.structure.global_options.GlobalOptions.default_value">
<code class="descname">default_value</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.global_options.GlobalOptions.default_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <code class="xref py py-meth docutils literal"><span class="pre">_default_value()</span></code> instead.
See <a class="reference external" href="https://trac.sagemath.org/18555">trac ticket #18555</a> for details.</p>
</dd></dl>

<dl class="method">
<dt id="sage.structure.global_options.GlobalOptions.dispatch">
<code class="descname">dispatch</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.global_options.GlobalOptions.dispatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <code class="xref py py-meth docutils literal"><span class="pre">_dispatch()</span></code> instead.
See <a class="reference external" href="https://trac.sagemath.org/18555">trac ticket #18555</a> for details.</p>
</dd></dl>

<dl class="method">
<dt id="sage.structure.global_options.GlobalOptions.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.global_options.GlobalOptions.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <code class="xref py py-meth docutils literal"><span class="pre">_reset()</span></code> instead.
See <a class="reference external" href="https://trac.sagemath.org/18555">trac ticket #18555</a> for details.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.global_options.Option">
<em class="property">class </em><code class="descclassname">sage.structure.global_options.</code><code class="descname">Option</code><span class="sig-paren">(</span><em>options</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.global_options.Option" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>An option.</p>
<p>Each option for an options class is an instance of this class which
implements the magic that allows the options to the attributes of the
options class that can be looked up, set and called.</p>
<p>By way of example, this class implements the following functionality.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Partitions</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span>
<span class="go">list</span>
<span class="gp">sage: </span><span class="n">Partitions</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">=</span><span class="s1">&#39;compact&#39;</span>
<span class="gp">sage: </span><span class="n">Partitions</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Partitions</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">_reset</span><span class="p">()</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">Partitions</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Global options</a><ul>
<li><a class="reference internal" href="#construction-of-options-classes">Construction of options classes</a></li>
<li><a class="reference internal" href="#accessing-and-setting-option-values">Accessing and setting option values</a></li>
<li><a class="reference internal" href="#setter-functions">Setter functions</a></li>
<li><a class="reference internal" href="#documentation-for-options">Documentation for options</a></li>
<li><a class="reference internal" href="#dispatchers">Dispatchers</a></li>
<li><a class="reference internal" href="#doc-testing">Doc testing</a></li>
<li><a class="reference internal" href="#tests">Tests</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="nonexact.html"
                                  title="previous chapter">Precision management for non-exact objects</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="parent_old.html"
                                  title="next chapter">Base class for old-style parent objects</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/structure/global_options.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="parent_old.html" title="Base class for old-style parent objects"
             >next</a> |</li>
        <li class="right" >
          <a href="nonexact.html" title="Precision management for non-exact objects"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../index.html">Basic Structures</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005--2017, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>