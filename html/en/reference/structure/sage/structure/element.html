<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Element Wrapper" href="element_wrapper.html" /><link rel="prev" title="Pure python code for abstract base class for objects with generators" href="gens_py.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.06.21"/>
        <title>Elements - Parents and Elements</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom-furo.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZGD13B5572"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ZGD13B5572');
</script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Parents and Elements</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 9.7 Reference Manual</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="../../index.html">Home - Parents and Elements</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="sage_object.html">Abstract base class for Sage objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="category_object.html">Base class for objects of a category</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="parent.html">Base class for parent objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexed_generators.html">Indexed Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="nonexact.html">Precision management for non-exact objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="global_options.html">Global options</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="parent_old.html">Base class for old-style parent objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="parent_base.html">Base class for old-style parent objects with a base ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="parent_gens.html">Base class for old-style parent objects with generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="gens_py.html">Pure python code for abstract base class for objects with generators</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="element_wrapper.html">Element Wrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="list_clone.html">Elements, Array and Lists With Clone Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="list_clone_demo.html">Elements, Array and Lists With Clone Protocol, demonstration classes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="formal_sum.html">Formal sums</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorization.html">Factorizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorization_integer.html">IntegerFactorization objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="sequence.html">Finite Homogeneous Sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="set_factories.html">Set factories</a></li>
<li class="toctree-l1"><a class="reference internal" href="set_factories_example.html">An example of set factory</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="proof/proof.html">Global proof preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/proof.html">Whether or not computations are provably correct by default</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="richcmp.html">Cython-like rich comparisons in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="unique_representation.html">Unique Representation</a></li>
<li class="toctree-l1"><a class="reference internal" href="factory.html">Factory for cached representations</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynamic_class.html">Dynamic classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="mutability.html">Mutability Cython Implementation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="debug_options.html">Debug options for the <code class="xref py py-mod docutils literal notranslate"><span class="pre">sage.structure</span></code> modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="list_clone_timings.html">Performance Test for Clone Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="list_clone_timings_cy.html">Cython Functions for Timing Clone Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="test_factory.html">Test of the <code class="xref py py-mod docutils literal notranslate"><span class="pre">factory</span></code> module</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="elements">
<span id="sage-structure-element"></span><h1>Elements<a class="headerlink" href="#elements" title="Permalink to this headline">#</a></h1>
<span class="target" id="module-sage.structure.element"></span><p>AUTHORS:</p>
<ul class="simple">
<li><p>David Harvey (2006-10-16): changed CommutativeAlgebraElement to
derive from CommutativeRingElement instead of AlgebraElement</p></li>
<li><p>David Harvey (2006-10-29): implementation and documentation of new
arithmetic architecture</p></li>
<li><p>William Stein (2006-11): arithmetic architecture – pushing it
through to completion.</p></li>
<li><p>Gonzalo Tornaria (2007-06): recursive base extend for coercion –
lots of tests</p></li>
<li><p>Robert Bradshaw (2007-2010): arithmetic operators and coercion</p></li>
<li><p>Maarten Derickx (2010-07): added architecture for is_square and sqrt</p></li>
<li><p>Jeroen Demeyer (2016-08): moved all coercion to the base class
<a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>, see <a class="reference external" href="https://trac.sagemath.org/20767">trac ticket #20767</a></p></li>
</ul>
<section id="the-abstract-element-class-hierarchy">
<h2>The Abstract Element Class Hierarchy<a class="headerlink" href="#the-abstract-element-class-hierarchy" title="Permalink to this headline">#</a></h2>
<p>This is the abstract class hierarchy, i.e., these are all
abstract base classes.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">SageObject</span>
<span class="go">    Element</span>
<span class="go">        ModuleElement</span>
<span class="go">            RingElement</span>
<span class="go">                CommutativeRingElement</span>
<span class="go">                    IntegralDomainElement</span>
<span class="go">                        DedekindDomainElement</span>
<span class="go">                            PrincipalIdealDomainElement</span>
<span class="go">                                EuclideanDomainElement</span>
<span class="go">                    FieldElement</span>
<span class="go">                    CommutativeAlgebraElement</span>
<span class="go">                    Expression</span>
<span class="go">                AlgebraElement</span>
<span class="go">                    Matrix</span>
<span class="go">                InfinityElement</span>
<span class="go">            AdditiveGroupElement</span>
<span class="go">            Vector</span>

<span class="go">        MonoidElement</span>
<span class="go">            MultiplicativeGroupElement</span>
<span class="go">    ElementWithCachedMethod</span>
</pre></div>
</div>
</section>
<section id="how-to-define-a-new-element-class">
<h2>How to Define a New Element Class<a class="headerlink" href="#how-to-define-a-new-element-class" title="Permalink to this headline">#</a></h2>
<p>Elements typically define a method <code class="docutils literal notranslate"><span class="pre">_new_c</span></code>, e.g.,</p>
<div class="highlight-cython notranslate"><div class="highlight"><pre><span></span><span class="k">cdef</span> <span class="nf">_new_c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">defining</span> <span class="n">data</span><span class="p">):</span>
    <span class="k">cdef</span> <span class="kt">FreeModuleElement_generic_dense</span> <span class="nf">x</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">FreeModuleElement_generic_dense</span><span class="o">.</span><span class="n">__new__</span><span class="p">(</span><span class="n">FreeModuleElement_generic_dense</span><span class="p">)</span>
    <span class="n">x</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span>
    <span class="n">x</span><span class="o">.</span><span class="n">_entries</span> <span class="o">=</span> <span class="n">v</span>
</pre></div>
</div>
<p>that creates a new sibling very quickly from defining data
with assumed properties.</p>
<section id="arithmetic-for-elements">
<span id="element-arithmetic"></span><h3>Arithmetic for Elements<a class="headerlink" href="#arithmetic-for-elements" title="Permalink to this headline">#</a></h3>
<p>Sage has a special system for handling arithmetic operations on Sage
elements (that is instances of <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>), in particular to
manage uniformly mixed arithmetic operations using the <a class="reference external" href="../../../coercion/sage/structure/coerce.html#module-sage.structure.coerce" title="(in Coercion v9.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">coercion</span>
<span class="pre">model</span></code></a>. We describe here the rules that must
be followed by both arithmetic implementers and callers.</p>
<section id="a-quick-summary-for-the-impatient">
<h4>A quick summary for the impatient<a class="headerlink" href="#a-quick-summary-for-the-impatient" title="Permalink to this headline">#</a></h4>
<p>To implement addition for any <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> subclass, override the
<code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">_add_(self,</span> <span class="pre">other)</span></code> method instead of the usual Python
<code class="docutils literal notranslate"><span class="pre">__add__</span></code> <a class="reference external" href="https://docs.python.org/release/3.8.10/reference/datamodel.html#special-method-names">special method</a>.
Within <code class="docutils literal notranslate"><span class="pre">_add_(self,</span> <span class="pre">other)</span></code>, you may assume that <code class="docutils literal notranslate"><span class="pre">self</span></code> and
<code class="docutils literal notranslate"><span class="pre">other</span></code> have the same parent.</p>
<p>If the implementation is generic across all elements in a given
category <span class="math notranslate nohighlight">\(C\)</span>, then this method can be put in <code class="docutils literal notranslate"><span class="pre">C.ElementMethods</span></code>.</p>
<p>When writing <em>Cython</em> code, <code class="docutils literal notranslate"><span class="pre">_add_</span></code> should be a cpdef method:
<code class="docutils literal notranslate"><span class="pre">cpdef</span> <span class="pre">_add_(self,</span> <span class="pre">other)</span></code>.</p>
<p>When doing arithmetic with two elements having different parents,
the <a class="reference external" href="../../../coercion/sage/structure/coerce.html#module-sage.structure.coerce" title="(in Coercion v9.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">coercion</span> <span class="pre">model</span></code></a> is responsible for
“coercing” them to a common parent and performing arithmetic on the
coerced elements.</p>
</section>
<section id="arithmetic-in-more-detail">
<h4>Arithmetic in more detail<a class="headerlink" href="#arithmetic-in-more-detail" title="Permalink to this headline">#</a></h4>
<p>The aims of this system are to provide (1) an efficient calling protocol
from both Python and Cython, (2) uniform coercion semantics across Sage,
(3) ease of use, (4) readability of code.</p>
<p>We will take addition as an example; all other operators are similar.
There are two relevant functions, with differing names
(single vs. double underscores).</p>
<ul>
<li><p><strong>def Element.__add__(left, right)</strong></p>
<p>This function is called by Python or Cython when the binary “+”
operator is encountered. It assumes that at least one of its
arguments is an <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>.</p>
<p>It has a fast pathway to deal with the most common case where both
arguments have the same parent. Otherwise, it uses the coercion
model to work out how to make them have the same parent. The
coercion model then adds the coerced elements (technically, it calls
<code class="docutils literal notranslate"><span class="pre">operator.add</span></code>). Note that the result of coercion is not required
to be a Sage <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>, it could be a plain Python type.</p>
<p>Note that, although this function is declared as <code class="docutils literal notranslate"><span class="pre">def</span></code>, it doesn’t
have the usual overheads associated with Python functions (either
for the caller or for <code class="docutils literal notranslate"><span class="pre">__add__</span></code> itself). This is because Python
has optimised calling protocols for such special functions.</p>
</li>
<li><p><strong>def Element._add_(self, other)</strong></p>
<p>This is the function that you should override to implement addition
in a subclass of <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>.</p>
<p>The two arguments to this function are guaranteed to have the <strong>same
parent</strong>, but not necessarily the same Python type.</p>
<p>When implementing <code class="docutils literal notranslate"><span class="pre">_add_</span></code> in a Cython extension type, use
<code class="docutils literal notranslate"><span class="pre">cpdef</span> <span class="pre">_add_</span></code> instead of <code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">_add_</span></code>.</p>
<p>In Cython code, if you want to add two elements and you know that
their parents are identical, you are encouraged to call this
function directly, instead of using <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code>. This only works if
Cython knows that the left argument is an <code class="docutils literal notranslate"><span class="pre">Element</span></code>. You can
always cast explicitly: <code class="docutils literal notranslate"><span class="pre">(&lt;Element&gt;x)._add_(y)</span></code> to force this.
In plain Python, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code> is always the fastest way to add two
elements because the special method <code class="docutils literal notranslate"><span class="pre">__add__</span></code> is optimized
unlike the normal method <code class="docutils literal notranslate"><span class="pre">_add_</span></code>.</p>
</li>
</ul>
<p>The difference in the names of the arguments (<code class="docutils literal notranslate"><span class="pre">left,</span> <span class="pre">right</span></code>
versus <code class="docutils literal notranslate"><span class="pre">self,</span> <span class="pre">other</span></code>) is intentional: <code class="docutils literal notranslate"><span class="pre">self</span></code> is guaranteed to be an
instance of the class in which the method is defined. In Cython, we know
that at least one of <code class="docutils literal notranslate"><span class="pre">left</span></code> or <code class="docutils literal notranslate"><span class="pre">right</span></code> is an instance of the class
but we do not know a priori which one.</p>
<p>Powering is a special case: first of all, the 3-argument version of
<code class="docutils literal notranslate"><span class="pre">pow()</span></code> is not supported. Second, the coercion model checks whether
the exponent looks like an integer. If so, the function <code class="docutils literal notranslate"><span class="pre">_pow_int</span></code>
is called. If the exponent is not an integer, the arguments are coerced
to a common parent and <code class="docutils literal notranslate"><span class="pre">_pow_</span></code> is called. So, if your type only
supports powering to an integer exponent, you should implement only
<code class="docutils literal notranslate"><span class="pre">_pow_int</span></code>. If you want to support arbitrary powering, implement both
<code class="docutils literal notranslate"><span class="pre">_pow_</span></code> and <code class="docutils literal notranslate"><span class="pre">_pow_int</span></code>.</p>
<p>For addition, multiplication and powering (not for other operators),
there is a fast path for operations with a C <code class="docutils literal notranslate"><span class="pre">long</span></code>. For example,
implement <code class="docutils literal notranslate"><span class="pre">cdef</span> <span class="pre">_add_long(self,</span> <span class="pre">long</span> <span class="pre">n)</span></code> with optimized code for
<code class="docutils literal notranslate"><span class="pre">self</span> <span class="pre">+</span> <span class="pre">n</span></code>. The addition and multiplication are assumed to be
commutative, so they are also called for <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">+</span> <span class="pre">self</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span> <span class="pre">*</span> <span class="pre">self</span></code>.
From Cython code, you can also call <code class="docutils literal notranslate"><span class="pre">_add_long</span></code> or <code class="docutils literal notranslate"><span class="pre">_mul_long</span></code>
directly. This is strictly an optimization: there is a default
implementation falling back to the generic arithmetic function.</p>
</section>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">#</a></h4>
<p>We need some <a class="reference internal" href="parent.html#sage.structure.parent.Parent" title="sage.structure.parent.Parent"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parent</span></code></a> to work with:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.parent</span> <span class="kn">import</span> <span class="n">Parent</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">ExampleParent</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="n">Parent</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p>We start with a very basic example of a Python class implementing
<code class="docutils literal notranslate"><span class="pre">_add_</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyElement</span><span class="p">(</span><span class="n">Element</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_add_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="mi">42</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">ExampleParent</span><span class="p">(</span><span class="s2">&quot;Some parent&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">MyElement</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span>
<span class="go">42</span>
</pre></div>
</div>
<p>When two different parents are involved, this no longer works since
there is no coercion:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="n">ExampleParent</span><span class="p">(</span><span class="s2">&quot;Other parent&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">MyElement</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: unsupported operand parent(s) for +: &#39;Some parent&#39; and &#39;Other parent&#39;</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">_add_</span></code> is not defined, an error message is raised, referring to
the parents:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">_add_</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AttributeError: &#39;sage.structure.element.Element&#39; object has no attribute &#39;_add_&#39;</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: unsupported operand parent(s) for +: &#39;Some parent&#39; and &#39;Some parent&#39;</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: unsupported operand parent(s) for +: &#39;Some parent&#39; and &#39;Other parent&#39;</span>
</pre></div>
</div>
<p>We can also implement arithmetic generically in categories:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyCategory</span><span class="p">(</span><span class="n">Category</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">super_categories</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="p">[</span><span class="n">Sets</span><span class="p">()]</span>
<span class="gp">....: </span>    <span class="k">class</span> <span class="nc">ElementMethods</span><span class="p">:</span>
<span class="gp">....: </span>        <span class="k">def</span> <span class="nf">_add_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">....: </span>            <span class="k">return</span> <span class="mi">42</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">ExampleParent</span><span class="p">(</span><span class="s2">&quot;Parent in my category&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="n">MyCategory</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">+</span> <span class="n">x</span>
<span class="go">42</span>
</pre></div>
</div>
</section>
<section id="implementation-details">
<h4>Implementation details<a class="headerlink" href="#implementation-details" title="Permalink to this headline">#</a></h4>
<p>Implementing the above features actually takes a bit of magic. Casual
callers and implementers can safely ignore it, but here are the
details for the curious.</p>
<p>To achieve fast arithmetic, it is critical to have a fast path in Cython
to call the <code class="docutils literal notranslate"><span class="pre">_add_</span></code> method of a Cython object. So we would like
to declare <code class="docutils literal notranslate"><span class="pre">_add_</span></code> as a <code class="docutils literal notranslate"><span class="pre">cpdef</span></code> method of class <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>.
Remember however that the abstract classes coming
from categories come after <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> in the method resolution
order (or fake method resolution order in case of a Cython
class). Hence any generic implementation of <code class="docutils literal notranslate"><span class="pre">_add_</span></code> in such an
abstract class would in principle be shadowed by <code class="docutils literal notranslate"><span class="pre">Element._add_</span></code>.
This is worked around by defining <code class="docutils literal notranslate"><span class="pre">Element._add_</span></code> as a <code class="docutils literal notranslate"><span class="pre">cdef</span></code>
instead of a <code class="docutils literal notranslate"><span class="pre">cpdef</span></code> method. Concrete implementations in subclasses
should be <code class="docutils literal notranslate"><span class="pre">cpdef</span></code> or <code class="docutils literal notranslate"><span class="pre">def</span></code> methods.</p>
<p>Let us now see what happens upon evaluating <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code> when <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>
are instances of a class that does not implement <code class="docutils literal notranslate"><span class="pre">_add_</span></code> but where
<code class="docutils literal notranslate"><span class="pre">_add_</span></code> is implemented in the category.
First, <code class="docutils literal notranslate"><span class="pre">x.__add__(y)</span></code> is called, where <code class="docutils literal notranslate"><span class="pre">__add__</span></code> is implemented
in <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>.
Assuming that <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> have the same parent, a Cython call to
<code class="docutils literal notranslate"><span class="pre">x._add_(y)</span></code> will be done.
The latter is implemented to trigger a Python level call to <code class="docutils literal notranslate"><span class="pre">x._add_(y)</span></code>
which will succeed as desired.</p>
<p>In case that Python code calls <code class="docutils literal notranslate"><span class="pre">x._add_(y)</span></code> directly,
<code class="docutils literal notranslate"><span class="pre">Element._add_</span></code> will be invisible, and the method lookup will
continue down the MRO and find the <code class="docutils literal notranslate"><span class="pre">_add_</span></code> method in the category.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.AdditiveGroupElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">AdditiveGroupElement</span></span><a class="headerlink" href="#sage.structure.element.AdditiveGroupElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.ModuleElement" title="sage.structure.element.ModuleElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.ModuleElement</span></code></a></p>
<p>Generic element of an additive group.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.AdditiveGroupElement.order">
<span class="sig-name descname"><span class="pre">order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.AdditiveGroupElement.order" title="Permalink to this definition">#</a></dt>
<dd><p>Return additive order of element</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.AlgebraElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">AlgebraElement</span></span><a class="headerlink" href="#sage.structure.element.AlgebraElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.RingElement" title="sage.structure.element.RingElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.RingElement</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.CommutativeAlgebraElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">CommutativeAlgebraElement</span></span><a class="headerlink" href="#sage.structure.element.CommutativeAlgebraElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.CommutativeRingElement" title="sage.structure.element.CommutativeRingElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.CommutativeRingElement</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.CommutativeRingElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">CommutativeRingElement</span></span><a class="headerlink" href="#sage.structure.element.CommutativeRingElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.RingElement" title="sage.structure.element.RingElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.RingElement</span></code></a></p>
<p>Base class for elements of commutative rings.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.CommutativeRingElement.divides">
<span class="sig-name descname"><span class="pre">divides</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.CommutativeRingElement.divides" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">self</span></code> divides x.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p><a class="reference external" href="https://trac.sagemath.org/5347">trac ticket #5347</a> has been fixed:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">K</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Integers</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="mi">120</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="mi">121</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">x</span></code> has different parent than <code class="docutils literal notranslate"><span class="pre">self</span></code>, they are first coerced to a
common parent if possible. If this coercion fails, it returns a
TypeError. This fixes <a class="reference external" href="https://trac.sagemath.org/5759">trac ticket #5759</a>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Zmod</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">Zmod</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Zmod</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">Zmod</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">Zmod</span><span class="p">(</span><span class="mi">5</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">Zmod</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: no common canonical parent for objects with parents: &#39;Ring of integers modulo 5&#39; and &#39;Ring of integers modulo 2&#39;</span>
<span class="gp">sage: </span><span class="n">Zmod</span><span class="p">(</span><span class="mi">35</span><span class="p">)(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">Zmod</span><span class="p">(</span><span class="mi">7</span><span class="p">)(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Zmod</span><span class="p">(</span><span class="mi">35</span><span class="p">)(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">Zmod</span><span class="p">(</span><span class="mi">7</span><span class="p">)(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.CommutativeRingElement.inverse_mod">
<span class="sig-name descname"><span class="pre">inverse_mod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.CommutativeRingElement.inverse_mod" title="Permalink to this definition">#</a></dt>
<dd><p>Return an inverse of <code class="docutils literal notranslate"><span class="pre">self</span></code> modulo the ideal <span class="math notranslate nohighlight">\(I\)</span>, if defined,
i.e., if <span class="math notranslate nohighlight">\(I\)</span> and <code class="docutils literal notranslate"><span class="pre">self</span></code> together generate the unit ideal.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">zero</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">inverse_mod</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">ideal</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
<span class="go">2*z2 + 3</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">inverse_mod</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">ideal</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">inverse_mod</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">ideal</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">inverse_mod</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">ideal</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: an element of a proper ideal does not have an inverse modulo that ideal</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.CommutativeRingElement.is_square">
<span class="sig-name descname"><span class="pre">is_square</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.CommutativeRingElement.is_square" title="Permalink to this definition">#</a></dt>
<dd><p>Return whether or not the ring element <code class="docutils literal notranslate"><span class="pre">self</span></code> is a square.</p>
<p>If the optional argument root is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then also return
the square root (or <code class="docutils literal notranslate"><span class="pre">None</span></code>, if it is not a square).</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">root</span></code> - whether or not to also return a square
root (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code> – whether or not a square</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">object</span></code> – (optional) an actual square root if
found, and <code class="docutils literal notranslate"><span class="pre">None</span></code> otherwise.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">12</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">is_square</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">is_square</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">(False, None)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">f</span><span class="o">/</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">is_square</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">is_square</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">(True, 2*x^2 + 8*x + 6)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is the is_square implementation for general
commutative ring elements. It’s implementation is to raise
a NotImplementedError. The function definition is here to
show what functionality is expected and provide a general
framework.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.CommutativeRingElement.mod">
<span class="sig-name descname"><span class="pre">mod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.CommutativeRingElement.mod" title="Permalink to this definition">#</a></dt>
<dd><p>Return a representative for <code class="docutils literal notranslate"><span class="pre">self</span></code> modulo the ideal I (or the ideal
generated by the elements of I if I is not an ideal.)</p>
<p>EXAMPLES:  Integers
Reduction of 5 modulo an ideal:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">ZZ</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Reduction of 5 modulo the ideal generated by 3:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Reduction of 5 modulo the ideal generated by 15 and 6, which is <span class="math notranslate nohighlight">\((3)\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">mod</span><span class="p">([</span><span class="mi">15</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="go">2</span>
</pre></div>
</div>
<p>EXAMPLES: Univariate polynomials</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
<p>Reduction for <span class="math notranslate nohighlight">\(\ZZ[x]\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
<p>When little is implemented about a given ring, then <code class="docutils literal notranslate"><span class="pre">mod</span></code> may
simply return <span class="math notranslate nohighlight">\(f\)</span>.</p>
<p>EXAMPLES: Multivariate polynomials
We reduce a polynomial in two variables modulo a polynomial
and an ideal:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="p">)</span>
<span class="go">2*y^2 + 2*y*z + 2*z^2</span>
</pre></div>
</div>
<p>Notice above that <span class="math notranslate nohighlight">\(x\)</span> is eliminated.  In the next example,
both <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span> are eliminated:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span> <span class="p">)</span>
<span class="go">3*z^2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span>
<span class="go">x^4 + 2*x^2*y^2 + y^4 + 2*x^2*z^2 + 2*y^2*z^2 + z^4</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span> <span class="p">)</span>
<span class="go">9*z^4</span>
</pre></div>
</div>
<p>In this example <span class="math notranslate nohighlight">\(y\)</span> is eliminated:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span> <span class="p">)</span>
<span class="go">x^2 + 2*z^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.CommutativeRingElement.sqrt">
<span class="sig-name descname"><span class="pre">sqrt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.CommutativeRingElement.sqrt" title="Permalink to this definition">#</a></dt>
<dd><p>It computes the square root.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">extend</span></code> - Whether to make a ring extension containing a square root if <code class="docutils literal notranslate"><span class="pre">self</span></code> is not a square (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">all</span></code> - Whether to return a list of all square roots or just a square root (default: False)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> - Required when <code class="docutils literal notranslate"><span class="pre">extend=True</span></code> and <code class="docutils literal notranslate"><span class="pre">self</span></code> is not a square. This will be the name of the generator extension.</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">all=False</span></code> it returns a square root. (throws an error if <code class="docutils literal notranslate"><span class="pre">extend=False</span></code> and <code class="docutils literal notranslate"><span class="pre">self</span></code> is not a square)</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">all=True</span></code> it returns a list of all the square roots (could be empty if <code class="docutils literal notranslate"><span class="pre">extend=False</span></code> and <code class="docutils literal notranslate"><span class="pre">self</span></code> is not a square)</p></li>
</ul>
<p>ALGORITHM:</p>
<p>It uses <code class="docutils literal notranslate"><span class="pre">is_square(root=true)</span></code> for the hard part of the work, the rest is just wrapper code.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[x - 2, -x + 2]</span>
<span class="gp">sage: </span><span class="n">sqrtx</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">);</span> <span class="n">sqrtx</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="n">sqrtx</span><span class="o">^</span><span class="mi">2</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="n">true</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
<span class="go">[y, -y]</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">extend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: Polynomial is not a square. You must specify the name of the square root when using the default extend = True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">extend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: trying to take square root of non-square x with extend = False</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.DedekindDomainElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">DedekindDomainElement</span></span><a class="headerlink" href="#sage.structure.element.DedekindDomainElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.IntegralDomainElement" title="sage.structure.element.IntegralDomainElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.IntegralDomainElement</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.Element">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">Element</span></span><a class="headerlink" href="#sage.structure.element.Element" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="sage_object.html#sage.structure.sage_object.SageObject" title="sage.structure.sage_object.SageObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.sage_object.SageObject</span></code></a></p>
<p>Generic element of a structure. All other types of elements
(<a class="reference internal" href="#sage.structure.element.RingElement" title="sage.structure.element.RingElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">RingElement</span></code></a>, <a class="reference internal" href="#sage.structure.element.ModuleElement" title="sage.structure.element.ModuleElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModuleElement</span></code></a>, etc)
derive from this type.</p>
<p>Subtypes must either call <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> to set <code class="docutils literal notranslate"><span class="pre">_parent</span></code>, or may
set <code class="docutils literal notranslate"><span class="pre">_parent</span></code> themselves if that would be more efficient.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element._richcmp_">
<span class="sig-name descname"><span class="pre">_richcmp_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element._richcmp_" title="Permalink to this definition">#</a></dt>
<dd><p>Basic default implementation of rich comparisons for elements with
equal parents.</p>
<p>It does a comparison by id for <code class="docutils literal notranslate"><span class="pre">==</span></code> and <code class="docutils literal notranslate"><span class="pre">!=</span></code>. Calling this
default method with <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code> will return
<code class="docutils literal notranslate"><span class="pre">NotImplemented</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.parent</span> <span class="kn">import</span> <span class="n">Parent</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">Parent</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e1</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="n">P</span><span class="p">);</span> <span class="n">e2</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">e1</span> <span class="o">==</span> <span class="n">e1</span>    <span class="c1"># indirect doctest</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">e1</span> <span class="o">==</span> <span class="n">e2</span>    <span class="c1"># indirect doctest</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">e1</span> <span class="o">&lt;</span> <span class="n">e2</span>     <span class="c1"># indirect doctest</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: &#39;&lt;&#39; not supported between instances of &#39;sage.structure.element.Element&#39; and &#39;sage.structure.element.Element&#39;</span>
</pre></div>
</div>
<p>We now create an <code class="docutils literal notranslate"><span class="pre">Element</span></code> class where we define <code class="docutils literal notranslate"><span class="pre">_richcmp_</span></code>
and check that comparison works:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cython</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;                                                # optional - sage.misc.cython</span>
<span class="gp">....: </span><span class="s1">from sage.structure.richcmp cimport rich_to_bool</span>
<span class="gp">....: </span><span class="s1">from sage.structure.element cimport Element</span>
<span class="gp">....: </span><span class="s1">cdef class FloatCmp(Element):</span>
<span class="gp">....: </span><span class="s1">    cdef float x</span>
<span class="gp">....: </span><span class="s1">    def __init__(self, float v):</span>
<span class="gp">....: </span><span class="s1">        self.x = v</span>
<span class="gp">....: </span><span class="s1">    cpdef _richcmp_(self, other, int op):</span>
<span class="gp">....: </span><span class="s1">        cdef float x1 = (&lt;FloatCmp&gt;self).x</span>
<span class="gp">....: </span><span class="s1">        cdef float x2 = (&lt;FloatCmp&gt;other).x</span>
<span class="gp">....: </span><span class="s1">        return rich_to_bool(op, (x1 &gt; x2) - (x1 &lt; x2))</span>
<span class="gp">....: </span><span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">FloatCmp</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                                           <span class="c1"># optional - sage.misc.cython</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">FloatCmp</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>                                           <span class="c1"># optional - sage.misc.cython</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">&lt;=</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span> <span class="o">&lt;=</span> <span class="n">a</span>                                            <span class="c1"># optional - sage.misc.cython</span>
<span class="go">(True, False)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.__add__">
<span class="sig-name descname"><span class="pre">__add__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.__add__" title="Permalink to this definition">#</a></dt>
<dd><p>Top-level addition operator for <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> invoking
the coercion model.</p>
<p>See <a class="reference internal" href="#element-arithmetic"><span class="std std-ref">Arithmetic for Elements</span></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyElement</span><span class="p">(</span><span class="n">Element</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_add_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="mi">42</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">MyElement</span><span class="p">(</span><span class="n">Parent</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">+</span> <span class="n">e</span>
<span class="go">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.__sub__">
<span class="sig-name descname"><span class="pre">__sub__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.__sub__" title="Permalink to this definition">#</a></dt>
<dd><p>Top-level subtraction operator for <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> invoking
the coercion model.</p>
<p>See <a class="reference internal" href="#element-arithmetic"><span class="std std-ref">Arithmetic for Elements</span></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyElement</span><span class="p">(</span><span class="n">Element</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_sub_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="mi">42</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">MyElement</span><span class="p">(</span><span class="n">Parent</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">-</span> <span class="n">e</span>
<span class="go">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.__neg__">
<span class="sig-name descname"><span class="pre">__neg__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.__neg__" title="Permalink to this definition">#</a></dt>
<dd><p>Top-level negation operator for <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyElement</span><span class="p">(</span><span class="n">Element</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_neg_</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="mi">42</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">MyElement</span><span class="p">(</span><span class="n">Parent</span><span class="p">())</span>
<span class="gp">sage: </span><span class="o">-</span><span class="n">e</span>
<span class="go">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.__mul__">
<span class="sig-name descname"><span class="pre">__mul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.__mul__" title="Permalink to this definition">#</a></dt>
<dd><p>Top-level multiplication operator for <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> invoking
the coercion model.</p>
<p>See <a class="reference internal" href="#element-arithmetic"><span class="std std-ref">Arithmetic for Elements</span></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyElement</span><span class="p">(</span><span class="n">Element</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_mul_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="mi">42</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">MyElement</span><span class="p">(</span><span class="n">Parent</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">*</span> <span class="n">e</span>
<span class="go">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.__truediv__">
<span class="sig-name descname"><span class="pre">__truediv__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.__truediv__" title="Permalink to this definition">#</a></dt>
<dd><p>Top-level true division operator for <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> invoking
the coercion model.</p>
<p>See <a class="reference internal" href="#element-arithmetic"><span class="std std-ref">Arithmetic for Elements</span></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">operator</span><span class="o">.</span><span class="n">truediv</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">2/3</span>
<span class="gp">sage: </span><span class="n">operator</span><span class="o">.</span><span class="n">truediv</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">1/3*pi</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">i</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">operator</span><span class="o">.</span><span class="n">truediv</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">K</span><span class="o">.</span><span class="n">ideal</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="go">Fractional ideal (-i + 1)</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyElement</span><span class="p">(</span><span class="n">Element</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_div_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="mi">42</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">MyElement</span><span class="p">(</span><span class="n">Parent</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">operator</span><span class="o">.</span><span class="n">truediv</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="go">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.__floordiv__">
<span class="sig-name descname"><span class="pre">__floordiv__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.__floordiv__" title="Permalink to this definition">#</a></dt>
<dd><p>Top-level floor division operator for <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> invoking
the coercion model.</p>
<p>See <a class="reference internal" href="#element-arithmetic"><span class="std std-ref">Arithmetic for Elements</span></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">7</span> <span class="o">//</span> <span class="mi">3</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="mi">7</span> <span class="o">//</span> <span class="nb">int</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="nb">int</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">//</span> <span class="mi">3</span>
<span class="go">2</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyElement</span><span class="p">(</span><span class="n">Element</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_floordiv_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="mi">42</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">MyElement</span><span class="p">(</span><span class="n">Parent</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">//</span> <span class="n">e</span>
<span class="go">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.__mod__">
<span class="sig-name descname"><span class="pre">__mod__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.__mod__" title="Permalink to this definition">#</a></dt>
<dd><p>Top-level modulo operator for <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> invoking
the coercion model.</p>
<p>See <a class="reference internal" href="#element-arithmetic"><span class="std std-ref">Arithmetic for Elements</span></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">7</span> <span class="o">%</span> <span class="mi">3</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="mi">7</span> <span class="o">%</span> <span class="nb">int</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="nb">int</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyElement</span><span class="p">(</span><span class="n">Element</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">_mod_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="mi">42</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">MyElement</span><span class="p">(</span><span class="n">Parent</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">%</span> <span class="n">e</span>
<span class="go">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.base_extend">
<span class="sig-name descname"><span class="pre">base_extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">R</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.base_extend" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.base_ring">
<span class="sig-name descname"><span class="pre">base_ring</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.base_ring" title="Permalink to this definition">#</a></dt>
<dd><p>Return the base ring of this element’s parent (if that makes sense).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.category">
<span class="sig-name descname"><span class="pre">category</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.category" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.is_zero">
<span class="sig-name descname"><span class="pre">is_zero</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.is_zero" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">self</span></code> equals <code class="docutils literal notranslate"><span class="pre">self.parent()(0)</span></code>.</p>
<p>The default implementation is to fall back to <code class="docutils literal notranslate"><span class="pre">not</span>
<span class="pre">self.__bool__</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not re-implement this method in your subclass but
implement <code class="docutils literal notranslate"><span class="pre">__bool__</span></code> instead.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.n">
<span class="sig-name descname"><span class="pre">n</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">digits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.n" title="Permalink to this definition">#</a></dt>
<dd><p>Alias for <a class="reference internal" href="#sage.structure.element.Element.numerical_approx" title="sage.structure.element.Element.numerical_approx"><code class="xref py py-meth docutils literal notranslate"><span class="pre">numerical_approx()</span></code></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">0.666666666666667</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.numerical_approx">
<span class="sig-name descname"><span class="pre">numerical_approx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">digits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.numerical_approx" title="Permalink to this definition">#</a></dt>
<dd><p>Return a numerical approximation of <code class="docutils literal notranslate"><span class="pre">self</span></code> with <code class="docutils literal notranslate"><span class="pre">prec</span></code> bits
(or decimal <code class="docutils literal notranslate"><span class="pre">digits</span></code>) of precision.</p>
<p>No guarantee is made about the accuracy of the result.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">prec</span></code> – precision in bits</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">digits</span></code> – precision in decimal digits (only used if
<code class="docutils literal notranslate"><span class="pre">prec</span></code> is not given)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">algorithm</span></code> – which algorithm to use to compute this
approximation (the accepted algorithms depend on the object)</p></li>
</ul>
<p>If neither <code class="docutils literal notranslate"><span class="pre">prec</span></code> nor <code class="docutils literal notranslate"><span class="pre">digits</span></code> is given, the default
precision is 53 bits (roughly 16 digits).</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">numerical_approx</span><span class="p">()</span>
<span class="go">0.666666666666667</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">3.141592654</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="go">3.1416</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.parent">
<span class="sig-name descname"><span class="pre">parent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.parent" title="Permalink to this definition">#</a></dt>
<dd><p>Return the parent of this element; or, if the optional argument x is
supplied, the result of coercing x into the parent of this element.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.subs">
<span class="sig-name descname"><span class="pre">subs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.subs" title="Permalink to this definition">#</a></dt>
<dd><p>Substitutes given generators with given values while not touching
other generators. This is a generic wrapper around <code class="docutils literal notranslate"><span class="pre">__call__</span></code>.
The syntax is meant to be compatible with the corresponding method
for symbolic expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">in_dict</span></code> - (optional) dictionary of inputs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**kwds</span></code> - named parameters</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>new object if substitution is possible, otherwise self.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;xy&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="n">y</span><span class="p">))</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">x</span><span class="p">:</span><span class="mi">5</span><span class="p">})</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">1/(25*y^2 + y + 30)</span>
<span class="gp">sage: </span><span class="n">Integer</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.Element.substitute">
<span class="sig-name descname"><span class="pre">substitute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.Element.substitute" title="Permalink to this definition">#</a></dt>
<dd><p>This is an alias for self.subs().</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">in_dict</span></code> - (optional) dictionary of inputs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">**kwds</span></code>  - named parameters</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>new object if substitution is possible, otherwise self.</p></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;xy&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="n">y</span><span class="p">))</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">substitute</span><span class="p">({</span><span class="n">x</span><span class="p">:</span><span class="mi">5</span><span class="p">})</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">1/(25*y^2 + y + 30)</span>
<span class="gp">sage: </span><span class="n">Integer</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.ElementWithCachedMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">ElementWithCachedMethod</span></span><a class="headerlink" href="#sage.structure.element.ElementWithCachedMethod" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.Element</span></code></a></p>
<p>An element class that fully supports cached methods.</p>
<p>NOTE:</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">cached_method</span></code> decorator provides
a convenient way to automatically cache the result of a computation.
Since <a class="reference external" href="https://trac.sagemath.org/11115">trac ticket #11115</a>, the cached method decorator applied to a
method without optional arguments is faster than a hand-written cache
in Python, and a cached method without any arguments (except <code class="docutils literal notranslate"><span class="pre">self</span></code>)
is actually faster than a Python method that does nothing more but
to return <code class="docutils literal notranslate"><span class="pre">1</span></code>. A cached method can also be inherited from the parent
or element class of a category.</p>
<p>However, this holds true only if attribute assignment is supported.
If you write an extension class in Cython that does not accept attribute
assignment then a cached method inherited from the category will be
slower (for <a class="reference internal" href="parent.html#sage.structure.parent.Parent" title="sage.structure.parent.Parent"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parent</span></code></a>) or the cache would
even break (for <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>).</p>
<p>This class should be used if you write an element class, cannot provide
it with attribute assignment, but want that it inherits a cached method
from the category. Under these conditions, your class should inherit
from this class rather than <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>. Then, the cache will work,
but certainly slower than with attribute assignment. Lazy attributes
work as well.</p>
<p>EXAMPLES:</p>
<p>We define three element extension classes. The first inherits from
<a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>, the second from this class, and the third simply
is a Python class. We also define a parent class and, in Python, a
category whose element and parent classes define cached methods.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cython_code</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;from sage.structure.element cimport Element, ElementWithCachedMethod&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;from sage.structure.richcmp cimport richcmp&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;cdef class MyBrokenElement(Element):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    cdef public object x&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    def __init__(self, P, x):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        self.x = x&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        Element.__init__(self, P)&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    def __neg__(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        return MyBrokenElement(self.parent(), -self.x)&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    def _repr_(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        return &#39;&lt;</span><span class="si">%s</span><span class="s2">&gt;&#39; </span><span class="si">% s</span><span class="s2">elf.x&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    def __hash__(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        return hash(self.x)&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    cpdef _richcmp_(left, right, int op):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        return richcmp(left.x, right.x, op)&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    def raw_test(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        return -self&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;cdef class MyElement(ElementWithCachedMethod):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    cdef public object x&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    def __init__(self, P, x):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        self.x = x&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        Element.__init__(self, P)&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    def __neg__(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        return MyElement(self.parent(), -self.x)&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    def _repr_(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        return &#39;&lt;</span><span class="si">%s</span><span class="s2">&gt;&#39; </span><span class="si">% s</span><span class="s2">elf.x&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    def __hash__(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        return hash(self.x)&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    cpdef _richcmp_(left, right, int op):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        return richcmp(left.x, right.x, op)&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    def raw_test(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        return -self&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;class MyPythonElement(MyBrokenElement): pass&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;from sage.structure.parent cimport Parent&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;cdef class MyParent(Parent):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    Element = MyElement&quot;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">cython</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cython_code</span><span class="p">))</span>                                    <span class="c1"># optional - sage.misc.cython</span>
<span class="gp">sage: </span><span class="n">cython_code</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;from sage.all import cached_method, cached_in_parent_method, Category, Objects&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;class MyCategory(Category):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    @cached_method&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    def super_categories(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        return [Objects()]&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    class ElementMethods:&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        @cached_method&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        def element_cache_test(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;            return -self&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        @cached_in_parent_method&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        def element_via_parent_test(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;            return -self&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;    class ParentMethods:&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        @cached_method&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        def one(self):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;            return self.element_class(self,1)&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        @cached_method&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;        def invert(self, x):&quot;</span><span class="p">,</span>
<span class="gp">....: </span>    <span class="s2">&quot;            return -x&quot;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">cython</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cython_code</span><span class="p">))</span>                                    <span class="c1"># optional - sage.misc.cython</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">MyCategory</span><span class="p">()</span>                                                  <span class="c1"># optional - sage.misc.cython</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">MyParent</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="n">C</span><span class="p">)</span>                                          <span class="c1"># optional - sage.misc.cython</span>
<span class="gp">sage: </span><span class="n">ebroken</span> <span class="o">=</span> <span class="n">MyBrokenElement</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>                                   <span class="c1"># optional - sage.misc.cython</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">MyElement</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>                                               <span class="c1"># optional - sage.misc.cython</span>
</pre></div>
</div>
<p>The cached methods inherited by <code class="docutils literal notranslate"><span class="pre">MyElement</span></code> works:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>                                            <span class="c1"># optional - sage.misc.cython</span>
<span class="go">&lt;-5&gt;</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span> <span class="ow">is</span> <span class="n">e</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>                  <span class="c1"># optional - sage.misc.cython</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span>                                       <span class="c1"># optional - sage.misc.cython</span>
<span class="go">&lt;-5&gt;</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span> <span class="ow">is</span> <span class="n">e</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span>        <span class="c1"># optional - sage.misc.cython</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The other element class can only inherit a
<code class="docutils literal notranslate"><span class="pre">cached_in_parent_method</span></code>, since the cache is stored in the
parent. In fact, equal elements share the cache, even if they are
of different types:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">e</span> <span class="o">==</span> <span class="n">ebroken</span>                                                      <span class="c1"># optional - sage.misc.cython</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="n">ebroken</span><span class="p">)</span>                                          <span class="c1"># optional - sage.misc.cython</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">ebroken</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span> <span class="ow">is</span> <span class="n">e</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span>  <span class="c1"># optional - sage.misc.cython</span>
<span class="go">True</span>
</pre></div>
</div>
<p>However, the cache of the other inherited method breaks, although the method
as such works:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">ebroken</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>                                      <span class="c1"># optional - sage.misc.cython</span>
<span class="go">&lt;-5&gt;</span>
<span class="gp">sage: </span><span class="n">ebroken</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span> <span class="ow">is</span> <span class="n">ebroken</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>      <span class="c1"># optional - sage.misc.cython</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Since <code class="docutils literal notranslate"><span class="pre">e</span></code> and <code class="docutils literal notranslate"><span class="pre">ebroken</span></code> share the cache, when we empty it for one element
it is empty for the other as well:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">ebroken</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span>                             <span class="c1"># optional - sage.misc.cython</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="o">.</span><span class="n">clear_cache</span><span class="p">()</span>                           <span class="c1"># optional - sage.misc.cython</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="ow">is</span> <span class="n">ebroken</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span>                            <span class="c1"># optional - sage.misc.cython</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Note that the cache only breaks for elements that do no allow attribute assignment.
A Python version of <code class="docutils literal notranslate"><span class="pre">MyBrokenElement</span></code> therefore allows for cached methods:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">epython</span> <span class="o">=</span> <span class="n">MyPythonElement</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>                                   <span class="c1"># optional - sage.misc.cython</span>
<span class="gp">sage: </span><span class="n">epython</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>                                      <span class="c1"># optional - sage.misc.cython</span>
<span class="go">&lt;-5&gt;</span>
<span class="gp">sage: </span><span class="n">epython</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span> <span class="ow">is</span> <span class="n">epython</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>      <span class="c1"># optional - sage.misc.cython</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.EuclideanDomainElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">EuclideanDomainElement</span></span><a class="headerlink" href="#sage.structure.element.EuclideanDomainElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.PrincipalIdealDomainElement" title="sage.structure.element.PrincipalIdealDomainElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.PrincipalIdealDomainElement</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.EuclideanDomainElement.degree">
<span class="sig-name descname"><span class="pre">degree</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.EuclideanDomainElement.degree" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.EuclideanDomainElement.leading_coefficient">
<span class="sig-name descname"><span class="pre">leading_coefficient</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.EuclideanDomainElement.leading_coefficient" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.EuclideanDomainElement.quo_rem">
<span class="sig-name descname"><span class="pre">quo_rem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.EuclideanDomainElement.quo_rem" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.Expression">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">Expression</span></span><a class="headerlink" href="#sage.structure.element.Expression" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.CommutativeRingElement" title="sage.structure.element.CommutativeRingElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.CommutativeRingElement</span></code></a></p>
<p>Abstract base class for <a class="reference external" href="../../../calculus/sage/symbolic/expression.html#sage.symbolic.expression.Expression" title="(in Symbolic Calculus v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Expression</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.FieldElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">FieldElement</span></span><a class="headerlink" href="#sage.structure.element.FieldElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.CommutativeRingElement" title="sage.structure.element.CommutativeRingElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.CommutativeRingElement</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.FieldElement.divides">
<span class="sig-name descname"><span class="pre">divides</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.FieldElement.divides" title="Permalink to this definition">#</a></dt>
<dd><p>Check whether <code class="docutils literal notranslate"><span class="pre">self</span></code> divides other, for field elements.</p>
<p>Since this is a field, all values divide all other values,
except that zero does not divide any non-zero values.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">rt3</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">K</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">rt3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">rt3</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="mi">17</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">K</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">rt3</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.FieldElement.is_unit">
<span class="sig-name descname"><span class="pre">is_unit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.FieldElement.is_unit" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">self</span></code> is a unit in its parent ring.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">;</span> <span class="n">a</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>On the other hand, 2 is not a unit, since its parent is <span class="math notranslate nohighlight">\(\ZZ\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">a</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">Integer Ring</span>
</pre></div>
</div>
<p>However, a is a unit when viewed as an element of QQ:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.FieldElement.quo_rem">
<span class="sig-name descname"><span class="pre">quo_rem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.FieldElement.quo_rem" title="Permalink to this definition">#</a></dt>
<dd><p>Return the quotient and remainder obtained by dividing <code class="docutils literal notranslate"><span class="pre">self</span></code> by
<code class="docutils literal notranslate"><span class="pre">right</span></code>. Since this element lives in a field, the remainder is always
zero and the quotient is <code class="docutils literal notranslate"><span class="pre">self/right</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.InfinityElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">InfinityElement</span></span><a class="headerlink" href="#sage.structure.element.InfinityElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.RingElement" title="sage.structure.element.RingElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.RingElement</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.IntegralDomainElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">IntegralDomainElement</span></span><a class="headerlink" href="#sage.structure.element.IntegralDomainElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.CommutativeRingElement" title="sage.structure.element.CommutativeRingElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.CommutativeRingElement</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.IntegralDomainElement.is_nilpotent">
<span class="sig-name descname"><span class="pre">is_nilpotent</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.IntegralDomainElement.is_nilpotent" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.Matrix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">Matrix</span></span><a class="headerlink" href="#sage.structure.element.Matrix" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.ModuleElement" title="sage.structure.element.ModuleElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.ModuleElement</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.ModuleElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">ModuleElement</span></span><a class="headerlink" href="#sage.structure.element.ModuleElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.Element</span></code></a></p>
<p>Generic element of a module.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.ModuleElement.additive_order">
<span class="sig-name descname"><span class="pre">additive_order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.ModuleElement.additive_order" title="Permalink to this definition">#</a></dt>
<dd><p>Return the additive order of self.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.ModuleElement.order">
<span class="sig-name descname"><span class="pre">order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.ModuleElement.order" title="Permalink to this definition">#</a></dt>
<dd><p>Return the additive order of self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.ModuleElementWithMutability">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">ModuleElementWithMutability</span></span><a class="headerlink" href="#sage.structure.element.ModuleElementWithMutability" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.ModuleElement" title="sage.structure.element.ModuleElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.ModuleElement</span></code></a></p>
<p>Generic element of a module with mutability.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.ModuleElementWithMutability.is_immutable">
<span class="sig-name descname"><span class="pre">is_immutable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.ModuleElementWithMutability.is_immutable" title="Permalink to this definition">#</a></dt>
<dd><p>Return True if this vector is immutable, i.e., the entries cannot
be changed.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x,y&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mf">1..5</span><span class="p">]);</span> <span class="n">v</span><span class="o">.</span><span class="n">is_immutable</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">set_immutable</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">is_immutable</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.ModuleElementWithMutability.is_mutable">
<span class="sig-name descname"><span class="pre">is_mutable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.ModuleElementWithMutability.is_mutable" title="Permalink to this definition">#</a></dt>
<dd><p>Return True if this vector is mutable, i.e., the entries can be
changed.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x,y&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mf">1..5</span><span class="p">]);</span> <span class="n">v</span><span class="o">.</span><span class="n">is_mutable</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">set_immutable</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">is_mutable</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.ModuleElementWithMutability.set_immutable">
<span class="sig-name descname"><span class="pre">set_immutable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.ModuleElementWithMutability.set_immutable" title="Permalink to this definition">#</a></dt>
<dd><p>Make this vector immutable. This operation can’t be undone.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">([</span><span class="mf">1..5</span><span class="p">]);</span> <span class="n">v</span>
<span class="go">(1, 2, 3, 4, 5)</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">set_immutable</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: vector is immutable; please change a copy instead (use copy())</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.MonoidElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">MonoidElement</span></span><a class="headerlink" href="#sage.structure.element.MonoidElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.Element</span></code></a></p>
<p>Generic element of a monoid.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.MonoidElement.multiplicative_order">
<span class="sig-name descname"><span class="pre">multiplicative_order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.MonoidElement.multiplicative_order" title="Permalink to this definition">#</a></dt>
<dd><p>Return the multiplicative order of self.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.MonoidElement.order">
<span class="sig-name descname"><span class="pre">order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.MonoidElement.order" title="Permalink to this definition">#</a></dt>
<dd><p>Return the multiplicative order of self.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.MonoidElement.powers">
<span class="sig-name descname"><span class="pre">powers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.MonoidElement.powers" title="Permalink to this definition">#</a></dt>
<dd><p>Return the list <span class="math notranslate nohighlight">\([x^0, x^1, \ldots, x^{n-1}]\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">SymmetricGroup</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>                                 <span class="c1"># optional - sage.groups</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">G</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>                                   <span class="c1"># optional - sage.groups</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">powers</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>                                           <span class="c1"># optional - sage.groups</span>
<span class="go">[(), (1,2,3,4), (1,3)(2,4), (1,4,3,2)]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.MultiplicativeGroupElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">MultiplicativeGroupElement</span></span><a class="headerlink" href="#sage.structure.element.MultiplicativeGroupElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.MonoidElement" title="sage.structure.element.MonoidElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.MonoidElement</span></code></a></p>
<p>Generic element of a multiplicative group.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.MultiplicativeGroupElement.order">
<span class="sig-name descname"><span class="pre">order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.MultiplicativeGroupElement.order" title="Permalink to this definition">#</a></dt>
<dd><p>Return the multiplicative order of self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.PrincipalIdealDomainElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">PrincipalIdealDomainElement</span></span><a class="headerlink" href="#sage.structure.element.PrincipalIdealDomainElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.DedekindDomainElement" title="sage.structure.element.DedekindDomainElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.DedekindDomainElement</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.PrincipalIdealDomainElement.gcd">
<span class="sig-name descname"><span class="pre">gcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.PrincipalIdealDomainElement.gcd" title="Permalink to this definition">#</a></dt>
<dd><p>Return the greatest common divisor of <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">other</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.PrincipalIdealDomainElement.lcm">
<span class="sig-name descname"><span class="pre">lcm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.PrincipalIdealDomainElement.lcm" title="Permalink to this definition">#</a></dt>
<dd><p>Return the least common multiple of <code class="docutils literal notranslate"><span class="pre">self</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.RingElement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">RingElement</span></span><a class="headerlink" href="#sage.structure.element.RingElement" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.ModuleElement" title="sage.structure.element.ModuleElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.ModuleElement</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.RingElement.abs">
<span class="sig-name descname"><span class="pre">abs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.RingElement.abs" title="Permalink to this definition">#</a></dt>
<dd><p>Return the absolute value of <code class="docutils literal notranslate"><span class="pre">self</span></code>.  (This just calls the <code class="docutils literal notranslate"><span class="pre">__abs__</span></code>
method, so it is equivalent to the <code class="docutils literal notranslate"><span class="pre">abs()</span></code> built-in function.)</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">RR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
<span class="go">1.00000000000000</span>
<span class="gp">sage: </span><span class="n">ZZ</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">CC</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
<span class="go">1.00000000000000</span>
<span class="gp">sage: </span><span class="n">Mod</span><span class="p">(</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span> <span class="mi">37</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ArithmeticError: absolute value not defined on integers modulo n.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.RingElement.additive_order">
<span class="sig-name descname"><span class="pre">additive_order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.RingElement.additive_order" title="Permalink to this definition">#</a></dt>
<dd><p>Return the additive order of <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.RingElement.is_nilpotent">
<span class="sig-name descname"><span class="pre">is_nilpotent</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.RingElement.is_nilpotent" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">self</span></code> is nilpotent, i.e., some power of <code class="docutils literal notranslate"><span class="pre">self</span></code>
is 0.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.RingElement.is_one">
<span class="sig-name descname"><span class="pre">is_one</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.RingElement.is_one" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.RingElement.is_prime">
<span class="sig-name descname"><span class="pre">is_prime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.RingElement.is_prime" title="Permalink to this definition">#</a></dt>
<dd><p>Is <code class="docutils literal notranslate"><span class="pre">self</span></code> a prime element?</p>
<p>A <em>prime</em> element is a non-zero, non-unit element <span class="math notranslate nohighlight">\(p\)</span> such that,
whenever <span class="math notranslate nohighlight">\(p\)</span> divides <span class="math notranslate nohighlight">\(ab\)</span> for some <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(b\)</span>, then <span class="math notranslate nohighlight">\(p\)</span>
divides <span class="math notranslate nohighlight">\(a\)</span> or <span class="math notranslate nohighlight">\(p\)</span> divides <span class="math notranslate nohighlight">\(b\)</span>.</p>
<p>EXAMPLES:</p>
<p>For polynomial rings, prime is the same as irreducible:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>For the Gaussian integers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">i</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QuadraticField</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ZI</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">ring_of_integers</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">ZI</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">ZI</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">ZI</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">ZI</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">ZI</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>In fields, an element is never prime:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">RR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">RR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>For integers, <a class="reference internal" href="#sage.structure.element.RingElement.is_prime" title="sage.structure.element.RingElement.is_prime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_prime()</span></code></a> redefines prime numbers to be
positive:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">RingElement</span><span class="o">.</span><span class="n">is_prime</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Similarly,
<a class="reference external" href="../../../number_fields/sage/rings/number_field/number_field_base.html#sage.rings.number_field.number_field_base.NumberField" title="(in Algebraic Numbers and Number Fields v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumberField</span></code></a>
redefines <a class="reference internal" href="#sage.structure.element.RingElement.is_prime" title="sage.structure.element.RingElement.is_prime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_prime()</span></code></a> to determine primality in the ring
of integers:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">K</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">K</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">K</span><span class="p">(</span><span class="mi">7</span><span class="o">/</span><span class="mi">13</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>However, for rationals, <a class="reference internal" href="#sage.structure.element.RingElement.is_prime" title="sage.structure.element.RingElement.is_prime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_prime()</span></code></a> <em>does</em> follow the
general definition of prime elements in a ring (i.e., always
returns <code class="docutils literal notranslate"><span class="pre">False</span></code>) since the rationals are not a
<a class="reference external" href="../../../number_fields/sage/rings/number_field/number_field_base.html#sage.rings.number_field.number_field_base.NumberField" title="(in Algebraic Numbers and Number Fields v9.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumberField</span></code></a>
in Sage:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">QQ</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.RingElement.multiplicative_order">
<span class="sig-name descname"><span class="pre">multiplicative_order</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.RingElement.multiplicative_order" title="Permalink to this definition">#</a></dt>
<dd><p>Return the multiplicative order of <code class="docutils literal notranslate"><span class="pre">self</span></code>, if <code class="docutils literal notranslate"><span class="pre">self</span></code> is a unit,
or raise <code class="docutils literal notranslate"><span class="pre">ArithmeticError</span></code> otherwise.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sage.structure.element.RingElement.powers">
<span class="sig-name descname"><span class="pre">powers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.RingElement.powers" title="Permalink to this definition">#</a></dt>
<dd><p>Return the list <span class="math notranslate nohighlight">\([x^0, x^1, \ldots, x^{n-1}]\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mf">5.</span><span class="n">powers</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[1, 5, 25]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sage.structure.element.Vector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">Vector</span></span><a class="headerlink" href="#sage.structure.element.Vector" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.ModuleElementWithMutability" title="sage.structure.element.ModuleElementWithMutability"><code class="xref py py-class docutils literal notranslate"><span class="pre">sage.structure.element.ModuleElementWithMutability</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.bin_op">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">bin_op</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.bin_op" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.canonical_coercion">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">canonical_coercion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.canonical_coercion" title="Permalink to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">canonical_coercion(x,y)</span></code> is what is called before doing an
arithmetic operation between <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.  It returns a pair <code class="docutils literal notranslate"><span class="pre">(z,w)</span></code>
such that <code class="docutils literal notranslate"><span class="pre">z</span></code> is got from <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">w</span></code> from <code class="docutils literal notranslate"><span class="pre">y</span></code> via canonical coercion and
the parents of <code class="docutils literal notranslate"><span class="pre">z</span></code> and <code class="docutils literal notranslate"><span class="pre">w</span></code> are identical.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">canonical_coercion</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">(</span>
<span class="go">[0 1]  [1 0]</span>
<span class="go">[1 0], [0 1]</span>
<span class="go">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.coerce_binop">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">coerce_binop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.coerce_binop" title="Permalink to this definition">#</a></dt>
<dd><p>Decorator for a binary operator method for applying coercion to the
arguments before calling the method.</p>
<p>Consider a parent class in the category framework, <span class="math notranslate nohighlight">\(S\)</span>, whose element class
expose a method <span class="math notranslate nohighlight">\(binop\)</span>. If <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(b\)</span> are elements of <span class="math notranslate nohighlight">\(S\)</span>, then
<span class="math notranslate nohighlight">\(a.binop(b)\)</span> behaves as expected. If <span class="math notranslate nohighlight">\(a\)</span> and <span class="math notranslate nohighlight">\(b\)</span> are not elements of <span class="math notranslate nohighlight">\(S\)</span>,
but rather have a common parent <span class="math notranslate nohighlight">\(T\)</span> whose element class also exposes
<span class="math notranslate nohighlight">\(binop\)</span>, we would rather expect <span class="math notranslate nohighlight">\(a.binop(b)\)</span> to compute <span class="math notranslate nohighlight">\(aa.binop(bb)\)</span>,
where <span class="math notranslate nohighlight">\(aa = T(a)\)</span> and <span class="math notranslate nohighlight">\(bb = T(b)\)</span>. This decorator ensures that behaviour
without having to otherwise modify the implementation of <span class="math notranslate nohighlight">\(binop\)</span> on the
element class of <span class="math notranslate nohighlight">\(A\)</span>.</p>
<p>Since coercion will be attempted on the arguments of the decorated method, a
<span class="math notranslate nohighlight">\(TypeError\)</span> will be thrown if there is no common parent between the
elements. An <span class="math notranslate nohighlight">\(AttributeError\)</span> or <span class="math notranslate nohighlight">\(NotImplementedError\)</span> or similar will be
thrown if there is a common parent of the arguments, but its element class
does not implement a method of the same name as the decorated method.</p>
<p>EXAMPLES:</p>
<p>Sparse polynomial rings uses <span class="math notranslate nohighlight">\(&#64;coerce_binop\)</span> on <span class="math notranslate nohighlight">\(gcd\)</span>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>  <span class="c1">#indirect doctest</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">*</span><span class="n">T</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">h</span><span class="p">);</span> <span class="n">u</span>  <span class="c1">#indirect doctest</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">u</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">T</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Another real example:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R1</span><span class="o">=</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x,y&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">R2</span><span class="o">=</span><span class="n">QQ</span><span class="p">[</span><span class="s1">&#39;x,y,z&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">=</span><span class="n">R1</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">=</span><span class="n">R1</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">=</span><span class="n">R2</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">g</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;modular&#39;</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;modular&#39;</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">gcd</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="s1">&#39;modular&#39;</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>We demonstrate a small class using <span class="math notranslate nohighlight">\(&#64;coerce_binop\)</span> on a method:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">coerce_binop</span>
<span class="gp">sage: </span><span class="k">class</span> <span class="nc">MyRational</span><span class="p">(</span><span class="n">Rational</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="bp">self</span><span class="o">.</span><span class="n">v</span> <span class="o">=</span> <span class="n">value</span>
<span class="gp">....: </span>    <span class="nd">@coerce_binop</span>
<span class="gp">....: </span>    <span class="k">def</span> <span class="nf">test_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">v</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">keyword</span><span class="p">)</span>
</pre></div>
</div>
<p>Calls func directly if the two arguments have the same parent:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">MyRational</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">test_add</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(1, 1/2, &#39;z&#39;)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">test_add</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">(1, 1/2, 3)</span>
</pre></div>
</div>
<p>Passes through coercion and does a method lookup if the left operand is not
the same. If the common parent’s element class does not have a method of the
same name, an exception is raised:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">test_add</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(1, 2, &#39;z&#39;)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">test_add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">keyword</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">(1, 2, 3)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">test_add</span><span class="p">(</span><span class="n">CC</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">AttributeError: &#39;sage.rings.complex_mpfr.ComplexNumber&#39; object has no attribute &#39;test_add&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.coercion_traceback">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">coercion_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dump</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.coercion_traceback" title="Permalink to this definition">#</a></dt>
<dd><p>This function is very helpful in debugging coercion errors. It prints
the tracebacks of all the errors caught in the coercion detection. Note
that failure is cached, so some errors may be omitted the second time
around (as it remembers not to retry failed paths for speed reasons.</p>
<p>For performance and caching reasons, exception recording must be
explicitly enabled before using this function.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">cm</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">get_coercion_model</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">cm</span><span class="o">.</span><span class="n">record_exceptions</span><span class="p">()</span>
<span class="gp">sage: </span><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span>
<span class="go">6/5</span>
<span class="gp">sage: </span><span class="n">coercion_traceback</span><span class="p">()</span>  <span class="c1"># Should be empty, as all went well.</span>
<span class="gp">sage: </span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span> <span class="o">+</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: unsupported operand parent(s) for +: &#39;Rational Field&#39; and &#39;Finite Field of size 5&#39;</span>
<span class="gp">sage: </span><span class="n">coercion_traceback</span><span class="p">()</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: no common canonical parent for objects with parents: &#39;Rational Field&#39; and &#39;Finite Field of size 5&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.get_coercion_model">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">get_coercion_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.get_coercion_model" title="Permalink to this definition">#</a></dt>
<dd><p>Return the global coercion model.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">sage.structure.element</span> <span class="k">as</span> <span class="nn">e</span>
<span class="gp">sage: </span><span class="n">cm</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">get_coercion_model</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">cm</span>
<span class="go">&lt;sage.structure.coerce.CoercionModel object at ...&gt;</span>
<span class="gp">sage: </span><span class="n">cm</span> <span class="ow">is</span> <span class="n">coercion_model</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.have_same_parent">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">have_same_parent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.have_same_parent" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if and only if <code class="docutils literal notranslate"><span class="pre">left</span></code> and <code class="docutils literal notranslate"><span class="pre">right</span></code> have the
same parent.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This function assumes that at least one of the arguments is a
Sage <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>. When in doubt, use the slower
<code class="docutils literal notranslate"><span class="pre">parent(left)</span> <span class="pre">is</span> <span class="pre">parent(right)</span></code> instead.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">have_same_parent</span>
<span class="gp">sage: </span><span class="n">have_same_parent</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">have_same_parent</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">have_same_parent</span><span class="p">(</span><span class="n">gap</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">gap</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>These have different types but the same parent:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">RLF</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;... &#39;sage.rings.real_lazy.LazyWrapper&#39;&gt;</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;... &#39;sage.rings.real_lazy.LazyNamedUnop&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">have_same_parent</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_AdditiveGroupElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_AdditiveGroupElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_AdditiveGroupElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type AdditiveGroupElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_AlgebraElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_AlgebraElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_AlgebraElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type AlgebraElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_CommutativeAlgebraElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_CommutativeAlgebraElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_CommutativeAlgebraElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type CommutativeAlgebraElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_CommutativeRingElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_CommutativeRingElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_CommutativeRingElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type CommutativeRingElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_DedekindDomainElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_DedekindDomainElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_DedekindDomainElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type DedekindDomainElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_Element">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_Element</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_Element" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type Element.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">is_Element</span>
<span class="gp">sage: </span><span class="n">is_Element</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_Element</span><span class="p">(</span><span class="n">QQ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_EuclideanDomainElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_EuclideanDomainElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_EuclideanDomainElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type EuclideanDomainElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_FieldElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_FieldElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_FieldElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type FieldElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_InfinityElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_InfinityElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_InfinityElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type InfinityElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_IntegralDomainElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_IntegralDomainElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_IntegralDomainElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type IntegralDomainElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_Matrix">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_Matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_Matrix" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_ModuleElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_ModuleElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_ModuleElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type ModuleElement.</p>
<p>This is even faster than using isinstance inline.</p>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">is_ModuleElement</span>
<span class="gp">sage: </span><span class="n">is_ModuleElement</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_ModuleElement</span><span class="p">((</span><span class="n">QQ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="mf">.0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_ModuleElement</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_MonoidElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_MonoidElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_MonoidElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type MonoidElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_MultiplicativeGroupElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_MultiplicativeGroupElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_MultiplicativeGroupElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type MultiplicativeGroupElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_PrincipalIdealDomainElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_PrincipalIdealDomainElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_PrincipalIdealDomainElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type PrincipalIdealDomainElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_RingElement">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_RingElement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_RingElement" title="Permalink to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if x is of type RingElement.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.is_Vector">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">is_Vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.is_Vector" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.make_element">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">make_element</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.make_element" title="Permalink to this definition">#</a></dt>
<dd><p>This function is only here to support old pickles.</p>
<p>Pickling functionality is moved to Element.{__getstate__,__setstate__}
functions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sage.structure.element.parent">
<span class="sig-prename descclassname"><span class="pre">sage.structure.element.</span></span><span class="sig-name descname"><span class="pre">parent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sage.structure.element.parent" title="Permalink to this definition">#</a></dt>
<dd><p>Return the parent of the element <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>Usually, this means the mathematical object of which <code class="docutils literal notranslate"><span class="pre">x</span></code> is an
element.</p>
<p>INPUT:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> – an element</p></li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">x</span></code> is a Sage <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a>, return <code class="docutils literal notranslate"><span class="pre">x.parent()</span></code>.</p></li>
<li><p>Otherwise, return <code class="docutils literal notranslate"><span class="pre">type(x)</span></code>.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="http://doc.sagemath.org/html/en/tutorial/tour_coercion.html">Parents, Conversion and Coercion</a>
Section in the Sage Tutorial</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">42</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">Integer Ring</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="mi">42</span><span class="o">/</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="mf">42.0</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">Real Field with 53 bits of precision</span>
</pre></div>
</div>
<p>Some more complicated examples:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">Partition</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">Partitions</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">Vector space of dimension 3 over Real Double Field</span>
</pre></div>
</div>
<p>The following are not considered to be elements, so the type is
returned:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>  <span class="c1"># Python int</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&lt;... &#39;int&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="go">&lt;... &#39;list&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="element_wrapper.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Element Wrapper</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="gens_py.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Pure python code for abstract base class for objects with generators</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2022, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Elements</a><ul>
<li><a class="reference internal" href="#the-abstract-element-class-hierarchy">The Abstract Element Class Hierarchy</a></li>
<li><a class="reference internal" href="#how-to-define-a-new-element-class">How to Define a New Element Class</a><ul>
<li><a class="reference internal" href="#arithmetic-for-elements">Arithmetic for Elements</a><ul>
<li><a class="reference internal" href="#a-quick-summary-for-the-impatient">A quick summary for the impatient</a></li>
<li><a class="reference internal" href="#arithmetic-in-more-detail">Arithmetic in more detail</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#implementation-details">Implementation details</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"ZZ": "\\Bold{Z}", "NN": "\\Bold{N}", "RR": "\\Bold{R}", "CC": "\\Bold{C}", "QQ": "\\Bold{Q}", "QQbar": "\\overline{\\QQ}", "GF": ["\\Bold{F}_{#1}", 1], "Zp": ["\\Bold{Z}_{#1}", 1], "Qp": ["\\Bold{Q}_{#1}", 1], "Zmod": ["\\ZZ/#1\\ZZ", 1], "CDF": "\\Bold{C}", "CIF": "\\Bold{C}", "CLF": "\\Bold{C}", "RDF": "\\Bold{R}", "RIF": "\\Bold{I} \\Bold{R}", "RLF": "\\Bold{R}", "SL": "\\mathrm{SL}", "PSL": "\\mathrm{PSL}", "Bold": ["\\mathbf{#1}", 1]}, "inlineMath": [["$", "$"], ["\\(", "\\)"]], "maxBuffer": 51200, "autoload": {"color": [], "colorv2": ["color"]}}}</script>
    <script defer="defer" src="../../../_static/mathjax/tex-chtml.js"></script>
    </body>
</html>