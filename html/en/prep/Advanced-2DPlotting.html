<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial for Advanced 2d Plotting &mdash; PREP Tutorials v6.7</title>
    
    <link rel="stylesheet" href="_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '6.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="PREP Tutorials v6.7" href="index.html" />
    <link rel="next" title="PREP Quickstart Tutorials" href="quickstart.html" />
    <link rel="prev" title="Sage Introductory Programming Tutorial" href="Programming.html" />
    <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="quickstart.html" title="PREP Quickstart Tutorials"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Programming.html" title="Sage Introductory Programming Tutorial"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="index.html">PREP Tutorials v6.7</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tutorial-for-advanced-2d-plotting">
<h1>Tutorial for Advanced 2d Plotting<a class="headerlink" href="#tutorial-for-advanced-2d-plotting" title="Permalink to this headline">¶</a></h1>
<p>This <a class="reference external" href="http://www.sagemath.org">Sage</a> document is one of the tutorials
developed for the MAA PREP Workshop &#8220;Sage: Using Open-Source
Mathematics Software with Undergraduates&#8221; (funding provided by NSF DUE
0817071).  It is licensed under the Creative Commons
Attribution-ShareAlike 3.0 license (<a class="reference external" href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA</a>).</p>
<p>Thanks to Sage&#8217;s integration of projects like <a class="reference external" href="http://matplotlib.sourceforge.net/">matplotlib</a>, Sage has comprehensive
two-dimensional plotting capabilities.  This worksheet consists of the
following sections:</p>
<ul class="simple">
<li><a class="reference internal" href="#cartesian"><em>Cartesian Plots</em></a></li>
<li><a class="reference internal" href="#parametric"><em>Parametric Plots</em></a></li>
<li><a class="reference internal" href="#polar"><em>Polar Plots</em></a></li>
<li><a class="reference internal" href="#data"><em>Plotting Data Points</em></a></li>
<li><a class="reference internal" href="#contour"><em>Contour Plots</em></a></li>
<li><a class="reference internal" href="#vector"><em>Vector fields</em></a></li>
<li><a class="reference internal" href="#complex"><em>Complex Plots</em></a></li>
<li><a class="reference internal" href="#region"><em>Region plots</em></a></li>
<li><a class="reference internal" href="#builtin"><em>Builtin Graphics Objects</em></a></li>
<li><a class="reference internal" href="#saving"><em>Saving Plots</em></a></li>
</ul>
<p>This tutorial assumes that one is familiar with the basics of Sage, such
as evaluating a cell by clicking the &#8220;evaluate&#8221; link, or by pressing
Shift-Enter (hold down Shift while pressing the Enter key).</p>
<div class="section" id="graphing-functions-and-plotting-curves">
<h2>Graphing Functions and Plotting Curves<a class="headerlink" href="#graphing-functions-and-plotting-curves" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cartesian-plots">
<span id="cartesian"></span><h3>Cartesian Plots<a class="headerlink" href="#cartesian-plots" title="Permalink to this headline">¶</a></h3>
<p>A simple quadratic is easy.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>You can combine &#8220;plot objects&#8221; by adding them.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">regular</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span> <span class="s">&#39;purple&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">skinny</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;green&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">regular</span> <span class="o">+</span> <span class="n">skinny</span>
<span class="go">Graphics object consisting of 2 graphics primitives</span>
</pre></div>
</div>
<p><strong>Problem</strong> : Plot a green <span class="math">\(y=\sin(x)\)</span> together with a red
<span class="math">\(y=2\,\cos(x)\)</span>.  (Hint: you can use <tt class="docutils literal"><span class="pre">pi</span></tt> as part of your range.)</p>
<p>Boundaries of a plot can be specified, in addition to the overall size.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">plot</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">xmin</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p><strong>Problem</strong> : Plot <span class="math">\(y=5+3\,\sin(4x)\)</span> with suitable boundaries.</p>
<p>You can add lots of extra information.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">exponential</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">xmin</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">max_line</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;-.&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">min_line</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;:&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">exponential</span> <span class="o">+</span> <span class="n">max_line</span> <span class="o">+</span> <span class="n">min_line</span>
<span class="go">Graphics object consisting of 3 graphics primitives</span>
</pre></div>
</div>
<p>You can fill regions with transparent color, and thicken the curve.
This example uses several options to fine-tune our graphic.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">exponential</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">xmin</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">fillcolor</span><span class="o">=</span><span class="s">&#39;grey&#39;</span><span class="p">,</span> <span class="n">fillalpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">min_line</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">xmin</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;-&#39;</span><span class="p">,</span> <span class="n">thickness</span><span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">exponential</span> <span class="o">+</span> <span class="n">min_line</span>
<span class="go">Graphics object consisting of 3 graphics primitives</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">([</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="n">n</span><span class="p">,(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="n">rainbow</span><span class="p">(</span><span class="mi">5</span><span class="p">)[</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">0.</span><span class="o">.</span><span class="mi">4</span><span class="p">]])</span>
<span class="go">Graphics object consisting of 5 graphics primitives</span>
</pre></div>
</div>
<p><strong>Problem</strong> : Create a plot showing the cross-section area for the
following solid of revolution problem: Consider the area bounded by
<span class="math">\(y=x^2-3x+6\)</span> and the line <span class="math">\(y=4\)</span>.  Find the volume created by
rotating this area around the line <span class="math">\(y=1\)</span>.</p>
</div>
<div class="section" id="parametric-plots">
<span id="parametric"></span><h3>Parametric Plots<a class="headerlink" href="#parametric-plots" title="Permalink to this headline">¶</a></h3>
<p>A parametric plot needs a list of two functions of the parameter; in
Sage, we use <em>square</em> brackets to delimit the list.  Notice also that we
must declare <tt class="docutils literal"><span class="pre">t</span></tt> as a variable first.  Because the graphic is slightly
wider than it is tall, we use the <tt class="docutils literal"><span class="pre">aspect_ratio</span></tt> option (such options
are called <em>keywords</em> ) to ensure the axes are correct for how we want
to view this object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">parametric_plot</span><span class="p">([</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="o">/</span><span class="mi">9</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="o">/</span><span class="mi">9</span><span class="p">)],</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">18</span><span class="o">*</span><span class="n">pi</span><span class="p">),</span> <span class="n">fill</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">aspect_ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Graphics object consisting of 2 graphics primitives</span>
</pre></div>
</div>
<p><strong>Problem</strong> : These parametric equations will create a hypocycloid.</p>
<div class="math">
\[x(t)=17\cos(t)+3\cos(17t/3)\]</div>
<div class="math">
\[y(t)=17\sin(t)-3\sin(17t/3)\]</div>
<p>Create this as a parametric plot.</p>
<p>Sage automatically plots a 2d or 3d plot, and a curve or a surface,
depending on how many variables and coordinates you specify.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">parametric_plot</span><span class="p">((</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)),</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">pi</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">parametric_plot</span><span class="p">((</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">),</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)),</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">pi</span><span class="p">))</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">parametric_plot</span><span class="p">((</span><span class="n">t</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="n">sin</span><span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="n">t</span><span class="p">),</span><span class="n">cos</span><span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="n">t</span><span class="p">)),</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">pi</span><span class="p">),(</span><span class="n">r</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
</div>
<div class="section" id="polar-plots">
<span id="polar"></span><h3>Polar Plots<a class="headerlink" href="#polar-plots" title="Permalink to this headline">¶</a></h3>
<p>Sage can also do polar plots.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">polar_plot</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="n">hue</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span> <span class="n">thickness</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Although they aren&#8217;t essential, many of these examples try to
demonstrate things like coloring, fills, and shading to give you a sense
of the possibilities.</p>
<p>More than one polar curve can be specified in a list (square brackets).
Notice the automatic graded shading of the fill color.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">polar_plot</span><span class="p">([</span><span class="n">cos</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="mf">1.5</span><span class="p">,</span>  <span class="mf">0.5</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="mf">2.5</span><span class="p">],</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">),</span>
<span class="go">....:            color=&#39;black&#39;, thickness=2, fill=True, fillcolor=&#39;orange&#39;)</span>
<span class="go">Graphics object consisting of 4 graphics primitives</span>
</pre></div>
</div>
<p>Problem: Create a plot for the following problem. Find the area that is
inside the circle <span class="math">\(r=2\)</span>, but outside the cardiod
<span class="math">\(2+2\cos(\theta)\)</span>.</p>
</div>
<div class="section" id="interactive-demonstration">
<h3>Interactive Demonstration<a class="headerlink" href="#interactive-demonstration" title="Permalink to this headline">¶</a></h3>
<p>It may be of interest to see all these things put together in a very
nice pedagogical graphic.  Even though this is fairly advanced, and so
you may want to skip the code, it is not as difficult as you might think
to put together.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">html</span><span class="p">(</span><span class="s">&#39;&lt;h2&gt;Sine and unit circle (by Jurgis Pralgauskis)&lt;/h2&gt; inspired by &lt;a href=&quot;http://www.youtube.com/watch?v=Ohp6Okk_tww&amp;feature=related&quot;&gt;this video&lt;/a&gt;&#39;</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="c"># http://www.sagemath.org/doc/reference/sage/plot/plot.html</span>
<span class="gp">sage: </span><span class="n">radius</span> <span class="o">=</span> <span class="mi">100</span> <span class="c"># scale for radius of &quot;unit&quot; circle</span>
<span class="gp">sage: </span><span class="n">graph_params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">xmin</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">radius</span><span class="p">,</span>    <span class="n">xmax</span> <span class="o">=</span> <span class="mi">360</span><span class="p">,</span>
<span class="go">....:                    ymin = -(radius+30), ymax = radius+30,</span>
<span class="go">....:                    aspect_ratio=1,</span>
<span class="go">....:                    axes = False</span>
<span class="go">....:                    )</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">sine_and_unit_circle</span><span class="p">(</span> <span class="n">angle</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">instant_show</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">show_pi</span><span class="o">=</span><span class="bp">True</span> <span class="p">):</span>
<span class="go">....:     ccenter_x, ccenter_y = -radius, 0  # center of cirlce on real coords</span>
<span class="go">....:     sine_x = angle # the big magic to sync both graphs :)</span>
<span class="go">....:     current_y = circle_y = sine_y = radius * sin(angle*pi/180)</span>
<span class="go">....:     circle_x = ccenter_x + radius * cos(angle*pi/180)</span>
<span class="go">....:     graph = Graphics()</span>
<span class="go">....:     # we&#39;ll put unit circle and sine function on the same graph</span>
<span class="go">....:     # so there will be some coordinate mangling ;)</span>
<span class="go">....:     # CIRCLE</span>
<span class="go">....:     unit_circle = circle((ccenter_x, ccenter_y), radius, color=&quot;#ccc&quot;)</span>
<span class="go">....:     # SINE</span>
<span class="go">....:     x = var(&#39;x&#39;)</span>
<span class="go">....:     sine = plot( radius * sin(x*pi/180) , (x, 0, 360), color=&quot;#ccc&quot; )</span>
<span class="go">....:     graph += unit_circle + sine</span>
<span class="go">....:     # CIRCLE axis</span>
<span class="go">....:     # x axis</span>
<span class="go">....:     graph +=  arrow( [-2*radius, 0], [0, 0], color = &quot;#666&quot; )</span>
<span class="go">....:     graph += text(&quot;$(1, 0)$&quot;,  [-16, 16],  color = &quot;#666&quot;)</span>
<span class="go">....:     # circle y axis</span>
<span class="go">....:     graph +=  arrow( [ccenter_x,-radius], [ccenter_x, radius], color = &quot;#666&quot; )</span>
<span class="go">....:     graph += text(&quot;$(0, 1)$&quot;,  [ccenter_x, radius+15],  color = &quot;#666&quot;)</span>
<span class="go">....:     # circle center</span>
<span class="go">....:     graph += text(&quot;$(0, 0)$&quot;,  [ccenter_x, 0],  color = &quot;#666&quot;)</span>
<span class="go">....:     # SINE x axis</span>
<span class="go">....:     graph +=  arrow( [0,0], [360, 0], color = &quot;#000&quot; )</span>
<span class="go">....:     # let&#39;s set tics</span>
<span class="go">....:     # or http://aghitza.org/posts/tweak_labels_and_ticks_in_2d_plots_using_matplotlib/</span>
<span class="go">....:     # or wayt for http://trac.sagemath.org/sage_trac/ticket/1431</span>
<span class="go">....:     # [&#39;$-\pi/3$&#39;, &#39;$2\pi/3$&#39;, &#39;$5\pi/3$&#39;]</span>
<span class="go">....:     for x in range(0, 361, 30):</span>
<span class="go">....:         graph += point( [x, 0] )</span>
<span class="go">....:         angle_label = &quot;.  $%3d^{\circ}$ &quot; % x</span>
<span class="go">....:         if show_pi: angle_label += &quot; $(%s\pi) $&quot;% x/180</span>
<span class="go">....:         graph += text(angle_label,  [x, 0], rotation=-90,</span>
<span class="go">....:         vertical_alignment=&#39;top&#39;, fontsize=8, color=&quot;#000&quot; )</span>
<span class="go">....:     # CURRENT VALUES</span>
<span class="go">....:     # SINE -- y</span>
<span class="go">....:     graph +=  arrow( [sine_x,0], [sine_x, sine_y], width=1, arrowsize=3)</span>
<span class="go">....:     graph +=  arrow( [circle_x,0], [circle_x, circle_y], width=1, arrowsize=3)</span>
<span class="go">....:     graph +=  line(([circle_x, current_y], [sine_x, current_y]), rgbcolor=&quot;#0F0&quot;, linestyle = &quot;--&quot;, alpha=0.5)</span>
<span class="go">....:     # LABEL on sine</span>
<span class="go">....:     graph += text(&quot;$(%d^{\circ}, %3.2f)$&quot;%(sine_x, float(current_y)/radius),  [sine_x+30, current_y],  color = &quot;#0A0&quot;)</span>
<span class="go">....:     # ANGLE -- x</span>
<span class="go">....:     # on sine</span>
<span class="go">....:     graph += arrow( [0,0], [sine_x, 0], width=1, arrowsize=1, color=&#39;red&#39;)</span>
<span class="go">....:     # on circle</span>
<span class="go">....:     graph += disk( (ccenter_x, ccenter_y), float(radius)/4, (0, angle*pi/180), color=&#39;red&#39;, fill=False, thickness=1)</span>
<span class="go">....:     graph +=  arrow( [ccenter_x, ccenter_y], [circle_x, circle_y],</span>
<span class="go">....:                  rgbcolor=&quot;#cccccc&quot;, width=1, arrowsize=1)</span>
<span class="go">....:     if instant_show:</span>
<span class="go">....:         show (graph,  **graph_params)</span>
<span class="go">....:     return graph</span>
<span class="gp">sage: </span><span class="c">#####################</span>
<span class="gp">sage: </span><span class="c"># make Interaction</span>
<span class="gp">sage: </span><span class="c">######################</span>
<span class="gp">sage: </span><span class="nd">@interact</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">_</span><span class="p">(</span> <span class="n">angle</span> <span class="o">=</span> <span class="n">slider</span><span class="p">([</span><span class="mf">0.</span><span class="o">.</span><span class="mi">360</span><span class="p">],</span> <span class="n">default</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">step_size</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="go">....:          label=&quot;Pasirinkite kampą:    &quot;, display_value=True) ):</span>
<span class="go">....:     sine_and_unit_circle(angle, show_pi = False)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="plotting-data">
<h2>Plotting Data<a class="headerlink" href="#plotting-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="plotting-data-points">
<span id="data"></span><h3>Plotting Data Points<a class="headerlink" href="#plotting-data-points" title="Permalink to this headline">¶</a></h3>
<p>Sometimes one wishes to simply plot data.  Here, we demonstrate several
ways of plotting points and data via the simple approximation to the
Fibonacci numbers given by</p>
<div class="math">
\[F_n=\frac{1}{\sqrt{5}}\left(\frac{1+\sqrt{5}}{2}\right)^n\; ,\]</div>
<p>which is quite good after about <span class="math">\(n=5\)</span>.</p>
<p>First, we notice that the Fibonacci numbers are built in.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fibonacci_sequence</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">&lt;generator object fibonacci_sequence at ...&gt;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">fibonacci_sequence</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="go">[0, 1, 1, 2, 3, 5]</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">enumerate</span></tt> command is useful for taking a list and coordinating
it with the counting numbers.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">fibonacci_sequence</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span>
<span class="go">[(0, 0), (1, 1), (2, 1), (3, 2), (4, 3), (5, 5)]</span>
</pre></div>
</div>
<p>So we just define the numbers and coordinate pairs we are about to plot.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fibonacci</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">fibonacci_sequence</span><span class="p">(</span><span class="mi">6</span><span class="p">)))</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">*</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="n">n</span>
<span class="gp">sage: </span><span class="n">asymptotic</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">fibonacci</span>
<span class="go">[(0, 0), (1, 1), (2, 1), (3, 2), (4, 3), (5, 5)]</span>
<span class="gp">sage: </span><span class="n">asymptotic</span>
<span class="go">[(0, 1/5*sqrt(5)), (1, 1/10*sqrt(5)*(sqrt(5) + 1)), (2, 1/20*sqrt(5)*(sqrt(5) + 1)^2), (3, 1/40*sqrt(5)*(sqrt(5) + 1)^3), (4, 1/80*sqrt(5)*(sqrt(5) + 1)^4), (5, 1/160*sqrt(5)*(sqrt(5) + 1)^5)]</span>
</pre></div>
</div>
<p>Now we can plot not just the two sets of points, but also use several of
the documented options for plotting points. Those coming from other
systems may prefer <tt class="docutils literal"><span class="pre">list_plot</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fib_plot</span><span class="o">=</span><span class="n">list_plot</span><span class="p">(</span><span class="n">fibonacci</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="n">pointsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">asy_plot</span> <span class="o">=</span> <span class="n">list_plot</span><span class="p">(</span><span class="n">asymptotic</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">&#39;D&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;black&#39;</span><span class="p">,</span><span class="n">thickness</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">plotjoined</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">show</span><span class="p">(</span><span class="n">fib_plot</span><span class="o">+</span><span class="n">asy_plot</span><span class="p">,</span> <span class="n">aspect_ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Other options include <tt class="docutils literal"><span class="pre">line</span></tt>, <tt class="docutils literal"><span class="pre">points</span></tt>, and <tt class="docutils literal"><span class="pre">scatter_plot</span></tt>.
Having the choice of markers for different data is particularly helpful
for generating publishable graphics.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">fib_plot</span><span class="o">=</span><span class="n">scatter_plot</span><span class="p">(</span><span class="n">fibonacci</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">&#39;o&#39;</span><span class="p">,</span><span class="n">markersize</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">asy_plot</span> <span class="o">=</span> <span class="n">line</span><span class="p">(</span><span class="n">asymptotic</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">&#39;D&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;black&#39;</span><span class="p">,</span><span class="n">thickness</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">show</span><span class="p">(</span><span class="n">fib_plot</span><span class="o">+</span><span class="n">asy_plot</span><span class="p">,</span> <span class="n">aspect_ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="contour-type-plots">
<h2>Contour-type Plots<a class="headerlink" href="#contour-type-plots" title="Permalink to this headline">¶</a></h2>
<div class="section" id="contour-plots">
<span id="contour"></span><h3>Contour Plots<a class="headerlink" href="#contour-plots" title="Permalink to this headline">¶</a></h3>
<p>Contour plotting can be very useful when trying to get a handle on
multivariable functions, as well as modeling.  The basic syntax is
essentially the same as for 3D plotting - simply an extension of the 2D
plotting syntax.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">=</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="o">-</span><span class="n">x</span>
<span class="gp">sage: </span><span class="n">contour_plot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>We can change colors, specify contours, label curves, and many other
things.  When there are many levels, the <tt class="docutils literal"><span class="pre">colorbar</span></tt> keyword becomes
quite useful for keeping track of them.  Notice that, as opposed to many
other options, it can only be <tt class="docutils literal"><span class="pre">True</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt> (corresponding to
whether it appears or does not appear).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">contour_plot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">),</span><span class="n">colorbar</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">labels</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>This example is fairly self-explanatory, but demonstrates the power of
formatting, labeling, and the wide variety of built-in color gradations
(colormaps or <tt class="docutils literal"><span class="pre">cmap</span></tt>).  The strange-looking construction
corresponding to <tt class="docutils literal"><span class="pre">label_fmt</span></tt> is a Sage/Python data type called a
<em>dictionary</em> , and turns out to be useful for more advanced Sage use; it
consists of pairs connected by a colon, all inside curly braces.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">contour_plot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">),</span> <span class="n">contours</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">fill</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
<span class="go">....:     cmap=&#39;cool&#39;, labels=True, label_inline=True,</span>
<span class="go">....:     label_fmt={-4:&quot;low&quot;, 0:&quot;medium&quot;, 4: &quot;hi&quot;}, label_colors=&#39;black&#39;)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Implicit plots are a special type of contour plot (they just plot the
zero contour).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="go">-x^3 + y^2 - x + 1</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">implicit_plot</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">,(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>A density plot is like a contour plot, but without discrete levels.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">density_plot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Sometimes contour plots can be a little misleading (which makes for a
<em>great</em> classroom discussion about the problems of ignorantly relying on
technology). Here we combine a density plot and contour plot to show
even better what is happening with the function.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">density_plot</span><span class="p">(</span><span class="n">f</span><span class="p">,(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="n">contour_plot</span><span class="p">(</span><span class="n">f</span><span class="p">,(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">fill</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">labels</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">label_inline</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="s">&#39;jet&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 2 graphics primitives</span>
</pre></div>
</div>
<p>It can be worth getting familiar with the various options for different
plots, especially if you will be doing a lot of them in a given
worksheet or pedagogical situation.</p>
<p>Here are the options for contour plots.</p>
<ul class="simple">
<li>They are given as an &#8220;attribute&#8221; - no parentheses - of the
<tt class="docutils literal"><span class="pre">contour_plot</span></tt> object.</li>
<li>They are given as a dictionary (see <a class="reference internal" href="Programming.html#advanced"><em>the programming tutorial</em></a>).</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">contour_plot</span><span class="o">.</span><span class="n">options</span>
<span class="go">{&#39;aspect_ratio&#39;: 1,</span>
<span class="go"> &#39;axes&#39;: False,</span>
<span class="go"> &#39;colorbar&#39;: False,</span>
<span class="go"> &#39;contours&#39;: None,</span>
<span class="go"> &#39;fill&#39;: True,</span>
<span class="go"> &#39;frame&#39;: True,</span>
<span class="go"> &#39;labels&#39;: False,</span>
<span class="go"> &#39;legend_label&#39;: None,</span>
<span class="go"> &#39;linestyles&#39;: None,</span>
<span class="go"> &#39;linewidths&#39;: None,</span>
<span class="go"> &#39;plot_points&#39;: 100,</span>
<span class="go"> &#39;region&#39;: None}</span>
</pre></div>
</div>
<p>Let&#8217;s change it so that all future contour plots don&#8217;t have the fill.
That&#8217;s how some of us might use them in a class.  We&#8217;ll also check that
the change happened.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">contour_plot</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s">&quot;fill&quot;</span><span class="p">]</span><span class="o">=</span><span class="bp">False</span>
<span class="gp">sage: </span><span class="n">contour_plot</span><span class="o">.</span><span class="n">options</span>
<span class="go">{&#39;aspect_ratio&#39;: 1,</span>
<span class="go"> &#39;axes&#39;: False,</span>
<span class="go"> &#39;colorbar&#39;: False,</span>
<span class="go"> &#39;contours&#39;: None,</span>
<span class="go"> &#39;fill&#39;: False,</span>
<span class="go"> &#39;frame&#39;: True,</span>
<span class="go"> &#39;labels&#39;: False,</span>
<span class="go"> &#39;legend_label&#39;: None,</span>
<span class="go"> &#39;linestyles&#39;: None,</span>
<span class="go"> &#39;linewidths&#39;: None,</span>
<span class="go"> &#39;plot_points&#39;: 100,</span>
<span class="go"> &#39;region&#39;: None}</span>
</pre></div>
</div>
<p>And it works!</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">contour_plot</span><span class="p">(</span><span class="n">f</span><span class="p">,(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>We can always access the default options, of course, to remind us.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">contour_plot</span><span class="o">.</span><span class="n">defaults</span><span class="p">()</span>
<span class="go">{&#39;aspect_ratio&#39;: 1,</span>
<span class="go"> &#39;axes&#39;: False,</span>
<span class="go"> &#39;colorbar&#39;: False,</span>
<span class="go"> &#39;contours&#39;: None,</span>
<span class="go"> &#39;fill&#39;: True,</span>
<span class="go"> &#39;frame&#39;: True,</span>
<span class="go"> &#39;labels&#39;: False,</span>
<span class="go"> &#39;legend_label&#39;: None,</span>
<span class="go"> &#39;linestyles&#39;: None,</span>
<span class="go"> &#39;linewidths&#39;: None,</span>
<span class="go"> &#39;plot_points&#39;: 100,</span>
<span class="go"> &#39;region&#39;: None}</span>
</pre></div>
</div>
</div>
<div class="section" id="vector-fields">
<span id="vector"></span><h3>Vector fields<a class="headerlink" href="#vector-fields" title="Permalink to this headline">¶</a></h3>
<p>The syntax for vector fields is very similar to other multivariate
constructions.  Notice that the arrows are scaled appropriately, and
colored by length in the 3D case.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s">&#39;x,y&#39;</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">plot_vector_field</span><span class="p">((</span><span class="o">-</span><span class="n">y</span><span class="o">+</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">*</span><span class="n">x</span><span class="p">),(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">var</span><span class="p">(</span><span class="s">&#39;x,y,z&#39;</span><span class="p">)</span>
<span class="go">(x, y, z)</span>
<span class="gp">sage: </span><span class="n">plot_vector_field3d</span><span class="p">((</span><span class="o">-</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="n">z</span><span class="p">,</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="n">z</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
<p>3d vector field plots are ideally viewed with 3d glasses (right-click
on the plot and select &#8220;Style&#8221; and &#8220;Stereographic&#8221;)</p>
</div>
<div class="section" id="complex-plots">
<span id="complex"></span><h3>Complex Plots<a class="headerlink" href="#complex-plots" title="Permalink to this headline">¶</a></h3>
<p>We can plot functions of complex variables, where the magnitude is
indicated by the brightness (black is zero magnitude) and the argument
is indicated by the hue (red is a positive real number).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">z</span><span class="p">)</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="n">z</span><span class="p">)</span> <span class="c">#z^5 + z - 1 + 1/z</span>
<span class="gp">sage: </span><span class="n">complex_plot</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
</div>
<div class="section" id="region-plots">
<span id="region"></span><h3>Region plots<a class="headerlink" href="#region-plots" title="Permalink to this headline">¶</a></h3>
<p>These plot where an expression is true, and are useful for plotting inequalities.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">region_plot</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span><span class="n">aspect_ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>We can get fancier options as well.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">region_plot</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">incol</span><span class="o">=</span><span class="s">&#39;yellow&#39;</span><span class="p">,</span> <span class="n">bordercol</span><span class="o">=</span><span class="s">&#39;black&#39;</span><span class="p">,</span> <span class="n">borderstyle</span><span class="o">=</span><span class="s">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">plot_points</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span><span class="n">aspect_ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Graphics object consisting of 2 graphics primitives</span>
</pre></div>
</div>
<p>Remember, what command would give full information about the syntax,
options, and examples?</p>
</div>
</div>
<div class="section" id="miscellaneous-plot-information">
<h2>Miscellaneous Plot Information<a class="headerlink" href="#miscellaneous-plot-information" title="Permalink to this headline">¶</a></h2>
<div class="section" id="builtin-graphics-objects">
<span id="builtin"></span><h3>Builtin Graphics Objects<a class="headerlink" href="#builtin-graphics-objects" title="Permalink to this headline">¶</a></h3>
<p>Sage includes a variety of built-in graphics objects.  These are
particularly useful for adding to one&#8217;s plot certain objects which are
difficult to describe with equations, but which are basic geometric
objects nonetheless.  In this section we will try to demonstrate the
syntax of some of the most useful of them; for most of the the
contextual (remember, append <tt class="docutils literal"><span class="pre">?</span></tt>) help will give more details.</p>
<div class="section" id="points">
<h4>Points<a class="headerlink" href="#points" title="Permalink to this headline">¶</a></h4>
<p>To make one point, a coordinate pair suffices.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">point</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>It doesn&#8217;t matter how multiple point are generated; they must go
in as input via a list (square brackets).  Here, we demonstrate the
hard (but naive) and easy (but a little more sophisticated) way to
do this.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">points</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="p">))])</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">points</span><span class="p">([(</span><span class="n">x</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)])</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Sage tries to tell how many dimensions you are working in automatically.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">points</span><span class="p">([(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)])</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
</div>
<div class="section" id="lines">
<h4>Lines<a class="headerlink" href="#lines" title="Permalink to this headline">¶</a></h4>
<p>The syntax for lines is the same as that for points, but you get...
well, you get connecting lines too!</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">line</span><span class="p">([(</span><span class="n">x</span><span class="p">,</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)])</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
</div>
<div class="section" id="balls">
<h4>Balls<a class="headerlink" href="#balls" title="Permalink to this headline">¶</a></h4>
<p>Sage has disks and spheres of various types available.  Generally the
center and radius are all that is needed, but other options are
possible.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="mi">1</span><span class="p">,</span><span class="n">aspect_ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">disk</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;yellow&#39;</span><span class="p">,</span><span class="n">aspect_ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>There are also ellipses and various arcs; see the <a class="reference external" href="http://sagemath.org/doc/reference/plotting/index.html">full plot
documentation</a>.</p>
</div>
<div class="section" id="arrows">
<h4>Arrows<a class="headerlink" href="#arrows" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">arrow</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
</div>
<div class="section" id="polygons">
<h4>Polygons<a class="headerlink" href="#polygons" title="Permalink to this headline">¶</a></h4>
<p>Polygons will try to complete themselves and fill in the interior;
otherwise the syntax is fairly self-evident.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">polygon</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
</div>
<div class="section" id="text">
<h4>Text<a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h4>
<p>In 2d, one can typeset mathematics using the <tt class="docutils literal"><span class="pre">text</span></tt> command.  This can
be used to fine-tune certain types of labels.  Unfortunately, in 3D the
text is just text.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">text</span><span class="p">(</span><span class="s">&#39;$\int_0^2 x^2\, dx$&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">+</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">fill</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Graphics object consisting of 3 graphics primitives</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="saving-plots">
<span id="saving"></span><h3>Saving Plots<a class="headerlink" href="#saving-plots" title="Permalink to this headline">¶</a></h3>
<p>We can save 2d plots to many different formats.  Sage can determine the
format based on the filename for the image.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">=</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">p</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>For testing purposes, we use the Sage standard temporary filename;
however, you could use any string for a name that you wanted, like
<tt class="docutils literal"><span class="pre">&quot;my_plot.png&quot;</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">name</span> <span class="o">=</span> <span class="n">tmp_filename</span><span class="p">()</span> <span class="c"># this is a string</span>
<span class="gp">sage: </span><span class="n">png_savename</span> <span class="o">=</span> <span class="n">name</span><span class="o">+</span><span class="s">&#39;.png&#39;</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">png_savename</span><span class="p">)</span>
</pre></div>
</div>
<p>In the notebook, these are usually ready for downloading in little links
by the cells.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">pdf_savename</span> <span class="o">=</span> <span class="n">name</span><span class="o">+</span><span class="s">&#39;.pdf&#39;</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">pdf_savename</span><span class="p">)</span>
</pre></div>
</div>
<p>Notably, we can export in formats ready for inclusion in web pages.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">svg_savename</span> <span class="o">=</span> <span class="n">name</span><span class="o">+</span><span class="s">&#39;.svg&#39;</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">svg_savename</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Tutorial for Advanced 2d Plotting</a><ul>
<li><a class="reference internal" href="#graphing-functions-and-plotting-curves">Graphing Functions and Plotting Curves</a><ul>
<li><a class="reference internal" href="#cartesian-plots">Cartesian Plots</a></li>
<li><a class="reference internal" href="#parametric-plots">Parametric Plots</a></li>
<li><a class="reference internal" href="#polar-plots">Polar Plots</a></li>
<li><a class="reference internal" href="#interactive-demonstration">Interactive Demonstration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#plotting-data">Plotting Data</a><ul>
<li><a class="reference internal" href="#plotting-data-points">Plotting Data Points</a></li>
</ul>
</li>
<li><a class="reference internal" href="#contour-type-plots">Contour-type Plots</a><ul>
<li><a class="reference internal" href="#contour-plots">Contour Plots</a></li>
<li><a class="reference internal" href="#vector-fields">Vector fields</a></li>
<li><a class="reference internal" href="#complex-plots">Complex Plots</a></li>
<li><a class="reference internal" href="#region-plots">Region plots</a></li>
</ul>
</li>
<li><a class="reference internal" href="#miscellaneous-plot-information">Miscellaneous Plot Information</a><ul>
<li><a class="reference internal" href="#builtin-graphics-objects">Builtin Graphics Objects</a><ul>
<li><a class="reference internal" href="#points">Points</a></li>
<li><a class="reference internal" href="#lines">Lines</a></li>
<li><a class="reference internal" href="#balls">Balls</a></li>
<li><a class="reference internal" href="#arrows">Arrows</a></li>
<li><a class="reference internal" href="#polygons">Polygons</a></li>
<li><a class="reference internal" href="#text">Text</a></li>
</ul>
</li>
<li><a class="reference internal" href="#saving-plots">Saving Plots</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="Programming.html"
                                  title="previous chapter">Sage Introductory Programming Tutorial</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="quickstart.html"
                                  title="next chapter">PREP Quickstart Tutorials</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/Advanced-2DPlotting.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <!-- The shading of the "Go" button should be consistent -->
                <!-- with the colour of the header and footer. See the file -->
                <!-- doc/common/themes/sage/theme.conf for colours used by -->
                <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="quickstart.html" title="PREP Quickstart Tutorials"
             >next</a> |</li>
        <li class="right" >
          <a href="Programming.html" title="Sage Introductory Programming Tutorial"
             >previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="index.html">PREP Tutorials v6.7</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2012, Rob Beezer, Karl-Dieter Crisman, and Jason Grout.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>