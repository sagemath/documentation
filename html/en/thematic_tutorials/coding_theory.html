<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Coding Theory in Sage &mdash; Thematic Tutorials v7.6</title>
    
    <link rel="stylesheet" href="_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '7.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Thematic Tutorials v7.6" href="index.html" />
    <link rel="up" title="Thematic tutorial document tree" href="toctree.html" />
    <link rel="next" title="How to write your own classes for coding theory" href="structures_in_coding_theory.html" />
    <link rel="prev" title="Number Theory and the RSA Public Key Cryptosystem" href="numtheory_rsa.html" />
    <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />
    <script src="_static/thebe.js" type="text/javascript"></script>
    <script src="_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="structures_in_coding_theory.html" title="How to write your own classes for coding theory"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="numtheory_rsa.html" title="Number Theory and the RSA Public Key Cryptosystem"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Thematic Tutorials v7.6</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="toctree.html" accesskey="U">Thematic tutorial document tree</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="coding-theory-in-sage">
<span id="coding-theory"></span><h1><a class="toc-backref" href="#id1">Coding Theory in Sage</a><a class="headerlink" href="#coding-theory-in-sage" title="Permalink to this headline">¶</a></h1>
<p><em>Author: David Joyner and Robert Miller (2008), edited by Ralf Stephan
for the initial version. David Lucas (2016) for this version.</em></p>
<p>This tutorial, designed for beginners who want to discover how to use Sage
for their work (research, experimentation, teaching) on coding theory,
will present several key features of Sage&#8217;s coding theory library
and explain how to find classes and methods you look for.</p>
<p>During this tutorial, we will cover the following parts:</p>
<ul class="simple">
<li>what can you do with <strong>generic linear codes and associated methods</strong>,</li>
<li>what can you do with <strong>structured code families</strong>,</li>
<li>what can you do to   <strong>encode and recover messages, correct errors</strong> and</li>
<li>what can you do to   <strong>easily add errors to codewords</strong>.</li>
</ul>
<p>The goal of this tutorial is to give a quick overview of what can be done
with the library and how to use the main functionalities.
It is neither a comprehensive description of all methods nor of specific
classes. If one needs some specific information on the behaviour of a
class/method related to coding theory, one should check the documentation
for this class/method.</p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of contents</p>
<ul class="simple">
<li><a class="reference internal" href="#coding-theory-in-sage" id="id1">Coding Theory in Sage</a><ul>
<li><a class="reference internal" href="#i-generic-linear-codes-and-associated-methods" id="id2">I. Generic Linear codes and associated methods</a></li>
<li><a class="reference internal" href="#ii-structured-code-families-and-an-overview-of-the-encoding-and-decoding-system" id="id3">II. Structured code families and an overview of the encoding and decoding system</a><ul>
<li><a class="reference internal" href="#ii-1-create-specific-codes-in-sage" id="id4">II.1 Create specific codes in Sage</a></li>
<li><a class="reference internal" href="#ii-2-encode-and-decode-in-sage" id="id5">II.2 Encode and decode in Sage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#iii-a-deeper-view-of-the-encoder-and-decoder-structure" id="id6">III. A deeper view of the Encoder and Decoder structure</a><ul>
<li><a class="reference internal" href="#iii-1-message-spaces" id="id7">III.1 Message spaces</a></li>
<li><a class="reference internal" href="#iii-2-generator-matrices" id="id8">III.2 Generator matrices</a></li>
<li><a class="reference internal" href="#iii-3-decoders-and-messages" id="id9">III.3 Decoders and messages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#iv-a-deeper-look-at-channels" id="id10">IV. A deeper look at channels</a><ul>
<li><a class="reference internal" href="#a-channel-for-errors-and-erasures" id="id11">A channel for errors and erasures</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v-conclusion-afterword" id="id12">V. Conclusion - Afterword</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="i-generic-linear-codes-and-associated-methods">
<h2><a class="toc-backref" href="#id2">I. Generic Linear codes and associated methods</a><a class="headerlink" href="#i-generic-linear-codes-and-associated-methods" title="Permalink to this headline">¶</a></h2>
<p>Let us start with the most generic code one can build: a generic linear code
without any specific structure.</p>
<p>To build such a code, one just need to provide
its generator matrix, as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="go">....:                    [0, 1, 0, 0, 2, 1, 0],</span>
<span class="go">....:                    [0, 0, 1, 2, 2, 2, 2]])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">LinearCode</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
<p>With these lines, you just created a linear code, congratulations!
Note that if you pass a matrix which is not full rank, Sage will turn
it into a full-rank matrix before building the code,
as illustrated in the following example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="go">....:                    [0, 1, 0, 0, 2, 1, 0],</span>
<span class="go">....:                    [0, 0, 1, 2, 2, 2, 2],</span>
<span class="go">....:                    [1, 0, 1, 2, 0, 1, 0]]) #r3 = r0 + r2</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">LinearCode</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">generator_matrix</span><span class="p">()</span>
<span class="go">[1 0 0 0 1 2 1]</span>
<span class="go">[0 1 0 0 2 1 0]</span>
<span class="go">[0 0 1 2 2 2 2]</span>
</pre></div>
</div>
<p>We now have a linear code... What can we do with it?
As we can a lot of things, let us start with the basic functionalities.</p>
<p>In the example just above, we already asked for the code&#8217;s
generator matrix. It is also possible to ask the code for
its basic parameters: its <em>length</em> and <em>dimension</em> as illustrated therafter:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">length</span><span class="p">()</span>
<span class="go">7</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">dimension</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
<p>It is also possible to ask for our code&#8217;s minimum distance:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">minimum_distance</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Of course, as <code class="docutils literal"><span class="pre">C</span></code> is a generic linear code, an exhaustive search algorithm
is run to find the minimum distance, which will be slower and slower as the
code grows.</p>
<p>By just typing the name of our code, we get a sentence which briefly
describes it and gives its parameters:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span>
<span class="go">[7, 3] linear code over GF(3)</span>
</pre></div>
</div>
<p>As the aim of this tutorial is not to give a comprehensive view of the methods,
we won&#8217;t describe any other methods.</p>
<p>If one wants to get all methods that can be run on a linear code, one can:</p>
<ul>
<li><p class="first">either check the manual page of the file <a class="reference external" href="../reference/coding/sage/coding/linear_code.html#sage-coding-linear-code" title="(in Sage Reference Manual: Coding Theory v7.6)"><span>Generic structures for linear codes</span></a></p>
</li>
<li><p class="first">or type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">.&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>in Sage to get a list of all available methods for <code class="docutils literal"><span class="pre">C</span></code>.
Afterwards, typing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>C.method?
</pre></div>
</div>
<p>will show the manual page for <code class="docutils literal"><span class="pre">method</span></code>.</p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some generic methods require the installation of the optional
package Guava for Gap. While some work is done to always propose
a default implementation which <em>does not</em> require an optional package,
there exist some methods which are not up to date - yet.
If you&#8217;re receiving an error message related to Gap, please check the
documentation of the method to verify if Guava has to be installed.</p>
</div>
</div>
<div class="section" id="ii-structured-code-families-and-an-overview-of-the-encoding-and-decoding-system">
<h2><a class="toc-backref" href="#id3">II. Structured code families and an overview of the encoding and decoding system</a><a class="headerlink" href="#ii-structured-code-families-and-an-overview-of-the-encoding-and-decoding-system" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ii-1-create-specific-codes-in-sage">
<h3><a class="toc-backref" href="#id4">II.1 Create specific codes in Sage</a><a class="headerlink" href="#ii-1-create-specific-codes-in-sage" title="Permalink to this headline">¶</a></h3>
<p>Now that we know how to create generic linear codes, we want to go deeper
and create specific code families. In Sage, all codes families can be
accessed by typing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">codes</span><span class="o">.&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Doing so, you will get the comprehensive list of all code families
Sage can build.</p>
<p>For the rest of this section, we will illustrate specific functionalities
of these code families by manipulating
<a class="reference external" href="../reference/coding/sage/coding/grs.html#sage.coding.grs.GeneralizedReedSolomonCode" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-class docutils literal"><span class="pre">sage.coding.grs.GeneralizedReedSolomonCode</span></code></a>.</p>
<p>So, for starters, we want to create a Generalized Reed-Solomon (GRS) code.</p>
<p>By clicking on the link provided above, or typing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>codes.GeneralizedReedSolomonCode?
</pre></div>
</div>
<p>one can access the documentation page for GRS codes, find a definition
of these and learn what is needed to build one in Sage.</p>
<p>Here we choose to build a [12, 6] GRS code over <span class="math">\(\GF{13}\)</span>.
To do this, we need up to three elements:</p>
<ul class="simple">
<li>The <strong>list of evaluation points</strong>,</li>
<li>the <strong>dimension of the code</strong>, and</li>
<li>optionally, the <strong>list of column multipliers</strong>.</li>
</ul>
<p>We build our code as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">length</span><span class="p">,</span> <span class="n">dimension</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">6</span>
<span class="gp">sage: </span><span class="n">evaluation_pts</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">list</span><span class="p">()[:</span><span class="n">length</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">column_mults</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">list</span><span class="p">()[</span><span class="mi">1</span><span class="p">:</span><span class="n">length</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">codes</span><span class="o">.</span><span class="n">GeneralizedReedSolomonCode</span><span class="p">(</span><span class="n">evaluation_pts</span><span class="p">,</span> <span class="n">dimension</span><span class="p">,</span> <span class="n">column_mults</span><span class="p">)</span>
</pre></div>
</div>
<p>Our GRS code is now created. We can ask for its parameters, as we did in the
previous section:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">length</span><span class="p">()</span>
<span class="go">12</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">dimension</span><span class="p">()</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Finite Field of size 13</span>
</pre></div>
</div>
<p>It is also possible to ask for the evaluation points and
the column multipliers by calling
<a class="reference external" href="../reference/coding/sage/coding/grs.html#sage.coding.grs.GeneralizedReedSolomonCode.evaluation_points" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-meth docutils literal"><span class="pre">sage.coding.grs.GeneralizedReedSolomonCode.evaluation_points()</span></code></a> and
<a class="reference external" href="../reference/coding/sage/coding/grs.html#sage.coding.grs.GeneralizedReedSolomonCode.column_multipliers" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-meth docutils literal"><span class="pre">sage.coding.grs.GeneralizedReedSolomonCode.column_multipliers()</span></code></a>.</p>
<p>Now, if you know some theory for GRS codes, you know that it&#8217;s especially easy
to compute their minimum distance, which is:
<span class="math">\(d = n - k + 1\)</span>, where <span class="math">\(n\)</span> is the length of the code and
<span class="math">\(k\)</span> is the dimension of the code.</p>
<p>Because Sage knows <code class="docutils literal"><span class="pre">C</span></code> is a GRS code, it will not run the exhaustive
search algorithm presented in section I to find <code class="docutils literal"><span class="pre">C</span></code>&#8216;s minimum distance
but use the operation introduced above. And you instantly get:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">minimum_distance</span><span class="p">()</span>
<span class="go">7</span>
</pre></div>
</div>
<p>All these parameters are summarized inside the string representation
of our code:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span>
<span class="go">[12, 6, 7] Generalized Reed-Solomon Code over GF(13)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Writing proper classes for code families is a work in progress.
Some constructions under <code class="docutils literal"><span class="pre">codes.&lt;tab&gt;</span></code> might thus be functions which
build a generic linear code, and in that case are only able to use
generic algorithms.
Please refer to the documentation of a construction to check if it
is a function or a class.</p>
</div>
</div>
<div class="section" id="ii-2-encode-and-decode-in-sage">
<h3><a class="toc-backref" href="#id5">II.2 Encode and decode in Sage</a><a class="headerlink" href="#ii-2-encode-and-decode-in-sage" title="Permalink to this headline">¶</a></h3>
<p>In the previous part, we learnt how to find specific code families
in Sage and create instances of these families.</p>
<p>In this part, we will learn how to encode and decode.</p>
<p>First of all, we want to generate a codeword to play with.
There is two different ways to do that:</p>
<ul>
<li><p class="first">It is possible to just generate a random element of our code, as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="ow">in</span> <span class="n">C</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
<li><p class="first">Alternatively, we can create a message and then encode it into a codeword:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">msg</span> <span class="o">=</span> <span class="n">random_vector</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">base_field</span><span class="p">(),</span> <span class="n">C</span><span class="o">.</span><span class="n">dimension</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="ow">in</span> <span class="n">C</span>
<span class="go">True</span>
</pre></div>
</div>
</li>
</ul>
<p>Either way, we obtained a codeword.
So, we might want to put some errors in it, and try to correct these
errors afterwards. We can obviously do it by changing the values at
some random positions of our codeword, but we propose here something
more general: communication channels.
<a class="reference external" href="../reference/coding/sage/coding/channel_constructions.html#sage.coding.channel_constructions.Channel" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-class docutils literal"><span class="pre">sage.coding.channel_constructions.Channel</span></code></a> objects are meant
as abstractions for communication channels and for manipulation of
data representation. In this case, we want to emulate a communication channel
which adds some, but not too many, errors to a transmitted word:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">err</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">sage: </span><span class="n">Chan</span> <span class="o">=</span> <span class="n">channels</span><span class="o">.</span><span class="n">StaticErrorRateChannel</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">ambient_space</span><span class="p">(),</span> <span class="n">err</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Chan</span>
<span class="go">Static error rate channel creating 3 errors, of input and output space Vector space of dimension 12 over Finite Field of size 13</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">Chan</span><span class="o">.</span><span class="n">transmit</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">((</span><span class="n">c</span><span class="o">-</span><span class="n">r</span><span class="p">)</span><span class="o">.</span><span class="n">nonzero_positions</span><span class="p">())</span>
<span class="go">3</span>
</pre></div>
</div>
<p>If you want to learn more on Channels, please refer to section IV
of this tutorial.</p>
<p>Thanks to our channel, we got a &#8220;received word`, <code class="docutils literal"><span class="pre">r</span></code>, as a codeword
with errors on it. We can try to correct the errors and recover the
original codeword:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">c_dec</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">decode_to_code</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_dec</span> <span class="o">==</span> <span class="n">c</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Perhaps we want the original <em>message</em> back rather than the codeword.
All we have to do then is to <em>unencode</em> it back to the message space:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m_unenc</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">unencode</span><span class="p">(</span><span class="n">c_dec</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m_unenc</span> <span class="o">==</span> <span class="n">msg</span>
<span class="go">True</span>
</pre></div>
</div>
<p>It is also possible to perform the two previous operations
(correct the errors and recover the original message) in one line,
as illustrated below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m_unenc2</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">decode_to_message</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m_unenc2</span> <span class="o">==</span> <span class="n">msg</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="iii-a-deeper-view-of-the-encoder-and-decoder-structure">
<h2><a class="toc-backref" href="#id6">III. A deeper view of the Encoder and Decoder structure</a><a class="headerlink" href="#iii-a-deeper-view-of-the-encoder-and-decoder-structure" title="Permalink to this headline">¶</a></h2>
<p>In the previous section, we saw that encoding, decoding and unencoding
a vector can be easily done using methods directly on the code object.
These methods are actually shortcuts, added for usability, for when one
does not care more specifically about how encoding and decoding takes place.
At some point, however, one might need more control.</p>
<p>This section will thus go into details on the mechanism
of Encoders and Decoders.</p>
<p>At the core, the three mentioned operations are handled by
<a class="reference external" href="../reference/coding/sage/coding/encoder.html#sage.coding.encoder.Encoder" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-class docutils literal"><span class="pre">sage.coding.encoder.Encoder</span></code></a> and
<a class="reference external" href="../reference/coding/sage/coding/decoder.html#sage.coding.decoder.Decoder" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-class docutils literal"><span class="pre">sage.coding.decoder.Decoder</span></code></a>.
These objects possess their own methods to
operate on words. When one calls (as seen above):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>
</div>
<p>one actually calls the method <a class="reference external" href="../reference/coding/sage/coding/encoder.html#sage.coding.encoder.Encoder.encode" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-meth docutils literal"><span class="pre">sage.coding.encoder.Encoder.encode()</span></code></a>
on the default encoder of <code class="docutils literal"><span class="pre">C</span></code>.
Every code object possess a list of encoders and decoders it can use.
Let us see how one can explore this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">codes</span><span class="o">.</span><span class="n">GeneralizedReedSolomonCode</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">59</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()[:</span><span class="mi">40</span><span class="p">],</span> <span class="mi">12</span><span class="p">,</span> <span class="n">GF</span><span class="p">(</span><span class="mi">59</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()[</span><span class="mi">1</span><span class="p">:</span><span class="mi">41</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">encoders_available</span><span class="p">()</span>
<span class="go">[&#39;EvaluationPolynomial&#39;, &#39;EvaluationVector&#39;, &#39;Systematic&#39;]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">decoders_available</span><span class="p">()</span>
<span class="go">[&#39;Syndrome&#39;,</span>
<span class="go"> &#39;NearestNeighbor&#39;,</span>
<span class="go"> &#39;ErrorErasure&#39;,</span>
<span class="go"> &#39;Gao&#39;,</span>
<span class="go"> &#39;GuruswamiSudan&#39;,</span>
<span class="go"> &#39;KeyEquationSyndrome&#39;,</span>
<span class="go"> &#39;BerlekampWelch&#39;]</span>
</pre></div>
</div>
<p>We got a list of the available encoders and decoders for our GRS code.
Rather than using the default ones as we did before,
we can now ask for specific encoder and decoder:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Evect</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">encoder</span><span class="p">(</span><span class="s2">&quot;EvaluationVector&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Evect</span>
<span class="go">Evaluation vector-style encoder for [40, 12, 29] Generalized Reed-Solomon Code over GF(59)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">Evect</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.coding.grs.GRSEvaluationVectorEncoder&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">msg</span> <span class="o">=</span> <span class="n">random_vector</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">59</span><span class="p">),</span> <span class="n">C</span><span class="o">.</span><span class="n">dimension</span><span class="p">())</span> <span class="c1">#random</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">Evect</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">NN</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">decoder</span><span class="p">(</span><span class="s2">&quot;NearestNeighbor&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">NN</span>
<span class="go">Nearest neighbor decoder for [40, 12, 29] Generalized Reed-Solomon Code over GF(59)</span>
</pre></div>
</div>
<p>Calling:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">.</span><span class="n">encoder</span><span class="p">(</span><span class="n">encoder_name</span><span class="p">)</span>
</pre></div>
</div>
<p>is actually a short-hand for constructing the encoder manually,
by calling the constructor for
<code class="xref py py-class docutils literal"><span class="pre">sage.coding.grs.EncoderGRSEvaluationVector</span></code> yourself.
If you don&#8217;t supply <code class="docutils literal"><span class="pre">encoder_name</span></code> to
<a class="reference external" href="../reference/coding/sage/coding/linear_code.html#sage.coding.linear_code.AbstractLinearCode.encoder" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-meth docutils literal"><span class="pre">sage.coding.linear_code.AbstractLinearCode.encoder()</span></code></a>
you get the default encoder for the code.
<a class="reference external" href="../reference/coding/sage/coding/linear_code.html#sage.coding.linear_code.AbstractLinearCode.encoder" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-meth docutils literal"><span class="pre">sage.coding.linear_code.AbstractLinearCode.encoder()</span></code></a>
also has an important side-effect: <strong>it caches the constructed encoder</strong>
before returning it. This means that each time one will access the same
<code class="docutils literal"><span class="pre">EvaluationVector</span></code> encoder for <code class="docutils literal"><span class="pre">C</span></code>, which saves construction time.</p>
<p>All the above things are similar for Decoders.
This reinforces that Encoders and Decoders are rarely constructed but used
many times, which allows them to perform expensive precomputation
at construction or first use, for the benefit of future use.</p>
<p>This gives a good idea of how the elements work internally.
Let us now go a bit more into details on specific points.</p>
<div class="section" id="iii-1-message-spaces">
<h3><a class="toc-backref" href="#id7">III.1 Message spaces</a><a class="headerlink" href="#iii-1-message-spaces" title="Permalink to this headline">¶</a></h3>
<p>The point of an Encoder is to encode messages into the code.
These messages are often just vectors over the base field of the code
and whose length matches the code&#8217;s dimension.
But it could be anything: vectors over other fields, polynomials, or even
something quite different.
Therefore, each Encoder has a <a class="reference external" href="../reference/coding/sage/coding/encoder.html#sage.coding.encoder.Encoder.message_space" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-meth docutils literal"><span class="pre">sage.coding.encoder.Encoder.message_space()</span></code></a>.
For instance, we saw earlier that our GRS code has two possible encoders;
let us investigate the one we left behind in the part just before:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Epoly</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">encoder</span><span class="p">(</span><span class="s2">&quot;EvaluationPolynomial&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Epoly</span>
<span class="go">Evaluation polynomial-style encoder for [40, 12, 29] Generalized Reed-Solomon Code over GF(59)</span>
<span class="gp">sage: </span><span class="n">Epoly</span><span class="o">.</span><span class="n">message_space</span><span class="p">()</span>
<span class="go">Univariate Polynomial Ring in x over Finite Field of size 59</span>
<span class="gp">sage: </span><span class="n">msg_p</span> <span class="o">=</span> <span class="n">Epoly</span><span class="o">.</span><span class="n">message_space</span><span class="p">()</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="n">degree</span><span class="o">=</span><span class="n">C</span><span class="o">.</span><span class="n">dimension</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span> <span class="n">msg_p</span> <span class="c1">#random</span>
<span class="go">31*x^11 + 49*x^10 + 56*x^9 + 31*x^8 + 36*x^6 + 58*x^5 + 9*x^4 + 17*x^3 + 29*x^2 + 50*x + 46</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Epoly</span></code> reflects that GRS codes are often constructed
as evaluations of polynomials, and that a natural way to consider
their messages is as polynomials of degree at most <span class="math">\(k-1\)</span>,
where <span class="math">\(k\)</span> is the dimension of the code.
Notice that the message space of <code class="docutils literal"><span class="pre">Epoly</span></code> is all univariate polynomials:
<code class="docutils literal"><span class="pre">message_space</span></code> is the ambient space of the messages, and sometimes an Encoder
demands that the messages are actually picked from a subspace hereof.</p>
<p>The default encoder of a code always has a vector space as message space,
so when we call
<a class="reference external" href="../reference/coding/sage/coding/linear_code.html#sage.coding.linear_code.AbstractLinearCode.decode_to_message" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-meth docutils literal"><span class="pre">sage.coding.linear_code.AbstractLinearCode.decode_to_message()</span></code></a> or
<a class="reference external" href="../reference/coding/sage/coding/linear_code.html#sage.coding.linear_code.AbstractLinearCode.unencode" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-meth docutils literal"><span class="pre">sage.coding.linear_code.AbstractLinearCode.unencode()</span></code></a> on the code itself,
as illustrated on the first example, this will always return
vectors whose length is the dimension of the code.</p>
</div>
<div class="section" id="iii-2-generator-matrices">
<h3><a class="toc-backref" href="#id8">III.2 Generator matrices</a><a class="headerlink" href="#iii-2-generator-matrices" title="Permalink to this headline">¶</a></h3>
<p>Whenever the message space of an Encoder is a vector space
and it encodes using a linear map, the Encoder will
possess a generator matrix (note that this notion does not
make sense for other types of encoders), which specifies that linear map.</p>
<p>Generator matrices have been placed on Encoder objects since a code
has many generator matrices, and each of these will encode messages differently.
One will also find
<a class="reference external" href="../reference/coding/sage/coding/linear_code.html#sage.coding.linear_code.AbstractLinearCode.generator_matrix" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-meth docutils literal"><span class="pre">sage.coding.linear_code.AbstractLinearCode.generator_matrix()</span></code></a>
on code objects, but this is again simply a convenience method which forwards
the query to the default encoder.</p>
<p>Let us see this in Sage, using the first encoder we constructed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Evect</span><span class="o">.</span><span class="n">message_space</span><span class="p">()</span>
<span class="go">Vector space of dimension 12 over Finite Field of size 59</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">Evect</span><span class="o">.</span><span class="n">generator_matrix</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">==</span> <span class="n">C</span><span class="o">.</span><span class="n">generator_matrix</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="section" id="iii-3-decoders-and-messages">
<h3><a class="toc-backref" href="#id9">III.3 Decoders and messages</a><a class="headerlink" href="#iii-3-decoders-and-messages" title="Permalink to this headline">¶</a></h3>
<p>As we saw before, any code has two generic methods for decoding, called
<code class="docutils literal"><span class="pre">decode_to_codeword</span></code> and <code class="docutils literal"><span class="pre">decode_to_message</span></code>.
Every Decoder also has these two methods, and the methods on the code
simply forward the calls to the default decoder of this code.</p>
<p>There are two reasons for having these two methods: convenience and speed.
Convenience is clear: having both methods provides a useful shortcut
depending on the user&#8217;s needs.
Concerning speed, some decoders naturally decode directly to a codeword,
while others directly to a message space.
Supporting both methods therefore avoids unnecessary work
in encoding and unencoding.</p>
<p>However, <code class="docutils literal"><span class="pre">decode_to_message</span></code> implies that there is a message space
and an encoding from that space to the code behind the scenes.
A Decoder has methods <code class="docutils literal"><span class="pre">message_space</span></code> and <code class="docutils literal"><span class="pre">connected_encoder</span></code>
to inform the user about this. Let us illustrate that by a long example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">codes</span><span class="o">.</span><span class="n">GeneralizedReedSolomonCode</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">59</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()[</span><span class="mi">1</span><span class="p">:</span><span class="mi">41</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GF</span><span class="p">(</span><span class="mi">59</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()[</span><span class="mi">1</span><span class="p">:</span><span class="mi">41</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="ow">in</span> <span class="n">C</span>
<span class="go">True</span>

<span class="go">#Create two decoders: Syndrome and Gao</span>
<span class="gp">sage: </span><span class="n">Syn</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">decoder</span><span class="p">(</span><span class="s2">&quot;KeyEquationSyndrome&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Gao</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">decoder</span><span class="p">(</span><span class="s2">&quot;Gao&quot;</span><span class="p">)</span>

<span class="go">#Check their message spaces</span>
<span class="gp">sage: </span><span class="n">Syn</span><span class="o">.</span><span class="n">message_space</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Finite Field of size 59</span>
<span class="gp">sage: </span><span class="n">Gao</span><span class="o">.</span><span class="n">message_space</span><span class="p">()</span>
<span class="go">Univariate Polynomial Ring in x over Finite Field of size 59</span>

<span class="go">#and now we unencode</span>
<span class="gp">sage: </span><span class="n">Syn</span><span class="o">.</span><span class="n">decode_to_message</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="c1">#random</span>
<span class="go">(55,9,43)</span>

<span class="gp">sage: </span><span class="n">Gao</span><span class="o">.</span><span class="n">decode_to_message</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="c1">#random</span>
<span class="go">43*x^2 + 9*x + 55</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="iv-a-deeper-look-at-channels">
<h2><a class="toc-backref" href="#id10">IV. A deeper look at channels</a><a class="headerlink" href="#iv-a-deeper-look-at-channels" title="Permalink to this headline">¶</a></h2>
<p>In Section II, we briefly introduced the Channel objects as
a way to put errors in a word.
In this section, we will look deeper at their functionality and
introduce a second Channel.</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Once again, we chose a specific class as a running example through
all this section, as we do not want to make an exhaustive catalog
of all channels.
If one wants to get this list, one can access it by typing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">channels</span><span class="o">.&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
</pre></div>
</div>
<p class="last">in Sage.</p>
</div>
</div></blockquote>
<p>Consider again the
<code class="xref py py-meth docutils literal"><span class="pre">sage.coding.channel_constructions.ChannelStaticErrorRate()</span></code> from before.
This is a channel that places errors in the transmitted vector
but within controlled boundaries.
We can describe these boundaries in two ways:</p>
<ul>
<li><p class="first">The first one was illustrated in Section II and consists in passing
an integer, as shown below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">codes</span><span class="o">.</span><span class="n">GeneralizedReedSolomonCode</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">59</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()[:</span><span class="mi">40</span><span class="p">],</span> <span class="mi">12</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="mi">14</span>
<span class="gp">sage: </span><span class="n">Chan</span> <span class="o">=</span> <span class="n">channels</span><span class="o">.</span><span class="n">StaticErrorRateChannel</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">ambient_space</span><span class="p">(),</span> <span class="n">t</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Chan</span>
<span class="go">Static error rate channel creating 14 errors, of input and output space Vector space of dimension 40 over Finite Field of size 59</span>
</pre></div>
</div>
</li>
<li><p class="first">We can also pass a tuple of two integers, the first smaller than the second.
Then each time a word is transmitted, a random number of errors
between these two integers will be added:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Chan</span> <span class="o">=</span> <span class="n">channels</span><span class="o">.</span><span class="n">StaticErrorRateChannel</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">ambient_space</span><span class="p">(),</span> <span class="n">t</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Chan</span>
<span class="go">Static error rate channel creating between 1 and 14 errors, of input and output space Vector space of dimension 40 over Finite Field of size 59</span>
</pre></div>
</div>
</li>
</ul>
<p>We already know that a channel has a
<code class="xref py py-meth docutils literal"><span class="pre">sage.coding.channel_constuctions.Channel.transmit()</span></code> method which will
perform transmission over the channel; in this case it will return
the transmitted word with some errors in it.
This method will always check if the provided word belongs to
the input space of the channel.
In a case one is absolutely certain that one&#8217;s word is in the input space,
one might want to avoid this check, which is time consuming - especially
if one is simulating millions of transmissions.
For this usage there is
<a class="reference external" href="../reference/coding/sage/coding/channel_constructions.html#sage.coding.channel_constructions.Channel.transmit_unsafe" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-meth docutils literal"><span class="pre">sage.coding.channel_constructions.Channel.transmit_unsafe()</span></code></a> which does
the same as
<code class="xref py py-meth docutils literal"><span class="pre">sage.coding.channel_constuctions.Channel.transmit()</span></code>
but without checking the input, as illustrated thereafter:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="ow">in</span> <span class="n">C</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">c_trans</span> <span class="o">=</span> <span class="n">Chan</span><span class="o">.</span><span class="n">transmit_unsafe</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c_trans</span> <span class="ow">in</span> <span class="n">C</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Note there exists a useful shortcut for
<code class="xref py py-meth docutils literal"><span class="pre">sage.coding.channel_constuctions.Channel.transmit()</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">Chan</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="ow">in</span> <span class="n">C</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="section" id="a-channel-for-errors-and-erasures">
<h3><a class="toc-backref" href="#id11">A channel for errors and erasures</a><a class="headerlink" href="#a-channel-for-errors-and-erasures" title="Permalink to this headline">¶</a></h3>
<p>Let us introduce a new Channel object which adds errors and erasures.
When it transmits a word, it both adds some errors
as well as it erases some positions:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Chan</span> <span class="o">=</span> <span class="n">channels</span><span class="o">.</span><span class="n">ErrorErasureChannel</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">ambient_space</span><span class="p">(),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Chan</span>
<span class="go">Error-and-erasure channel creating 3 errors and 4 erasures of input space Vector space of dimension 40 over Finite Field of size 59 and output space The Cartesian product of (Vector space of dimension 40 over Finite Field of size 59, Vector space of dimension 40 over Finite Field of size 2)</span>
</pre></div>
</div>
<p>The first parameter is the input space of the channel.
The next two are (respectively) the number of errors
and the number or erasures.
Each of these can be tuples too, just as it was with
<a class="reference external" href="../reference/coding/sage/coding/channel_constructions.html#sage.coding.channel_constructions.StaticErrorRateChannel" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-class docutils literal"><span class="pre">sage.coding.channel_constructions.StaticErrorRateChannel</span></code></a>.
As opposed to this channel though, the output of
<a class="reference external" href="../reference/coding/sage/coding/channel_constructions.html#sage.coding.channel_constructions.ErrorErasureChannel" title="(in Sage Reference Manual: Coding Theory v7.6)"><code class="xref py py-class docutils literal"><span class="pre">sage.coding.channel_constructions.ErrorErasureChannel</span></code></a>
is not the same as its input space, i.e. the ambient space of C.
Rather, it will return two vectors: the first is the transmitted word
with the errors added and erased positions set to 0.
The second one is the erasure vector whose erased positions contain ones.
This is reflected in <code class="xref py py-meth docutils literal"><span class="pre">sage.coding.channel_constructions.output_space()</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">codes</span><span class="o">.</span><span class="n">random_linear_code</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Chan</span><span class="o">.</span><span class="n">output_space</span><span class="p">()</span>
<span class="go">The Cartesian product of (Vector space of dimension 40 over Finite Field of size 59, Vector space of dimension 40 over Finite Field of size 2)</span>
<span class="gp">sage: </span><span class="n">Chan</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="c1"># random</span>
<span class="go">((0, 3, 6, 4, 4, 0, 1, 0, 0, 1),</span>
<span class="go"> (1, 0, 0, 0, 0, 1, 0, 0, 1, 0))</span>
</pre></div>
</div>
<p>Note it is guaranteed by construction that errors and erasures
will never overlap, so when you ask for <code class="docutils literal"><span class="pre">e</span></code> errors and <code class="docutils literal"><span class="pre">t</span></code> erasures,
you will always receive a vector with <code class="docutils literal"><span class="pre">e</span></code> errors and <code class="docutils literal"><span class="pre">t</span></code> erased positions.</p>
</div>
</div>
<div class="section" id="v-conclusion-afterword">
<h2><a class="toc-backref" href="#id12">V. Conclusion - Afterword</a><a class="headerlink" href="#v-conclusion-afterword" title="Permalink to this headline">¶</a></h2>
<p>This last section concludes our tutorial on coding theory.</p>
<p>After reading this, you should know enough to create
and manipulate codes in Sage!</p>
<p>We did not illustrate all the content of the library in this tutorial.
For instance, we did not mention how Sage manages bounds on codes.</p>
<p>All objects, constructions and methods related to coding theory are hidden
under the prefix <code class="docutils literal"><span class="pre">codes</span></code> in Sage.</p>
<p>For instance, it is possible to find all encoders you can build by typing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">codes</span><span class="o">.</span><span class="n">encoders</span><span class="o">.&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>So, if you are looking for a specific object related to code, you should always
type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">codes</span><span class="o">.&lt;</span><span class="n">tab</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>and check if there&#8217;s a subcategory which matches your needs.</p>
<p>Despite all the hard work we put on it, there&#8217;s always much to do!</p>
<p>Maybe at some point you might want to create your own codes for Sage.
If it&#8217;s the case and if you don&#8217;t know how to do that, don&#8217;t panic!
We also wrote a tutorial for this specific case, which you can find here:
<a class="reference internal" href="structures_in_coding_theory.html#structures-in-coding-theory"><span class="std std-ref">How to write your own classes for coding theory</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Coding Theory in Sage</a><ul>
<li><a class="reference internal" href="#i-generic-linear-codes-and-associated-methods">I. Generic Linear codes and associated methods</a></li>
<li><a class="reference internal" href="#ii-structured-code-families-and-an-overview-of-the-encoding-and-decoding-system">II. Structured code families and an overview of the encoding and decoding system</a><ul>
<li><a class="reference internal" href="#ii-1-create-specific-codes-in-sage">II.1 Create specific codes in Sage</a></li>
<li><a class="reference internal" href="#ii-2-encode-and-decode-in-sage">II.2 Encode and decode in Sage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#iii-a-deeper-view-of-the-encoder-and-decoder-structure">III. A deeper view of the Encoder and Decoder structure</a><ul>
<li><a class="reference internal" href="#iii-1-message-spaces">III.1 Message spaces</a></li>
<li><a class="reference internal" href="#iii-2-generator-matrices">III.2 Generator matrices</a></li>
<li><a class="reference internal" href="#iii-3-decoders-and-messages">III.3 Decoders and messages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#iv-a-deeper-look-at-channels">IV. A deeper look at channels</a><ul>
<li><a class="reference internal" href="#a-channel-for-errors-and-erasures">A channel for errors and erasures</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v-conclusion-afterword">V. Conclusion - Afterword</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="numtheory_rsa.html"
                                  title="previous chapter">Number Theory and the RSA Public Key Cryptosystem</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="structures_in_coding_theory.html"
                                  title="next chapter">How to write your own classes for coding theory</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/coding_theory.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <!-- The shading of the "Go" button should be consistent -->
                <!-- with the colour of the header and footer. See the file -->
                <!-- doc/common/themes/sage/theme.conf for colours used by -->
                <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="structures_in_coding_theory.html" title="How to write your own classes for coding theory"
             >next</a> |</li>
        <li class="right" >
          <a href="numtheory_rsa.html" title="Number Theory and the RSA Public Key Cryptosystem"
             >previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="index.html">Thematic Tutorials v7.6</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="toctree.html" >Thematic tutorial document tree</a> &raquo;</li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005--2017, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>