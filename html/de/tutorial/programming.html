<!doctype html>
<html class="no-js" lang="de" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Stichwortverzeichnis" href="genindex.html" /><link rel="search" title="Suche" href="search.html" /><link rel="next" title="SageTeX nutzen" href="sagetex.html" /><link rel="prev" title="Sage, LaTeX und ihre Freunde" href="latex.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Programmierung - Sage Tutorial v10.3</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="_static/custom-furo.css?v=213650f8" />
    <link rel="stylesheet" type="text/css" href="_static/custom-jupyter-sphinx.css?v=6422c25e" />
    <link rel="stylesheet" type="text/css" href="_static/custom-codemirror-monokai.css?v=b5588f12" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #0f0fff;
  --color-brand-content: #0f0fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Sage Tutorial v10.3</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><div class="sidebar-scroll"><a class="sidebar-brand" href="../../en/index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/logo_sagemath_black.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/logo_sagemath_white.svg" alt="Dark Logo"/>
  </div>
  
      <span class="sidebar-brand-text">Sage 10.3 Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Suche" name="q" aria-label="Suche">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-home">
  <div class="sidebar-tree">
    <ul><li class="toctree-l1">
      <a class="reference internal" href="index.html">Home - Sage Tutorial v10.3</a>
    </li></ul>
  </div>
</div><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Einleitung</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tour.html">Eine begleitende Tour</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Eine begleitende Tour</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tour_assignment.html">Zuweisung, Gleichheit und Arithmetik</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour_help.html">Hilfe</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour_help.html#funktionen-einruckungen-und-zahlen">Funktionen, Einrückungen, und Zählen</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour_algebra.html">Elementare Algebra und Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour_plotting.html">Plotten</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour_functions.html">Häufige Probleme mit Funktionen</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour_rings.html">Wichtige Ringe</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour_linalg.html">Lineare Algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour_polynomial.html">Polynome</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour_groups.html">Endliche und abelsche Gruppen</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour_numtheory.html">Zahlentheorie</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour_advanced.html">Etwas weiter fortgeschrittene Mathematik</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="interactive_shell.html">Die interaktive Kommandozeile</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">Schnittstellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex.html">Sage, LaTeX und ihre Freunde</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Programmierung</a></li>
<li class="toctree-l1"><a class="reference internal" href="sagetex.html">SageTeX nutzen</a></li>
<li class="toctree-l1"><a class="reference internal" href="afterword.html">Nachwort</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Anhang</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Literaturverzeichnis</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="programmierung">
<h1>Programmierung<a class="headerlink" href="#programmierung" title="Link to this heading">#</a></h1>
<section id="sage-dateien-laden-und-anhangen">
<span id="section-loadattach"></span><h2>Sage-Dateien Laden und Anhängen<a class="headerlink" href="#sage-dateien-laden-und-anhangen" title="Link to this heading">#</a></h2>
<p>Als nächstes zeigen wir wie man Programme, die einer separaten Datei
geschrieben wurden in Sage lädt. Erstellen Sie eine Datei, welche Sie
<code class="docutils literal notranslate"><span class="pre">beispiel.sage</span></code> nennen mit folgendem Inhalt:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">print(&quot;Hello World&quot;)</span>
<span class="go">print(2^3)</span>
</pre></div>
</div>
<p>Sie können <code class="docutils literal notranslate"><span class="pre">beispiel.sage</span></code> einlesen und ausführen, indem Sie den
<code class="docutils literal notranslate"><span class="pre">load</span></code>-Befehl verwenden.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;beispiel.sage&quot;</span><span class="p">)</span>
<span class="go">Hello World</span>
<span class="go">8</span>
</pre></div>
</div>
<p>Sie können auch eine Sage-Datei an eine laufende Sitzung anhängen,
indem Sie den <code class="docutils literal notranslate"><span class="pre">attach</span></code>-Befehl verwenden:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">attach</span><span class="p">(</span><span class="s2">&quot;beispiel.sage&quot;</span><span class="p">)</span>
<span class="go">Hello World</span>
<span class="go">8</span>
</pre></div>
</div>
<p>Wenn Sie nun <code class="docutils literal notranslate"><span class="pre">beispiel.sage</span></code> verändern und eine Leerzeile in Sage eingeben
(d.h. <code class="docutils literal notranslate"><span class="pre">return</span></code> drücken) wird der Inhalt von <code class="docutils literal notranslate"><span class="pre">beispiel.sage</span></code>
automatisch in Sage neu geladen.</p>
<p>Insbesondere lädt der <code class="docutils literal notranslate"><span class="pre">attach</span></code>-Befehl eine Datei jedesmal, wenn
diese verändert wird automatisch neu, was beim Debuggen von Code
nützlich sein kann, wobei der <code class="docutils literal notranslate"><span class="pre">load</span></code>-Befehl eine Datei nur einmal lädt.</p>
<p>Wenn Sage die Datei <code class="docutils literal notranslate"><span class="pre">beispiel.sage</span></code> lädt, wird sie zu Python-Code konvertiert,
welcher dann vom Python-Interpreter ausgeführt wird. Diese
Konvertierung ist geringfügig; sie besteht hautsächlich daraus
Integer-Literale mit <code class="docutils literal notranslate"><span class="pre">Integer()</span></code> und Fließkomma-Literale mit
<code class="docutils literal notranslate"><span class="pre">RealNumber()</span></code> zu versehen, <code class="docutils literal notranslate"><span class="pre">^</span></code> durch <code class="docutils literal notranslate"><span class="pre">**</span></code> zu ersetzen und
z.B. <code class="docutils literal notranslate"><span class="pre">R.2</span></code> durch <code class="docutils literal notranslate"><span class="pre">R.gen(2)</span></code> auszutauschen. Die konvertierte
Version von <code class="docutils literal notranslate"><span class="pre">beispiel.sage</span></code> befindet sich im gleichen Verzeichnis wie
<code class="docutils literal notranslate"><span class="pre">beispiel.sage</span></code> und ist <code class="docutils literal notranslate"><span class="pre">beispiel.sage.py</span></code> genannt. Diese Datei
enthält den folgenden Code:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">print(&quot;Hello World&quot;)</span>
<span class="go">print(Integer(2)**Integer(3))</span>
</pre></div>
</div>
<p>Integer-Literale wurden mit Integer() versehen und das <code class="docutils literal notranslate"><span class="pre">^</span></code> wurde
durch ein <code class="docutils literal notranslate"><span class="pre">**</span></code> ersetzt.
(In Python bedeutet <code class="docutils literal notranslate"><span class="pre">^</span></code> „exklusives oder“ und <code class="docutils literal notranslate"><span class="pre">**</span></code> bedeutet
„Exponentiation“.)</p>
<p>Dieses „preparsing“ ist in <code class="docutils literal notranslate"><span class="pre">sage/misc/interpreter.py</span></code> implementiert.)</p>
<p>Sie können mehrzeiligen eingerückten Code in Sage einfügen, solange
Zeilenenden neue Blöcke kenntlich machen (dies ist in Dateien nicht notwendig).
Jedoch beseht die beste Möglichkeit solchen Code in Sage einzufügen darin,
diesen in einer Datei zu speichern und <code class="docutils literal notranslate"><span class="pre">attach</span></code> wie oben beschrieben zu verwenden.</p>
</section>
<section id="kompilierten-code-erzeugen">
<span id="section-compile"></span><h2>Kompilierten Code erzeugen<a class="headerlink" href="#kompilierten-code-erzeugen" title="Link to this heading">#</a></h2>
<p>Geschwindigkeit ist bei mathematischen Berechnungen äußerst
wichtig. Python ist zwar eine komfortable Programmiersprache mit sehr
hohen Abstraktionsniveau, jedoch können bestimmte Berechnungen
mehrere Größenordnungen schneller als in Python sein, wenn sie in
einer kompilierten Sprache mit statischen Datentypen implementiert
wurden. Manche Teile von Sage würden zu langsam sein, wenn sie
komplett in Python geschrieben wären. Um dies zu berücksichtigen
unterstützt Sage eine kompilierte „Version“ von Python, welche Cython
(<a class="reference internal" href="bibliography.html#cyt" id="id1"><span>[Cyt]</span></a> und <a class="reference internal" href="bibliography.html#pyr" id="id2"><span>[Pyr]</span></a>) genannt wird. Cython ist gleichzeitig sowohl zu Python,
als auch zu C ähnlich. Die meisten von Pythons Konstruktionen,
einschließlich „list comprehensions“, bedingte Ausdrücke und Code wie
<code class="docutils literal notranslate"><span class="pre">+=</span></code> sind erlaubt; Sie können auch Code importieren, den Sie in
anderen Python-Modulen geschrieben haben. Darüberhinaus können Sie
beliebige C Variablen definieren und beliebe C-Bibliothekaufrufe
direkt ausführen. Der daraus entstehende Code wird nach C konvertiert
und mithilfe eines C-Compilers kompiliert.</p>
<p>Um eigenen kompilierten Sagecode zu erstellen, geben Sie der Datei eine
<code class="docutils literal notranslate"><span class="pre">.spyx</span></code> Endung (anstelle von <code class="docutils literal notranslate"><span class="pre">.sage</span></code>). Falls Sie mit der
Kommandozeile arbeiten, können Sie kompilierten Code genau wie
interpretierten Code anhängen und laden. (Im Moment wird das Anhängen
von Cythoncode vom Notebook aus nicht unterstützt).
Die tatsächliche Kompilierung wird „hinter den Kulissen“ durchgeführt
ohne dass Sie explizit etwas tun müssen. Die komplierte „shared object library“
wird unter <code class="docutils literal notranslate"><span class="pre">$HOME/.sage/temp/hostname/pid/spyx</span></code> gespeichert. Diese Dateien
werden gelöscht wenn Sie Sage beenden.</p>
<p>Auf spyx-Dateien wird kein „preparsing“ angewendet, d.h. <code class="docutils literal notranslate"><span class="pre">1/3</span></code> wird
in einer spyx-Datei zu 0 ausgewertet, anstelle der rationalen Zahl
<span class="math notranslate nohighlight">\(1/3\)</span>.
Wenn <code class="docutils literal notranslate"><span class="pre">foo</span></code> eine Funktion in der Sage-Bibliothek ist die Sie
verwenden möchten, müssen Sie <code class="docutils literal notranslate"><span class="pre">sage.all</span></code> importieren und
<code class="docutils literal notranslate"><span class="pre">sage.all.foo</span></code> benutzen.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">import sage.all</span>
<span class="go">def foo(n):</span>
<span class="go">    return sage.all.factorial(n)</span>
</pre></div>
</div>
<section id="auf-c-funktionen-in-separaten-dateien-zugreifen">
<h3>Auf C-Funktionen in separaten Dateien zugreifen<a class="headerlink" href="#auf-c-funktionen-in-separaten-dateien-zugreifen" title="Link to this heading">#</a></h3>
<p>Es ist auch nicht schwer auf C-Funktions zuzugreifen  welche in
separaten *.c Dateien definiert sind. Hier ist ein Beispiel. Erzeugen
Sie die Dateien <code class="docutils literal notranslate"><span class="pre">test.c</span></code> und <code class="docutils literal notranslate"><span class="pre">test.spyx</span></code> in dem gleichen
Verzeichnis mit den Inhalten:</p>
<p>Der reine C-Code: <code class="docutils literal notranslate"><span class="pre">test.c</span></code></p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">int add_one(int n) {</span>
<span class="go">  return n + 1;</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Der Cython-Code: <code class="docutils literal notranslate"><span class="pre">test.spyx</span></code>:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">cdef extern from &quot;test.c&quot;:</span>
<span class="go">    int add_one(int n)</span>

<span class="go">def test(n):</span>
<span class="go">    return add_one(n)</span>
</pre></div>
</div>
<p>Dann funktioniert das Folgende:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">attach</span><span class="p">(</span><span class="s2">&quot;test.spyx&quot;</span><span class="p">)</span>
<span class="go">Compiling (...)/test.spyx...</span>
<span class="gp">sage: </span><span class="n">test</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">11</span>
</pre></div>
</div>
<p>Wenn die zusätzliche Bibliothek <code class="docutils literal notranslate"><span class="pre">foo</span></code> gebraucht wird um den C-Code,
der aus einer Cython-Datei generiert wurde zu kompilieren, fügen Sie
die Zeile <code class="docutils literal notranslate"><span class="pre">clib</span> <span class="pre">foo</span></code> zu dem Cython-Quellcode hinzu. Auf ähnliche
Weise kann eine zusätzliche Datei <code class="docutils literal notranslate"><span class="pre">bar</span></code> zu der Kompilierung mit der
Deklaration <code class="docutils literal notranslate"><span class="pre">cfile</span> <span class="pre">bar</span></code> hinzugefügt werden.</p>
</section>
</section>
<section id="eigenstandige-python-sage-skripte">
<span id="section-standalone"></span><h2>eigenständige Python/Sage Skripte<a class="headerlink" href="#eigenstandige-python-sage-skripte" title="Link to this heading">#</a></h2>
<p>Das folgende eigenständige Sageskript faktorisiert ganze Zahlen,
Polynome, usw.:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">#!/usr/bin/env sage</span>

<span class="go">import sys</span>
<span class="go">from sage.all import *</span>

<span class="go">if len(sys.argv) != 2:</span>
<span class="go">    print(&quot;Usage: %s &lt;n&gt;&quot; % sys.argv[0])</span>
<span class="go">    print(&quot;Outputs the prime factorization of n.&quot;)</span>
<span class="go">    sys.exit(1)</span>

<span class="go">print(factor(sage_eval(sys.argv[1])))</span>
</pre></div>
</div>
<p>Um dieses Skript benutzen zu können muss <code class="docutils literal notranslate"><span class="pre">SAGE_ROOT</span></code> in ihrer
PATH-Umgebungsvariable enthalten sein. Falls das das obige Skript
<code class="docutils literal notranslate"><span class="pre">factor</span></code> genannt wurde, ist hier ein beispielhafter Aufruf:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">bash $ ./factor 2006</span>
<span class="go">2 * 17 * 59</span>
</pre></div>
</div>
</section>
<section id="datentypen">
<h2>Datentypen<a class="headerlink" href="#datentypen" title="Link to this heading">#</a></h2>
<p>Jedes Objekt hat in Sage einen wohldefinierten Datentyp. Python
besitzt eine Vielzahl von standardmäßiger elementarer Datentypen und die
Sage-Bibliothek fügt noch viele weitere hinzu. Zu Pythons
standardmäßigen Datentypen gehören Strings, Listen, Tupel, Ganzzahlen und
Gleitkommazahlen, wie hier zu sehen ist:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;sage&quot;</span><span class="p">;</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">&lt;... &#39;str&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;sage&#39;</span><span class="p">;</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>      <span class="c1"># Sie können einfache oder doppelte Anführungszeichen verwenden</span>
<span class="go">&lt;... &#39;str&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">];</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">&lt;... &#39;list&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">&lt;... &#39;tuple&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">2006</span><span class="p">);</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">&lt;... &#39;int&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="mi">2006</span><span class="p">);</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">&lt;... &#39;float&#39;&gt;</span>
</pre></div>
</div>
<p>Hierzu fügt Sage noch viele weitere hinzu. Zum Beispiel Vektorräume:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">);</span> <span class="n">V</span>
<span class="go">Vector space of dimension 1000000 over Rational Field</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.modules.free_module.FreeModule_ambient_field_with_category&#39;&gt;</span>
</pre></div>
</div>
<p>Nur bestimmte Funktionen können auf <code class="docutils literal notranslate"><span class="pre">V</span></code> aufgerufen werden. In
anderen mathematischen Softwaresystemem würde dies mit der
„Funktionalen“-Notation <code class="docutils literal notranslate"><span class="pre">foo(V,...)</span></code> geschehen. In Sage sind
bestimmte Funktionen an den Typ (oder der Klasse) von <code class="docutils literal notranslate"><span class="pre">V</span></code> angehängt,
und diese werden unter Benutzung einer objektorientierten Syntax,
wie in Java oder C++ aufgerufen. Zum Beispiel <code class="docutils literal notranslate"><span class="pre">V.foo(...)</span></code>. Dies
hilft dabei eine Überfüllung des globalen Namensraums mit tausenden
von Funktionen zu vermeiden. Das bedeutet auch, dass viele
verschiedene Funktionen mit unterschiedlichen Funktionsweisen foo
genannt werden können, ohne dass der Typ des Arguments überprüft (oder
Case-Anweisungen ausgeführt) werden muss, um zu entscheiden welche
aufgerufen werden soll. Weiterhin ist die Funktion auch dann noch
verfügbar, wenn ihr Name zu einem anderen Zweck verwendet wurde. (Zum
Beispiel wenn Sie etwas <code class="docutils literal notranslate"><span class="pre">zeta</span></code> nennen und dann den Wert der
Riemannschen Zeta-Funktion bei 0.5 berechnen wollen, können Sie
immernoch <code class="docutils literal notranslate"><span class="pre">s=.5;</span> <span class="pre">s.zeta()</span></code> benutzen).</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">zeta</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">=</span><span class="mf">.5</span><span class="p">;</span> <span class="n">s</span><span class="o">.</span><span class="n">zeta</span><span class="p">()</span>
<span class="go">-1.46035450880959</span>
</pre></div>
</div>
<p>In manchen sehr oft auftretenden Fällen wird auch die gewöhnliche
funktionale Notation unterstützt, da dies bequem ist und manche
mathematische Ausdrücke in objektorientierter Notation verwirrend
aussehen könnten. Hier sind einige Beispiele:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">n</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">sqrt(2)</span>
<span class="gp">sage: </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">sqrt(2)</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="go">    [</span>
<span class="go">    (1, 0),</span>
<span class="go">    (0, 1)</span>
<span class="go">    ]</span>
<span class="gp">sage: </span><span class="n">basis</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="go">    [</span>
<span class="go">    (1, 0),</span>
<span class="go">    (0, 1)</span>
<span class="go">    ]</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="mi">2</span><span class="p">);</span> <span class="n">M</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Finite Field of size 7</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]);</span> <span class="n">A</span>
<span class="go">[1 2]</span>
<span class="go">[3 4]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">charpoly</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x^2 + 2*x + 5</span>
<span class="gp">sage: </span><span class="n">charpoly</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x^2 + 2*x + 5</span>
</pre></div>
</div>
<p>Um alle Member-Funktionen von <span class="math notranslate nohighlight">\(A\)</span> anzuzeigen, können Sie die
Tab-Vervollständigung benutzen. Tippen Sie einfach <code class="docutils literal notranslate"><span class="pre">A.</span></code>, dann die
<code class="docutils literal notranslate"><span class="pre">[tab]</span></code>-Taste auf Ihrer Tastatur, wie es in
<a class="reference internal" href="interactive_shell.html#section-tabcompletion"><span class="std std-ref">Rückwärtssuche und Tab-Vervollständigung</span></a> beschrieben ist.</p>
</section>
<section id="listen-tupel-und-folgen">
<h2>Listen, Tupel, und Folgen<a class="headerlink" href="#listen-tupel-und-folgen" title="Link to this heading">#</a></h2>
<p>Der Listen-Datentyp speichert Elemente eines beliebigen Typs. Wie in
C, C++, usw. (jedoch anders als in vielen gewöhnlichen
Computer-Algebra-Systemen), die Elemente der Liste werden bei
<span class="math notranslate nohighlight">\(0\)</span> beginnend indiziert:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">SymmetricGroup</span><span class="p">(</span><span class="mi">3</span><span class="p">)];</span> <span class="n">v</span>
<span class="go">[2, 3, 5, &#39;x&#39;, Symmetric group of order 3! as a permutation group]</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">&lt;... &#39;list&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">5</span>
</pre></div>
</div>
<p>(Wenn man auf ein Listenelement zugreift ist es OK wenn der Index
kein Python int ist!)
Mit einem Sage-Integer (oder Rational, oder mit allem anderen mit einer <code class="docutils literal notranslate"><span class="pre">__index__</span></code> Methode)
funktioniert es genauso.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>      <span class="c1"># Sage Integer</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>       <span class="c1"># Perfectly OK!</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>  <span class="c1"># Also OK.</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Die <code class="docutils literal notranslate"><span class="pre">range</span></code>-Funktion erzeugt eine Liste von Python int’s (nicht
Sage-Integers):</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]</span>
</pre></div>
</div>
<p>Dies ist nützlich wenn man List-Comprehensions verwendet um Listen zu
konstruieren:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">factor</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">L</span>
<span class="go">[1, 2, 3, 2^2, 5, 2 * 3, 7, 2^3, 3^2, 2 * 5, 11, 2^2 * 3, 13, 2 * 7]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span>
<span class="go">13</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="mi">12</span><span class="p">])</span>
<span class="go"> &lt;class &#39;sage.structure.factorization_integer.IntegerFactorization&#39;&gt;</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">factor</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span> <span class="k">if</span> <span class="n">is_odd</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
<span class="go">[1, 3, 5, 7, 3^2, 11, 13]</span>
</pre></div>
</div>
<p>Um mehr darüber zu erfahren wie man Listen mit Hilfe von
List-Comprehensions erzeugt, lesen Sie <a class="reference internal" href="bibliography.html#pyt" id="id3"><span>[PyT]</span></a>.</p>
<p>List-Slicing ist eine wunderbare Eigenschaft. Wenn <code class="docutils literal notranslate"><span class="pre">L</span></code> eine Liste
ist, dann gibt <code class="docutils literal notranslate"><span class="pre">L[m:n]</span></code> die Teilliste von <code class="docutils literal notranslate"><span class="pre">L</span></code> zurück, die erhalten
wird wenn man mit dem <span class="math notranslate nohighlight">\(m^{ten}\)</span> Element beginnt und bei dem
<span class="math notranslate nohighlight">\((n-1)^{ten}\)</span> Element aufhört, wie unten gezeigt wird.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">factor</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span>
<span class="go">[5, 2 * 3, 7, 2^3, 3^2]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">[1, 2, 3, 2^2]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">[</span><span class="mi">14</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="p">[</span><span class="mi">14</span><span class="p">:]</span>
<span class="go">[3 * 5, 2^4, 17, 2 * 3^2, 19]</span>
</pre></div>
</div>
<p>Tupel sind ähnlich wie Listen, außer dass sie unveränderbar sind, was
bedeutet dass sie, sobald sie erzeugt wurden, nicht mehr verändert werden
können.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span> <span class="n">v</span>
<span class="go">(1, 2, 3, 4)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">&lt;... &#39;tuple&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">TypeError: &#39;tuple&#39; object does not support item assignment</span>
</pre></div>
</div>
<p>Folgen sind ein dritter an Listen angelehnter Sage-Datentyp. Anders
als Listen und Tupel, sind Folgen kein gewöhnlicher Python-Datentyp.
Standardmäßig sind Folgen veränderbar, mit der
<code class="docutils literal notranslate"><span class="pre">Sequence</span></code>-Klassenmethode <code class="docutils literal notranslate"><span class="pre">set_immutable</span></code> können sie auf unveränderbar
gestellt werden, wie das folgende Beispiel zeigt. Alle Elemente einer
Folge haben einen gemeinsamen Obertyp, der das Folgenuniversum genannt wird.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">/</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span>
<span class="go">[1, 2, 3, 4/5]</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.structure.sequence.Sequence_generic&#39;&gt;</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">&lt;class &#39;sage.rings.rational.Rational&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">universe</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">is_immutable</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">set_immutable</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: object is immutable; please change a copy instead.</span>
</pre></div>
</div>
<p>Folgen sind von Listen abgeleitet und können überall dort verwendet werden, wo auch
Listen benutzt werden können.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">/</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">[1, 2, 3, 4/5]</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
<span class="go">&lt;... &#39;list&#39;&gt;</span>
</pre></div>
</div>
<p>Ein weiteres Beispiel von unveränderbaren Folgen sind Basen von
Vektorräumen. Es ist wichtig, dass sie nicht verändert werden können.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">QQ</span><span class="o">^</span><span class="mi">3</span><span class="p">;</span> <span class="n">B</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">basis</span><span class="p">();</span> <span class="n">B</span>
<span class="go">[</span>
<span class="go">(1, 0, 0),</span>
<span class="go">(0, 1, 0),</span>
<span class="go">(0, 0, 1)</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.structure.sequence.Sequence_generic&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">Traceback (most recent call last):</span>
<span class="go">...</span>
<span class="go">ValueError: object is immutable; please change a copy instead.</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">universe</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Rational Field</span>
</pre></div>
</div>
</section>
<section id="dictionaries">
<h2>Dictionaries<a class="headerlink" href="#dictionaries" title="Link to this heading">#</a></h2>
<p>Ein Dictionary (manchmal auch assoziativer Array genannt) ist eine
Abbildung von ‚hashbaren‘ Objekten (z.B. Strings, Zahlen und Tupel;
Lesen Sie die Python documentation
<a class="reference external" href="http://docs.python.org/tut/node7.html">http://docs.python.org/tut/node7.html</a> und
<a class="reference external" href="http://docs.python.org/lib/typesmapping.html">http://docs.python.org/lib/typesmapping.html</a> für weitere Details) zu
beliebigen Objekten.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;sage&#39;</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span> <span class="n">ZZ</span><span class="p">:</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">)}</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&lt;... &#39;dict&#39;&gt;</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[1, &#39;sage&#39;, Integer Ring]</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;sage&#39;</span><span class="p">]</span>
<span class="go">17</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="n">ZZ</span><span class="p">]</span>
<span class="go">Finite Field of size 7</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Der dritte „key“ zeigt, dass Indizes eines Dictionaries kompliziert,
also beispielsweise der Ring der ganzen Zahlen, sein können.</p>
<p>Sie können das obige Dictionary auch in eine Liste mit den gleichen
Daten umwandeln:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[(1, 5), (&#39;sage&#39;, 17), (Integer Ring, Finite Field of size 7)]</span>
</pre></div>
</div>
<p>Eine häufig vorkommende Ausdrucksweise ist über einem Paar in einem
Dictionary zu iterieren:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">16</span><span class="p">}</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">a</span><span class="o">*</span><span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
<span class="go">[8, 27, 64]</span>
</pre></div>
</div>
<p>Ein Dictionary ist ungeordnet, wie die letzte Ausgabe verdeutlicht.</p>
</section>
<section id="mengen">
<h2>Mengen<a class="headerlink" href="#mengen" title="Link to this heading">#</a></h2>
<p>Python hat einen standardmäßigen Mengen-Datentyp. Sein Hauptmerkmal
ist, neben weiteren typischen Mengenoperationen, dass das Nachschlagen
ob ein Element zu der Menge gehört oder nicht, sehr schnell geht.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">]);</span>   <span class="n">Y</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">X</span>   <span class="c1"># random sort order</span>
<span class="go">{1, 19, &#39;a&#39;}</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">==</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">19</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Y</span>
<span class="go">{2/3, 1}</span>
<span class="gp">sage: </span><span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="n">X</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="n">Y</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">Y</span><span class="p">)</span>
<span class="go">{1}</span>
</pre></div>
</div>
<p>Sage besitzt auch einen eigenen Mengen-Datentyp, welcher (manchmal)
mit Hilfe des standardmäßigen Python-Mengen-Datentyps implementiert
ist, jedoch darüberhinaus manche Sage-spezifischen Funktionen
aufweist. Sie können eine Sage-Menge erzeugen indem Sie <code class="docutils literal notranslate"><span class="pre">Set(...)</span></code>
verwenden. Zum Beispiel,</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">X</span> <span class="o">=</span> <span class="n">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">]);</span>   <span class="n">Y</span> <span class="o">=</span> <span class="n">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">X</span>   <span class="c1"># random sort order</span>
<span class="go">{&#39;a&#39;, 1, 19}</span>
<span class="gp">sage: </span><span class="n">X</span> <span class="o">==</span> <span class="n">Set</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">19</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Y</span>
<span class="go">{1, 2/3}</span>
<span class="gp">sage: </span><span class="n">X</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">Y</span><span class="p">)</span>
<span class="go">{1}</span>
<span class="gp">sage: </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">(</span><span class="n">Y</span><span class="p">))</span>
<span class="go">\left\{1, \frac{2}{3}\right\}</span>
<span class="gp">sage: </span><span class="n">Set</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="go">Set of elements of Integer Ring</span>
</pre></div>
</div>
</section>
<section id="iteratoren">
<h2>Iteratoren<a class="headerlink" href="#iteratoren" title="Link to this heading">#</a></h2>
<p>Iteratoren sind seit Version 2.2 ein Teil von Python und erweisen sich
in mathematischen Anwendungen als besonders nützlich. Wir geben hier
ein paar Beispiele an; Lesen Sie <a class="reference internal" href="bibliography.html#pyt" id="id4"><span>[PyT]</span></a> um weitere Details zu
erfahren. Wir erstellen einen Iterator über die Quadrate der
nichtnegativen ganzen Zahlen bis <span class="math notranslate nohighlight">\(10000000\)</span>.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span><span class="o">^</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000000</span><span class="p">))</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p>Nun erzeugen wir einen Iterator über den Primzahlen der Form <span class="math notranslate nohighlight">\(4p+1\)</span>
wobei auch <span class="math notranslate nohighlight">\(p\)</span> prim ist und schauen uns die ersten Werte an.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">w</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">p</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">Primes</span><span class="p">()</span> <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">p</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">w</span>         <span class="c1"># in the next line, 0xb0853d6c is a random 0x number</span>
<span class="go">&lt;generator object at 0xb0853d6c&gt;</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">13</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">29</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="go">53</span>
</pre></div>
</div>
<p>Bestimmte Ringe, z. B. endliche Körper und die ganzen Zahlen, haben
zugehörige Iteratoren:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">)]</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6]</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ZZ</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">(0, 0)</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">(0, 1)</span>
<span class="gp">sage: </span><span class="nb">next</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>
<span class="go">(0, -1)</span>
</pre></div>
</div>
</section>
<section id="schleifen-funktionen-kontrollstrukturen-und-vergleiche">
<h2>Schleifen, Funktionen, Kontrollstrukturen und Vergleiche<a class="headerlink" href="#schleifen-funktionen-kontrollstrukturen-und-vergleiche" title="Link to this heading">#</a></h2>
<p>Wir haben schon ein paar Beispiele gesehen in denen die
<code class="docutils literal notranslate"><span class="pre">for</span></code>-Schleife üblicherweise Verwendung findet. In Python hat eine
<code class="docutils literal notranslate"><span class="pre">for</span></code>-Schleife eine eingerückte Struktur, wie hier:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; for i in range(5):</span>
<span class="go">...     print(i)</span>
<span class="go">...</span>
<span class="go">0</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
</pre></div>
</div>
<p>Beachten Sie den Doppelpunkt am Ende der for-Anweisung (dort befindet
sich kein „do“ oder „od“ wie in GAP oder Maple) und die Einrückung
vor dem Schleifenrumpf, dem <code class="docutils literal notranslate"><span class="pre">print(i)</span></code>. Diese Einrückung ist
wichtig. In Sage wird die Einrückung automatisch hinzugefügt wenn Sie
nach einem „:“ die <code class="docutils literal notranslate"><span class="pre">enter</span></code>-Taste drücken, wie etwa im Folgenden
Beispiel.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># now hit enter twice</span>
<span class="gp">....:</span>
<span class="go">0</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="go">4</span>
</pre></div>
</div>
<p>Das Symbol <code class="docutils literal notranslate"><span class="pre">=</span></code> wird bei Zuweisungen verwendet.
Das Symbol <code class="docutils literal notranslate"><span class="pre">==</span></code> wird verwendet um Gleichheit zu testen:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="k">if</span> <span class="n">gcd</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
<span class="gp">....: </span>        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">4</span>
<span class="go">7</span>
<span class="go">8</span>
<span class="go">11</span>
<span class="go">13</span>
<span class="go">14</span>
</pre></div>
</div>
<p>Behalten Sie im Gedächtnis, dass die Block-Struktur von <code class="docutils literal notranslate"><span class="pre">if</span></code>,
<code class="docutils literal notranslate"><span class="pre">for</span></code> und <code class="docutils literal notranslate"><span class="pre">while</span></code> Ausdrücken durch die Einrückung bestimmt
wird:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="k">def</span> <span class="nf">legendre</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">p</span><span class="p">):</span>
<span class="gp">....: </span>    <span class="n">is_sqr_modp</span><span class="o">=-</span><span class="mi">1</span>
<span class="gp">....: </span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">p</span><span class="p">):</span>
<span class="gp">....: </span>        <span class="k">if</span> <span class="n">a</span> <span class="o">%</span> <span class="n">p</span> <span class="o">==</span> <span class="n">i</span><span class="o">^</span><span class="mi">2</span> <span class="o">%</span> <span class="n">p</span><span class="p">:</span>
<span class="gp">....: </span>            <span class="n">is_sqr_modp</span><span class="o">=</span><span class="mi">1</span>
<span class="gp">....: </span>    <span class="k">return</span> <span class="n">is_sqr_modp</span>

<span class="gp">sage: </span><span class="n">legendre</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">legendre</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
<p>Natürlich ist dies keine effiziente Implementierung des
Legendre-Symbols! Dies soll nur bestimmte Aspekte won Python/Sage
verdeutlichen. Die Funktion {kronecker}, welche zu Sage gehört,
berechnet das Legendre-Symbol effizient mittels eines Aufrufs von
PARIs C-Bibliothek.</p>
<p>Schließlich merken wir an, dass Vergleiche wie <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>,
<code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> von zwei Zahlen automatisch beide Zahlen in den
gleichen Typ konvertieren, falls dies möglich ist:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">2</span> <span class="o">&lt;</span> <span class="mf">3.1</span><span class="p">;</span> <span class="mf">3.1</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="go">True</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>   <span class="mi">3</span><span class="o">/</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="o">/</span><span class="mi">1</span>
<span class="go">True</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Nutzen Sie bool für symbolische Ungleichungen:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="go">x &lt; x + 1</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Beim Vergleichen von Objekten unterschiedlichen Typs versucht Sage in
den meisten Fällen eine kanonische Umwandlung beider Objekte in einen
gemeinsamen Typ zu finden. Falls erfolgreich wird der Vergleich auf den
umgewandelten Objekten durchgeführt; Falls nicht erfolgreich werden
die Objekte als ungleich angesehen. Um zu Testen, ob zwei Variablen
auf das gleiche Objekt zeigen, verwenden Sie <code class="docutils literal notranslate"><span class="pre">is</span></code>. Zum Beispiel:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="mi">1</span> <span class="ow">is</span> <span class="mi">2</span><span class="o">/</span><span class="mi">2</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="mi">1</span> <span class="ow">is</span> <span class="mi">1</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="mi">1</span> <span class="o">==</span> <span class="mi">2</span><span class="o">/</span><span class="mi">2</span>
<span class="go">True</span>
</pre></div>
</div>
<p>In den folgenden zwei Zeilen ist der erste Gleichheitstest <code class="docutils literal notranslate"><span class="pre">False</span></code>,
da es keinen kanonischen Morphismus <span class="math notranslate nohighlight">\(\QQ\ \to \GF{5}\)</span> gibt,
also gibt es keine kanonische Möglichkeit die  <span class="math notranslate nohighlight">\(1\)</span> in <span class="math notranslate nohighlight">\(\GF{5}\)</span>
mit der <span class="math notranslate nohighlight">\(1 \in \QQ\)</span> zu vergleichen. Im Gegensatz dazu gibt es
eine kanonische Abbildung <span class="math notranslate nohighlight">\(\ZZ \to \GF{5}\)</span>, also ist der zweite
Gleichheitstest <code class="docutils literal notranslate"><span class="pre">True</span></code>. Beachten Sie auch, dass die Reihenfolge
keine Rolle spielt.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">QQ</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="n">QQ</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">ZZ</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="n">ZZ</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">ZZ</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">QQ</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>WARNUNG: Vergleiche in Sage sind restriktiver als in Magma, welches
die <span class="math notranslate nohighlight">\(1 \in \GF{5}\)</span> gleich der <span class="math notranslate nohighlight">\(1 \in \QQ\)</span> festlegt.</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">magma</span><span class="p">(</span><span class="s1">&#39;GF(5)!1 eq Rationals()!1&#39;</span><span class="p">)</span>            <span class="c1"># optional - magma</span>
<span class="go">true</span>
</pre></div>
</div>
</section>
<section id="profiling">
<h2>Profiling<a class="headerlink" href="#profiling" title="Link to this heading">#</a></h2>
<p>Autor des Abschnitts: Martin Albrecht (<a class="reference external" href="mailto:malb&#37;&#52;&#48;informatik&#46;uni-bremen&#46;de">malb<span>&#64;</span>informatik<span>&#46;</span>uni-bremen<span>&#46;</span>de</a>)</p>
<blockquote>
<div><p>„Premature optimization is the root of all evil.“ - Donald Knuth</p>
</div></blockquote>
<p>Manchmal ist es nützlich nach Engstellen im Code zu suchen, um zu
verstehen welche Abschnitte die meiste Berechnungszeit beanspruchen;
dies kann ein guter Hinweis darauf sein, welche Teile optimiert werden
sollten. Python, und daher auch Sage, stellen mehrere „Profiling“ – so
wird dieser Prozess genannt – Optionen zur Verfügung.</p>
<p>Am einfachsten zu Benutzen ist das <code class="docutils literal notranslate"><span class="pre">prun</span></code>-Kommando in der
interaktiven Shell. Es gibt eine Zusammenfassung zurück, die
beschreibt welche Funktionen wie viel Berechnungszeit veranschlagt haben.
Um die (zu diesem Zeitpunkt langsame) Matrixmultiplikation über
endlichen Körpern zu Profilieren, geben Sie z.B. folgendes ein:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">objgen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,[</span><span class="n">k</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="mi">10</span><span class="p">)])</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="o">%</span><span class="k">prun</span> B = A*A
<span class="go">       32893 function calls in 1.100 CPU seconds</span>

<span class="go">Ordered by: internal time</span>

<span class="go">ncalls tottime percall cumtime percall filename:lineno(function)</span>
<span class="go"> 12127  0.160   0.000   0.160  0.000 :0(isinstance)</span>
<span class="go">  2000  0.150   0.000   0.280  0.000 matrix.py:2235(__getitem__)</span>
<span class="go">  1000  0.120   0.000   0.370  0.000 finite_field_element.py:392(__mul__)</span>
<span class="go">  1903  0.120   0.000   0.200  0.000 finite_field_element.py:47(__init__)</span>
<span class="go">  1900  0.090   0.000   0.220  0.000 finite_field_element.py:376(__compat)</span>
<span class="go">   900  0.080   0.000   0.260  0.000 finite_field_element.py:380(__add__)</span>
<span class="go">     1  0.070   0.070   1.100  1.100 matrix.py:864(__mul__)</span>
<span class="go">  2105  0.070   0.000   0.070  0.000 matrix.py:282(ncols)</span>
<span class="go">  ...</span>
</pre></div>
</div>
<p>Hier ist <code class="docutils literal notranslate"><span class="pre">ncalls</span></code> die Anzahl der Aufrufe, <code class="docutils literal notranslate"><span class="pre">tottime</span></code> ist die
Gesamtzeit, die für die Funktion verwendet wurde (ausgenommen der
Zeit, die für Unterfunktionsaufrufe verwendet wurde), <code class="docutils literal notranslate"><span class="pre">percall</span></code> ist
der Quotient von  <code class="docutils literal notranslate"><span class="pre">tottime</span></code> geteilt durch <code class="docutils literal notranslate"><span class="pre">ncalls</span></code>. <code class="docutils literal notranslate"><span class="pre">cumtime</span></code>
ist die Gesamtzeit, die für diese Funktion und alle
Unterfunktionsaufrufe (d.h., vom Aufruf bis zum Ende) verwendet
wurde, <code class="docutils literal notranslate"><span class="pre">percall</span></code> ist der Quotient von <code class="docutils literal notranslate"><span class="pre">cumtime</span></code> geteilt durch die
Zeit elementarer Funktionsaufrufe, und <code class="docutils literal notranslate"><span class="pre">filename:lineno(function)</span></code>
stellt die entsprechenden Daten jeder Funktion zur Verfügung. Die
Daumenregel ist hier: Je höher die Funktion in dieser Liste steht,
desto teurer ist sie. Also ist sie interessanter für Optimierungen.</p>
<p>Wie sonst auch stellt <code class="docutils literal notranslate"><span class="pre">prun?</span></code> Details zur Benutzung des Profilers
und zum Verstehen seines Outputs zur Verfügung.</p>
<p>Die Profilierungsdaten können auch in ein Objekt geschrieben werden um
eine weitere Untersuchung zu ermöglichen:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="o">%</span><span class="k">prun</span> -r A*A
<span class="gp">sage: </span><span class="n">stats</span> <span class="o">=</span> <span class="n">_</span>
<span class="gp">sage: </span>stats<span class="o">?</span>
</pre></div>
</div>
<p>Beachten Sie: das Eingeben von <code class="docutils literal notranslate"><span class="pre">stats</span> <span class="pre">=</span> <span class="pre">prun</span> <span class="pre">-r</span> <span class="pre">A\*A</span></code> erzeugt eine
Syntaxfehlermeldung, da prun ein IPython-Shell-Kommando ist und keine
reguläre Funktion.</p>
<p>Um eine schöne graphische Repräsentation der Profilerdaten zu
erhalten, können Sie den „hotshot-Profiler“, ein kleines Skript
genannt <code class="docutils literal notranslate"><span class="pre">hotshot2cachetree</span></code> und das Programm <code class="docutils literal notranslate"><span class="pre">kcachegrind</span></code> (nur
für Unix) benutzen. Hier ist das gleiche Beispiel mit dem „hotshot-Profiler“:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">k</span><span class="p">,</span><span class="n">a</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">objgen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,[</span><span class="n">k</span><span class="o">.</span><span class="n">random_element</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="mi">10</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="kn">import</span> <span class="nn">hotshot</span>
<span class="gp">sage: </span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;pythongrind.prof&quot;</span>
<span class="gp">sage: </span><span class="n">prof</span> <span class="o">=</span> <span class="n">hotshot</span><span class="o">.</span><span class="n">Profile</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">lineevents</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">prof</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;A*A&quot;</span><span class="p">)</span>
<span class="go">&lt;hotshot.Profile instance at 0x414c11ec&gt;</span>
<span class="gp">sage: </span><span class="n">prof</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Dies führt zu einer Datei <code class="docutils literal notranslate"><span class="pre">pythongrind.prof</span></code> in aktuellen
Datenverzeichnis. Diese kann nun zur Visualisierung in das
cachegrind-Format konvertiert werden.</p>
<p>Tippen Sie in einer System-Shell:</p>
<div class="highlight-ipycon notranslate"><div class="highlight"><pre><span></span><span class="go">hotshot2calltree -o cachegrind.out.42 pythongrind.prof</span>
</pre></div>
</div>
<p>Die Ausgabedatei <code class="docutils literal notranslate"><span class="pre">cachegrind.out.42</span></code> kann nun mit <code class="docutils literal notranslate"><span class="pre">kcachegrind</span></code>
untersucht werden. Bitte beachten Sie, dass die Namenskonvention
<code class="docutils literal notranslate"><span class="pre">cachegrind.out.XX</span></code> erhalten bleiben muss.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="sagetex.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">SageTeX nutzen</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="latex.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Sage, LaTeX und ihre Freunde</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2005--2024, The Sage Development Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Programmierung</a><ul>
<li><a class="reference internal" href="#sage-dateien-laden-und-anhangen">Sage-Dateien Laden und Anhängen</a></li>
<li><a class="reference internal" href="#kompilierten-code-erzeugen">Kompilierten Code erzeugen</a><ul>
<li><a class="reference internal" href="#auf-c-funktionen-in-separaten-dateien-zugreifen">Auf C-Funktionen in separaten Dateien zugreifen</a></li>
</ul>
</li>
<li><a class="reference internal" href="#eigenstandige-python-sage-skripte">eigenständige Python/Sage Skripte</a></li>
<li><a class="reference internal" href="#datentypen">Datentypen</a></li>
<li><a class="reference internal" href="#listen-tupel-und-folgen">Listen, Tupel, und Folgen</a></li>
<li><a class="reference internal" href="#dictionaries">Dictionaries</a></li>
<li><a class="reference internal" href="#mengen">Mengen</a></li>
<li><a class="reference internal" href="#iteratoren">Iteratoren</a></li>
<li><a class="reference internal" href="#schleifen-funktionen-kontrollstrukturen-und-vergleiche">Schleifen, Funktionen, Kontrollstrukturen und Vergleiche</a></li>
<li><a class="reference internal" href="#profiling">Profiling</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=ccc90547"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=0477930c"></script>
    <script src="_static/tabs.js?v=3ee01567"></script>
    <script src="_static/thebelab-helper.js"></script>
    <script src="_static/translations.js?v=70a09b52"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"ZZ": "\\Bold{Z}", "NN": "\\Bold{N}", "RR": "\\Bold{R}", "CC": "\\Bold{C}", "QQ": "\\Bold{Q}", "QQbar": "\\overline{\\QQ}", "GF": ["\\Bold{F}_{#1}", 1], "Zp": ["\\Bold{Z}_{#1}", 1], "Qp": ["\\Bold{Q}_{#1}", 1], "Zmod": ["\\ZZ/#1\\ZZ", 1], "CDF": "\\Bold{C}", "CIF": "\\Bold{C}", "CLF": "\\Bold{C}", "RDF": "\\Bold{R}", "RIF": "\\Bold{I} \\Bold{R}", "RLF": "\\Bold{R}", "SL": "\\mathrm{SL}", "PSL": "\\mathrm{PSL}", "lcm": "\\mathop{\\operatorname{lcm}}", "dist": "\\mathrm{dist}", "Bold": ["\\mathbf{#1}", 1]}, "inlineMath": [["$", "$"], ["\\(", "\\)"]], "maxBuffer": 51200, "autoload": {"color": [], "colorv2": ["color"]}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
    <script src="_static/jupyter-sphinx-furo.js?v=1e69cd27"></script>
    </body>
</html>